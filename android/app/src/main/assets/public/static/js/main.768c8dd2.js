/*! For license information please see main.768c8dd2.js.LICENSE.txt */
(()=>{var e={11:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(427));class r extends s.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w");const r=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(r,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n?"".concat(n,".or"):"or";return this.url.searchParams.append(i,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=r},47:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(11));t.default=class{constructor(e,t){let{headers:n={},schema:i,fetch:s}=t;this.url=e,this.headers=new Headers(n),this.schema=i,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t?"HEAD":"GET";let r=!1;const a=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!r?"":('"'===e&&(r=!r),e)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer","count=".concat(n)),new s.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer","count=".concat(i)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},53:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=i(n(71));t.PostgrestClient=s.default;const r=i(n(47));t.PostgrestQueryBuilder=r.default;const a=i(n(11));t.PostgrestFilterBuilder=a.default;const o=i(n(427));t.PostgrestTransformBuilder=o.default;const c=i(n(569));t.PostgrestBuilder=c.default;const l=i(n(732));t.PostgrestError=l.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:l.default}},71:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(47)),r=i(n(11));class a{constructor(e){let{headers:t={},schema:n,fetch:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=i}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:i=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let o;const c=new URL("".concat(this.url,"/rpc/").concat(e));let l;n||i?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;c.searchParams.append(t,n)})):(o="POST",l=t);const d=new Headers(this.headers);return s&&d.set("Prefer","count=".concat(s)),new r.default({method:o,url:c,headers:d,schema:this.schemaName,body:l,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}}t.default=a},85:(e,t,n)=>{"use strict";var i=n(340),s=n(950),r=n(119);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(a(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case N:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case b:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var L=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},D=[],F=-1;function B(e){return{current:e}}function q(e){0>F||(e.current=D[F],D[F]=null,F--)}function z(e,t){F++,D[F]=e.current,e.current=t}var W=B(null),H=B(null),U=B(null),V=B(null);function G(e,t){switch(z(U,t),z(H,e),z(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?su(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ru(t=su(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(W),z(W,e)}function Y(){q(W),q(H),q(U)}function K(e){null!==e.memoizedState&&z(V,e);var t=W.current,n=ru(t,e.type);t!==n&&(z(H,e),z(W,n))}function Q(e){H.current===e&&(q(W),q(H)),V.current===e&&(q(V),Ku._currentValue=O)}var Z=Object.prototype.hasOwnProperty,J=i.unstable_scheduleCallback,X=i.unstable_cancelCallback,$=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,se=i.unstable_UserBlockingPriority,re=i.unstable_NormalPriority,ae=i.unstable_LowPriority,oe=i.unstable_IdlePriority,ce=i.log,le=i.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof ce&&le(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var _e=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~r)?s=ve(i):0!==(a&=o)?s=ve(a):n||0!==(n=o&~e)&&(s=ve(n)):0!==(o=i&~r)?s=ve(o):0!==a?s=ve(a):n||0!==(n=i&~e)&&(s=ve(n)),0===s?0:0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=_e;return 0===(4194048&(_e<<=1))&&(_e=256),e}function we(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pe(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ee(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:lh(e.type)}var Ae=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Ae,Le="__reactProps$"+Ae,Re="__reactContainer$"+Ae,Me="__reactEvents$"+Ae,Oe="__reactListeners$"+Ae,De="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,Be="__reactMarker$"+Ae;function qe(e){delete e[Ie],delete e[Le],delete e[Me],delete e[Oe],delete e[De]}function ze(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yu(e);null!==e;){if(n=e[Ie])return n;e=yu(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[Ie]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ue(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Be]=!0}var Ge=new Set,Ye={};function Ke(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ye[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ze,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(s=t,Z.call(et,s)||!Z.call($e,s)&&(Xe.test(s)?et[s]=!0:($e[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function st(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Je}var rt=!1;function at(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var i=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(a){i=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var c=a.split("\n"),l=o.split("\n");for(s=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;if(i===c.length||s===l.length)for(i=c.length-1,s=l.length-1;1<=i&&0<=s&&c[i]!==l[s];)s--;for(;1<=i&&0<=s;i--,s--)if(c[i]!==l[s]){if(1!==i||1!==s)do{if(i--,0>--s||c[i]!==l[s]){var d="\n"+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=i&&0<=s);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function ct(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=dt(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _t(e,t,n,i,s,r,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,lt(t)):null!=n?vt(e,a,lt(n)):null!=i&&e.removeAttribute("value"),null==s&&null!=r&&(e.defaultChecked=!!r),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+lt(o):e.removeAttribute("name")}function gt(e,t,n,i,s,r,a,o){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:s)&&"symbol"!==typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function bt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(a(92));if(L(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Nt(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Nt(e,r,t[r])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Et=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Lt=null;function Rt(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(_t(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Le]||null;if(!s)throw Error(a(90));_t(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ot(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==It||null!==Lt)&&(zl(),It&&(t=It,e=Lt,Lt=It=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Le]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ft)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Lh){Bt=!1}var zt=null,Wt=null,Ht=null;function Ut(){if(Ht)return Ht;var e,t,n=Wt,i=n.length,s="value"in zt?zt.value:zt.textContent,r=s.length;for(e=0;e<i&&n[e]===s[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===s[r-t];t++);return Ht=s.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Yt(){return!1}function Kt(e){function t(t,n,i,s,r){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Qt,Zt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Kt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Kt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Kt(nn),rn=Kt(h({},nn,{dataTransfer:0})),an=Kt(h({},en,{relatedTarget:0})),on=Kt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Kt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Kt(h({},Xt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return pn}var fn=Kt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=Kt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Kt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),vn=Kt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Kt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(h({},Xt,{newState:0,oldState:0})),bn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,wn=null;Ft&&"documentMode"in document&&(wn=document.documentMode);var Nn=Ft&&"TextEvent"in window&&!wn,jn=Ft&&(!Sn||wn&&8<wn&&11>=wn),Cn=String.fromCharCode(32),kn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var En=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Ln(e,t,n,i){It?Lt?Lt.push(i):Lt=[i]:It=i,0<(t=Ud(t,"onChange")).length&&(n=new $t("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Rn=null,Mn=null;function On(e){Od(e,0)}function Dn(e){if(ht(He(e)))return e}function Fn(e,t){if("change"===e)return t}var Bn=!1;if(Ft){var qn;if(Ft){var zn="oninput"in document;if(!zn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),zn="function"===typeof Wn.oninput}qn=zn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Hn(){Rn&&(Rn.detachEvent("onpropertychange",Un),Mn=Rn=null)}function Un(e){if("value"===e.propertyName&&Dn(Mn)){var t=[];Ln(t,Mn,e,At(e)),Ot(On,t)}}function Vn(e,t,n){"focusin"===e?(Hn(),Mn=n,(Rn=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Hn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Mn)}function Yn(e,t){if("click"===e)return Dn(t)}function Kn(e,t){if("input"===e||"change"===e)return Dn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Z.call(t,s)||!Qn(e[s],t[s]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,i=Jn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Jn(i)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Ft&&"documentMode"in document&&11>=document.documentMode,ii=null,si=null,ri=null,ai=!1;function oi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ai||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&Zn(ri,i)||(ri=i,0<(i=Ud(si,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var li={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},di={},ui={};function hi(e){if(di[e])return di[e];if(!li[e])return e;var t,n=li[e];for(t in n)if(n.hasOwnProperty(t)&&t in ui)return di[e]=n[t];return e}Ft&&(ui=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);var pi=hi("animationend"),mi=hi("animationiteration"),fi=hi("animationstart"),_i=hi("transitionrun"),gi=hi("transitionstart"),vi=hi("transitioncancel"),yi=hi("transitionend"),xi=new Map,bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){xi.set(e,t),Ke(t,[e])}bi.push("scrollEnd");var wi=new WeakMap;function Ni(e,t){if("object"===typeof e&&null!==e){var n=wi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ct(t)},wi.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var ji=[],Ci=0,ki=0;function Pi(){for(var e=Ci,t=ki=Ci=0;t<e;){var n=ji[t];ji[t++]=null;var i=ji[t];ji[t++]=null;var s=ji[t];ji[t++]=null;var r=ji[t];if(ji[t++]=null,null!==i&&null!==s){var a=i.pending;null===a?s.next=s:(s.next=a.next,a.next=s),i.pending=s}0!==r&&Ii(n,s,r)}}function Ti(e,t,n,i){ji[Ci++]=e,ji[Ci++]=t,ji[Ci++]=n,ji[Ci++]=i,ki|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ei(e,t,n,i){return Ti(e,t,n,i),Li(e)}function Ai(e,t){return Ti(e,null,null,t),Li(e)}function Ii(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var s=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(i=r.alternate)&&(i.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(s=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,s&&null!==t&&(s=31-pe(n),null===(i=(e=r.hiddenUpdates)[s])?e[s]=[t]:i.push(t),t.lane=536870912|n),r):null}function Li(e){if(50<Il)throw Il=0,Ll=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ri={};function Mi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(e,t,n,i){return new Mi(e,t,n,i)}function Di(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fi(e,t){var n=e.alternate;return null===n?((n=Oi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,n,i,s,r){var o=0;if(i=e,"function"===typeof e)Di(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Oi(31,n,t,s)).elementType=k,e.lanes=r,e;case _:return zi(n.children,s,r,t);case g:o=8,s|=24;break;case v:return(e=Oi(12,n,t,2|s)).elementType=v,e.lanes=r,e;case w:return(e=Oi(13,n,t,s)).elementType=w,e.lanes=r,e;case N:return(e=Oi(19,n,t,s)).elementType=N,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case b:o=10;break e;case x:o=9;break e;case S:o=11;break e;case j:o=14;break e;case C:o=16,i=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),i=null}return(t=Oi(o,n,t,s)).elementType=e,t.type=i,t.lanes=r,t}function zi(e,t,n,i){return(e=Oi(7,e,i,t)).lanes=n,e}function Wi(e,t,n){return(e=Oi(6,e,null,t)).lanes=n,e}function Hi(e,t,n){return(t=Oi(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ui=[],Vi=0,Gi=null,Yi=0,Ki=[],Qi=0,Zi=null,Ji=1,Xi="";function $i(e,t){Ui[Vi++]=Yi,Ui[Vi++]=Gi,Gi=e,Yi=t}function es(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Zi,Zi=e;var i=Ji;e=Xi;var s=32-pe(i)-1;i&=~(1<<s),n+=1;var r=32-pe(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Ji=1<<32-pe(t)+s|n<<s|i,Xi=r+e}else Ji=1<<r|n<<s|i,Xi=e}function ts(e){null!==e.return&&($i(e,1),es(e,1,0))}function ns(e){for(;e===Gi;)Gi=Ui[--Vi],Ui[Vi]=null,Yi=Ui[--Vi],Ui[Vi]=null;for(;e===Zi;)Zi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var is=null,ss=null,rs=!1,as=null,os=!1,cs=Error(a(519));function ls(e){throw fs(Ni(Error(a(418,"")),e)),cs}function ds(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ie]=e,t[Le]=i,n){case"dialog":Dd("cancel",t),Dd("close",t);break;case"iframe":case"object":case"embed":Dd("load",t);break;case"video":case"audio":for(n=0;n<Rd.length;n++)Dd(Rd[n],t);break;case"source":Dd("error",t);break;case"img":case"image":case"link":Dd("error",t),Dd("load",t);break;case"details":Dd("toggle",t);break;case"input":Dd("invalid",t),gt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ut(t);break;case"select":Dd("invalid",t);break;case"textarea":Dd("invalid",t),bt(t,i.value,i.defaultValue,i.children),ut(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Zd(t.textContent,n)?(null!=i.popover&&(Dd("beforetoggle",t),Dd("toggle",t)),null!=i.onScroll&&Dd("scroll",t),null!=i.onScrollEnd&&Dd("scrollend",t),null!=i.onClick&&(t.onclick=Jd),t=!0):t=!1,t||ls(e)}function us(e){for(is=e.return;is;)switch(is.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:is=is.return}}function hs(e){if(e!==is)return!1;if(!rs)return us(e),rs=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||au(e.type,e.memoizedProps)),t=!t),t&&ss&&ls(e),us(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=gu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,pu(e.type)?(e=vu,vu=null,ss=e):ss=n):ss=is?gu(e.stateNode.nextSibling):null;return!0}function ps(){ss=is=null,rs=!1}function ms(){var e=as;return null!==e&&(null===yl?yl=e:yl.push.apply(yl,e),as=null),e}function fs(e){null===as?as=[e]:as.push(e)}var _s=B(null),gs=null,vs=null;function ys(e,t,n){z(_s,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=_s.current,q(_s)}function bs(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t,n,i){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var r=s.dependencies;if(null!==r){var o=s.child;r=r.firstContext;e:for(;null!==r;){var c=r;r=s;for(var l=0;l<t.length;l++)if(c.context===t[l]){r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),bs(r.return,n,e),i||(o=null);break e}r=c.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(r=o.alternate)&&(r.lanes|=n),bs(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function ws(e,t,n,i){e=null;for(var s=t,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var c=s.type;Qn(s.pendingProps.value,o.value)||(null!==e?e.push(c):e=[c])}}else if(s===V.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Ku):e=[Ku])}s=s.return}null!==e&&Ss(t,e,n,i),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){gs=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cs(e){return Ps(gs,e)}function ks(e,t){return null===gs&&js(e),Ps(e,t)}function Ps(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var Ts="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Es=i.unstable_scheduleCallback,As=i.unstable_NormalPriority,Is={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ls(){return{controller:new Ts,data:new Map,refCount:0}}function Rs(e){e.refCount--,0===e.refCount&&Es(As,function(){e.controller.abort()})}var Ms=null,Os=0,Ds=0,Fs=null;function Bs(){if(0===--Os&&null!==Ms){null!==Fs&&(Fs.status="fulfilled");var e=Ms;Ms=null,Ds=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qs=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ms){var n=Ms=[];Os=0,Ds=Td(),Fs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Os++,t.then(Bs,Bs)}(0,t),null!==qs&&qs(e,t)};var zs=B(null);function Ws(){var e=zs.current;return null!==e?e:il.pooledCache}function Hs(e,t){z(zs,null===t?zs.current:t.pool)}function Us(){var e=Ws();return null===e?null:{parent:Is._currentValue,pool:e}}var Vs=Error(a(460)),Gs=Error(a(474)),Ys=Error(a(542)),Ks={then:function(){}};function Qs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zs(){}function Js(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zs,Zs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zs,Zs);else{if(null!==(e=il)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e}throw Xs=t,Vs}}var Xs=null;function $s(){if(null===Xs)throw Error(a(459));var e=Xs;return Xs=null,e}function er(e){if(e===Vs||e===Ys)throw Error(a(483))}var tr=!1;function nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nl)){var s=i.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Li(e),Ii(e,null,n),t}return Ti(e,i,t,n),Li(e)}function ar(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}function or(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cr=!1;function lr(){if(cr){if(null!==Fs)throw Fs}}function dr(e,t,n,i){cr=!1;var s=e.updateQueue;tr=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var c=o,l=c.next;c.next=null,null===a?r=l:a.next=l,a=c;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=c))}if(null!==r){var u=s.baseState;for(a=0,d=l=c=null,o=r;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(rl&p)===p:(i&p)===p){0!==p&&p===Ds&&(cr=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,_=o;p=t;var g=n;switch(_.tag){case 1:if("function"===typeof(f=_.payload)){u=f.call(g,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=_.payload)?f.call(g,u,p):f)||void 0===p)break e;u=h({},u,p);break e;case 2:tr=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=m,c=u):d=d.next=m,a|=p;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(m=o).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===d&&(c=u),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=d,null===r&&(s.shared.lanes=0),pl|=a,e.lanes=a,e.memoizedState=u}}function ur(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ur(n[e],t)}var pr=B(null),mr=B(0);function fr(e,t){z(mr,e=ul),z(pr,t),ul=e|t.baseLanes}function _r(){z(mr,ul),z(pr,pr.current)}function gr(){ul=mr.current,q(pr),q(mr)}var vr=0,yr=null,xr=null,br=null,Sr=!1,wr=!1,Nr=!1,jr=0,Cr=0,kr=null,Pr=0;function Tr(){throw Error(a(321))}function Er(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ar(e,t,n,i,s,r){return vr=r,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Va:Ga,Nr=!1,r=n(i,s),Nr=!1,wr&&(r=Lr(t,n,i,s)),Ir(e),r}function Ir(e){R.H=Ua;var t=null!==xr&&null!==xr.next;if(vr=0,br=xr=yr=null,Sr=!1,Cr=0,kr=null,t)throw Error(a(300));null===e||ko||null!==(e=e.dependencies)&&Ns(e)&&(ko=!0)}function Lr(e,t,n,i){yr=e;var s=0;do{if(wr&&(kr=null),Cr=0,wr=!1,25<=s)throw Error(a(301));if(s+=1,br=xr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}R.H=Ya,r=t(n,i)}while(wr);return r}function Rr(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?qr(t):t,e=e.useState()[0],(null!==xr?xr.memoizedState:null)!==e&&(yr.flags|=1024),t}function Mr(){var e=0!==jr;return jr=0,e}function Or(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Dr(e){if(Sr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sr=!1}vr=0,br=xr=yr=null,wr=!1,Cr=jr=0,kr=null}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===br?yr.memoizedState=br=e:br=br.next=e,br}function Br(){if(null===xr){var e=yr.alternate;e=null!==e?e.memoizedState:null}else e=xr.next;var t=null===br?yr.memoizedState:br.next;if(null!==t)br=t,xr=e;else{if(null===e){if(null===yr.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xr=e).memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},null===br?yr.memoizedState=br=e:br=br.next=e}return br}function qr(e){var t=Cr;return Cr+=1,null===kr&&(kr=[]),e=Js(kr,e,t),t=yr,null===(null===br?t.memoizedState:br.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Va:Ga),e}function zr(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return qr(e);if(e.$$typeof===b)return Cs(e)}throw Error(a(438,String(e)))}function Wr(e){var t=null,n=yr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=yr.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=P;return t.index++,n}function Hr(e,t){return"function"===typeof t?t(e):t}function Ur(e){return Vr(Br(),xr,e)}function Vr(e,t,n){var i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,null===s)e.memoizedState=r;else{var c=o=null,l=null,d=t=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(rl&h)===h:(vr&h)===h){var p=d.revertLane;if(0===p)null!==l&&(l=l.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ds&&(u=!0);else{if((vr&p)===p){d=d.next,p===Ds&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===l?(c=l=h,o=r):l=l.next=h,yr.lanes|=p,pl|=p}h=d.action,Nr&&n(r,h),r=d.hasEagerState?d.eagerState:n(r,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===l?(c=l=p,o=r):l=l.next=p,yr.lanes|=h,pl|=h;d=d.next}while(null!==d&&d!==t);if(null===l?o=r:l.next=c,!Qn(r,e.memoizedState)&&(ko=!0,u&&null!==(n=Fs)))throw n;e.memoizedState=r,e.baseState=o,e.baseQueue=l,i.lastRenderedState=r}return null===s&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gr(e){var t=Br(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=e(r,o.action),o=o.next}while(o!==s);Qn(r,t.memoizedState)||(ko=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Yr(e,t,n){var i=yr,s=Br(),r=rs;if(r){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((xr||s).memoizedState,n);if(o&&(s.memoizedState=n,ko=!0),s=s.queue,_a(2048,8,Zr.bind(null,i,s,e),[e]),s.getSnapshot!==t||o||null!==br&&1&br.memoizedState.tag){if(i.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Qr.bind(null,i,s,n,t),null),null===il)throw Error(a(349));r||0!==(124&vr)||Kr(i,t,n)}return n}function Kr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qr(e,t,n,i){t.value=n,t.getSnapshot=i,Jr(t)&&Xr(e)}function Zr(e,t,n){return n(function(){Jr(t)&&Xr(e)})}function Jr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(i){return!0}}function Xr(e){var t=Ai(e,2);null!==t&&Ol(t,e,2)}function $r(e){var t=Fr();if("function"===typeof e){var n=e;if(e=n(),Nr){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t}function ea(e,t,n,i){return e.baseState=n,Vr(e,xr,"function"===typeof i?i:Hr)}function ta(e,t,n,i,s){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==R.T?n(!0):r.isTransition=!1,i(r),null===(n=t.pending)?(r.next=t.pending=r,na(t,r)):(r.next=n.next,t.pending=n.next=r)}}function na(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=R.T,a={};R.T=a;try{var o=n(s,i),c=R.S;null!==c&&c(a,o),ia(e,t,o)}catch(l){ra(e,t,l)}finally{R.T=r}}else try{ia(e,t,r=n(s,i))}catch(d){ra(e,t,d)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){sa(e,t,n)},function(n){return ra(e,t,n)}):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ra(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==i)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function ca(e,t){if(rs){var n=il.formState;if(null!==n){e:{var i=yr;if(rs){if(ss){t:{for(var s=ss,r=os;8!==s.nodeType;){if(!r){s=null;break t}if(null===(s=gu(s.nextSibling))){s=null;break t}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){ss=gu(s.nextSibling),i="F!"===s.data;break e}}ls(i)}i=!1}i&&(t=n[0])}}return(n=Fr()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=i,n=Fa.bind(null,yr,i),i.dispatch=n,i=$r(!1),r=qa.bind(null,yr,!1,i.queue),s={state:t,dispatch:null,action:e,pending:null},(i=Fr()).queue=s,n=ta.bind(null,yr,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function la(e){return da(Br(),xr,e)}function da(e,t,n){if(t=Vr(e,t,oa)[0],e=Ur(Hr)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=qr(t)}catch(a){if(a===Vs)throw Ys;throw a}else i=t;var s=(t=Br()).queue,r=s.dispatch;return n!==t.memoizedState&&(yr.flags|=2048,pa(9,{destroy:void 0,resource:void 0},ua.bind(null,s,n),null)),[i,r,e]}function ua(e,t){e.action=t}function ha(e){var t=Br(),n=xr;if(null!==n)return da(t,n,e);Br(),t=t.memoizedState;var i=(n=Br()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function pa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=yr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ma(){return Br().memoizedState}function fa(e,t,n,i){var s=Fr();i=void 0===i?null:i,yr.flags|=e,s.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,i)}function _a(e,t,n,i){var s=Br();i=void 0===i?null:i;var r=s.memoizedState.inst;null!==xr&&null!==i&&Er(i,xr.memoizedState.deps)?s.memoizedState=pa(t,r,n,i):(yr.flags|=e,s.memoizedState=pa(1|t,r,n,i))}function ga(e,t){fa(8390656,8,e,t)}function va(e,t){_a(2048,8,e,t)}function ya(e,t){return _a(4,2,e,t)}function xa(e,t){return _a(4,4,e,t)}function ba(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,4,ba.bind(null,t,e),n)}function wa(){}function Na(e,t){var n=Br();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Er(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ja(e,t){var n=Br();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Er(t,i[1]))return i[0];if(i=e(),Nr){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i}function Ca(e,t,n){return void 0===n||0!==(1073741824&vr)?e.memoizedState=t:(e.memoizedState=n,e=Ml(),yr.lanes|=e,pl|=e,n)}function ka(e,t,n,i){return Qn(n,t)?n:null!==pr.current?(e=Ca(e,n,i),Qn(e,t)||(ko=!0),e):0===(42&vr)?(ko=!0,e.memoizedState=n):(e=Ml(),yr.lanes|=e,pl|=e,t)}function Pa(e,t,n,i,s){var r=M.p;M.p=0!==r&&8>r?r:8;var a=R.T,o={};R.T=o,qa(e,!1,t,n);try{var c=s(),l=R.S;if(null!==l&&l(o,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)Ba(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(c,i),Rl());else Ba(e,t,i,Rl())}catch(d){Ba(e,t,{then:function(){},status:"rejected",reason:d},Rl())}finally{M.p=r,R.T=a}}function Ta(){}function Ea(e,t,n,i){if(5!==e.tag)throw Error(a(476));var s=Aa(e).queue;Pa(e,s,t,O,null===n?Ta:function(){return Ia(e),n(i)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ia(e){Ba(e,Aa(e).next.queue,{},Rl())}function La(){return Cs(Ku)}function Ra(){return Br().memoizedState}function Ma(){return Br().memoizedState}function Oa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rl(),i=rr(t,e=sr(n),n);return null!==i&&(Ol(i,t,n),ar(i,t,n)),t={cache:Ls()},void(e.payload=t)}t=t.return}}function Da(e,t,n){var i=Rl();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?Wa(t,n):null!==(n=Ei(e,t,n,i))&&(Ol(n,e,i),Ha(n,t,i))}function Fa(e,t,n){Ba(e,t,n,Rl())}function Ba(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))Wa(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,Qn(o,a))return Ti(e,t,s,0),null===il&&Pi(),!1}catch(c){}if(null!==(n=Ei(e,t,s,i)))return Ol(n,e,i),Ha(n,t,i),!0}return!1}function qa(e,t,n,i){if(i={lane:2,revertLane:Td(),action:i,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=Ei(e,n,i,2))&&Ol(t,e,2)}function za(e){var t=e.alternate;return e===yr||null!==t&&t===yr}function Wa(e,t){wr=Sr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}var Ua={readContext:Cs,use:zr,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useLayoutEffect:Tr,useInsertionEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useSyncExternalStore:Tr,useId:Tr,useHostTransitionStatus:Tr,useFormState:Tr,useActionState:Tr,useOptimistic:Tr,useMemoCache:Tr,useCacheRefresh:Tr},Va={readContext:Cs,use:zr,useCallback:function(e,t){return Fr().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:ga,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fa(4194308,4,ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var n=Fr();t=void 0===t?null:t;var i=e();if(Nr){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Fr();if(void 0!==n){var s=n(t);if(Nr){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=Da.bind(null,yr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Fr().memoizedState=e},useState:function(e){var t=(e=$r(e)).queue,n=Fa.bind(null,yr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wa,useDeferredValue:function(e,t){return Ca(Fr(),e,t)},useTransition:function(){var e=$r(!1);return e=Pa.bind(null,yr,e.queue,!0,!1),Fr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=yr,s=Fr();if(rs){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===il)throw Error(a(349));0!==(124&rl)||Kr(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,ga(Zr.bind(null,i,r,e),[e]),i.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Qr.bind(null,i,r,n,t),null),n},useId:function(){var e=Fr(),t=il.identifierPrefix;if(rs){var n=Xi;t="\xab"+t+"R"+(n=(Ji&~(1<<32-pe(Ji)-1)).toString(32)+n),0<(n=jr++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pr++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:La,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Fr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qa.bind(null,yr,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wr,useCacheRefresh:function(){return Fr().memoizedState=Oa.bind(null,yr)}},Ga={readContext:Cs,use:zr,useCallback:Na,useContext:Cs,useEffect:va,useImperativeHandle:Sa,useInsertionEffect:ya,useLayoutEffect:xa,useMemo:ja,useReducer:Ur,useRef:ma,useState:function(){return Ur(Hr)},useDebugValue:wa,useDeferredValue:function(e,t){return ka(Br(),xr.memoizedState,e,t)},useTransition:function(){var e=Ur(Hr)[0],t=Br().memoizedState;return["boolean"===typeof e?e:qr(e),t]},useSyncExternalStore:Yr,useId:Ra,useHostTransitionStatus:La,useFormState:la,useActionState:la,useOptimistic:function(e,t){return ea(Br(),0,e,t)},useMemoCache:Wr,useCacheRefresh:Ma},Ya={readContext:Cs,use:zr,useCallback:Na,useContext:Cs,useEffect:va,useImperativeHandle:Sa,useInsertionEffect:ya,useLayoutEffect:xa,useMemo:ja,useReducer:Gr,useRef:ma,useState:function(){return Gr(Hr)},useDebugValue:wa,useDeferredValue:function(e,t){var n=Br();return null===xr?Ca(n,e,t):ka(n,xr.memoizedState,e,t)},useTransition:function(){var e=Gr(Hr)[0],t=Br().memoizedState;return["boolean"===typeof e?e:qr(e),t]},useSyncExternalStore:Yr,useId:Ra,useHostTransitionStatus:La,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Br();return null!==xr?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wr,useCacheRefresh:Ma},Ka=null,Qa=0;function Za(e){var t=Qa;return Qa+=1,null===Ka&&(Ka=[]),Js(Ka,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fi(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=Wi(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function l(e,t,n,i){var r=n.type;return r===_?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===C&&$a(r)===t.type)?(Ja(t=s(t,n.props),n),t.return=e,t):(Ja(t=qi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hi(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,i,r){return null===t||7!==t.tag?((t=zi(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Ja(n=qi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Hi(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(L(t)||E(t))return(t=zi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Za(t),n);if(t.$$typeof===b)return h(e,ks(e,t),n);Xa(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:c(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===s?l(e,t,n,i):null;case f:return n.key===s?d(e,t,n,i):null;case C:return p(e,t,n=(s=n._init)(n._payload),i)}if(L(n)||E(n))return null!==s?null:u(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,Za(n),i);if(n.$$typeof===b)return p(e,t,ks(e,n),i);Xa(e,n)}return null}function g(e,t,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return c(t,e=e.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case m:return l(t,e=e.get(null===i.key?n:i.key)||null,i,s);case f:return d(t,e=e.get(null===i.key?n:i.key)||null,i,s);case C:return g(e,t,n,i=(0,i._init)(i._payload),s)}if(L(i)||E(i))return u(t,e=e.get(n)||null,i,s,null);if("function"===typeof i.then)return g(e,t,n,Za(i),s);if(i.$$typeof===b)return g(e,t,n,ks(t,i),s);Xa(t,i)}return null}function v(c,l,d,u){if("object"===typeof d&&null!==d&&d.type===_&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var y=d.key;null!==l;){if(l.key===y){if((y=d.type)===_){if(7===l.tag){n(c,l.sibling),(u=s(l,d.props.children)).return=c,c=u;break e}}else if(l.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&$a(y)===l.type){n(c,l.sibling),Ja(u=s(l,d.props),d),u.return=c,c=u;break e}n(c,l);break}t(c,l),l=l.sibling}d.type===_?((u=zi(d.props.children,c.mode,u,d.key)).return=c,c=u):(Ja(u=qi(d.type,d.key,d.props,null,c.mode,u),d),u.return=c,c=u)}return o(c);case f:e:{for(y=d.key;null!==l;){if(l.key===y){if(4===l.tag&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){n(c,l.sibling),(u=s(l,d.children||[])).return=c,c=u;break e}n(c,l);break}t(c,l),l=l.sibling}(u=Hi(d,c.mode,u)).return=c,c=u}return o(c);case C:return v(c,l,d=(y=d._init)(d._payload),u)}if(L(d))return function(s,a,o,c){for(var l=null,d=null,u=a,m=a=0,f=null;null!==u&&m<o.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var _=p(s,u,o[m],c);if(null===_){null===u&&(u=f);break}e&&u&&null===_.alternate&&t(s,u),a=r(_,a,m),null===d?l=_:d.sibling=_,d=_,u=f}if(m===o.length)return n(s,u),rs&&$i(s,m),l;if(null===u){for(;m<o.length;m++)null!==(u=h(s,o[m],c))&&(a=r(u,a,m),null===d?l=u:d.sibling=u,d=u);return rs&&$i(s,m),l}for(u=i(u);m<o.length;m++)null!==(f=g(u,s,m,o[m],c))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),a=r(f,a,m),null===d?l=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(s,e)}),rs&&$i(s,m),l}(c,l,d,u);if(E(d)){if("function"!==typeof(y=E(d)))throw Error(a(150));return function(s,o,c,l){if(null==c)throw Error(a(151));for(var d=null,u=null,m=o,f=o=0,_=null,v=c.next();null!==m&&!v.done;f++,v=c.next()){m.index>f?(_=m,m=null):_=m.sibling;var y=p(s,m,v.value,l);if(null===y){null===m&&(m=_);break}e&&m&&null===y.alternate&&t(s,m),o=r(y,o,f),null===u?d=y:u.sibling=y,u=y,m=_}if(v.done)return n(s,m),rs&&$i(s,f),d;if(null===m){for(;!v.done;f++,v=c.next())null!==(v=h(s,v.value,l))&&(o=r(v,o,f),null===u?d=v:u.sibling=v,u=v);return rs&&$i(s,f),d}for(m=i(m);!v.done;f++,v=c.next())null!==(v=g(m,s,f,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),o=r(v,o,f),null===u?d=v:u.sibling=v,u=v);return e&&m.forEach(function(e){return t(s,e)}),rs&&$i(s,f),d}(c,l,d=y.call(d),u)}if("function"===typeof d.then)return v(c,l,Za(d),u);if(d.$$typeof===b)return v(c,l,ks(c,d),u);Xa(c,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==l&&6===l.tag?(n(c,l.sibling),(u=s(l,d)).return=c,c=u):(n(c,l),(u=Wi(d,c.mode,u)).return=c,c=u),o(c)):n(c,l)}return function(e,t,n,i){try{Qa=0;var s=v(e,t,n,i);return Ka=null,s}catch(a){if(a===Vs||a===Ys)throw a;var r=Oi(29,a,null,e.mode);return r.lanes=i,r.return=e,r}}}var to=eo(!0),no=eo(!1),io=B(null),so=null;function ro(e){var t=e.alternate;z(lo,1&lo.current),z(io,e),null===so&&(null===t||null!==pr.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(z(lo,lo.current),z(io,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){z(lo,lo.current),z(io,io.current)}function co(e){q(io),so===e&&(so=null),q(lo)}var lo=B(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||_u(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rl(),s=sr(i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=rr(e,s,i))&&(Ol(t,e,i),ar(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rl(),s=sr(i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=rr(e,s,i))&&(Ol(t,e,i),ar(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rl(),i=sr(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=rr(e,i,n))&&(Ol(t,e,n),ar(t,e,n))}};function mo(e,t,n,i,s,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,i)||!Zn(s,r))}function fo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function _o(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var go="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){go(e)}function yo(e){console.error(e)}function xo(e){go(e)}function bo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function So(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function wo(e,t,n){return(n=sr(n)).tag=3,n.payload={element:null},n.callback=function(){bo(e,t)},n}function No(e){return(e=sr(e)).tag=3,e}function jo(e,t,n,i){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){So(t,n,i)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){So(t,n,i),"function"!==typeof s&&(null===Nl?Nl=new Set([this]):Nl.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Co=Error(a(461)),ko=!1;function Po(e,t,n,i){t.child=null===e?no(t,null,n,i):to(t,e.child,n,i)}function To(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return js(t),i=Ar(e,t,n,a,r,s),o=Mr(),null===e||ko?(rs&&o&&ts(t),t.flags|=1,Po(e,t,i,s),t.child):(Or(e,t,s),Qo(e,t,s))}function Eo(e,t,n,i,s){if(null===e){var r=n.type;return"function"!==typeof r||Di(r)||void 0!==r.defaultProps||null!==n.compare?((e=qi(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ao(e,t,r,i,s))}if(r=e.child,!Zo(e,s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,i)&&e.ref===t.ref)return Qo(e,t,s)}return t.flags|=1,(e=Fi(r,i)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,i,s){if(null!==e){var r=e.memoizedProps;if(Zn(r,i)&&e.ref===t.ref){if(ko=!1,t.pendingProps=i=r,!Zo(e,s))return t.lanes=e.lanes,Qo(e,t,s);0!==(131072&e.flags)&&(ko=!0)}}return Mo(e,t,n,i,s)}function Io(e,t,n){var i=t.pendingProps,s=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==r?r.baseLanes|n:n,null!==e){for(s=t.child=e.child,r=0;null!==s;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Lo(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Lo(e,t,null!==r?r.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hs(0,null!==r?r.cachePool:null),null!==r?fr(t,r):_r(),ao(t)}else null!==r?(Hs(0,r.cachePool),fr(t,r),oo(),t.memoizedState=null):(null!==e&&Hs(0,null),_r(),oo());return Po(e,t,s,n),t.child}function Lo(e,t,n,i){var s=Ws();return s=null===s?null:{parent:Is._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Hs(0,null),_r(),ao(t),null!==e&&ws(e,t,i,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Mo(e,t,n,i,s){return js(t),n=Ar(e,t,n,i,void 0,s),i=Mr(),null===e||ko?(rs&&i&&ts(t),t.flags|=1,Po(e,t,n,s),t.child):(Or(e,t,s),Qo(e,t,s))}function Oo(e,t,n,i,s,r){return js(t),t.updateQueue=null,n=Lr(t,i,n,s),Ir(e),i=Mr(),null===e||ko?(rs&&i&&ts(t),t.flags|=1,Po(e,t,n,r),t.child):(Or(e,t,r),Qo(e,t,r))}function Do(e,t,n,i,s){if(js(t),null===t.stateNode){var r=Ri,a=n.contextType;"object"===typeof a&&null!==a&&(r=Cs(a)),r=new n(i,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=po,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=i,r.state=t.memoizedState,r.refs={},nr(t),a=n.contextType,r.context="object"===typeof a&&null!==a?Cs(a):Ri,r.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,i),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(a=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),a!==r.state&&po.enqueueReplaceState(r,r.state,null),dr(t,i,r,s),lr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){r=t.stateNode;var o=t.memoizedProps,c=_o(n,o);r.props=c;var l=r.context,d=n.contextType;a=Ri,"object"===typeof d&&null!==d&&(a=Cs(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o||l!==a)&&fo(t,r,i,a),tr=!1;var h=t.memoizedState;r.state=h,dr(t,i,r,s),lr(),l=t.memoizedState,o||h!==l||tr?("function"===typeof u&&(ho(t,n,u,i),l=t.memoizedState),(c=tr||mo(t,n,c,i,h,l,a))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),r.props=i,r.state=l,r.context=a,i=c):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,ir(e,t),d=_o(n,a=t.memoizedProps),r.props=d,u=t.pendingProps,h=r.context,l=n.contextType,c=Ri,"object"===typeof l&&null!==l&&(c=Cs(l)),(l="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==u||h!==c)&&fo(t,r,i,c),tr=!1,h=t.memoizedState,r.state=h,dr(t,i,r,s),lr();var p=t.memoizedState;a!==u||h!==p||tr||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,n,o,i),p=t.memoizedState),(d=tr||mo(t,n,d,i,h,p,c)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(l||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,p,c),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,p,c)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),r.props=i,r.state=p,r.context=c,i=d):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Ro(e,t),i=0!==(128&t.flags),r||i?(r=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&i?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):Po(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Qo(e,t,s),e}function Fo(e,t,n,i){return ps(),t.flags|=256,Po(e,t,n,i),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qo(e){return{baseLanes:e,cachePool:Us()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=_l),e}function Wo(e,t,n){var i,s=t.pendingProps,r=!1,o=0!==(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&0!==(2&lo.current)),i&&(r=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(rs){if(r?ro(t):oo(),rs){var c,l=ss;if(c=l){e:{for(c=l,l=os;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=gu(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==Zi?{id:Ji,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},(c=Oi(18,null,null,0)).stateNode=l,c.return=t,t.child=c,is=t,ss=null,c=!0):c=!1}c||ls(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return _u(l)?t.lanes=32:t.lanes=536870912,null;co(t)}return l=s.children,s=s.fallback,r?(oo(),l=Uo({mode:"hidden",children:l},r=t.mode),s=zi(s,r,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(r=t.child).memoizedState=qo(n),r.childLanes=zo(e,i,n),t.memoizedState=Bo,s):(ro(t),Ho(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(o)256&t.flags?(ro(t),t.flags&=-257,t=Vo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),r=s.fallback,l=t.mode,s=Uo({mode:"visible",children:s.children},l),(r=zi(r,l,n,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=qo(n),s.childLanes=zo(e,i,n),t.memoizedState=Bo,t=r);else if(ro(t),_u(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var d=i.dgst;i=d,(s=Error(a(419))).stack="",s.digest=i,fs({value:s,source:null,stack:null}),t=Vo(e,t,n)}else if(ko||ws(e,t,n,!1),i=0!==(n&e.childLanes),ko||i){if(null!==(i=il)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Pe(s))&(i.suspendedLanes|n))?0:s)&&s!==c.retryLane))throw c.retryLane=s,Ai(e,s),Ol(i,e,s),Co;"$?"===l.data||Yl(),t=Vo(e,t,n)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ss=gu(l.nextSibling),is=t,rs=!0,as=null,os=!1,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=Xi,Ki[Qi++]=Zi,Ji=e.id,Xi=e.overflow,Zi=t),(t=Ho(t,s.children)).flags|=4096);return t}return r?(oo(),r=s.fallback,l=t.mode,d=(c=e.child).sibling,(s=Fi(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?r=Fi(d,r):(r=zi(r,l,n,null)).flags|=2,r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,null===(l=e.child.memoizedState)?l=qo(n):(null!==(c=l.cachePool)?(d=Is._currentValue,c=c.parent!==d?{parent:d,pool:d}:c):c=Us(),l={baseLanes:l.baseLanes|n,cachePool:c}),r.memoizedState=l,r.childLanes=zo(e,i,n),t.memoizedState=Bo,s):(ro(t),e=(n=e.child).sibling,(n=Fi(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Uo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Uo(e,t){return(e=Oi(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),bs(e.return,t,n)}function Yo(e,t,n,i,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Ko(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(Po(e,t,i.children,n),0!==(2&(i=lo.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(z(lo,i),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yo(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yo(t,!0,n,null,r);break;case"together":Yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ws(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ko=!0;else{if(!Zo(e,n)&&0===(128&t.flags))return ko=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),ys(0,Is,e.memoizedState.cache),ps();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:ys(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(ro(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wo(e,t,n):(ro(t),null!==(e=Qo(e,t,n))?e.sibling:null);ro(t);break;case 19:var s=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(ws(e,t,n,!1),i=0!==(n&t.childLanes)),s){if(i)return Ko(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(lo,lo.current),i)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,n);case 24:ys(0,Is,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);ko=0!==(131072&e.flags)}else ko=!1,rs&&0!==(1048576&t.flags)&&es(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((s=i.$$typeof)===S){t.tag=11,t=To(null,t,i,e,n);break e}if(s===j){t.tag=14,t=Eo(null,t,i,e,n);break e}}throw t=I(i)||i,Error(a(306,t,""))}Di(i)?(e=_o(i,e),t.tag=1,t=Do(null,t,i,e,n)):(t.tag=0,t=Mo(null,t,i,e,n))}return t;case 0:return Mo(e,t,t.type,t.pendingProps,n);case 1:return Do(e,t,i=t.type,s=_o(i,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(a(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,ir(e,t),dr(t,i,null,n);var o=t.memoizedState;if(i=o.cache,ys(0,Is,i),i!==r.cache&&Ss(t,[Is],n,!0),lr(),i=o.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Fo(e,t,i,n);break e}if(i!==s){fs(s=Ni(Error(a(424)),t)),t=Fo(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=gu(e.firstChild),is=t,rs=!0,as=null,os=!0,n=no(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===s){t=Qo(e,t,n);break e}Po(e,t,i,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Pu(t.type,null,t.pendingProps,null))?t.memoizedState=n:rs||(n=t.type,e=t.pendingProps,(i=iu(U.current).createElement(n))[Ie]=t,i[Le]=e,eu(i,n,e),Ve(i),t.stateNode=i):t.memoizedState=Pu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&rs&&(i=t.stateNode=xu(t.type,t.pendingProps,U.current),is=t,os=!0,s=ss,pu(t.type)?(vu=s,ss=gu(i.firstChild)):ss=s),Po(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&rs&&((s=i=ss)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===r)return e}if(null===(e=gu(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,os))?(t.stateNode=i,is=t,ss=gu(i.firstChild),os=!1,s=!0):s=!1),s||ls(t)),K(t),s=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,i=r.children,au(s,r)?i=null:null!==o&&au(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ar(e,t,Rr,null,null,n),Ku._currentValue=s),Ro(e,t),Po(e,t,i,n),t.child;case 6:return null===e&&rs&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gu(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,is=t,ss=null,e=!0):e=!1),e||ls(t)),null;case 13:return Wo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=to(t,null,i,n):Po(e,t,i,n),t.child;case 11:return To(e,t,t.type,t.pendingProps,n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ys(0,t.type,i.value),Po(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,js(t),i=i(s=Cs(s)),t.flags|=1,Po(e,t,i,n),t.child;case 14:return Eo(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Ko(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Uo(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Io(e,t,n);case 24:return js(t),i=Cs(Is),null===e?(null===(s=Ws())&&(s=il,r=Ls(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},nr(t),ys(0,Is,s)):(0!==(e.lanes&n)&&(ir(e,t),dr(t,null,null,n),lr()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),ys(0,Is,i)):(i=r.cache,ys(0,Is,i),i!==s.cache&&Ss(t,[Is],n,!0))),Po(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xo(e){e.flags|=4}function $o(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zu(t)){if(null!==(t=io.current)&&((4194048&rl)===rl?null!==so:(62914560&rl)!==rl&&0===(536870912&rl)||t!==so))throw Xs=Ks,Gs;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,gl|=t)}function tc(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=65011712&s.subtreeFlags,i|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ic(e,t,n){var i=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nc(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),xs(Is),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ms())),nc(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nc(t),$o(t,n)):(nc(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nc(t),$o(t,n)):(nc(t),t.flags&=-16777217):(e.memoizedProps!==i&&Xo(t),nc(t),t.flags&=-16777217),null;case 27:Q(t),n=U.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xo(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return nc(t),null}e=W.current,hs(t)?ds(t):(e=xu(s,i,n),t.stateNode=e,Xo(t))}return nc(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xo(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return nc(t),null}if(e=W.current,hs(t))ds(t);else{switch(s=iu(U.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?s.createElement(n,{is:i.is}):s.createElement(n)}}e[Ie]=t,e[Le]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(eu(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Xo(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(e=U.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(s=is))switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zd(e.nodeValue,n)))||ls(t)}else(e=iu(e).createTextNode(i))[Ie]=t,t.stateNode=e}return nc(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Ie]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nc(t),s=!1}else s=ms(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ec(t,t.updateQueue),nc(t),null;case 4:return Y(),null===e&&qd(t.stateNode.containerInfo),nc(t),null;case 10:return xs(t.type),nc(t),null;case 19:if(q(lo),null===(s=t.memoizedState))return nc(t),null;if(i=0!==(128&t.flags),null===(r=s.rendering))if(i)tc(s,!1);else{if(0!==hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=uo(e))){for(t.flags|=128,tc(s,!1),e=r.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Bi(n,e),n=n.sibling;return z(lo,1&lo.current|2),t.child}e=e.sibling}null!==s.tail&&te()>Sl&&(t.flags|=128,i=!0,tc(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=uo(r))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(s,!0),null===s.tail&&"hidden"===s.tailMode&&!r.alternate&&!rs)return nc(t),null}else 2*te()-s.renderingStartTime>Sl&&536870912!==n&&(t.flags|=128,i=!0,tc(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=s.last)?e.sibling=r:t.child=r,s.last=r)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=lo.current,z(lo,i?1&e|2:1&e),t):(nc(t),null);case 22:case 23:return co(t),gr(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nc(t),6&t.subtreeFlags&&(t.flags|=8192)):nc(t),null!==(n=t.updateQueue)&&ec(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&q(zs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Is),nc(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sc(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Is),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(lo),null;case 4:return Y(),null;case 10:return xs(t.type),null;case 22:case 23:return co(t),gr(),null!==e&&q(zs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Is),null;default:return null}}function rc(e,t){switch(ns(t),t.tag){case 3:xs(Is),Y();break;case 26:case 27:case 5:Q(t);break;case 4:Y();break;case 13:co(t);break;case 19:q(lo);break;case 10:xs(t.type);break;case 22:case 23:co(t),gr(),null!==e&&q(zs);break;case 24:xs(Is)}}function ac(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){dd(t,t.return,o)}}function oc(e,t,n){try{var i=t.updateQueue,s=null!==i?i.lastEffect:null;if(null!==s){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var c=n,l=o;try{l()}catch(d){dd(s,c,d)}}}i=i.next}while(i!==r)}}catch(d){dd(t,t.return,d)}}function cc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hr(t,n)}catch(i){dd(e,e.return,i)}}}function lc(e,t,n){n.props=_o(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){dd(e,t,i)}}function dc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){dd(e,t,s)}}function uc(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(s){dd(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){dd(e,t,r)}else n.current=null}function hc(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){dd(e,e.return,s)}}function pc(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,o=null,c=null,l=null,d=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":l=h;default:i.hasOwnProperty(m)||Xd(e,t,m,null,i,h)}}for(var p in i){var m=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":r=m;break;case"name":s=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==h&&Xd(e,t,p,m,i,h)}}return void _t(e,o,c,l,d,u,r,s);case"select":for(r in m=o=c=p=null,n)if(l=n[r],n.hasOwnProperty(r)&&null!=l)switch(r){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(r)||Xd(e,t,r,null,i,l)}for(s in i)if(r=i[s],l=n[s],i.hasOwnProperty(s)&&(null!=r||null!=l))switch(s){case"value":p=r;break;case"defaultValue":c=r;break;case"multiple":o=r;default:r!==l&&Xd(e,t,s,r,i,l)}return t=c,n=o,i=m,void(null!=p?yt(e,!!n,p,!1):!!i!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(c in m=p=null,n)if(s=n[c],n.hasOwnProperty(c)&&null!=s&&!i.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Xd(e,t,c,null,i,s)}for(o in i)if(s=i[o],r=n[o],i.hasOwnProperty(o)&&(null!=s||null!=r))switch(o){case"value":p=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==r&&Xd(e,t,o,s,i,r)}return void xt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Xd(e,t,f,null,i,p);for(l in i)if(p=i[l],m=n[l],i.hasOwnProperty(l)&&p!==m&&(null!=p||null!=m))if("selected"===l)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xd(e,t,l,p,i,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)p=n[_],n.hasOwnProperty(_)&&null!=p&&!i.hasOwnProperty(_)&&Xd(e,t,_,null,i,p);for(d in i)if(p=i[d],m=n[d],i.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Xd(e,t,d,p,i,m)}return;default:if(Ct(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!i.hasOwnProperty(g)&&$d(e,t,g,void 0,i,p);for(u in i)p=i[u],m=n[u],!i.hasOwnProperty(u)||p===m||void 0===p&&void 0===m||$d(e,t,u,p,i,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&Xd(e,t,v,null,i,p);for(h in i)p=i[h],m=n[h],!i.hasOwnProperty(h)||p===m||null==p&&null==m||Xd(e,t,h,p,i,m)}(i,e.type,n,t),i[Le]=t}catch(s){dd(e,e.return,s)}}function mc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pu(e.type)||4===e.tag}function fc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||mc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _c(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jd));else if(4!==i&&(27===i&&pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(_c(e,t,n),e=e.sibling;null!==e;)_c(e,t,n),e=e.sibling}function gc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gc(e,t,n),e=e.sibling;null!==e;)gc(e,t,n),e=e.sibling}function vc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);eu(t,i,n),t[Ie]=e,t[Le]=n}catch(r){dd(e,e.return,r)}}var yc=!1,xc=!1,bc=!1,Sc="function"===typeof WeakSet?WeakSet:Set,wc=null;function Nc(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Dc(e,n),4&i&&ac(5,n);break;case 1:if(Dc(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){dd(n,n.return,a)}else{var s=_o(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&i&&cc(n),512&i&&dc(n,n.return);break;case 3:if(Dc(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hr(e,t)}catch(a){dd(n,n.return,a)}}break;case 27:null===t&&4&i&&vc(n);case 26:case 5:Dc(e,n),null===t&&4&i&&hc(n),512&i&&dc(n,n.return);break;case 12:Dc(e,n);break;case 13:Dc(e,n),4&i&&Ec(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=md.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||yc)){t=null!==t&&null!==t.memoizedState||xc,s=yc;var r=xc;yc=i,(xc=t)&&!r?Bc(e,n,0!==(8772&n.subtreeFlags)):Dc(e,n),yc=s,xc=r}break;case 30:break;default:Dc(e,n)}}function jc(e){var t=e.alternate;null!==t&&(e.alternate=null,jc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cc=null,kc=!1;function Pc(e,t,n){for(n=n.child;null!==n;)Tc(e,t,n),n=n.sibling}function Tc(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(r){}switch(n.tag){case 26:xc||uc(n,t),Pc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xc||uc(n,t);var i=Cc,s=kc;pu(n.type)&&(Cc=n.stateNode,kc=!1),Pc(e,t,n),bu(n.stateNode),Cc=i,kc=s;break;case 5:xc||uc(n,t);case 6:if(i=Cc,s=kc,Cc=null,Pc(e,t,n),kc=s,null!==(Cc=i))if(kc)try{(9===Cc.nodeType?Cc.body:"HTML"===Cc.nodeName?Cc.ownerDocument.body:Cc).removeChild(n.stateNode)}catch(a){dd(n,t,a)}else try{Cc.removeChild(n.stateNode)}catch(a){dd(n,t,a)}break;case 18:null!==Cc&&(kc?(mu(9===(e=Cc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),kh(e)):mu(Cc,n.stateNode));break;case 4:i=Cc,s=kc,Cc=n.stateNode.containerInfo,kc=!0,Pc(e,t,n),Cc=i,kc=s;break;case 0:case 11:case 14:case 15:xc||oc(2,n,t),xc||oc(4,n,t),Pc(e,t,n);break;case 1:xc||(uc(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&lc(n,t,i)),Pc(e,t,n);break;case 21:Pc(e,t,n);break;case 22:xc=(i=xc)||null!==n.memoizedState,Pc(e,t,n),xc=i;break;default:Pc(e,t,n)}}function Ec(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kh(e)}catch(n){dd(t,t.return,n)}}function Ac(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sc),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var i=fd.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function Ic(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],r=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 27:if(pu(c.type)){Cc=c.stateNode,kc=!1;break e}break;case 5:Cc=c.stateNode,kc=!1;break e;case 3:case 4:Cc=c.stateNode.containerInfo,kc=!0;break e}c=c.return}if(null===Cc)throw Error(a(160));Tc(r,o,s),Cc=null,kc=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rc(t,e),t=t.sibling}var Lc=null;function Rc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ic(t,e),Mc(e),4&i&&(oc(3,e,e.return),ac(3,e),oc(5,e,e.return));break;case 1:Ic(t,e),Mc(e),512&i&&(xc||null===n||uc(n,n.return)),64&i&&yc&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var s=Lc;if(Ic(t,e),Mc(e),512&i&&(xc||null===n||uc(n,n.return)),4&i){var r=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":(!(r=s.getElementsByTagName("title")[0])||r[Be]||r[Ie]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),eu(r,i,n),r[Ie]=e,Ve(r),i=r;break e;case"link":var o=Bu("link","href",s).get(i+(n.href||""));if(o)for(var c=0;c<o.length;c++)if((r=o[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(c,1);break t}eu(r=s.createElement(i),i,n),s.head.appendChild(r);break;case"meta":if(o=Bu("meta","content",s).get(i+(n.content||"")))for(c=0;c<o.length;c++)if((r=o[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(c,1);break t}eu(r=s.createElement(i),i,n),s.head.appendChild(r);break;default:throw Error(a(468,i))}r[Ie]=e,Ve(r),i=r}e.stateNode=i}else qu(s,e.type,e.stateNode);else e.stateNode=Ru(s,i,e.memoizedProps);else r!==i?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===i?qu(s,e.type,e.stateNode):Ru(s,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ic(t,e),Mc(e),512&i&&(xc||null===n||uc(n,n.return)),null!==n&&4&i&&pc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ic(t,e),Mc(e),512&i&&(xc||null===n||uc(n,n.return)),32&e.flags){s=e.stateNode;try{St(s,"")}catch(m){dd(e,e.return,m)}}4&i&&null!=e.stateNode&&pc(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(bc=!0);break;case 6:if(Ic(t,e),Mc(e),4&i){if(null===e.stateNode)throw Error(a(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){dd(e,e.return,m)}}break;case 3:if(Fu=null,s=Lc,Lc=Nu(t.containerInfo),Ic(t,e),Lc=s,Mc(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{kh(t.containerInfo)}catch(m){dd(e,e.return,m)}bc&&(bc=!1,Oc(e));break;case 4:i=Lc,Lc=Nu(e.stateNode.containerInfo),Ic(t,e),Mc(e),Lc=i;break;case 12:default:Ic(t,e),Mc(e);break;case 13:Ic(t,e),Mc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bl=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ac(e,i)));break;case 22:s=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,d=yc,u=xc;if(yc=d||s,xc=u||l,Ic(t,e),xc=u,yc=d,Mc(e),8192&i)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||l||yc||xc||Fc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(r=l.stateNode,s)"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{c=l.stateNode;var h=l.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;c.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){dd(l,l.return,m)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=s?"":l.memoizedProps}catch(m){dd(l,l.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Ac(e,n))));break;case 19:Ic(t,e),Mc(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ac(e,i)));case 30:case 21:}}function Mc(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(mc(i)){n=i;break}i=i.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;gc(e,fc(e),s);break;case 5:var r=n.stateNode;32&n.flags&&(St(r,""),n.flags&=-33),gc(e,fc(e),r);break;case 3:case 4:var o=n.stateNode.containerInfo;_c(e,fc(e),o);break;default:throw Error(a(161))}}catch(c){dd(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Oc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Oc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nc(e,t.alternate,t),t=t.sibling}function Fc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oc(4,t,t.return),Fc(t);break;case 1:uc(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&lc(t,t.return,n),Fc(t);break;case 27:bu(t.stateNode);case 26:case 5:uc(t,t.return),Fc(t);break;case 22:null===t.memoizedState&&Fc(t);break;default:Fc(t)}e=e.sibling}}function Bc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Bc(s,r,n),ac(4,r);break;case 1:if(Bc(s,r,n),"function"===typeof(s=(i=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(l){dd(i,i.return,l)}if(null!==(s=(i=r).updateQueue)){var o=i.stateNode;try{var c=s.shared.hiddenCallbacks;if(null!==c)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)ur(c[s],o)}catch(l){dd(i,i.return,l)}}n&&64&a&&cc(r),dc(r,r.return);break;case 27:vc(r);case 26:case 5:Bc(s,r,n),n&&null===i&&4&a&&hc(r),dc(r,r.return);break;case 12:Bc(s,r,n);break;case 13:Bc(s,r,n),n&&4&a&&Ec(s,r);break;case 22:null===r.memoizedState&&Bc(s,r,n),dc(r,r.return);break;case 30:break;default:Bc(s,r,n)}t=t.sibling}}function qc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Rs(n))}function zc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rs(e))}function Wc(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hc(e,t,n,i),t=t.sibling}function Hc(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Wc(e,t,n,i),2048&s&&ac(9,t);break;case 1:case 13:default:Wc(e,t,n,i);break;case 3:Wc(e,t,n,i),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rs(e)));break;case 12:if(2048&s){Wc(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){dd(t,t.return,c)}}else Wc(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,null!==t.memoizedState?2&r._visibility?Wc(e,t,n,i):Vc(e,t):2&r._visibility?Wc(e,t,n,i):(r._visibility|=2,Uc(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&s&&qc(a,t);break;case 24:Wc(e,t,n,i),2048&s&&zc(t.alternate,t)}}function Uc(e,t,n,i,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,a=t,o=n,c=i,l=a.flags;switch(a.tag){case 0:case 11:case 15:Uc(r,a,o,c,s),ac(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?Uc(r,a,o,c,s):Vc(r,a):(d._visibility|=2,Uc(r,a,o,c,s)),s&&2048&l&&qc(a.alternate,a);break;case 24:Uc(r,a,o,c,s),s&&2048&l&&zc(a.alternate,a);break;default:Uc(r,a,o,c,s)}t=t.sibling}}function Vc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Vc(n,i),2048&s&&qc(i.alternate,i);break;case 24:Vc(n,i),2048&s&&zc(i.alternate,i);break;default:Vc(n,i)}t=t.sibling}}var Gc=8192;function Yc(e){if(e.subtreeFlags&Gc)for(e=e.child;null!==e;)Kc(e),e=e.sibling}function Kc(e){switch(e.tag){case 26:Yc(e),e.flags&Gc&&null!==e.memoizedState&&function(e,t,n){if(null===Wu)throw Error(a(475));var i=Wu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Tu(n.href),r=e.querySelector(Eu(s));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Uu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,void Ve(r);r=e.ownerDocument||e,n=Au(n),(s=Su.get(s))&&Ou(n,s),Ve(r=r.createElement("link"));var o=r;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(r,"link",n),t.instance=r}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Uu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Lc,e.memoizedState,e.memoizedProps);break;case 5:default:Yc(e);break;case 3:case 4:var t=Lc;Lc=Nu(e.stateNode.containerInfo),Yc(e),Lc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gc,Gc=16777216,Yc(e),Gc=t):Yc(e))}}function Qc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];wc=i,$c(i,e)}Qc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jc(e),e=e.sibling}function Jc(e){switch(e.tag){case 0:case 11:case 15:Zc(e),2048&e.flags&&oc(9,e,e.return);break;case 3:case 12:default:Zc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xc(e)):Zc(e)}}function Xc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];wc=i,$c(i,e)}Qc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oc(8,t,t.return),Xc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xc(t));break;default:Xc(t)}e=e.sibling}}function $c(e,t){for(;null!==wc;){var n=wc;switch(n.tag){case 0:case 11:case 15:oc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Rs(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,wc=i;else e:for(n=e;null!==wc;){var s=(i=wc).sibling,r=i.return;if(jc(i),i===n){wc=null;break e}if(null!==s){s.return=r,wc=s;break e}wc=r}}}var el={getCacheForType:function(e){var t=Cs(Is),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tl="function"===typeof WeakMap?WeakMap:Map,nl=0,il=null,sl=null,rl=0,al=0,ol=null,cl=!1,ll=!1,dl=!1,ul=0,hl=0,pl=0,ml=0,fl=0,_l=0,gl=0,vl=null,yl=null,xl=!1,bl=0,Sl=1/0,wl=null,Nl=null,jl=0,Cl=null,kl=null,Pl=0,Tl=0,El=null,Al=null,Il=0,Ll=null;function Rl(){if(0!==(2&nl)&&0!==rl)return rl&-rl;if(null!==R.T){return 0!==Ds?Ds:Td()}return Ee()}function Ml(){0===_l&&(_l=0===(536870912&rl)||rs?Se():536870912);var e=io.current;return null!==e&&(e.flags|=32),_l}function Ol(e,t,n){(e!==il||2!==al&&9!==al)&&null===e.cancelPendingCommit||(Hl(e,0),ql(e,rl,_l,!1)),je(e,n),0!==(2&nl)&&e===il||(e===il&&(0===(2&nl)&&(ml|=n),4===hl&&ql(e,rl,_l,!1)),Sd(e))}function Dl(e,t,n){if(0!==(6&nl))throw Error(a(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=i?function(e,t){var n=nl;nl|=2;var i=Vl(),s=Gl();il!==e||rl!==t?(wl=null,Sl=te()+500,Hl(e,t)):ll=xe(e,t);e:for(;;)try{if(0!==al&&null!==sl){t=sl;var r=ol;t:switch(al){case 1:al=0,ol=null,$l(e,t,r,1);break;case 2:case 9:if(Qs(r)){al=0,ol=null,Xl(t);break}t=function(){2!==al&&9!==al||il!==e||(al=7),Sd(e)},r.then(t,t);break e;case 3:al=7;break e;case 4:al=5;break e;case 7:Qs(r)?(al=0,ol=null,Xl(t)):(al=0,ol=null,$l(e,t,r,7));break;case 5:var o=null;switch(sl.tag){case 26:o=sl.memoizedState;case 5:case 27:var c=sl;if(!o||zu(o)){al=0,ol=null;var l=c.sibling;if(null!==l)sl=l;else{var d=c.return;null!==d?(sl=d,ed(d)):sl=null}break t}}al=0,ol=null,$l(e,t,r,5);break;case 6:al=0,ol=null,$l(e,t,r,6);break;case 8:Wl(),hl=6;break e;default:throw Error(a(462))}}Zl();break}catch(u){Ul(e,u)}return vs=gs=null,R.H=i,R.A=s,nl=n,null!==sl?0:(il=null,rl=0,Pi(),hl)}(e,t):Kl(e,t,!0),r=i;;){if(0===s){ll&&!i&&ql(e,t,0,!1);break}if(n=e.current.alternate,!r||Bl(n)){if(2===s){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var c=e;s=vl;var l=c.current.memoizedState.isDehydrated;if(l&&(Hl(c,o).flags|=256),2!==(o=Kl(c,o,!1))){if(dl&&!l){c.errorRecoveryDisabledLanes|=r,ml|=r,s=4;break e}r=yl,yl=s,null!==r&&(null===yl?yl=r:yl.push.apply(yl,r))}s=o}if(r=!1,2!==s)continue}}if(1===s){Hl(e,0),ql(e,t,0,!0);break}e:{switch(i=e,r=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:ql(i,t,_l,!cl);break e;case 2:yl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=bl+300-te())){if(ql(i,t,_l,!cl),0!==ye(i,0,!0))break e;i.timeoutHandle=cu(Fl.bind(null,i,n,yl,wl,xl,t,_l,ml,gl,cl,r,2,-0,0),s)}else Fl(i,n,yl,wl,xl,t,_l,ml,gl,cl,r,0,-0,0)}break}s=Kl(e,t,!1),r=!1}Sd(e)}function Fl(e,t,n,i,s,r,o,c,l,d,u,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Wu={stylesheets:null,count:0,unsuspend:Hu},Kc(t),null!==(h=function(){if(null===Wu)throw Error(a(475));var e=Wu;return e.stylesheets&&0===e.count&&Gu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nd.bind(null,e,t,r,n,i,s,o,c,l,u,1,p,m)),void ql(e,r,o,!d);nd(e,t,r,n,i,s,o,c,l)}function Bl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Qn(r(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ql(e,t,n,i){t&=~fl,t&=~ml,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-pe(s),a=1<<r;i[r]=-1,s&=~a}0!==n&&Ce(e,n,t)}function zl(){return 0!==(6&nl)||(wd(0,!1),!1)}function Wl(){if(null!==sl){if(0===al)var e=sl.return;else vs=gs=null,Dr(e=sl),Ka=null,Qa=0,e=sl;for(;null!==e;)rc(e.alternate,e),e=e.return;sl=null}}function Hl(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,lu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wl(),il=e,sl=n=Fi(e.current,null),rl=t,al=0,ol=null,cl=!1,ll=xe(e,t),dl=!1,gl=_l=fl=ml=pl=hl=0,yl=vl=null,xl=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var s=31-pe(i),r=1<<s;t|=e[s],i&=~r}return ul=t,Pi(),n}function Ul(e,t){yr=null,R.H=Ua,t===Vs||t===Ys?(t=$s(),al=3):t===Gs?(t=$s(),al=4):al=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ol=t,null===sl&&(hl=1,bo(e,Ni(t,e.current)))}function Vl(){var e=R.H;return R.H=Ua,null===e?Ua:e}function Gl(){var e=R.A;return R.A=el,e}function Yl(){hl=4,cl||(4194048&rl)!==rl&&null!==io.current||(ll=!0),0===(134217727&pl)&&0===(134217727&ml)||null===il||ql(il,rl,_l,!1)}function Kl(e,t,n){var i=nl;nl|=2;var s=Vl(),r=Gl();il===e&&rl===t||(wl=null,Hl(e,t)),t=!1;var a=hl;e:for(;;)try{if(0!==al&&null!==sl){var o=sl,c=ol;switch(al){case 8:Wl(),a=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var l=al;if(al=0,ol=null,$l(e,o,c,l),n&&ll){a=0;break e}break;default:l=al,al=0,ol=null,$l(e,o,c,l)}}Ql(),a=hl;break}catch(d){Ul(e,d)}return t&&e.shellSuspendCounter++,vs=gs=null,nl=i,R.H=s,R.A=r,null===sl&&(il=null,rl=0,Pi()),a}function Ql(){for(;null!==sl;)Jl(sl)}function Zl(){for(;null!==sl&&!$();)Jl(sl)}function Jl(e){var t=Jo(e.alternate,e,ul);e.memoizedProps=e.pendingProps,null===t?ed(e):sl=t}function Xl(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,rl);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,rl);break;case 5:Dr(t);default:rc(n,t),t=Jo(n,t=sl=Bi(t,ul),ul)}e.memoizedProps=e.pendingProps,null===t?ed(e):sl=t}function $l(e,t,n,i){vs=gs=null,Dr(t),Ka=null,Qa=0;var s=t.return;try{if(function(e,t,n,i,s){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&ws(t,n,s,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===so?Yl():null===n.alternate&&0===hl&&(hl=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Ks?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),ud(e,i,s)),!1;case 22:return n.flags|=65536,i===Ks?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),ud(e,i,s)),!1}throw Error(a(435,n.tag))}return ud(e,i,s),Yl(),!1}if(rs)return null!==(t=io.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==cs&&fs(Ni(e=Error(a(422),{cause:i}),n))):(i!==cs&&fs(Ni(t=Error(a(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,i=Ni(i,n),or(e,s=wo(e.stateNode,i,s)),4!==hl&&(hl=2)),!1;var r=Error(a(520),{cause:i});if(r=Ni(r,n),null===vl?vl=[r]:vl.push(r),4!==hl&&(hl=2),null===t)return!0;i=Ni(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,or(n,e=wo(n.stateNode,i,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Nl||!Nl.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,jo(s=No(s),e,n,i),or(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,rl))return hl=1,bo(e,Ni(n,e.current)),void(sl=null)}catch(r){if(null!==s)throw sl=s,r;return hl=1,bo(e,Ni(n,e.current)),void(sl=null)}32768&t.flags?(rs||1===i?e=!0:ll||0!==(536870912&rl)?e=!1:(cl=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=io.current)&&13===i.tag&&(i.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,cl);e=t.return;var n=ic(t.alternate,t,ul);if(null!==n)return void(sl=n);if(null!==(t=t.sibling))return void(sl=t);sl=t=e}while(null!==t);0===hl&&(hl=5)}function td(e,t){do{var n=sc(e.alternate,e);if(null!==n)return n.flags&=32767,void(sl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sl=e);sl=e=n}while(null!==e);hl=6,sl=null}function nd(e,t,n,i,s,r,o,c,l){e.cancelPendingCommit=null;do{od()}while(0!==jl);if(0!==(6&nl))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(r=t.lanes|t.childLanes,function(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-pe(n),u=1<<d;o[d]=0,c[d]=-1;var h=l[d];if(null!==h)for(l[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==i&&Ce(e,i,0),0!==r&&0===s&&0!==e.tag&&(e.suspendedLanes|=r&~(a&~t))}(e,n,r|=ki,o,c,l),e===il&&(sl=il=null,rl=0),kl=t,Cl=e,Pl=n,Tl=r,El=s,Al=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(re,function(){return cd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=R.T,R.T=null,s=M.p,M.p=2,o=nl,nl|=4;try{!function(e,t){if(e=e.containerInfo,tu=nh,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(_){n=null;break e}var o=0,c=-1,l=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(c=o+s),h!==r||0!==i&&3!==h.nodeType||(l=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===s&&(c=o),p===r&&++u===i&&(l=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nh=!1,wc=t;null!==wc;)if(e=(t=wc).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,wc=e;else for(;null!==wc;){switch(r=(t=wc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var f=_o(n.type,s,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(f,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(g){dd(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,wc=e;break}wc=t.return}}(e,t)}finally{nl=o,M.p=s,R.T=i}}jl=1,id(),sd(),rd()}}function id(){if(1===jl){jl=0;var e=Cl,t=kl,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var i=M.p;M.p=2;var s=nl;nl|=4;try{Rc(t,e);var r=nu,a=ei(e.containerInfo),o=r.focusedElem,c=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&$n(o.ownerDocument.documentElement,o)){if(null!==c&&ti(o)){var l=c.start,d=c.end;if(void 0===d&&(d=l),"selectionStart"in o)o.selectionStart=l,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(c.start,m),_=void 0===c.end?f:Math.min(c.end,m);!p.extend&&f>_&&(a=_,_=f,f=a);var g=Xn(o,f),v=Xn(o,_);if(g&&v&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=u.createRange();y.setStart(g.node,g.offset),p.removeAllRanges(),f>_?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var x=u[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!tu,nu=tu=null}finally{nl=s,M.p=i,R.T=n}}e.current=t,jl=2}}function sd(){if(2===jl){jl=0;var e=Cl,t=kl,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var i=M.p;M.p=2;var s=nl;nl|=4;try{Nc(e,t.alternate,t)}finally{nl=s,M.p=i,R.T=n}}jl=3}}function rd(){if(4===jl||3===jl){jl=0,ee();var e=Cl,t=kl,n=Pl,i=Al;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jl=5:(jl=0,kl=Cl=null,ad(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Nl=null),Te(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==i){t=R.T,s=M.p,M.p=2,R.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{R.T=t,M.p=s}}0!==(3&Pl)&&od(),Sd(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Ll?Il++:(Il=0,Ll=e):Il=0,wd(0,!1)}}function ad(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Rs(t)))}function od(e){return id(),sd(),rd(),cd()}function cd(){if(5!==jl)return!1;var e=Cl,t=Tl;Tl=0;var n=Te(Pl),i=R.T,s=M.p;try{M.p=32>n?32:n,R.T=null,n=El,El=null;var r=Cl,o=Pl;if(jl=0,kl=Cl=null,Pl=0,0!==(6&nl))throw Error(a(331));var c=nl;if(nl|=4,Jc(r.current),Hc(r,r.current,o,n),nl=c,wd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,r)}catch(l){}return!0}finally{M.p=s,R.T=i,ad(e,t)}}function ld(e,t,n){t=Ni(n,t),null!==(e=rr(e,t=wo(e.stateNode,t,2),2))&&(je(e,2),Sd(e))}function dd(e,t,n){if(3===e.tag)ld(e,e,n);else for(;null!==t;){if(3===t.tag){ld(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Nl||!Nl.has(i))){e=Ni(n,e),null!==(i=rr(t,n=No(2),2))&&(jo(n,i,t,e),je(i,2),Sd(i));break}}t=t.return}}function ud(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tl;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(dl=!0,s.add(n),e=hd.bind(null,e,t,n),t.then(e,e))}function hd(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,il===e&&(rl&n)===n&&(4===hl||3===hl&&(62914560&rl)===rl&&300>te()-bl?0===(2&nl)&&Hl(e,0):fl|=n,gl===rl&&(gl=0)),Sd(e)}function pd(e,t){0===t&&(t=we()),null!==(e=Ai(e,t))&&(je(e,t),Sd(e))}function md(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pd(e,n)}function fd(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==i&&i.delete(t),pd(e,n)}var _d=null,gd=null,vd=!1,yd=!1,xd=!1,bd=0;function Sd(e){e!==gd&&null===e.next&&(null===gd?_d=gd=e:gd=gd.next=e),yd=!0,vd||(vd=!0,uu(function(){0!==(6&nl)?J(ie,Nd):jd()}))}function wd(e,t){if(!xd&&yd){xd=!0;do{for(var n=!1,i=_d;null!==i;){if(!t)if(0!==e){var s=i.pendingLanes;if(0===s)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-pe(42|e)+1)-1,r=201326741&(r&=s&~(a&~o))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Pd(i,r))}else r=rl,0===(3&(r=ye(i,i===il?r:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||xe(i,r)||(n=!0,Pd(i,r));i=i.next}}while(n);xd=!1}}function Nd(){jd()}function jd(){yd=vd=!1;var e=0;0!==bd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=bd),bd=0);for(var t=te(),n=null,i=_d;null!==i;){var s=i.next,r=Cd(i,t);0===r?(i.next=null,null===n?_d=s:n.next=s,null===s&&(gd=n)):(n=i,(0!==e||0!==(3&r))&&(yd=!0)),i=s}wd(e,!1)}function Cd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var a=31-pe(r),o=1<<a,c=s[a];-1===c?0!==(o&n)&&0===(o&i)||(s[a]=be(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}if(n=rl,n=ye(e,e===(t=il)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===al||9===al)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&X(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&X(i),Te(n)){case 2:case 8:n=se;break;case 32:default:n=re;break;case 268435456:n=oe}return i=kd.bind(null,e),n=J(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&X(i),e.callbackPriority=2,e.callbackNode=null,2}function kd(e,t){if(0!==jl&&5!==jl)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var i=rl;return 0===(i=ye(e,e===il?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dl(e,i,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===n?kd.bind(null,e):null)}function Pd(e,t){if(od())return null;Dl(e,t,!0)}function Td(){return 0===bd&&(bd=Se()),bd}function Ed(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Ad(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Id=0;Id<bi.length;Id++){var Ld=bi[Id];Si(Ld.toLowerCase(),"on"+(Ld[0].toUpperCase()+Ld.slice(1)))}Si(pi,"onAnimationEnd"),Si(mi,"onAnimationIteration"),Si(fi,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(_i,"onTransitionRun"),Si(gi,"onTransitionStart"),Si(vi,"onTransitionCancel"),Si(yi,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Md=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rd));function Od(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=l;try{r(s)}catch(d){go(d)}s.currentTarget=null,r=c}else for(a=0;a<i.length;a++){if(c=(o=i[a]).instance,l=o.currentTarget,o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=l;try{r(s)}catch(d){go(d)}s.currentTarget=null,r=c}}}}function Dd(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var i=e+"__bubble";n.has(i)||(zd(t,e,2,!1),n.add(i))}function Fd(e,t,n){var i=0;t&&(i|=4),zd(n,e,i,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[Bd]){e[Bd]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Md.has(t)||Fd(t,!1,e),Fd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bd]||(t[Bd]=!0,Fd("selectionchange",!1,t))}}function zd(e,t,n,i){switch(lh(t)){case 2:var s=ih;break;case 8:s=sh;break;default:s=rh}n=s.bind(null,t,n,e),s=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wd(e,t,n,i,s){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){i=r=a;continue e}o=o.parentNode}}i=i.return}Ot(function(){var i=r,s=At(n),a=[];e:{var o=xi.get(e);if(void 0!==o){var l=$t,d=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":l=fn;break;case"focusin":d="focus",l=an;break;case"focusout":d="blur",l=an;break;case"beforeblur":case"afterblur":l=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case pi:case mi:case fi:l=on;break;case yi:l=vn;break;case"scroll":case"scrollend":l=tn;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n;break;case"toggle":case"beforetoggle":l=xn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var m,f=i;null!==f;){var _=f;if(m=_.stateNode,5!==(_=_.tag)&&26!==_&&27!==_||null===m||null===p||null!=(_=Dt(f,p))&&u.push(Hd(f,_,m)),h)break;f=f.return}0<u.length&&(o=new l(o,d,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Et||!(d=n.relatedTarget||n.fromElement)||!ze(d)&&!d[Re])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(d=(d=n.relatedTarget||n.toElement)?ze(d):null)&&(h=c(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(l=null,d=i),l!==d)){if(u=sn,_="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,_="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==l?o:He(l),m=null==d?o:He(d),(o=new u(_,f+"leave",l,n,s)).target=h,o.relatedTarget=m,_=null,ze(s)===i&&((u=new u(p,f+"enter",d,n,s)).target=m,u.relatedTarget=h,_=u),h=_,l&&d)e:{for(p=d,f=0,m=u=l;m;m=Vd(m))f++;for(m=0,_=p;_;_=Vd(_))m++;for(;0<f-m;)u=Vd(u),f--;for(;0<m-f;)p=Vd(p),m--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Vd(u),p=Vd(p)}u=null}else u=null;null!==l&&Gd(a,o,l,u,!1),null!==d&&null!==h&&Gd(a,h,d,u,!0)}if("select"===(l=(o=i?He(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Fn;else if(In(o))if(Bn)g=Kn;else{g=Gn;var v=Vn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Ct(i.elementType)&&(g=Fn):g=Yn;switch(g&&(g=g(e,i))?Ln(a,g,n,s):(v&&v(e,o,i),"focusout"===e&&i&&"number"===o.type&&null!=i.memoizedProps.value&&vt(o,"number",o.value)),v=i?He(i):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(ii=v,si=i,ri=null);break;case"focusout":ri=si=ii=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,oi(a,n,s);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":oi(a,n,s)}var y;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else En?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(jn&&"ko"!==n.locale&&(En||"onCompositionStart"!==x?"onCompositionEnd"===x&&En&&(y=Ut()):(Wt="value"in(zt=s)?zt.value:zt.textContent,En=!0)),0<(v=Ud(i,x)).length&&(x=new ln(x,e,null,n,s),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=Tn(n))&&(x.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(kn=!0,Cn);case"textInput":return(e=t.data)===Cn&&kn?null:e;default:return null}}(e,n):function(e,t){if(En)return"compositionend"===e||!Sn&&Pn(e,t)?(e=Ut(),Ht=Wt=zt=null,En=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Ud(i,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,s),a.push({event:v,listeners:x}),v.data=y)),function(e,t,n,i,s){if("submit"===t&&n&&n.stateNode===s){var r=Ed((s[Le]||null).action),a=i.submitter;a&&null!==(t=(t=a[Le]||null)?Ed(t.formAction):a.getAttribute("formAction"))&&(r=t,a=null);var o=new $t("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==bd){var e=a?Ad(s,a):new FormData(s);Ea(n,{pending:!0,data:e,method:s.method,action:r},null,e)}}else"function"===typeof r&&(o.preventDefault(),e=a?Ad(s,a):new FormData(s),Ea(n,{pending:!0,data:e,method:s.method,action:r},r,e))},currentTarget:s}]})}}(a,e,i,n,s)}Od(a,t)})}function Hd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ud(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,r=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=Dt(e,n))&&i.unshift(Hd(e,s,r)),null!=(s=Dt(e,t))&&i.push(Hd(e,s,r))),3===e.tag)return i;e=e.return}return[]}function Vd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gd(e,t,n,i,s){for(var r=t._reactName,a=[];null!==n&&n!==i;){var o=n,c=o.alternate,l=o.stateNode;if(o=o.tag,null!==c&&c===i)break;5!==o&&26!==o&&27!==o||null===l||(c=l,s?null!=(l=Dt(n,r))&&a.unshift(Hd(n,l,c)):s||null!=(l=Dt(n,r))&&a.push(Hd(n,l,c))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yd=/\r\n?/g,Kd=/\u0000|\uFFFD/g;function Qd(e){return("string"===typeof e?e:""+e).replace(Yd,"\n").replace(Kd,"")}function Zd(e,t){return t=Qd(t),Qd(e)===t}function Jd(){}function Xd(e,t,n,i,s,r){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||St(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&St(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":jt(e,i,r);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Tt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Xd(e,t,"name",s.name,s,null),Xd(e,t,"formEncType",s.formEncType,s,null),Xd(e,t,"formMethod",s.formMethod,s,null),Xd(e,t,"formTarget",s.formTarget,s,null)):(Xd(e,t,"encType",s.encType,s,null),Xd(e,t,"method",s.method,s,null),Xd(e,t,"target",s.target,s,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Tt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Jd);break;case"onScroll":null!=i&&Dd("scroll",e);break;case"onScrollEnd":null!=i&&Dd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Tt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Dd("beforetoggle",e),Dd("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=kt.get(n)||n,i)}}function $d(e,t,n,i,s,r){switch(n){case"style":jt(e,i,r);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof i?St(e,i):("number"===typeof i||"bigint"===typeof i)&&St(e,""+i);break;case"onScroll":null!=i&&Dd("scroll",e);break;case"onScrollEnd":null!=i&&Dd("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Le]||null)?r[n]:null)&&e.removeEventListener(t,r,s),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dd("error",e),Dd("load",e);var i,s=!1,r=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xd(e,t,i,o,n,null)}}return r&&Xd(e,t,"srcSet",n.srcSet,n,null),void(s&&Xd(e,t,"src",n.src,n,null));case"input":Dd("invalid",e);var c=i=o=r=null,l=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":r=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":d=u;break;case"value":i=u;break;case"defaultValue":c=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:Xd(e,t,s,u,n,null)}}return gt(e,i,c,l,d,o,r,!1),void ut(e);case"select":for(r in Dd("invalid",e),s=o=i=null,n)if(n.hasOwnProperty(r)&&null!=(c=n[r]))switch(r){case"value":i=c;break;case"defaultValue":o=c;break;case"multiple":s=c;default:Xd(e,t,r,c,n,null)}return t=i,n=o,e.multiple=!!s,void(null!=t?yt(e,!!s,t,!1):null!=n&&yt(e,!!s,n,!0));case"textarea":for(o in Dd("invalid",e),i=r=s=null,n)if(n.hasOwnProperty(o)&&null!=(c=n[o]))switch(o){case"value":s=c;break;case"defaultValue":r=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(a(91));break;default:Xd(e,t,o,c,n,null)}return bt(e,s,r,i),void ut(e);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))if("selected"===l)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Xd(e,t,l,s,n,null);return;case"dialog":Dd("beforetoggle",e),Dd("toggle",e),Dd("cancel",e),Dd("close",e);break;case"iframe":case"object":Dd("load",e);break;case"video":case"audio":for(s=0;s<Rd.length;s++)Dd(Rd[s],e);break;case"image":Dd("error",e),Dd("load",e);break;case"details":Dd("toggle",e);break;case"embed":case"source":case"link":Dd("error",e),Dd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xd(e,t,d,s,n,null)}return;default:if(Ct(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&$d(e,t,u,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(s=n[c])&&Xd(e,t,c,s,n,null))}var tu=null,nu=null;function iu(e){return 9===e.nodeType?e:e.ownerDocument}function su(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ru(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function au(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var cu="function"===typeof setTimeout?setTimeout:void 0,lu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(hu)}:cu;function hu(e){setTimeout(function(){throw e})}function pu(e){return"head"===e}function mu(e,t){var n=t,i=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(1&n&&bu(a.documentElement),2&n&&bu(a.body),4&n)for(bu(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[Be]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(r),void kh(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);kh(t)}function fu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fu(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function _u(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vu=null;function yu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xu(e,t,n){switch(t=iu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function bu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var Su=new Map,wu=new Set;function Nu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var ju=M.d;M.d={f:function(){var e=ju.f(),t=zl();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?Ia(t):ju.r(e)},D:function(e){ju.D(e),ku("dns-prefetch",e,null)},C:function(e,t){ju.C(e,t),ku("preconnect",e,t)},L:function(e,t,n){ju.L(e,t,n);var i=Cu;if(i&&e&&t){var s='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ft(n.imageSizes)+'"]')):s+='[href="'+ft(e)+'"]';var r=s;switch(t){case"style":r=Tu(e);break;case"script":r=Iu(e)}Su.has(r)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Su.set(r,e),null!==i.querySelector(s)||"style"===t&&i.querySelector(Eu(r))||"script"===t&&i.querySelector(Lu(r))||(eu(t=i.createElement("link"),"link",e),Ve(t),i.head.appendChild(t)))}},m:function(e,t){ju.m(e,t);var n=Cu;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Iu(e)}if(!Su.has(r)&&(e=h({rel:"modulepreload",href:e},t),Su.set(r,e),null===n.querySelector(s))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Lu(r)))return}eu(i=n.createElement("link"),"link",e),Ve(i),n.head.appendChild(i)}}},X:function(e,t){ju.X(e,t);var n=Cu;if(n&&e){var i=Ue(n).hoistableScripts,s=Iu(e),r=i.get(s);r||((r=n.querySelector(Lu(s)))||(e=h({src:e,async:!0},t),(t=Su.get(s))&&Du(e,t),Ve(r=n.createElement("script")),eu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}},S:function(e,t,n){ju.S(e,t,n);var i=Cu;if(i&&e){var s=Ue(i).hoistableStyles,r=Tu(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Eu(r)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Su.get(r))&&Ou(e,n);var c=a=i.createElement("link");Ve(c),eu(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Mu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}},M:function(e,t){ju.M(e,t);var n=Cu;if(n&&e){var i=Ue(n).hoistableScripts,s=Iu(e),r=i.get(s);r||((r=n.querySelector(Lu(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=Su.get(s))&&Du(e,t),Ve(r=n.createElement("script")),eu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}};var Cu="undefined"===typeof document?null:document;function ku(e,t,n){var i=Cu;if(i&&"string"===typeof t&&t){var s=ft(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),wu.has(s)||(wu.add(s),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(s)&&(eu(t=i.createElement("link"),"link",e),Ve(t),i.head.appendChild(t)))}}function Pu(e,t,n,i){var s,r,o,c,l=(l=U.current)?Nu(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Tu(n.href),(i=(n=Ue(l).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Tu(n.href);var d=Ue(l).hoistableStyles,u=d.get(e);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=l.querySelector(Eu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Su.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Su.set(e,n),d||(s=l,r=e,o=n,c=u.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),eu(r,"link",o),Ve(r),s.head.appendChild(r))))),t&&null===i)throw Error(a(528,""));return u}if(t&&null!==i)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Iu(n),(i=(n=Ue(l).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Tu(e){return'href="'+ft(e)+'"'}function Eu(e){return'link[rel="stylesheet"]['+e+"]"}function Au(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Iu(e){return'[src="'+ft(e)+'"]'}function Lu(e){return"script[async]"+e}function Ru(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,Ve(i),i;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(i=(e.ownerDocument||e).createElement("style")),eu(i,"style",s),Mu(i,n.precedence,e),t.instance=i;case"stylesheet":s=Tu(n.href);var r=e.querySelector(Eu(s));if(r)return t.state.loading|=4,t.instance=r,Ve(r),r;i=Au(n),(s=Su.get(s))&&Ou(i,s),Ve(r=(e.ownerDocument||e).createElement("link"));var o=r;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eu(r,"link",i),t.state.loading|=4,Mu(r,n.precedence,e),t.instance=r;case"script":return r=Iu(n.src),(s=e.querySelector(Lu(r)))?(t.instance=s,Ve(s),s):(i=n,(s=Su.get(r))&&Du(i=h({},n),s),Ve(s=(e=e.ownerDocument||e).createElement("script")),eu(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Mu(i,n.precedence,e));return t.instance}function Mu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ou(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Du(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fu=null;function Bu(e,t,n){if(null===Fu){var i=new Map,s=Fu=new Map;s.set(n,i)}else(i=(s=Fu).get(n))||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Be]||r[Ie]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function qu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wu=null;function Hu(){}function Uu(){if(this.count--,0===this.count)if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vu=null;function Gu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vu=new Map,t.forEach(Yu,e),Vu=null,Uu.call(e))}function Yu(e,t){if(!(4&t.state.loading)){var n=Vu.get(e);if(n)var i=n.get(null);else{n=new Map,Vu.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(s=t.instance).getAttribute("data-precedence"),(r=n.get(a)||i)===i&&n.set(null,s),n.set(a,s),this.count++,i=Uu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Ku={$$typeof:b,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Qu(e,t,n,i,s,r,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Zu(e,t,n,i,s,r,a,o,c,l,d,u){return e=new Qu(e,t,n,a,o,c,l,u),t=1,!0===r&&(t|=24),r=Oi(3,null,null,t),e.current=r,r.stateNode=e,(t=Ls()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},nr(r),e}function Ju(e){return e?e=Ri:Ri}function Xu(e,t,n,i,s,r){s=Ju(s),null===i.context?i.context=s:i.pendingContext=s,(i=sr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(i.callback=r),null!==(n=rr(e,i,t))&&(Ol(n,0,t),ar(n,e,t))}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function th(e){if(13===e.tag){var t=Ai(e,67108864);null!==t&&Ol(t,0,67108864),eh(e,67108864)}}var nh=!0;function ih(e,t,n,i){var s=R.T;R.T=null;var r=M.p;try{M.p=2,rh(e,t,n,i)}finally{M.p=r,R.T=s}}function sh(e,t,n,i){var s=R.T;R.T=null;var r=M.p;try{M.p=8,rh(e,t,n,i)}finally{M.p=r,R.T=s}}function rh(e,t,n,i){if(nh){var s=ah(i);if(null===s)Wd(e,t,i,oh,n),vh(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return uh=yh(uh,e,t,n,i,s),!0;case"dragenter":return hh=yh(hh,e,t,n,i,s),!0;case"mouseover":return ph=yh(ph,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return mh.set(r,yh(mh.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,fh.set(r,yh(fh.get(r)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(vh(e,i),4&t&&-1<gh.indexOf(e)){for(;null!==s;){var r=We(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var a=ve(r.pendingLanes);if(0!==a){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-pe(a);o.entanglements[1]|=c,a&=~c}Sd(r),0===(6&nl)&&(Sl=te()+500,wd(0,!1))}}break;case 13:null!==(o=Ai(r,2))&&Ol(o,0,2),zl(),eh(r,2)}if(null===(r=ah(i))&&Wd(e,t,i,oh,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Wd(e,t,i,null,n)}}function ah(e){return ch(e=At(e))}var oh=null;function ch(e){if(oh=null,null!==(e=ze(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case se:return 8;case re:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,uh=null,hh=null,ph=null,mh=new Map,fh=new Map,_h=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function yh(e,t,n,i,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=We(t))&&th(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xh(e){var t=ze(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,function(){if(13===n.tag){var e=Rl();e=Pe(e);var t=Ai(n,e);null!==t&&Ol(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&th(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Et=i,n.target.dispatchEvent(i),Et=null,t.shift()}return!0}function Sh(e,t,n){bh(e)&&n.delete(t)}function wh(){dh=!1,null!==uh&&bh(uh)&&(uh=null),null!==hh&&bh(hh)&&(hh=null),null!==ph&&bh(ph)&&(ph=null),mh.forEach(Sh),fh.forEach(Sh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wh)))}var jh=null;function Ch(e){jh!==e&&(jh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jh===e&&(jh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if("function"!==typeof i){if(null===ch(i||n))continue;break}var r=We(n);null!==r&&(e.splice(t,3),t-=3,Ea(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function kh(e){function t(t){return Nh(t,e)}null!==uh&&Nh(uh,e),null!==hh&&Nh(hh,e),null!==ph&&Nh(ph,e),mh.forEach(t),fh.forEach(t);for(var n=0;n<_h.length;n++){var i=_h[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<_h.length&&null===(n=_h[0]).blockedOn;)xh(n),null===n.blockedOn&&_h.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Le]||null;if("function"===typeof r)a||Ch(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Le]||null)o=a.formAction;else if(null!==ch(s))continue}else o=a.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Ch(n)}}}function Ph(e){this._internalRoot=e}function Th(e){this._internalRoot=e}Th.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xu(t.current,Rl(),e,t,null,null)},Th.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),zl(),t[Re]=null}},Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ee();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_h.length&&0!==t&&t<_h[n].priority;n++);_h.splice(n,0,e),0===n&&xh(e)}};var Eh=s.version;if("19.1.1"!==Eh)throw Error(a(527,Eh,"19.1.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(i=s.return)){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return d(s),e;if(r===i)return d(s),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{de=Ih.inject(Ah),ue=Ih}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,i="",s=vo,r=yo,c=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zu(e,1,!1,null,0,n,i,s,r,c,0,null),e[Re]=t.current,qd(e),new Ph(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var i=!1,s="",r=vo,c=yo,l=xo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Zu(e,1,!0,t,0,i,s,r,c,l,0,d)).context=Ju(null),n=t.current,(s=sr(i=Pe(i=Rl()))).callback=null,rr(n,s,i),n=i,t.current.lanes=n,je(t,n),Sd(t),e[Re]=t.current,qd(e),new Th(t)},t.version="19.1.1"},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},340:(e,t,n)=>{"use strict";e.exports=n(487)},352:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},414:(e,t,n)=>{"use strict";e.exports=n(916)},427:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(569));class r extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=s?"".concat(s,".order"):"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,"".concat(a?"".concat(a,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(i,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:i=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof i?"offset":"".concat(i,".offset"),r="undefined"===typeof i?"limit":"".concat(i,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(r,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:r="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(r,'; for="').concat(c,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=r},487:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<r(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,a=s>>>1;i<a;){var o=2*(i+1)-1,c=e[o],l=o+1,d=e[l];if(0>r(c,n))l<s&&0>r(d,c)?(e[i]=d,e[l]=n,i=l):(e[i]=c,e[o]=n,i=o);else{if(!(l<s&&0>r(d,n)))break e;e[i]=d,e[l]=n,i=l}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,h=null,p=3,m=!1,f=!1,_=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(l,t)}t=i(d)}}function S(e){if(_=!1,b(e),!f)if(null!==i(l))f=!0,N||(N=!0,w());else{var t=i(d);null!==t&&I(S,t.startTime-e)}}var w,N=!1,j=-1,C=5,k=-1;function P(){return!!g||!(t.unstable_now()-k<C)}function T(){if(g=!1,N){var e=t.unstable_now();k=e;var n=!0;try{e:{f=!1,_&&(_=!1,y(j),j=-1),m=!0;var r=p;try{t:{for(b(e),h=i(l);null!==h&&!(h.expirationTime>e&&P());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,b(e),n=!0;break t}h===i(l)&&s(l),b(e)}else s(l);h=i(l)}if(null!==h)n=!0;else{var c=i(d);null!==c&&I(S,c.startTime-e),n=!1}}break e}finally{h=null,p=r,m=!1}n=void 0}}finally{n?w():N=!1}}}if("function"===typeof x)w=function(){x(T)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,A=E.port2;E.port1.onmessage=T,w=function(){A.postMessage(null)}}else w=function(){v(T,0)};function I(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===i(l)&&e===i(d)&&(_?(y(j),j=-1):_=!0,I(S,r-a))):(e.sortIndex=o,n(l,e),f||m||(f=!0,N||(N=!0,w()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},488:(e,t,n)=>{"use strict";var i=n(959);function s(){}function r(){}r.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,r,a){if(a!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:s};return n.PropTypes=n,n}},527:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,i,s;for(n=1,i=arguments.length;n<i;n++)for(t in s=arguments[n])e[t]=s[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function s(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++r),e._leaflet_id}function o(e,t,n){var i,s,r,a;return a=function(){i=!1,s&&(r.apply(n,s),s=!1)},r=function(){i?s=arguments:(e.apply(n,arguments),setTimeout(a,t),i=!0)},r}function c(e,t,n){var i=t[1],s=t[0],r=i-s;return e===i&&n?e:((e-s)%r+r)%r+s}function l(){return!1}function d(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return u(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var i=[];for(var s in e)i.push(encodeURIComponent(n?s.toUpperCase():s)+"="+encodeURIComponent(e[s]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function _(e,t){return e.replace(f,function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"===typeof i&&(i=i(t)),i})}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function S(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var w=window.requestAnimationFrame||x("RequestAnimationFrame")||S,N=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function j(e,t,n){if(!n||w!==S)return w.call(window,s(e,t));e.call(t)}function C(e){e&&N.call(window,e)}var k={__proto__:null,extend:n,create:i,bind:s,get lastId(){return r},stamp:a,throttle:o,wrapNum:c,falseFn:l,formatNum:d,trim:u,splitWords:h,setOptions:p,getParamString:m,template:_,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:w,cancelFn:N,requestAnimFrame:j,cancelAnimFrame:C};function P(){}function T(e){if("undefined"!==typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=t.__super__=this.prototype,r=i(s);for(var a in r.constructor=t,t.prototype=r,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(T(e.includes),n.apply(null,[r].concat(e.includes))),n(r,e),delete r.statics,delete r.includes,r.options&&(r.options=s.options?i(s.options):{},n(r.options,e.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}},t},P.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},P.mergeOptions=function(e){return n(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var E={on:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t);else for(var s=0,r=(e=h(e)).length;s<r;s++)this._on(e[s],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var i in e)this._off(i,e[i],t);else{e=h(e);for(var s=1===arguments.length,r=0,a=e.length;r<a;r++)s?this._off(e[r]):this._off(e[r],t,n)}else delete this._events;return this},_on:function(e,t,n,i){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var s={fn:t,ctx:n};i&&(s.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(s)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,s,r;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var o=i[a];this._firingCount&&(o.fn=l,this._events[e]=i=i.slice()),i.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(s=0,r=i.length;s<r;s++)i[s].fn=l;delete this._events[e]}},fire:function(e,t,i){if(!this.listens(e,i))return this;var s=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var r=this._events[e];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,o=r.length;a<o;a++){var c=r[a],l=c.fn;c.once&&this.off(e,l,c.ctx),l.call(c.ctx||this,s)}this._firingCount--}}return i&&this._propagateEvent(s),this},listens:function(e,t,n,i){"string"!==typeof e&&console.warn('"string" type argument expected');var s=t;"function"!==typeof t&&(i=!!t,s=void 0,n=void 0);var r=this._events&&this._events[e];if(r&&r.length&&!1!==this._listens(e,s,n))return!0;if(i)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,i))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var i=this._events[e]||[];if(!t)return!!i.length;n===this&&(n=void 0);for(var s=0,r=i.length;s<r;s++)if(i[s].fn===t&&i[s].ctx===n)return s;return!1},once:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t,!0);else for(var s=0,r=(e=h(e)).length;s<r;s++)this._on(e[s],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};E.addEventListener=E.on,E.removeEventListener=E.clearAllEventListeners=E.off,E.addOneTimeEventListener=E.once,E.fireEvent=E.fire,E.hasEventListeners=E.listens;var A=P.extend(E);function I(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var R=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof I?e:g(e)?new I(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new I(e.x,e.y):new I(e,t,n)}function O(e,t){if(e)for(var n=t?[e,t]:e,i=0,s=n.length;i<s;i++)this.extend(n[i])}function D(e,t){return!e||e instanceof O?e:new O(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,i=0,s=n.length;i<s;i++)this.extend(n[i])}function B(e,t){return e instanceof F?e:new F(e,t)}function q(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function z(e,t,n){return e instanceof q?e:g(e)&&"object"!==typeof e[0]?3===e.length?new q(e[0],e[1],e[2]):2===e.length?new q(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new q(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new q(e,t,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new I(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new I(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},O.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof I||"number"===typeof e[0]||"x"in e)t=n=M(e);else if(t=(e=D(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof I?M(e):D(e))instanceof O?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=D(e);var t=this.min,n=this.max,i=e.min,s=e.max,r=s.x>=t.x&&i.x<=n.x,a=s.y>=t.y&&i.y<=n.y;return r&&a},overlaps:function(e){e=D(e);var t=this.min,n=this.max,i=e.min,s=e.max,r=s.x>t.x&&i.x<n.x,a=s.y>t.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,i=Math.abs(t.x-n.x)*e,s=Math.abs(t.y-n.y)*e;return D(M(t.x-i,t.y-s),M(n.x+i,n.y+s))},equals:function(e){return!!e&&(e=D(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,i=this._southWest,s=this._northEast;if(e instanceof q)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(z(e)||B(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||s?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),s.lat=Math.max(n.lat,s.lat),s.lng=Math.max(n.lng,s.lng)):(this._southWest=new q(t.lat,t.lng),this._northEast=new q(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,s=Math.abs(t.lng-n.lng)*e;return new F(new q(t.lat-i,t.lng-s),new q(n.lat+i,n.lng+s))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof q||"lat"in e?z(e):B(e);var t,n,i=this._southWest,s=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=s.lat&&t.lng>=i.lng&&n.lng<=s.lng},intersects:function(e){e=B(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),s=e.getNorthEast(),r=s.lat>=t.lat&&i.lat<=n.lat,a=s.lng>=t.lng&&i.lng<=n.lng;return r&&a},overlaps:function(e){e=B(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),s=e.getNorthEast(),r=s.lat>t.lat&&i.lat<n.lat,a=s.lng>t.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},q.prototype={equals:function(e,t){return!!e&&(e=z(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,z(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new q(this.lat,this.lng,this.alt)}};var W={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new O(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?c(e.lng,this.wrapLng,!0):e.lng;return new q(this.wrapLat?c(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,s=t.lng-n.lng;if(0===i&&0===s)return e;var r=e.getSouthWest(),a=e.getNorthEast();return new F(new q(r.lat-i,r.lng-s),new q(a.lat-i,a.lng-s))}},H=n({},W,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,s=t.lat*n,r=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),o=r*r+Math.cos(i)*Math.cos(s)*a*a,c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*c}}),U=6378137,V={R:U,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),s=Math.sin(i*t);return new I(this.R*e.lng*t,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(e){var t=180/Math.PI;return new q((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=U*Math.PI;return new O([-e,-e],[e,e])}()};function G(e,t,n,i){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function Y(e,t,n,i){return new G(e,t,n,i)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new I((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var K=n({},H,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return Y(e,.5,-e,.5)}()}),Q=n({},K,{code:"EPSG:900913"});function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e,t){var n,i,s,r,a,o,c="";for(n=0,s=e.length;n<s;n++){for(i=0,r=(a=e[n]).length;i<r;i++)c+=(i?"L":"M")+(o=a[i]).x+" "+o.y;c+=t?Oe.svg?"z":"x":""}return c||"M0 0"}var X=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Me("webkit"),ie=Me("android"),se=Me("android 2")||Me("android 3"),re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=ie&&Me("Google")&&re<537&&!("AudioNode"in window),oe=!!window.opera,ce=!te&&Me("chrome"),le=Me("gecko")&&!ne&&!oe&&!$,de=!ce&&Me("safari"),ue=Me("phantom"),he="OTransition"in X,pe=0===navigator.platform.indexOf("Win"),me=$&&"transition"in X,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!se,_e="MozPerspective"in X,ge=!window.L_DISABLE_3D&&(me||fe||_e)&&!he&&!ue,ve="undefined"!==typeof orientation||Me("mobile"),ye=ve&&ne,xe=ve&&fe,be=!window.PointerEvent&&window.MSPointerEvent,Se=!(!window.PointerEvent&&!be),we="ontouchstart"in window||!!window.TouchEvent,Ne=!window.L_NO_TOUCH&&(we||Se),je=ve&&oe,Ce=ve&&le,ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(n){}return e}(),Te=!!document.createElement("canvas").getContext,Ee=!(!document.createElementNS||!Z("svg").createSVGRect),Ae=!!Ee&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Ie=!Ee&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Le=0===navigator.platform.indexOf("Mac"),Re=0===navigator.platform.indexOf("Linux");function Me(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Oe={ie:$,ielt9:ee,edge:te,webkit:ne,android:ie,android23:se,androidStock:ae,opera:oe,chrome:ce,gecko:le,safari:de,phantom:ue,opera12:he,win:pe,ie3d:me,webkit3d:fe,gecko3d:_e,any3d:ge,mobile:ve,mobileWebkit:ye,mobileWebkit3d:xe,msPointer:be,pointer:Se,touch:Ne,touchNative:we,mobileOpera:je,mobileGecko:Ce,retina:ke,passiveEvents:Pe,canvas:Te,svg:Ee,vml:Ie,inlineSvg:Ae,mac:Le,linux:Re},De=Oe.msPointer?"MSPointerDown":"pointerdown",Fe=Oe.msPointer?"MSPointerMove":"pointermove",Be=Oe.msPointer?"MSPointerUp":"pointerup",qe=Oe.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:De,touchmove:Fe,touchend:Be,touchcancel:qe},We={touchstart:Xe,touchmove:Je,touchend:Je,touchcancel:Je},He={},Ue=!1;function Ve(e,t,n){return"touchstart"===t&&Ze(),We[t]?(n=We[t].bind(this,n),e.addEventListener(ze[t],n,!1),n):(console.warn("wrong event specified:",t),l)}function Ge(e,t,n){ze[t]?e.removeEventListener(ze[t],n,!1):console.warn("wrong event specified:",t)}function Ye(e){He[e.pointerId]=e}function Ke(e){He[e.pointerId]&&(He[e.pointerId]=e)}function Qe(e){delete He[e.pointerId]}function Ze(){Ue||(document.addEventListener(De,Ye,!0),document.addEventListener(Fe,Ke,!0),document.addEventListener(Be,Qe,!0),document.addEventListener(qe,Qe,!0),Ue=!0)}function Je(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Yt(t),Je(e,t)}function $e(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,i=0;function s(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var s=Qt(e);if(!s.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||s.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var r=Date.now();r-i<=et?2===++n&&t($e(e)):n=1,i=r}}}else n=e.detail}return e.addEventListener("click",s),{dblclick:t,simDblclick:s}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var it,st,rt,at,ot,ct=jt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lt=jt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dt="webkitTransition"===lt||"OTransition"===lt?lt+"End":"transitionend";function ut(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function pt(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function mt(e){var t=e.parentNode;t&&t.removeChild(e)}function ft(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function _t(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function gt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function vt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=St(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function yt(e,t){if(void 0!==e.classList)for(var n=h(t),i=0,s=n.length;i<s;i++)e.classList.add(n[i]);else if(!vt(e,t)){var r=St(e);bt(e,(r?r+" ":"")+t)}}function xt(e,t){void 0!==e.classList?e.classList.remove(t):bt(e,u((" "+St(e)+" ").replace(" "+t+" "," ")))}function bt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function St(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function wt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Nt(e,t)}function Nt(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(s){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function jt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Ct(e,t,n){var i=t||new I(0,0);e.style[ct]=(Oe.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function kt(e,t){e._leaflet_pos=t,Oe.any3d?Ct(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Pt(e){return e._leaflet_pos||new I(0,0)}if("onselectstart"in document)it=function(){Dt(window,"selectstart",Yt)},st=function(){Bt(window,"selectstart",Yt)};else{var Tt=jt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);it=function(){if(Tt){var e=document.documentElement.style;rt=e[Tt],e[Tt]="none"}},st=function(){Tt&&(document.documentElement.style[Tt]=rt,rt=void 0)}}function Et(){Dt(window,"dragstart",Yt)}function At(){Bt(window,"dragstart",Yt)}function It(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Lt(),at=e,ot=e.style.outlineStyle,e.style.outlineStyle="none",Dt(window,"keydown",Lt))}function Lt(){at&&(at.style.outlineStyle=ot,at=void 0,ot=void 0,Bt(window,"keydown",Lt))}function Rt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Mt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ot={__proto__:null,TRANSFORM:ct,TRANSITION:lt,TRANSITION_END:dt,get:ut,getStyle:ht,create:pt,remove:mt,empty:ft,toFront:_t,toBack:gt,hasClass:vt,addClass:yt,removeClass:xt,setClass:bt,getClass:St,setOpacity:wt,testProp:jt,setTransform:Ct,setPosition:kt,getPosition:Pt,get disableTextSelection(){return it},get enableTextSelection(){return st},disableImageDrag:Et,enableImageDrag:At,preventOutline:It,restoreOutline:Lt,getSizedParentNode:Rt,getScale:Mt};function Dt(e,t,n,i){if(t&&"object"===typeof t)for(var s in t)Wt(e,s,t[s],n);else for(var r=0,a=(t=h(t)).length;r<a;r++)Wt(e,t[r],n,i);return this}var Ft="_leaflet_events";function Bt(e,t,n,i){if(1===arguments.length)qt(e),delete e[Ft];else if(t&&"object"===typeof t)for(var s in t)Ht(e,s,t[s],n);else if(t=h(t),2===arguments.length)qt(e,function(e){return-1!==v(t,e)});else for(var r=0,a=t.length;r<a;r++)Ht(e,t[r],n,i);return this}function qt(e,t){for(var n in e[Ft]){var i=n.split(/\d/)[0];t&&!t(i)||Ht(e,i,null,null,n)}}var zt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wt(e,t,n,i){var s=t+a(n)+(i?"_"+a(i):"");if(e[Ft]&&e[Ft][s])return this;var r=function(t){return n.call(i||e,t||window.event)},o=r;!Oe.touchNative&&Oe.pointer&&0===t.indexOf("touch")?r=Ve(e,t,r):Oe.touch&&"dblclick"===t?r=tt(e,r):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(zt[t]||t,r,!!Oe.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,$t(e,t)&&o(t)},e.addEventListener(zt[t],r,!1)):e.addEventListener(t,o,!1):e.attachEvent("on"+t,r),e[Ft]=e[Ft]||{},e[Ft][s]=r}function Ht(e,t,n,i,s){s=s||t+a(n)+(i?"_"+a(i):"");var r=e[Ft]&&e[Ft][s];if(!r)return this;!Oe.touchNative&&Oe.pointer&&0===t.indexOf("touch")?Ge(e,t,r):Oe.touch&&"dblclick"===t?nt(e,r):"removeEventListener"in e?e.removeEventListener(zt[t]||t,r,!1):e.detachEvent("on"+t,r),e[Ft][s]=null}function Ut(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Vt(e){return Wt(e,"wheel",Ut),this}function Gt(e){return Dt(e,"mousedown touchstart dblclick contextmenu",Ut),e._leaflet_disable_click=!0,this}function Yt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Kt(e){return Yt(e),Ut(e),this}function Qt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Zt(e,t){if(!t)return new I(e.clientX,e.clientY);var n=Mt(t),i=n.boundingClientRect;return new I((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Jt=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return Oe.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Jt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(i){return!1}return n!==e}var en={__proto__:null,on:Dt,off:Bt,stopPropagation:Ut,disableScrollPropagation:Vt,disableClickPropagation:Gt,preventDefault:Yt,stop:Kt,getPropagationPath:Qt,getMousePosition:Zt,getWheelDelta:Xt,isExternalTarget:$t,addListener:Dt,removeListener:Bt},tn=A.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Pt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),kt(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=A.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(z(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lt&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,dt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(z(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,i.pan&&i.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),s=this.getSize().divideBy(2),r=(e instanceof I?e:this.latLngToContainerPoint(e)).subtract(s).multiplyBy(1-1/i),a=this.containerPointToLatLng(s.add(r));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),i=M(t.paddingBottomRight||t.padding||[0,0]),s=this.getBoundsZoom(e,!1,n.add(i));if((s="number"===typeof t.maxZoom?Math.min(t.maxZoom,s):s)===1/0)return{center:e.getCenter(),zoom:s};var r=i.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),s),o=this.project(e.getNorthEast(),s);return{center:this.unproject(a.add(o).divideBy(2).add(r),s),zoom:s}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){yt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Oe.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),s=this.project(e),r=this.getSize(),a=this._zoom;e=z(e),t=void 0===t?a:t;var o=Math.max(r.x,r.y),c=o*this.getZoomScale(a,t),l=s.distanceTo(i)||1,d=1.42,u=d*d;function h(e){var t=(c*c-o*o+(e?-1:1)*u*u*l*l)/(2*(e?c:o)*u*l),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function f(e){return p(e)/m(e)}var _=h(0);function g(e){return o*(m(_)/m(_+d*e))}function v(e){return o*(m(_)*f(_+d*e)-p(_))/u}function y(e){return 1-Math.pow(1-e,1.5)}var x=Date.now(),b=(h(1)-_)/d,S=n.duration?1e3*n.duration:1e3*b*.8;function w(){var n=(Date.now()-x)/S,r=y(n)*b;n<=1?(this._flyToFrame=j(w,this),this._move(this.unproject(i.add(s.subtract(i).multiplyBy(v(r)/l)),a),this.getScaleZoom(o/g(r),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),w.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,B(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=M(t.paddingBottomRight||t.padding||[0,0]),s=this.project(this.getCenter()),r=this.project(e),a=this.getPixelBounds(),o=D([a.min.add(n),a.max.subtract(i)]),c=o.getSize();if(!o.contains(r)){this._enforcingBounds=!0;var l=r.subtract(o.getCenter()),d=o.extend(r).getSize().subtract(c);s.x+=l.x<0?-d.x:d.x,s.y+=l.y<0?-d.y:d.y,this.panTo(this.unproject(s),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=t.divideBy(2).round(),a=i.divideBy(2).round(),o=r.subtract(a);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=s(this._handleGeolocationResponse,this),i=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new q(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var s=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(s,i.maxZoom):s)}var r={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(r[a]=e.coords[a]);this.fire("locationfound",r)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)mt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=B(e),n=M(n||[0,0]);var i=this.getZoom()||0,s=this.getMinZoom(),r=this.getMaxZoom(),a=e.getNorthWest(),o=e.getSouthEast(),c=this.getSize().subtract(n),l=D(this.project(o,i),this.project(a,i)).getSize(),d=Oe.any3d?this.options.zoomSnap:1,u=c.x/l.x,h=c.y/l.y,p=t?Math.max(u,h):Math.min(u,h);return i=this.getScaleZoom(p,i),d&&(i=Math.round(i/(d/100))*(d/100),i=t?Math.ceil(i/d)*d:Math.floor(i/d)*d),Math.max(s,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new O(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(z(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(z(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(z(e),z(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(e)))},mouseEventToContainerPoint:function(e){return Zt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ut(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Dt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,yt(e,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(e.markerPane,"leaflet-zoom-hide"),yt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){kt(this._mapPane,new I(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var s=this._zoom!==t;this._moveStart(s,n)._move(e,t)._moveEnd(s),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var s=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((s||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){kt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Bt:Dt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],s="mouseout"===t||"mouseover"===t,r=e.target||e.srcElement,o=!1;r;){if((n=this._targets[a(r)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(s&&!$t(r,e))break;if(i.push(n),s)break}if(r===this._container)break;r=r.parentNode}return i.length||o||s||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&It(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if("click"===e.type){var s=n({},e);s.type="preclick",this._fireDOMEvent(s,s.type,i)}var r=this._findEventTargets(e,t);if(i){for(var a=[],o=0;o<i.length;o++)i[o].listens(t,!0)&&a.push(i[o]);r=a.concat(r)}if(r.length){"contextmenu"===t&&Yt(e);var c=r[0],l={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var d=c.getLatLng&&(!c._radius||c._radius<=10);l.containerPoint=d?this.latLngToContainerPoint(c.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=d?c.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(o=0;o<r.length;o++)if(r[o].fire(t,l,!0),l.originalEvent._stopped||!1===r[o].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Pt(this._mapPane)||new I(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return D([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),s=this.getSize().divideBy(2),r=new O(i.subtract(s),i.add(s)),a=this._getBoundsOffset(r,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(i.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new O(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=D(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),s=i.min.subtract(e.min),r=i.max.subtract(e.max);return new I(this._rebound(s.x,-r.x),this._rebound(s.y,-r.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=Oe.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=ct,n=this._proxy.style[t];Ct(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Ct(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),s=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(s))&&(j(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sn(e,t){return new nn(e,t)}var rn=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return yt(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new rn(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function i(i,s){var r=t+i+" "+t+s;e[i+s]=pt("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)mt(this._controlCorners[e]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var on=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return rn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),Vt(t);var i=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Dt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=pt("a",e+"-toggle",t);s.href="#",s.title="Layers",s.setAttribute("role","button"),Dt(s,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Yt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",i),this._separator=pt("div",e+"-separator",i),this._overlaysList=pt("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(s(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ft(this._baseLayersList),ft(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,s=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,s+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&s>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(t),t.layerId=a(e.layer),Dt(t,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+e.name;var r=document.createElement("span");return n.appendChild(r),r.appendChild(t),r.appendChild(s),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,i=[],s=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||s.push(t);for(r=0;r<s.length;r++)this._map.hasLayer(s[r])&&this._map.removeLayer(s[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),s=n.length-1;s>=0;s--)e=n[s],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Dt(e,"click",Yt),this.expand();var t=this;setTimeout(function(){Bt(e,"click",Yt),t._preventClick=!1})}}),cn=function(e,t,n){return new on(e,t,n)},ln=rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,s){var r=pt("a",n,i);return r.innerHTML=e,r.href="#",r.title=t,r.setAttribute("role","button"),r.setAttribute("aria-label",t),Gt(r),Dt(r,"click",Kt),Dt(r,"click",s,this),Dt(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";xt(this._zoomInButton,t),xt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(yt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(yt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ln,this.addControl(this.zoomControl))});var dn=function(e){return new ln(e)},un=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,s=3.2808399*e;s>5280?(t=s/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(s),this._updateScale(this._iScale,i+" ft",i/s))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new un(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mn=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new mn).addTo(this)});var fn=function(e){return new mn(e)};rn.Layers=on,rn.Zoom=ln,rn.Scale=un,rn.Attribution=mn,an.layers=cn,an.zoom=dn,an.scale=hn,an.attribution=fn;var _n=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(e,t){return e.addHandler(t,this),this};var gn={Events:E},vn=Oe.touch?"touchstart mousedown":"mousedown",yn=A.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){p(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Dt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yn._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!vt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)yn._dragging===this&&this.finishDrag();else if(!(yn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(yn._dragging=this,this._preventOutline&&It(this._element),Et(),it(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Rt(this._element);this._startPoint=new I(t.clientX,t.clientY),this._startPos=Pt(this._element),this._parentScale=Mt(n);var i="mousedown"===e.type;Dt(document,i?"mousemove":"touchmove",this._onMove,this),Dt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new I(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Yt(e),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),kt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),At(),st();var t=this._moved&&this._moving;this._moving=!1,yn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function xn(e,t,n){var i,s,r,a,o,c,l,d,u,h=[1,4,2,8];for(s=0,l=e.length;s<l;s++)e[s]._code=Ln(e[s],t);for(a=0;a<4;a++){for(d=h[a],i=[],s=0,r=(l=e.length)-1;s<l;r=s++)o=e[s],c=e[r],o._code&d?c._code&d||((u=In(c,o,d,t,n))._code=Ln(u,t),i.push(u)):(c._code&d&&((u=In(c,o,d,t,n))._code=Ln(u,t),i.push(u)),i.push(o));e=i}return e}function bn(e,t){var n,i,s,r,a,o,c,l,d;if(!e||0===e.length)throw new Error("latlngs not passed");On(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=z([0,0]),h=B(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=Sn(e));var p=e.length,m=[];for(n=0;n<p;n++){var f=z(e[n]);m.push(t.project(z([f.lat-u.lat,f.lng-u.lng])))}for(o=c=l=0,n=0,i=p-1;n<p;i=n++)s=m[n],r=m[i],a=s.y*r.x-r.y*s.x,c+=(s.x+r.x)*a,l+=(s.y+r.y)*a,o+=3*a;d=0===o?m[0]:[c/o,l/o];var _=t.unproject(M(d));return z([_.lat+u.lat,_.lng+u.lng])}function Sn(e){for(var t=0,n=0,i=0,s=0;s<e.length;s++){var r=z(e[s]);t+=r.lat,n+=r.lng,i++}return z([t/i,n/i])}var wn,Nn={__proto__:null,clipPolygon:xn,polygonCenter:bn,centroid:Sn};function jn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Pn(e=En(e,n),n)}function Cn(e,t,n){return Math.sqrt(Mn(e,t,n,!0))}function kn(e,t,n){return Mn(e,t,n)}function Pn(e,t){var n=e.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,Tn(e,i,t,0,n-1);var s,r=[];for(s=0;s<n;s++)i[s]&&r.push(e[s]);return r}function Tn(e,t,n,i,s){var r,a,o,c=0;for(a=i+1;a<=s-1;a++)(o=Mn(e[a],e[i],e[s],!0))>c&&(r=a,c=o);c>n&&(t[r]=1,Tn(e,t,n,i,r),Tn(e,t,n,r,s))}function En(e,t){for(var n=[e[0]],i=1,s=0,r=e.length;i<r;i++)Rn(e[i],e[s])>t&&(n.push(e[i]),s=i);return s<r-1&&n.push(e[r-1]),n}function An(e,t,n,i,s){var r,a,o,c=i?wn:Ln(e,n),l=Ln(t,n);for(wn=l;;){if(!(c|l))return[e,t];if(c&l)return!1;o=Ln(a=In(e,t,r=c||l,n,s),n),r===c?(e=a,c=o):(t=a,l=o)}}function In(e,t,n,i,s){var r,a,o=t.x-e.x,c=t.y-e.y,l=i.min,d=i.max;return 8&n?(r=e.x+o*(d.y-e.y)/c,a=d.y):4&n?(r=e.x+o*(l.y-e.y)/c,a=l.y):2&n?(r=d.x,a=e.y+c*(d.x-e.x)/o):1&n&&(r=l.x,a=e.y+c*(l.x-e.x)/o),new I(r,a,s)}function Ln(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Rn(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function Mn(e,t,n,i){var s,r=t.x,a=t.y,o=n.x-r,c=n.y-a,l=o*o+c*c;return l>0&&((s=((e.x-r)*o+(e.y-a)*c)/l)>1?(r=n.x,a=n.y):s>0&&(r+=o*s,a+=c*s)),o=e.x-r,c=e.y-a,i?o*o+c*c:new I(r,a)}function On(e){return!g(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Dn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(e)}function Fn(e,t){var n,i,s,r,a,o,c,l;if(!e||0===e.length)throw new Error("latlngs not passed");On(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=z([0,0]),u=B(e);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(d=Sn(e));var h=e.length,p=[];for(n=0;n<h;n++){var m=z(e[n]);p.push(t.project(z([m.lat-d.lat,m.lng-d.lng])))}for(n=0,i=0;n<h-1;n++)i+=p[n].distanceTo(p[n+1])/2;if(0===i)l=p[0];else for(n=0,r=0;n<h-1;n++)if(a=p[n],o=p[n+1],(r+=s=a.distanceTo(o))>i){c=(r-i)/s,l=[o.x-c*(o.x-a.x),o.y-c*(o.y-a.y)];break}var f=t.unproject(M(l));return z([f.lat+d.lat,f.lng+d.lng])}var Bn={__proto__:null,simplify:jn,pointToSegmentDistance:Cn,closestPointOnSegment:kn,clipSegment:An,_getEdgeIntersection:In,_getBitCode:Ln,_sqClosestPointOnSegment:Mn,isFlat:On,_flat:Dn,polylineCenter:Fn},qn={project:function(e){return new I(e.lng,e.lat)},unproject:function(e){return new q(e.y,e.x)},bounds:new O([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,s=this.R_MINOR/n,r=Math.sqrt(1-s*s),a=r*Math.sin(i),o=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(o,1e-10)),new I(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,s=this.R_MINOR/i,r=Math.sqrt(1-s*s),a=Math.exp(-e.y/i),o=Math.PI/2-2*Math.atan(a),c=0,l=.1;c<15&&Math.abs(l)>1e-7;c++)t=r*Math.sin(o),t=Math.pow((1-t)/(1+t),r/2),o+=l=Math.PI/2-2*Math.atan(a*t)-o;return new q(o*n,e.x*n/i)}},Wn={__proto__:null,LonLat:qn,Mercator:zn,SphericalMercator:V},Hn=n({},H,{code:"EPSG:3395",projection:zn,transformation:function(){var e=.5/(Math.PI*zn.R);return Y(e,.5,-e,.5)}()}),Un=n({},H,{code:"EPSG:4326",projection:qn,transformation:Y(1/180,1,-1/180,.5)}),Vn=n({},W,{projection:qn,transformation:Y(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});W.Earth=H,W.EPSG3395=Hn,W.EPSG3857=K,W.EPSG900913=Q,W.EPSG4326=Un,W.Simple=Vn;var Gn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var s=this._zoomBoundLayers[i].options;e=void 0===s.minZoom?e:Math.min(e,s.minZoom),t=void 0===s.maxZoom?t:Math.max(t,s.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yn=Gn.extend({initialize:function(e,t){var n,i;if(p(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Kn=function(e,t){return new Yn(e,t)},Qn=Yn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Yn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Yn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Zn=function(e,t){return new Qn(e,t)},Jn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"===typeof i&&(i=[i,i]);var s=M(i),r=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||s&&s.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),r&&(e.style.marginLeft=-r.x+"px",e.style.marginTop=-r.y+"px"),s&&(e.style.width=s.x+"px",e.style.height=s.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Oe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xn(e){return new Jn(e)}var $n=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+Jn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ei=_n.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new yn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,r=Pt(t._icon),a=n.getPixelBounds(),o=n.getPixelOrigin(),c=D(a.min._subtract(o).add(s),a.max._subtract(o).subtract(s));if(!c.contains(r)){var l=M((Math.max(c.max.x,r.x)-c.max.x)/(a.max.x-c.max.x)-(Math.min(c.min.x,r.x)-c.min.x)/(a.min.x-c.min.x),(Math.max(c.max.y,r.y)-c.max.y)/(a.max.y-c.max.y)-(Math.min(c.min.y,r.y)-c.min.y)/(a.min.y-c.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),kt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=j(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=Pt(t._icon),s=t._map.layerPointToLatLng(i);n&&kt(n,i),t._latlng=s,e.latlng=s,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ti=Gn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),yt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(n,"focus",this._panOnFocus,this);var s=e.icon.createShadow(this._shadow),r=!1;s!==this._shadow&&(this._removeShadow(),r=!0),s&&(yt(s,t),s.alt=""),this._shadow=s,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&r&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ei)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ei(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&wt(this._icon,e),this._shadow&&wt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),i=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ni(e,t){return new ti(e,t)}var ii=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),si=ii.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=z(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ii.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new O(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ri(e,t){return new si(e,t)}var ai=si.extend({initialize:function(e,t,i){if("number"===typeof t&&(t=n({},i,{radius:t})),p(this,t),this._latlng=z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ii.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var s=Math.PI/180,r=this._mRadius/H.R/s,a=n.project([t+r,e]),o=n.project([t-r,e]),c=a.add(o).divideBy(2),l=n.unproject(c).lat,d=Math.acos((Math.cos(r*s)-Math.sin(t*s)*Math.sin(l*s))/(Math.cos(t*s)*Math.cos(l*s)))/s;(isNaN(d)||0===d)&&(d=r/Math.cos(Math.PI/180*t)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(d)?0:c.x-n.project([l,e-d]).x,this._radiusY=c.y-a.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}});function oi(e,t,n){return new ai(e,t,n)}var ci=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,s=null,r=Mn,a=0,o=this._parts.length;a<o;a++)for(var c=this._parts[a],l=1,d=c.length;l<d;l++){var u=r(e,t=c[l-1],n=c[l],!0);u<i&&(i=u,s=r(e,t,n))}return s&&(s.distance=Math.sqrt(i)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=z(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=On(e),i=0,s=e.length;i<s;i++)n?(t[i]=z(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new I(e,e);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,s,r=e[0]instanceof q,a=e.length;if(r){for(s=[],i=0;i<a;i++)s[i]=this._map.latLngToLayerPoint(e[i]),n.extend(s[i]);t.push(s)}else for(i=0;i<a;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,s,r,a,o,c=this._parts;for(t=0,i=0,s=this._rings.length;t<s;t++)for(n=0,r=(o=this._rings[t]).length;n<r-1;n++)(a=An(o[n],o[n+1],e,n,!0))&&(c[i]=c[i]||[],c[i].push(a[0]),a[1]===o[n+1]&&n!==r-2||(c[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=jn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,s,r,a,o,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,s=(a=(o=this._parts[n]).length)-1;i<a;s=i++)if((t||0!==i)&&Cn(e,o[s],o[i])<=c)return!0;return!1}});function li(e,t){return new ci(e,t)}ci._flat=Dn;var di=ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=ci.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof q&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){ci.prototype._setLatLngs.call(this,e),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new I(t,t);if(e=new O(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,s=0,r=this._rings.length;s<r;s++)(i=xn(this._rings[s],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,s,r,a,o,c,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,o=this._parts.length;s<o;s++)for(r=0,a=(c=(t=this._parts[s]).length)-1;r<c;a=r++)n=t[r],i=t[a],n.y>e.y!==i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||ci.prototype._containsPoint.call(this,e,!0)}});function ui(e,t){return new di(e,t)}var hi=Qn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,s=g(e)?e:e.features;if(s){for(t=0,n=s.length;t<n;t++)((i=s[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(e))return this;var a=pi(e,r);return a?(a.feature=xi(e),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pi(e,t){var n,i,s,r,a="Feature"===e.type?e.geometry:e,o=a?a.coordinates:null,c=[],l=t&&t.pointToLayer,d=t&&t.coordsToLatLng||fi;if(!o&&!a)return null;switch(a.type){case"Point":return mi(l,e,n=d(o),t);case"MultiPoint":for(s=0,r=o.length;s<r;s++)n=d(o[s]),c.push(mi(l,e,n,t));return new Qn(c);case"LineString":case"MultiLineString":return i=_i(o,"LineString"===a.type?0:1,d),new ci(i,t);case"Polygon":case"MultiPolygon":return i=_i(o,"Polygon"===a.type?1:2,d),new di(i,t);case"GeometryCollection":for(s=0,r=a.geometries.length;s<r;s++){var u=pi({geometry:a.geometries[s],type:"Feature",properties:e.properties},t);u&&c.push(u)}return new Qn(c);case"FeatureCollection":for(s=0,r=a.features.length;s<r;s++){var h=pi(a.features[s],t);h&&c.push(h)}return new Qn(c);default:throw new Error("Invalid GeoJSON object.")}}function mi(e,t,n,i){return e?e(t,n):new ti(n,i&&i.markersInheritOptions&&i)}function fi(e){return new q(e[1],e[0],e[2])}function _i(e,t,n){for(var i,s=[],r=0,a=e.length;r<a;r++)i=t?_i(e[r],t-1,n):(n||fi)(e[r]),s.push(i);return s}function gi(e,t){return void 0!==(e=z(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function vi(e,t,n,i){for(var s=[],r=0,a=e.length;r<a;r++)s.push(t?vi(e[r],On(e[r])?0:t-1,n,i):gi(e[r],i));return!t&&n&&s.length>0&&s.push(s[0].slice()),s}function yi(e,t){return e.feature?n({},e.feature,{geometry:t}):xi(t)}function xi(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var bi={toGeoJSON:function(e){return yi(this,{type:"Point",coordinates:gi(this.getLatLng(),e)})}};function Si(e,t){return new hi(e,t)}ti.include(bi),ai.include(bi),si.include(bi),ci.include({toGeoJSON:function(e){var t=!On(this._latlngs);return yi(this,{type:(t?"Multi":"")+"LineString",coordinates:vi(this._latlngs,t?1:0,!1,e)})}}),di.include({toGeoJSON:function(e){var t=!On(this._latlngs),n=t&&!On(this._latlngs[0]),i=vi(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),yi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Yn.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),yi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var s=t.toGeoJSON(e);if(n)i.push(s.geometry);else{var r=xi(s);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}}),n?yi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var wi=Si,Ni=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=B(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&_t(this._image),this},bringToBack:function(){return this._map&&gt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=s(this.fire,this,"load"),t.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ct(this._image,n,t)},_reset:function(){var e=this._image,t=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();kt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),ji=function(e,t,n){return new Ni(e,t,n)},Ci=Ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=s(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var o=pt("source");o.src=this._url[a],t.appendChild(o)}}}});function ki(e,t,n){return new Ci(e,t,n)}var Pi=Ni.extend({_initImage:function(){var e=this._image=this._url;yt(e,"leaflet-image-layer"),this._zoomAnimated&&yt(e,"leaflet-zoom-animated"),this.options.className&&yt(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});function Ti(e,t,n){return new Pi(e,t,n)}var Ei=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof q||g(e))?(this._latlng=z(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&wt(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(s(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_t(this._container),this},bringToBack:function(){return this._map&&gt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Qn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?kt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,i){var s=t;return s instanceof e||(s=new e(i).setContent(t)),n&&s.setLatLng(n),s}}),Gn.include({_initOverlay:function(e,t,n,i){var s=n;return s instanceof e?(p(s,i),s._source=this):(s=t&&!i?t:new e(i,this)).setContent(n),s}});var Ai=Ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ei.prototype.openOn.call(this,e)},onAdd:function(e){Ei.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Ut))},onRemove:function(e){Ei.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Ut))},getEvents:function(){var e=Ei.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Gt(t),Vt(this._contentNode),Dt(t,"contextmenu",Ut),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=pt("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(i,"click",function(e){Yt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,s=this.options.maxHeight,r="leaflet-popup-scrolled";s&&i>s?(t.height=s+"px",yt(e,r)):xt(e,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();kt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,s=new I(this._containerLeft,-n-this._containerBottom);s._add(Pt(this._container));var r=e.layerPointToContainerPoint(s),a=M(this.options.autoPanPadding),o=M(this.options.autoPanPaddingTopLeft||a),c=M(this.options.autoPanPaddingBottomRight||a),l=e.getSize(),d=0,u=0;r.x+i+c.x>l.x&&(d=r.x+i-l.x+c.x),r.x-d-o.x<0&&(d=r.x-o.x),r.y+n+c.y>l.y&&(u=r.y+n-l.y+c.y),r.y-u-o.y<0&&(u=r.y-o.y),(d||u)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([d,u]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ii=function(e,t){return new Ai(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Ai,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Ai,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Qn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Kt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof ii?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Li=Ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ei.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ei.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ei.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,s=this._container,r=i.latLngToContainerPoint(i.getCenter()),a=i.layerPointToContainerPoint(e),o=this.options.direction,c=s.offsetWidth,l=s.offsetHeight,d=M(this.options.offset),u=this._getAnchor();"top"===o?(t=c/2,n=l):"bottom"===o?(t=c/2,n=0):"center"===o?(t=c/2,n=l/2):"right"===o?(t=0,n=l/2):"left"===o?(t=c,n=l/2):a.x<r.x?(o="right",t=0,n=l/2):(o="left",t=c+2*(d.x+u.x),n=l/2),e=e.subtract(M(t,n,!0)).add(d).add(u),xt(s,"leaflet-tooltip-right"),xt(s,"leaflet-tooltip-left"),xt(s,"leaflet-tooltip-top"),xt(s,"leaflet-tooltip-bottom"),yt(s,"leaflet-tooltip-"+o),kt(s,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&wt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ri=function(e,t){return new Li(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Li,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Li,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Qn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Dt(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Dt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Mi=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ft(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=M(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Oi(e){return new Mi(e)}Jn.Default=$n;var Di=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),mt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_t(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof I?e:new I(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),s=0,r=n.length;s<r;s++)t=n[s].style.zIndex,n[s]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){wt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var s=this._tiles[i];if(s.current&&s.loaded){var r=Math.min(1,(e-s.loaded)/200);wt(s.el,r),r<1?t=!0:(s.active?n=!0:this._onOpaqueTile(s),s.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(mt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],s=this._map;return i||((i=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=s.project(s.unproject(s.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,s.getCenter(),s.getZoom()),l(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)mt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var s=Math.floor(e/2),r=Math.floor(t/2),a=n-1,o=new I(+s,+r);o.z=+a;var c=this._tileCoordsToKey(o),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>i&&this._retainParent(s,r,a,i))},_retainChildren:function(e,t,n,i){for(var s=2*e;s<2*e+2;s++)for(var r=2*t;r<2*t+2;r++){var a=new I(s,r);a.z=n+1;var o=this._tileCoordsToKey(a),c=this._tiles[o];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<i&&this._retainChildren(s,r,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var s=Math.round(t);s=void 0!==this.options.maxZoom&&s>this.options.maxZoom||void 0!==this.options.minZoom&&s<this.options.minZoom?void 0:this._clampZoom(s);var r=this.options.updateWhenZooming&&s!==this._tileZoom;i&&!r||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==s&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),s=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();Oe.any3d?Ct(e.el,s,i):kt(e.el,s)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),s=t.project(e,this._tileZoom).floor(),r=t.getSize().divideBy(2*i);return new O(s.subtract(r),s.add(r))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),s=this._pxBoundsToTileRange(i),r=s.getCenter(),a=[],o=this.options.keepBuffer,c=new O(s.getBottomLeft().subtract([o,-o]),s.getTopRight().add([o,-o]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var d=this._tiles[l].coords;d.z===this._tileZoom&&c.contains(new I(d.x,d.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var u=s.min.y;u<=s.max.y;u++)for(var h=s.min.x;h<=s.max.x;h++){var p=new I(h,u);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:a.push(p)}}if(a.sort(function(e,t){return e.distanceTo(r)-t.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),s=i.add(n);return[t.unproject(i,e.z),t.unproject(s,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new I(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(mt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){yt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,Oe.ielt9&&this.options.opacity<1&&wt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),r=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(r),this.createTile.length<2&&j(s(this._tileReady,this,e,null,r)),kt(r,n),this._tiles[i]={el:r,coords:e,current:!0},t.appendChild(r),this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(wt(n.el,0),C(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(yt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new I(this._wrapX?c(e.x,this._wrapX):e.x,this._wrapY?c(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new O(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fi(e){return new Di(e)}var Bi=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Oe.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Dt(n,"load",s(this._tileOnLoad,this,t,n)),Dt(n,"error",s(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Oe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return _(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Oe.ielt9?setTimeout(s(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;mt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",y),Di.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Di.prototype._tileReady.call(this,e,t,n)}});function qi(e,t){return new Bi(e,t)}var zi=Bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=n({},this.defaultWmsParams);for(var s in t)s in this.options||(i[s]=t[s]);var r=(t=p(this,t)).detectRetina&&Oe.retina?2:1,a=this.getTileSize();i.width=a.x*r,i.height=a.y*r,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Bi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=D(n.project(t[0]),n.project(t[1])),s=i.min,r=i.max,a=(this._wmsVersion>=1.3&&this._crs===Un?[s.y,s.x,r.y,r.x]:[s.x,s.y,r.x,r.y]).join(","),o=Bi.prototype.getTileUrl.call(this,e);return o+m(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Wi(e,t){return new zi(e,t)}Bi.WMS=zi,qi.wms=Wi;var Hi=Gn.extend({options:{padding:.1},initialize:function(e){p(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,t),r=i.multiplyBy(-n).add(s).subtract(this._map._getNewPixelOrigin(e,t));Oe.any3d?Ct(this._container,r,n):kt(this._container,r)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new O(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ui=Hi.extend({options:{tolerance:0},getEvents:function(){var e=Hi.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Dt(e,"mousemove",this._onMouseMove,this),Dt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,mt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hi.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Oe.retina?2:1;kt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),s=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;s.push(t)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,s,r,a=e._parts,o=a.length,c=this._ctx;if(o){for(c.beginPath(),n=0;n<o;n++){for(i=0,s=a[n].length;i<s;i++)r=a[n][i],c[i?"lineTo":"moveTo"](r.x,r.y);t&&c.closePath()}this._fillStroke(c,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),s=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==s&&(n.save(),n.scale(1,s)),n.beginPath(),n.arc(t.x,t.y/s,i,0,2*Math.PI,!1),1!==s&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),s=this._drawFirst;s;s=s.next)(t=s.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(xt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(yt(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Vi(e){return Oe.canvas?new Ui(e):null}var Gi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yi={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hi.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gi("shape");yt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;mt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,s=e._container;s.stroked=!!i.stroke,s.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Gi("stroke")),s.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(s.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=Gi("fill")),s.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(s.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){_t(e._container)},_bringToBack:function(e){gt(e._container)}},Ki=Oe.vml?Gi:Z,Qi=Hi.extend({_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hi.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),kt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ki("path");e.options.className&&yt(t,e.options.className),e.options.interactive&&yt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){mt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,J(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",s=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,s)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){_t(e._path)},_bringToBack:function(e){gt(e._path)}});function Zi(e){return Oe.svg||Oe.vml?new Qi(e):null}Oe.vml&&Qi.include(Yi),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Vi(e)||Zi(e)}});var Ji=di.extend({initialize:function(e,t){di.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Xi(e,t){return new Ji(e,t)}Qi.create=Ki,Qi.pointsToPath=J,hi.geometryToLayer=pi,hi.coordsToLatLng=fi,hi.coordsToLatLngs=_i,hi.latLngToCoords=gi,hi.latLngsToCoords=vi,hi.getFeature=yi,hi.asFeature=xi,nn.mergeOptions({boxZoom:!0});var $i=_n.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),it(),Et(),this._startPoint=this._map.mouseEventToContainerPoint(e),Dt(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new O(this._point,this._startPoint),n=t.getSize();kt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(mt(this._box),xt(this._container,"leaflet-crosshair")),st(),At(),Bt(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$i),nn.mergeOptions({doubleClickZoom:!0});var es=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,s=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(s):t.setZoomAround(e.containerPoint,s)}});nn.addInitHook("addHandler","doubleClickZoom",es),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ts=_n.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new yn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,s=(i-t+n)%e+t-n,r=(i+t+n)%e-t-n,a=Math.abs(s+n)<Math.abs(r+n)?s:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,o=s.multiplyBy(a/r),c=o.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),d=o.multiplyBy(l/c),u=l/(n.inertiaDeceleration*a),h=d.multiplyBy(-u/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),j(function(){t.panBy(h,{duration:u,easeLinearity:a,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ts),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ns=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Dt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},s=this.keyCodes;for(t=0,n=s.left.length;t<n;t++)i[s.left[t]]=[-1*e,0];for(t=0,n=s.right.length;t<n;t++)i[s.right[t]]=[e,0];for(t=0,n=s.down.length;t<n;t++)i[s.down[t]]=[0,e];for(t=0,n=s.up.length;t<n;t++)i[s.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},s=this.keyCodes;for(t=0,n=s.zoomIn.length;t<n;t++)i[s.zoomIn[t]]=e;for(t=0,n=s.zoomOut.length;t<n;t++)i[s.zoomOut[t]]=-e},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),i.options.maxBounds&&(t=i._limitOffset(M(t),i.options.maxBounds)),i.options.worldCopyJump){var s=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(t)));i.panTo(s)}else i.panBy(t)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Kt(e)}}});nn.addInitHook("addHandler","keyboard",ns),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var is=_n.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),i),Kt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),s=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(s/n)*n:s,a=e._limitZoom(t+(this._delta>0?r:-r))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",is);var ss=600;nn.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var rs=_n.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new I(t.clientX,t.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",Yt),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),ss),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Bt(document,"touchend",Yt),Bt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new I(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",rs),nn.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var as=_n.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),Yt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(r,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&r>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var o=s(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(o,this,!0),Yt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",as),nn.BoxZoom=$i,nn.DoubleClickZoom=es,nn.Drag=ts,nn.Keyboard=ns,nn.ScrollWheelZoom=is,nn.TapHold=rs,nn.TouchZoom=as,e.Bounds=O,e.Browser=Oe,e.CRS=W,e.Canvas=Ui,e.Circle=ai,e.CircleMarker=si,e.Class=P,e.Control=rn,e.DivIcon=Mi,e.DivOverlay=Ei,e.DomEvent=en,e.DomUtil=Ot,e.Draggable=yn,e.Evented=A,e.FeatureGroup=Qn,e.GeoJSON=hi,e.GridLayer=Di,e.Handler=_n,e.Icon=Jn,e.ImageOverlay=Ni,e.LatLng=q,e.LatLngBounds=F,e.Layer=Gn,e.LayerGroup=Yn,e.LineUtil=Bn,e.Map=nn,e.Marker=ti,e.Mixin=gn,e.Path=ii,e.Point=I,e.PolyUtil=Nn,e.Polygon=di,e.Polyline=ci,e.Popup=Ai,e.PosAnimation=tn,e.Projection=Wn,e.Rectangle=Ji,e.Renderer=Hi,e.SVG=Qi,e.SVGOverlay=Pi,e.TileLayer=Bi,e.Tooltip=Li,e.Transformation=G,e.Util=k,e.VideoOverlay=Ci,e.bind=s,e.bounds=D,e.canvas=Vi,e.circle=oi,e.circleMarker=ri,e.control=an,e.divIcon=Oi,e.extend=n,e.featureGroup=Zn,e.geoJSON=Si,e.geoJson=wi,e.gridLayer=Fi,e.icon=Xn,e.imageOverlay=ji,e.latLng=z,e.latLngBounds=B,e.layerGroup=Kn,e.map=sn,e.marker=ni,e.point=M,e.polygon=ui,e.polyline=li,e.popup=Ii,e.rectangle=Xi,e.setOptions=p,e.stamp=a,e.svg=Zi,e.svgOverlay=Ti,e.tileLayer=qi,e.tooltip=Ri,e.transformation=Y,e.version=t,e.videoOverlay=ki;var os=window.L;e.noConflict=function(){return window.L=os,this},window.L=e}(t)},569:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(621)),r=i(n(732));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,i,s;let a=null,o=null,c=null,l=e.status,d=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const s=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),r=null===(i=e.headers.get("content-range"))||void 0===i?void 0:i.split("/");s&&r&&r.length>1&&(c=parseInt(r[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,l=406,d="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,l=200,d="OK")}catch(u){404===e.status&&""===t?(l=204,d="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(s=null===a||void 0===a?void 0:a.details)||void 0===s?void 0:s.includes("0 rows"))&&(a=null,l=200,d="OK"),a&&this.shouldThrowOnError)throw new r.default(a)}return{error:a,data:o,count:c,status:l,statusText:d}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,i;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(i=null===e||void 0===e?void 0:e.code)&&void 0!==i?i:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>a,Request:()=>o,Response:()=>c,default:()=>r,fetch:()=>s});var i=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=i.fetch,r=i.fetch.bind(i),a=i.Headers,o=i.Request,c=i.Response},732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},863:(e,t,n)=>{"use strict";var i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=a.p;try{if(c.T=null,a.p=2,e)return e()}finally{c.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=l(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):"script"===n&&a.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=l(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.1"},916:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(e,t,i){var s=null;if(void 0!==i&&(s=""+i),void 0!==t.key&&(s=""+t.key),"key"in t)for(var r in i={},t)"key"!==r&&(i[r]=t[r]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=s,t.jsxs=s},942:(e,t,n)=>{e.exports=n(488)()},950:(e,t,n)=>{"use strict";e.exports=n(983)},959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},983:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,_={};function g(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||m}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=y.prototype=new v;x.constructor=y,f(x,g.prototype),x.isPureReactComponent=!0;var b=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},w=Object.prototype.hasOwnProperty;function N(e,t,i,s,r,a){return i=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:a}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function T(e,t,s,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c,l,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case i:d=!0;break;case h:return T((d=e._init)(e._payload),t,s,r,a)}}if(d)return a=a(e),d=""===r?"."+k(e,0):r,b(a)?(s="",null!=d&&(s=d.replace(C,"$&/")+"/"),T(a,t,s,"",function(e){return e})):null!=a&&(j(a)&&(c=a,l=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+d,a=N(c.type,l,void 0,0,0,c.props)),t.push(a)),1;d=0;var u,m=""===r?".":r+":";if(b(e))for(var f=0;f<e.length;f++)d+=T(r=e[f],t,s,o=m+k(r,f),a);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(r=e.next()).done;)d+=T(r=r.value,t,s,o=m+k(r,f++),a);else if("object"===o){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function E(e,t,n){if(null==e)return e;var i=[],s=0;return T(e,i,"","",function(e){return t.call(n,e,s++)}),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=a,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!w.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(i[r]=t[r]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return N(e.type,s,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var i,s={},r=null;if(null!=t)for(i in void 0!==t.key&&(r=""+t.key),t)w.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(s[i]=t[i]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===s[i]&&(s[i]=a[i]);return N(e,r,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var i=e(),s=S.S;null!==s&&s(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(L,I)}catch(r){I(r)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".316b86ec.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="armora-security:";n.l=(i,s,r,a)=>{if(e[i])e[i].push(s);else{var o,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+r){o=u;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+r),o.src=i),e[i]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var s=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,i)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var r=new Promise((n,i)=>s=e[t]=[n,i]);i.push(s[2]=r);var a=n.p+n.u(t),o=new Error;n.l(a,i=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",o.name="ChunkLoadError",o.type=r,o.request=a,s[1](o)}},"chunk-"+t,t)}};var t=(t,i)=>{var s,r,a=i[0],o=i[1],c=i[2],l=0;if(a.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)c(n)}for(t&&t(i);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunkarmora_security=self.webpackChunkarmora_security||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=n(950),t=n(352);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function r(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c="10.19.0",l=globalThis;function d(){return u(l),l}function u(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||c,t[c]=t[c]||{}}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;const i=n.__SENTRY__=n.__SENTRY__||{},s=i[c]=i[c]||{};return s[e]||(s[e]=t())}const p="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,m=Object.prototype.toString;function f(e){switch(m.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return j(e,Error)}}function _(e,t){return m.call(e)==="[object ".concat(t,"]")}function g(e){return _(e,"ErrorEvent")}function v(e){return _(e,"DOMError")}function y(e){return _(e,"String")}function x(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function b(e){return null===e||x(e)||"object"!==typeof e&&"function"!==typeof e}function S(e){return _(e,"Object")}function w(e){return"undefined"!==typeof Event&&j(e,Event)}function N(e){return Boolean((null===e||void 0===e?void 0:e.then)&&"function"===typeof e.then)}function j(e,t){try{return e instanceof t}catch(n){return!1}}function C(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}function k(e){return"undefined"!==typeof Request&&j(e,Request)}const P=l;function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const i=5,s=[];let r=0,a=0;const o=" > ",c=o.length;let l;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&r++<i&&(l=E(n,d),!("html"===l||r>1&&a+s.length*c+l.length>=u));)s.push(l),a+=l.length,n=n.parentNode;return s.reverse().join(o)}catch(n){return"<unknown>"}}function E(e,t){const n=e,i=[];if(null===n||void 0===n||!n.tagName)return"";if(P.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const s=null!==t&&void 0!==t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(null!==s&&void 0!==s&&s.length)s.forEach(e=>{i.push("[".concat(e[0],'="').concat(e[1],'"]'))});else{n.id&&i.push("#".concat(n.id));const e=n.className;if(e&&y(e)){const t=e.split(/\s+/);for(const e of t)i.push(".".concat(e))}}const r=["aria-label","type","name","title","alt"];for(const a of r){const e=n.getAttribute(a);e&&i.push("[".concat(a,'="').concat(e,'"]'))}return i.join("")}function A(){try{return P.document.location.href}catch(e){return""}}const I=["debug","info","warn","error","log","assert","trace"],L={};function R(e){if(!("console"in l))return e();const t=l.console,n={},i=Object.keys(L);i.forEach(e=>{const i=L[e];n[e]=t[e],t[e]=i});try{return e()}finally{i.forEach(e=>{t[e]=n[e]})}}function M(){return F().enabled}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];D("error",...t)}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];p&&M()&&R(()=>{l.console[e]("".concat("Sentry Logger ","[").concat(e,"]:"),...n)})}function F(){return p?h("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const B={enable:function(){F().enabled=!0},disable:function(){F().enabled=!1},isEnabled:M,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];D("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];D("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];D("error",...t)}};function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function z(e,t){if(!Array.isArray(e))return"";const n=[];for(let s=0;s<e.length;s++){const t=e[s];try{C(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(i){n.push("[value cannot be serialized]")}}return n.join(t)}function W(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!y(e)&&(_(t,"RegExp")?t.test(e):!!y(t)&&(n?e===t:e.includes(t)))}function H(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(n=>W(e,n,t))}function U(e,t,n){if(!(t in e))return;const i=e[t];if("function"!==typeof i)return;const s=n(i);"function"===typeof s&&G(s,i);try{e[t]=s}catch(r){p&&B.log('Failed to replace method "'.concat(t,'" in object'),e)}}function V(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(i){p&&B.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function G(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,V(e,"__sentry_original__",t)}catch(n){}}function Y(e){return e.__sentry_original__}function K(e){if(f(e))return o({message:e.message,name:e.name,stack:e.stack},Z(e));if(w(e)){const t=o({type:e.type,target:Q(e.target),currentTarget:Q(e.currentTarget)},Z(e));return"undefined"!==typeof CustomEvent&&j(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Q(e){try{return t=e,"undefined"!==typeof Element&&j(t,Element)?T(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function Z(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const e=l;return e.crypto||e.msCrypto}(),t=()=>16*Math.random();try{if(null!==e&&void 0!==e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");null!==e&&void 0!==e&&e.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function X(e){var t;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t?void 0:t[0]}function $(e){const{message:t,event_id:n}=e;if(t)return t;const i=X(e);return i?i.type&&i.value?"".concat(i.type,": ").concat(i.value):i.type||i.value||n||"<unknown>":n||"<unknown>"}function ee(e,t,n){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{};r.value||(r.value=t||""),r.type||(r.type=n||"Error")}function te(e,t){const n=X(e);if(!n)return;const i=n.mechanism;if(n.mechanism=o(o(o({},{type:"generic",handled:!0}),i),t),t&&"data"in t){const e=o(o({},null===i||void 0===i?void 0:i.data),t.data);n.mechanism.data=e}}function ne(e){if(function(e){try{return e.__sentry_captured__}catch(t){}}(e))return!0;try{V(e,"__sentry_captured__",!0)}catch(t){}return!1}function ie(){return Date.now()/1e3}let se,re;function ae(){return(null!==se&&void 0!==se?se:se=function(){const{performance:e}=l;if(null===e||void 0===e||!e.now||!e.timeOrigin)return ie;const t=e.timeOrigin;return()=>(t+e.now())/1e3}())()}function oe(){return re||(re=function(){var e;const{performance:t}=l;if(null===t||void 0===t||!t.now)return[void 0,"none"];const n=36e5,i=t.now(),s=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+i-s):n,a=r<n,o=null===(e=t.timing)||void 0===e?void 0:e.navigationStart,c="number"===typeof o?Math.abs(o+i-s):n;return a||c<n?r<=c?[t.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[s,"dateNow"]}()),re[0]}function ce(e){const t=ae(),n={sid:J(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&le(n,e),n}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ae(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:J()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function de(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const i=o({},e);for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=de(i[s],t[s],n-1));return i}function ue(){return J()}function he(){return J().substring(16)}const pe="_sentrySpan";function me(e,t){t?V(e,pe,t):delete e[pe]}function fe(e){return e[pe]}class _e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ue(),sampleRand:Math.random()}}clone(){const e=new _e;return e._breadcrumbs=[...this._breadcrumbs],e._tags=o({},this._tags),e._extra=o({},this._extra),e._contexts=o({},this._contexts),this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata=o({},this._sdkProcessingMetadata),e._propagationContext=o({},this._propagationContext),e._client=this._client,e._lastEventId=this._lastEventId,me(e,fe(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&le(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags=o(o({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=o(o({},this._tags),{},{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=o(o({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=o(o({},this._extra),{},{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e,n=t instanceof _e?t.getScopeData():S(t)?e:void 0,{tags:i,extra:s,user:r,contexts:a,level:c,fingerprint:l=[],propagationContext:d}=n||{};return this._tags=o(o({},this._tags),i),this._extra=o(o({},this._extra),s),this._contexts=o(o({},this._contexts),a),r&&Object.keys(r).length&&(this._user=r),c&&(this._level=c),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,me(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ue(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const i=o(o({timestamp:ie()},e),{},{message:e.message?q(e.message,2048):e.message});var s;(this._breadcrumbs.push(i),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(s=this._client)||void 0===s||s.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:fe(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=de(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||J();if(!this._client)return p&&B.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(e,o(o({originalException:e,syntheticException:i},t),{},{event_id:n}),this),n}captureMessage(e,t,n){const i=(null===n||void 0===n?void 0:n.event_id)||J();if(!this._client)return p&&B.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,t,o(o({originalException:e,syntheticException:s},n),{},{event_id:i}),this),i}captureEvent(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||J();return this._client?(this._client.captureEvent(e,o(o({},t),{},{event_id:n}),this),n):(p&&B.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class ge{constructor(e,t){let n,i;n=e||new _e,i=t||new _e,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(i){throw this._popScope(),i}return N(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ve(){const e=u(d());return e.stack=e.stack||new ge(h("defaultCurrentScope",()=>new _e),h("defaultIsolationScope",()=>new _e))}function ye(e){return ve().withScope(e)}function xe(e,t){const n=ve();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function be(e){return ve().withScope(()=>e(ve().getIsolationScope()))}function Se(e){const t=u(e);return t.acs?t.acs:{withIsolationScope:be,withScope:ye,withSetScope:xe,withSetIsolationScope:(e,t)=>be(t),getCurrentScope:()=>ve().getScope(),getIsolationScope:()=>ve().getIsolationScope()}}function we(){return Se(d()).getCurrentScope()}function Ne(){return Se(d()).getIsolationScope()}function je(){const e=Se(d());for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(2===n.length){const[t,i]=n;return t?e.withSetScope(t,i):e.withScope(i)}return e.withScope(n[0])}function Ce(){return we().getClient()}function ke(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:i,propagationSpanId:s}=t,r={trace_id:n,span_id:s||he()};return i&&(r.parent_span_id=i),r}const Pe="production";function Te(e){return new Ae(t=>{t(e)})}function Ee(e){return new Ae((t,n)=>{n(e)})}class Ae{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new Ae((n,i)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(s){i(s)}else n(t)},e=>{if(t)try{n(t(e))}catch(s){i(s)}else i(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new Ae((t,n)=>{let i,s;return this.then(t=>{s=!1,i=t,e&&e()},t=>{s=!0,i=t,e&&e()}).then(()=>{s?n(i):t(i)})})}_executeHandlers(){if(0===this._state)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){const t=(e,t)=>{0===this._state&&(N(t)?t.then(n,i):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(1,e)},i=e=>{t(2,e)};try{e(n,i)}catch(s){i(s)}}}function Ie(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{const s=Le(t,n,e,i);return N(s)?s:Te(s)}catch(O){return Ee(O)}}function Le(e,t,n,i){const s=n[i];if(!e||!s)return e;const r=s(o({},e),t);return p&&null===r&&B.log('Event processor "'.concat(s.id||"?",'" dropped event')),N(r)?r.then(e=>Le(e,t,n,i+1)):Le(r,t,n,i+1)}const Re="sentry.source",Me="sentry.sample_rate",Oe="sentry.previous_trace_sample_rate",De="sentry.op",Fe="sentry.origin",Be="sentry.idle_span_finish_reason",qe="sentry.custom_span_name",ze="sentry.profile_id",We="sentry.exclusive_time",He="sentry.link.type",Ue="sentry-",Ve=/^sentry-/;function Ge(e){const t=function(e){if(!e||!y(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((e,t)=>{const n=Ke(t);return Object.entries(n).forEach(t=>{let[n,i]=t;e[n]=i}),e},{});return Ke(e)}(e);if(!t)return;const n=Object.entries(t).reduce((e,t)=>{let[n,i]=t;if(n.match(Ve)){e[n.slice(7)]=i}return e},{});return Object.keys(n).length>0?n:void 0}function Ye(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((e,t,n)=>{let[i,s]=t;const r="".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s)),a=0===n?r:"".concat(e,",").concat(r);return a.length>8192?(p&&B.warn("Not adding key: ".concat(i," with val: ").concat(s," to baggage header due to exceeding baggage size limits.")),e):a},"")}(Object.entries(e).reduce((e,t)=>{let[n,i]=t;return i&&(e["".concat(Ue).concat(n)]=i),e},{}))}function Ke(e){return e.split(",").map(e=>{const t=e.indexOf("=");if(-1===t)return[];return[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch(t){return}})}).reduce((e,t)=>{let[n,i]=t;return n&&i&&(e[n]=i),e},{})}const Qe=/^o(\d+)\./,Ze=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Je(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:i,pass:s,port:r,projectId:a,protocol:o,publicKey:c}=e;return"".concat(o,"://").concat(c).concat(t&&s?":".concat(s):"")+"@".concat(n).concat(r?":".concat(r):"","/").concat(i?"".concat(i,"/"):i).concat(a)}function Xe(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $e(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let i;return t.orgId?i=String(t.orgId):n&&(i=function(e){const t=e.match(Qe);return null===t||void 0===t?void 0:t[1]}(n)),i}function et(e){const t="string"===typeof e?function(e){const t=Ze.exec(e);if(!t)return void R(()=>{console.error("Invalid Sentry Dsn: ".concat(e))});const[n,i,s="",r="",a="",o=""]=t.slice(1);let c="",l=o;const d=l.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),l=d.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return Xe({host:r,pass:s,path:c,projectId:l,port:a,protocol:n,publicKey:i})}(e):Xe(e);if(t&&function(e){if(!p)return!0;const{port:t,projectId:n,protocol:i}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(B.error("Invalid Sentry Dsn: ".concat(t," missing")),!0))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(i)?!t||!isNaN(parseInt(t,10))||(B.error("Invalid Sentry Dsn: Invalid port ".concat(t)),!1):(B.error("Invalid Sentry Dsn: Invalid protocol ".concat(i)),!1):(B.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),!1))}(t))return t}function tt(e){var t;if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=e||(null===(t=Ce())||void 0===t?void 0:t.getOptions());return!!n&&(null!=n.tracesSampleRate||!!n.tracesSampler)}function nt(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function it(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}const st="_sentryScope",rt="_sentryIsolationScope";function at(e){if(e){if("object"===typeof e&&"deref"in e&&"function"===typeof e.deref)try{return e.deref()}catch(t){return}return e}}function ot(e,t,n){e&&(V(e,rt,function(e){try{const t=l.WeakRef;if("function"===typeof t)return new t(e)}catch(t){}return e}(n)),V(e,st,t))}function ct(e){const t=e;return{scope:t[st],isolationScope:at(t[rt])}}function lt(e){if("boolean"===typeof e)return Number(e);const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)||t<0||t>1?void 0:t}const dt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ut(e,t){const n=function(e){if(!e)return;const t=e.match(dt);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),i=Ge(t);if(null===n||void 0===n||!n.traceId)return{traceId:ue(),sampleRand:Math.random()};const s=function(e,t){const n=lt(null===t||void 0===t?void 0:t.sample_rand);if(void 0!==n)return n;const i=lt(null===t||void 0===t?void 0:t.sample_rate);return i&&void 0!==(null===e||void 0===e?void 0:e.parentSampled)?e.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}(n,i);i&&(i.sample_rand=s.toString());const{traceId:r,parentSpanId:a,parentSampled:o}=n;return{traceId:r,parentSpanId:a,sampled:o,dsc:i||{},sampleRand:s}}function ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he(),n=arguments.length>2?arguments[2]:void 0,i="";return void 0!==n&&(i=n?"-1":"-0"),"".concat(e,"-").concat(t).concat(i)}function pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he(),n=arguments.length>2?arguments[2]:void 0;return"00-".concat(e,"-").concat(t,"-").concat(n?"01":"00")}const mt=["spanId","traceId","traceFlags"];let ft=!1;function _t(e){const{spanId:t,traceId:n}=e.spanContext(),{data:i,op:s,parent_span_id:r,status:a,origin:o,links:c}=bt(e);return{parent_span_id:r,span_id:t,trace_id:n,data:i,op:s,status:a,origin:o,links:c}}function gt(e){const{spanId:t,traceId:n,isRemote:i}=e.spanContext(),s=i?t:bt(e).parent_span_id,r=ct(e).scope;return{parent_span_id:s,span_id:i?(null===r||void 0===r?void 0:r.getPropagationContext().propagationSpanId)||he():t,trace_id:n}}function vt(e){return e&&e.length>0?e.map(e=>{let{context:{spanId:t,traceId:n,traceFlags:i},attributes:s}=e;return o({span_id:t,trace_id:n,sampled:1===i,attributes:s},nt(e.context,mt))}):void 0}function yt(e){return"number"===typeof e?xt(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xt(e.getTime()):ae()}function xt(e){return e>9999999999?e/1e3:e}function bt(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){var i;const{attributes:s,startTime:r,name:a,endTime:o,status:c,links:l}=e;return{span_id:t,trace_id:n,data:s,description:a,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?null===(i=e.parentSpanContext)||void 0===i?void 0:i.spanId:void 0,start_timestamp:yt(r),timestamp:yt(o)||void 0,status:wt(c),op:s[De],origin:s[Fe],links:vt(l)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function St(e){const{traceFlags:t}=e.spanContext();return 1===t}function wt(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const Nt="_sentryChildSpans",jt="_sentryRootSpan";function Ct(e,t){const n=e[jt]||e;V(t,jt,n),e[Nt]?e[Nt].add(t):V(e,Nt,new Set([t]))}function kt(e){const t=new Set;return function e(n){if(!t.has(n)&&St(n)){t.add(n);const i=n[Nt]?Array.from(n[Nt]):[];for(const t of i)e(t)}}(e),Array.from(t)}function Pt(e){return e[jt]||e}function Tt(){const e=Se(d());return e.getActiveSpan?e.getActiveSpan():fe(we())}function Et(){ft||(R(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),ft=!0)}const At="_frozenDsc";function It(e,t){V(e,At,t)}function Lt(e,t){const n=t.getOptions(),{publicKey:i}=t.getDsn()||{},s={environment:n.environment||Pe,release:n.release,public_key:i,trace_id:e,org_id:$e(t)};return t.emit("createDsc",s),s}function Rt(e,t){const n=t.getPropagationContext();return n.dsc||Lt(n.traceId,e)}function Mt(e){var t,n;const i=Ce();if(!i)return{};const s=Pt(e),r=bt(s),a=r.data,o=s.spanContext().traceState,c=null!==(t=null!==(n=null===o||void 0===o?void 0:o.get("sentry.sample_rate"))&&void 0!==n?n:a[Me])&&void 0!==t?t:a[Oe];function l(e){return"number"!==typeof c&&"string"!==typeof c||(e.sample_rate="".concat(c)),e}const d=s[At];if(d)return l(d);const u=null===o||void 0===o?void 0:o.get("sentry.dsc"),h=u&&Ge(u);if(h)return l(h);const p=Lt(e.spanContext().traceId,i),m=a[Re],f=r.description;var _,g;("url"!==m&&f&&(p.transaction=f),tt())&&(p.sampled=String(St(s)),p.sample_rand=null!==(_=null===o||void 0===o?void 0:o.get("sentry.sample_rand"))&&void 0!==_?_:null===(g=ct(s).scope)||void 0===g?void 0:g.getPropagationContext().sampleRand.toString());return l(p),i.emit("createDsc",p,s),p}function Ot(e,t){const{fingerprint:n,span:i,breadcrumbs:s,sdkProcessingMetadata:r}=t;!function(e,t){const{extra:n,tags:i,user:s,contexts:r,level:a,transactionName:c}=t;Object.keys(n).length&&(e.extra=o(o({},n),e.extra));Object.keys(i).length&&(e.tags=o(o({},i),e.tags));Object.keys(s).length&&(e.user=o(o({},s),e.user));Object.keys(r).length&&(e.contexts=o(o({},r),e.contexts));a&&(e.level=a);c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),i&&function(e,t){e.contexts=o({trace:gt(t)},e.contexts),e.sdkProcessingMetadata=o({dynamicSamplingContext:Mt(t)},e.sdkProcessingMetadata);const n=Pt(t),i=bt(n).description;i&&!e.transaction&&"transaction"===e.type&&(e.transaction=i)}(e,i),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata=o(o({},e.sdkProcessingMetadata),t)}(e,r)}function Dt(e,t){const{extra:n,tags:i,user:s,contexts:r,level:a,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:d,eventProcessors:u,attachments:h,propagationContext:p,transactionName:m,span:f}=t;Ft(e,"extra",n),Ft(e,"tags",i),Ft(e,"user",s),Ft(e,"contexts",r),e.sdkProcessingMetadata=de(e.sdkProcessingMetadata,c,2),a&&(e.level=a),m&&(e.transactionName=m),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext=o(o({},e.propagationContext),p)}function Ft(e,t,n){e[t]=de(e[t],n,1)}let Bt,qt,zt;function Wt(e){const t=l._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return zt&&n.length===qt||(qt=n.length,zt=n.reduce((n,i)=>{Bt||(Bt={});const s=Bt[i];if(s)n[s[0]]=s[1];else{const s=e(i);for(let e=s.length-1;e>=0;e--){const r=s[e],a=null===r||void 0===r?void 0:r.filename,o=t[i];if(a&&o){n[a]=o,Bt[i]=[a,o];break}}}return n},{})),zt}const Ht="?",Ut=/\(error: (.*)\)/,Vt=/captureMessage|captureException/;function Gt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=[],r=e.split("\n");for(let a=t;a<r.length;a++){let e=r[a];e.length>1024&&(e=e.slice(0,1024));const t=Ut.test(e)?e.replace(Ut,"$1"):e;if(!t.match(/\S*Error: /)){for(const e of i){const n=e(t);if(n){s.push(n);break}}if(s.length>=50+n)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(Yt(t).function||"")&&t.pop();t.reverse(),Vt.test(Yt(t).function||"")&&(t.pop(),Vt.test(Yt(t).function||"")&&t.pop());return t.slice(0,50).map(e=>o(o({},e),{},{filename:e.filename||Yt(t).filename,function:e.function||Ht}))}(s.slice(n))}}function Yt(e){return e[e.length-1]||{}}const Kt="<anonymous>";function Qt(e){try{return e&&"function"===typeof e&&e.name||Kt}catch(t){return Kt}}function Zt(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(n){return}}}function Jt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return $t("",e,t,n)}catch(i){return{ERROR:"**non-serializable** (".concat(i,")")}}}function Xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;const i=Jt(e,t);return s=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?Xt(e,t-1,n):i;var s}function $t(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}();const[r,a]=s;if(null==t||["boolean","string"].includes(typeof t)||"number"===typeof t&&Number.isFinite(t))return t;const o=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof global&&t===global)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if(C(t))return"[VueViewModel]";if(S(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"===typeof t&&!Number.isFinite(t))return"[".concat(t,"]");if("function"===typeof t)return"[Function: ".concat(Qt(t),"]");if("symbol"===typeof t)return"[".concat(String(t),"]");if("bigint"===typeof t)return"[BigInt: ".concat(String(t),"]");const i=function(e){const t=Object.getPrototypeOf(e);return null!==t&&void 0!==t&&t.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(i)?"[HTMLElement: ".concat(i,"]"):"[object ".concat(i,"]")}catch(i){return"**non-serializable** (".concat(i,")")}var n}(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;const c="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return o.replace("object ","");if(r(t))return"[Circular ~]";const l=t;if(l&&"function"===typeof l.toJSON)try{return $t("",l.toJSON(),c-1,i,s)}catch(p){}const d=Array.isArray(t)?[]:{};let u=0;const h=K(t);for(const m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;if(u>=i){d[m]="[MaxProperties ~]";break}const e=h[m];d[m]=$t(m,e,c-1,i,s),u++}return a(t),d}function en(e,t,n,i,s,r){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=e,l=o(o({},t),{},{event_id:t.event_id||n.event_id||J(),timestamp:t.timestamp||ie()}),d=n.integrations||e.integrations.map(e=>e.name);!function(e,t){const{environment:n,release:i,dist:s,maxValueLength:r=250}=t;e.environment=e.environment||n||Pe,!e.release&&i&&(e.release=i);!e.dist&&s&&(e.dist=s);const a=e.request;null!==a&&void 0!==a&&a.url&&(a.url=q(a.url,r))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,d),s&&s.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n;const i=Wt(t);null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||n.forEach(e=>{var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach(e=>{e.filename&&(e.debug_id=i[e.filename])})})}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new _e;return n.update(t),n}(i,n.captureContext);n.mechanism&&te(l,n.mechanism);const p=s?s.getEventProcessors():[],m=h("globalScope",()=>new _e).getScopeData();if(r){Dt(m,r.getScopeData())}if(u){Dt(m,u.getScopeData())}const f=[...n.attachments||[],...m.attachments];f.length&&(n.attachments=f),Ot(l,m);return Ie([...p,...m.eventProcessors],l,n).then(e=>(e&&function(e){var t;const n={};if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(e=>{var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach(e=>{e.debug_id&&(e.abs_path?n[e.abs_path]=e.debug_id:e.filename&&(n[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(n).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const i=e.debug_meta.images;Object.entries(n).forEach(e=>{let[t,n]=e;i.push({type:"sourcemap",code_file:t,debug_id:n})})}(e),"number"===typeof a&&a>0?function(e,t,n){var i,s;if(!e)return null;const r=o(o(o(o(o({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>o(o({},e),e.data&&{data:Jt(e.data,t,n)}))}),e.user&&{user:Jt(e.user,t,n)}),e.contexts&&{contexts:Jt(e.contexts,t,n)}),e.extra&&{extra:Jt(e.extra,t,n)});null!==(i=e.contexts)&&void 0!==i&&i.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Jt(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>o(o({},e),e.data&&{data:Jt(e.data,t,n)})));null!==(s=e.contexts)&&void 0!==s&&s.flags&&r.contexts&&(r.contexts.flags=Jt(e.contexts.flags,3,n));return r}(e,a,c):e))}function tn(e){if(e)return function(e){return e instanceof _e||"function"===typeof e}(e)||function(e){return Object.keys(e).some(e=>nn.includes(e))}(e)?{captureContext:e}:e}const nn=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function sn(e,t){return we().captureEvent(e,t)}function rn(e){const t=Ne(),n=we(),{userAgent:i}=l.navigator||{},s=ce(o(o({user:n.getUser()||t.getUser()},i&&{userAgent:i}),e)),r=t.getSession();return"ok"===(null===r||void 0===r?void 0:r.status)&&le(r,{status:"exited"}),an(),t.setSession(s),s}function an(){const e=Ne(),t=we().getSession()||e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),le(e,n)}(t),on(),e.setSession()}function on(){const e=Ne(),t=Ce(),n=e.getSession();n&&t&&t.captureSession(n)}function cn(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?an():on()}const ln=[];function dn(e){const t=e.defaultIntegrations||[],n=e.integrations;let i;if(t.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))i=[...t,...n];else if("function"===typeof n){const e=n(t);i=Array.isArray(e)?e:[e]}else i=t;return function(e){const t={};return e.forEach(e=>{const{name:n}=e,i=t[n];i&&!i.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(i)}function un(e,t){for(const n of t)null!==n&&void 0!==n&&n.afterAllSetup&&n.afterAllSetup(e)}function hn(e,t,n){if(n[t.name])p&&B.log("Integration skipped because it was already installed: ".concat(t.name));else{if(n[t.name]=t,-1===ln.indexOf(t.name)&&"function"===typeof t.setupOnce&&(t.setupOnce(),ln.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,i)=>n(t,i,e))}if("function"===typeof t.processEvent){const n=t.processEvent.bind(t),i=Object.assign((t,i)=>n(t,i,e),{id:t.name});e.addEventProcessor(i)}p&&B.log("Integration installed: ".concat(t.name))}}function pn(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];null!==n&&void 0!==n&&n.value&&(t.push(n.value),n.type&&t.push("".concat(n.type,": ").concat(n.value)))}catch(n){}return t}const mn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],fn=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup(n){const i=n.getOptions();e=gn(t,i)},processEvent(n,i,s){if(!e){const n=s.getOptions();e=gn(t,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(null===t||void 0===t||!t.length)return!1;const n=e.transaction;return!!n&&H(n,t)}(e,t.ignoreTransactions))return p&&B.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat($(e))),!0}else{if(function(e,t){if(null===t||void 0===t||!t.length)return!1;return pn(e).some(e=>H(e,t))}(e,t.ignoreErrors))return p&&B.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat($(e))),!0;if(function(e){var t;if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||!t.length)return!1;return!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)}(e))return p&&B.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat($(e))),!0;if(function(e,t){if(null===t||void 0===t||!t.length)return!1;const n=vn(e);return!!n&&H(n,t)}(e,t.denyUrls))return p&&B.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat($(e),".\nUrl: ").concat(vn(e))),!0;if(!function(e,t){if(null===t||void 0===t||!t.length)return!0;const n=vn(e);return!n||H(n,t)}(e,t.allowUrls))return p&&B.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat($(e),".\nUrl: ").concat(vn(e))),!0}return!1}(n,e)?null:n}}},_n=function(){return o(o({},fn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),{},{name:"InboundFilters"})};function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:mn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function vn(e){try{var t,n,i;const s=[...null!==(t=null===(n=e.exception)||void 0===n?void 0:n.values)&&void 0!==t?t:[]].reverse().find(e=>{var t,n;return void 0===(null===(t=e.mechanism)||void 0===t?void 0:t.parent_id)&&(null===(n=e.stacktrace)||void 0===n||null===(n=n.frames)||void 0===n?void 0:n.length)}),r=null===s||void 0===s||null===(i=s.stacktrace)||void 0===i?void 0:i.frames;return r?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(r):null}catch(s){return p&&B.error("Cannot extract url for event ".concat($(e))),null}}let yn;const xn=new WeakMap,bn=()=>({name:"FunctionToString",setupOnce(){yn=Function.prototype.toString;try{Function.prototype.toString=function(){const e=Y(this),t=xn.has(Ce())&&void 0!==e?e:this;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return yn.apply(t,i)}}catch(e){}},setup(e){xn.set(e,!0)}}),Sn=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,i=t.message;if(!n&&!i)return!1;if(n&&!i||!n&&i)return!1;if(n!==i)return!1;if(!Nn(e,t))return!1;if(!wn(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=jn(t),i=jn(e);if(!n||!i)return!1;if(n.type!==i.type||n.value!==i.value)return!1;if(!Nn(e,t))return!1;if(!wn(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return p&&B.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};function wn(e,t){let n=Zt(e),i=Zt(t);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(let s=0;s<i.length;s++){const e=i[s],t=n[s];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function Nn(e,t){let n=e.fingerprint,i=t.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return!(n.join("")!==i.join(""))}catch(s){return!1}}function jn(e){var t;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t?void 0:t[0]}function Cn(e,t){!0===t.debug&&(p?B.enable():R(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));we().update(t.initialScope);const n=new e(t);return function(e){we().setClient(e)}(n),n.init(),n}function kn(e){const t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function Pn(e,t,n){return t||"".concat(function(e){return"".concat(kn(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client="".concat(t.name,"/").concat(t.version)),new URLSearchParams(n).toString()}(e,n))}function Tn(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function En(e,t){const[n,i]=e;return[n,[...i,t]]}function An(e,t){const n=e[1];for(const i of n){if(t(i,i[0].type))return!0}return!1}function In(e){const t=u(l);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function Ln(e){const[t,n]=e;let i=JSON.stringify(t);function s(e){"string"===typeof i?i="string"===typeof e?i+e:[In(i),e]:i.push("string"===typeof e?In(e):e)}for(const a of n){const[e,t]=a;if(s("\n".concat(JSON.stringify(e),"\n")),"string"===typeof t||t instanceof Uint8Array)s(t);else{let e;try{e=JSON.stringify(t)}catch(r){e=JSON.stringify(Jt(t))}s(e)}}return"string"===typeof i?i:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let i=0;for(const s of e)n.set(s,i),i+=s.length;return n}(i)}function Rn(e){return[{type:"span"},e]}function Mn(e){const t="string"===typeof e.data?In(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const On={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Dn(e){return On[e]}function Fn(e){if(null===e||void 0===e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Bn(e){B.log("Ignoring span ".concat(e.op," - ").concat(e.description," because it matches `ignoreSpans`."))}function qn(e,t){if(null===t||void 0===t||!t.length||!e.description)return!1;for(const n of t){if(Wn(n)){if(W(e.description,n))return p&&Bn(e),!0;continue}if(!n.name&&!n.op)continue;const t=!n.name||W(e.description,n.name),i=!n.op||e.op&&W(e.op,n.op);if(t&&i)return p&&Bn(e),!0}return!1}function zn(e,t){const n=t.parent_span_id,i=t.span_id;if(n)for(const s of e)s.parent_span_id===i&&(s.parent_span_id=n)}function Wn(e){return"string"===typeof e||e instanceof RegExp}function Hn(e,t,n,i){const s=Fn(n),r=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){var n,i,s,r;if(!t)return e;const a=e.sdk||{};e.sdk=o(o({},a),{},{name:a.name||t.name,version:a.version||t.version,integrations:[...(null===(n=e.sdk)||void 0===n?void 0:n.integrations)||[],...t.integrations||[]],packages:[...(null===(i=e.sdk)||void 0===i?void 0:i.packages)||[],...t.packages||[]],settings:null!==(s=e.sdk)&&void 0!==s&&s.settings||t.settings?o(o({},null===(r=e.sdk)||void 0===r?void 0:r.settings),t.settings):void 0})}(e,null===n||void 0===n?void 0:n.sdk);const a=function(e,t,n,i){var s;const r=null===(s=e.sdkProcessingMetadata)||void 0===s?void 0:s.dynamicSamplingContext;return o(o(o({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&i&&{dsn:Je(i)}),r&&{trace:r})}(e,s,i,t);delete e.sdkProcessingMetadata;return Tn(a,[[{type:r},e]])}const Un="Not capturing exception because it's already been captured.",Vn="Discarded session because of missing or non-string release",Gn=Symbol.for("SentryInternalError"),Yn=Symbol.for("SentryDoNotSendEventError");function Kn(e){return{message:e,[Gn]:!0}}function Qn(e){return{message:e,[Yn]:!0}}function Zn(e){return!!e&&"object"===typeof e&&Gn in e}function Jn(e){return!!e&&"object"===typeof e&&Yn in e}class Xn{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=et(e.dsn):p&&B.warn("No DSN provided, client will not send events."),this._dsn){const t=Pn(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(o(o({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{},{url:t}))}}captureException(e,t,n){const i=J();if(ne(e))return p&&B.log(Un),i;const s=o({event_id:i},t);return this._process(this.eventFromException(e,s).then(e=>this._captureEvent(e,s,n))),s.event_id}captureMessage(e,t,n,i){const s=o({event_id:J()},n),r=x(e)?e:String(e),a=b(e)?this.eventFromMessage(r,t,s):this.eventFromException(e,s);return this._process(a.then(e=>this._captureEvent(e,s,i))),s.event_id}captureEvent(e,t,n){const i=J();if(null!==t&&void 0!==t&&t.originalException&&ne(t.originalException))return p&&B.log(Un),i;const s=o({event_id:i},t),r=e.sdkProcessingMetadata||{},a=r.capturedSpanScope,c=r.capturedSpanIsolationScope;return this._process(this._captureEvent(e,s,a||n,c)),s.event_id}captureSession(e){this.sendSession(e),le(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const t=this._transport;if(!t)return!0;this.emit("flush");const n=await this._isClientDoneProcessing(e),i=await t.flush(e);return n&&i}async close(e){const t=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),t}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(e=>{let{name:t}=e;return t.startsWith("Spotlight")}))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];hn(this,e,this._integrations),t||un(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=Hn(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of t.attachments||[])n=En(n,Mn(i));this.sendEnvelope(n).then(t=>this.emit("afterSendEvent",e,t))}sendSession(e){const{release:t,environment:n=Pe}=this._options;if("aggregates"in e){const i=e.attrs||{};if(!i.release&&!t)return void(p&&B.warn(Vn));i.release=i.release||t,i.environment=i.environment||n,e.attrs=i}else{if(!e.release&&!t)return void(p&&B.warn(Vn));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const i=function(e,t,n,i){const s=Fn(n);return Tn(o(o({sent_at:(new Date).toISOString()},s&&{sdk:s}),!!i&&t&&{dsn:Je(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){const i="".concat(e,":").concat(t);p&&B.log('Recording outcome: "'.concat(i,'"').concat(n>1?" (".concat(n," times)"):"")),this._outcomes[i]=(this._outcomes[i]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||new Set,i=function(){return t(...arguments)};return n.add(i),()=>{n.delete(i)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const s=this._hooks[e];s&&s.forEach(e=>e(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(t){return p&&B.error("Error while sending envelope:",t),{}}return p&&B.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach(t=>{t&&hn(e,t,n)}),n}(this,e),un(this,e)}_updateSessionFromEvent(e,t){var n;let i="fatal"===t.level,s=!1;const r=null===(n=t.exception)||void 0===n?void 0:n.values;if(r){s=!0;for(const e of r){const t=e.mechanism;if(!1===(null===t||void 0===t?void 0:t.handled)){i=!0;break}}}const a="ok"===e.status;(a&&0===e.errors||a&&i)&&(le(e,o(o({},i&&{status:"crashed"}),{},{errors:e.errors||Number(s||i)})),this.captureSession(e))}async _isClientDoneProcessing(e){let t=0;for(;!e||t<e;){if(await new Promise(e=>setTimeout(e,1)),!this._numProcessing)return!0;t++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,i){const s=this.getOptions(),r=Object.keys(this._integrations);return!t.integrations&&null!==r&&void 0!==r&&r.length&&(t.integrations=r),this.emit("preprocessEvent",e,t),e.type||i.setLastEventId(e.event_id||t.event_id),en(s,e,t,n,this,i).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts=o({trace:ke(n)},e.contexts);const i=Rt(this,n);return e.sdkProcessingMetadata=o({dynamicSamplingContext:i},e.sdkProcessingMetadata),e})}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we(),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ne();return p&&$n(e)&&B.log("Captured error event `".concat(pn(e)[0]||"<unknown>","`")),this._processEvent(e,t,n,i).then(e=>e.event_id,e=>{p&&(Jn(e)?B.log(e.message):Zn(e)?B.warn(e.message):B.warn(e))})}_processEvent(e,t,n,i){const s=this.getOptions(),{sampleRate:r}=s,a=ei(e),c=$n(e),l=e.type||"error",d="before send for type `".concat(l,"`"),u="undefined"===typeof r?void 0:lt(r);if(c&&"number"===typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),Ee(Qn("Discarding event because it's not included in the random sample (sampling rate = ".concat(r,")")));const h="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,i).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",h),Qn("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,i){const{beforeSend:s,beforeSendTransaction:r,beforeSendSpan:a,ignoreSpans:c}=t;let l=n;if($n(l)&&s)return s(l,i);if(ei(l)){if(a||c){const t=function(e){var t,n,i;const{trace_id:s,parent_span_id:r,span_id:a,status:o,origin:c,data:l,op:d}=null!==(t=null===(n=e.contexts)||void 0===n?void 0:n.trace)&&void 0!==t?t:{};return{data:null!==l&&void 0!==l?l:{},description:e.transaction,op:d,parent_span_id:r,span_id:null!==a&&void 0!==a?a:"",start_timestamp:null!==(i=e.start_timestamp)&&void 0!==i?i:0,status:o,timestamp:e.timestamp,trace_id:null!==s&&void 0!==s?s:"",origin:c,profile_id:null===l||void 0===l?void 0:l[ze],exclusive_time:null===l||void 0===l?void 0:l[We],measurements:e.measurements,is_segment:!0}}(l);if(null!==c&&void 0!==c&&c.length&&qn(t,c))return null;if(a){const e=a(t);e?l=de(n,{type:"transaction",timestamp:(d=e).timestamp,start_timestamp:d.start_timestamp,transaction:d.description,contexts:{trace:{trace_id:d.trace_id,span_id:d.span_id,parent_span_id:d.parent_span_id,op:d.op,status:d.status,origin:d.origin,data:o(o(o({},d.data),d.profile_id&&{[ze]:d.profile_id}),d.exclusive_time&&{[We]:d.exclusive_time})}},measurements:d.measurements}):Et()}if(l.spans){const t=[],n=l.spans;for(const e of n)if(null!==c&&void 0!==c&&c.length&&qn(e,c))zn(n,e);else if(a){const n=a(e);n?t.push(n):(Et(),t.push(e))}else t.push(e);const i=l.spans.length-t.length;i&&e.recordDroppedEvent("before_send","span",i),l.spans=t}}if(r){if(l.spans){const e=l.spans.length;l.sdkProcessingMetadata=o(o({},n.sdkProcessingMetadata),{},{spanCountBeforeProcessing:e})}return r(l,i)}}var d;return l}(this,s,e,t);return function(e,t){const n="".concat(t," must return `null` or a valid event.");if(N(e))return e.then(e=>{if(!S(e)&&null!==e)throw Kn(n);return e},e=>{throw Kn("".concat(t," rejected with ").concat(e))});if(!S(e)&&null!==e)throw Kn(n);return e}(n,d)}).then(s=>{if(null===s){if(this.recordDroppedEvent("before_send",h),a){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw Qn("".concat(d," returned `null`, will not send event."))}const r=n.getSession()||i.getSession();if(c&&r&&this._updateSessionFromEvent(r,s),a){var l;const e=((null===(l=s.sdkProcessingMetadata)||void 0===l?void 0:l.spanCountBeforeProcessing)||0)-(s.spans?s.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const u=s.transaction_info;if(a&&u&&s.transaction!==e.transaction){const e="custom";s.transaction_info=o(o({},u),{},{source:e})}return this.sendEvent(s,t),s}).then(null,e=>{if(Jn(e)||Zn(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),Kn("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(e=>{let[t,n]=e;const[i,s]=t.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){p&&B.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(p&&B.log("No outcomes to send"));if(!this._dsn)return void(p&&B.log("No dsn provided, will not send outcomes"));p&&B.log("Sending outcomes:",e);const t=(n=e,Tn((i=this._options.tunnel&&Je(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:s||ie(),discarded_events:n}]]));var n,i,s;this.sendEnvelope(t)}}function $n(e){return void 0===e.type}function ei(e){return"transaction"===e.type}function ti(e,t){var n;const i=null!==(n=null!==t&&void 0!==t?t:ni(e))&&void 0!==n?n:[];if(0===i.length)return;const s=e.getOptions(),r=function(e,t,n,i){const s={};return null!==t&&void 0!==t&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&i&&(s.dsn=Je(i)),Tn(s,[(r=e,[{type:"log",item_count:r.length,content_type:"application/vnd.sentry.items.log+json"},{items:r}])]);var r}(i,s._metadata,s.tunnel,e.getDsn());ii().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(r)}function ni(e){return ii().get(e)}function ii(){return h("clientToLogBufferMap",()=>new WeakMap)}function si(e,t){var n;const i=null!==(n=null!==t&&void 0!==t?t:ri(e))&&void 0!==n?n:[];if(0===i.length)return;const s=e.getOptions(),r=function(e,t,n,i){const s={};return null!==t&&void 0!==t&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&i&&(s.dsn=Je(i)),Tn(s,[(r=e,[{type:"trace_metric",item_count:r.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:r}])]);var r}(i,s._metadata,s.tunnel,e.getDsn());ai().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(r)}function ri(e){return ai().get(e)}function ai(){return h("clientToMetricBufferMap",()=>new WeakMap)}function oi(e){var t;"aggregates"in e?void 0===(null===(t=e.attrs)||void 0===t?void 0:t.ip_address)&&(e.attrs=o(o({},e.attrs),{},{ip_address:"{{auto}}"})):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function ci(e,t){const n=ui(e,t),i={type:mi(t),value:fi(t)};return n.length&&(i.stacktrace={frames:n}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function li(e,t,n,i){const s=Ce(),r=null===s||void 0===s?void 0:s.getOptions().normalizeDepth,a=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),o={__serialized__:Xt(t,r)};if(a)return{exception:{values:[ci(e,a)]},extra:o};const c={exception:{values:[{type:w(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:vi(t,{isUnhandledRejection:i})}]},extra:o};if(n){const t=ui(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}function di(e,t){return{exception:{values:[ci(e,t)]}}}function ui(e,t){const n=t.stacktrace||t.stack||"",i=function(e){if(e&&hi.test(e.message))return 1;return 0}(t),s=function(e){if("number"===typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,i,s)}catch(r){}return[]}const hi=/Minified React error #\d+;/i;function pi(e){return"undefined"!==typeof WebAssembly&&"undefined"!==typeof WebAssembly.Exception&&e instanceof WebAssembly.Exception}function mi(e){const t=null===e||void 0===e?void 0:e.name;if(!t&&pi(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function fi(e){const t=null===e||void 0===e?void 0:e.message;return pi(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function _i(e,t,n,i,s){let r;if(g(t)&&t.error){return di(e,t.error)}if(v(t)||_(t,"DOMException")){const s=t;if("stack"in t)r=di(e,t);else{const t=s.name||(v(s)?"DOMError":"DOMException"),a=s.message?"".concat(t,": ").concat(s.message):t;r=gi(e,a,n,i),ee(r,a)}return"code"in s&&(r.tags=o(o({},r.tags),{},{"DOMException.code":"".concat(s.code)})),r}if(f(t))return di(e,t);if(S(t)||w(t)){return r=li(e,t,n,s),te(r,{synthetic:!0}),r}return r=gi(e,t,n,i),ee(r,"".concat(t),void 0),te(r,{synthetic:!0}),r}function gi(e,t,n,i){const s={};if(i&&n){const i=ui(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),te(s,{synthetic:!0})}if(x(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function vi(e,t){let{isUnhandledRejection:n}=t;const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=Object.keys(K(e));n.sort();const i=n[0];if(!i)return"[object has no keys]";if(i.length>=t)return q(i,t);for(let s=n.length;s>0;s--){const e=n.slice(0,s).join(", ");if(!(e.length>t))return s===n.length?e:q(e,t)}return""}(e),s=n?"promise rejection":"exception";if(g(e))return"Event `ErrorEvent` captured as ".concat(s," with message `").concat(e.message,"`");if(w(e)){const t=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}(e);return"Event `".concat(t,"` (type=").concat(e.type,") captured as ").concat(s)}return"Object captured as ".concat(s," with keys: ").concat(i)}const yi=l;let xi=0;function bi(){return xi>0}function Si(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e){return"function"===typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"===typeof t?t:e;if(Y(e))return e}catch(i){return e}const n=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];try{const n=i.map(e=>Si(e,t));return e.apply(this,n)}catch(r){throw xi++,setTimeout(()=>{xi--}),je(e=>{var n,s;e.addEventProcessor(e=>(t.mechanism&&(ee(e,void 0,void 0),te(e,t.mechanism)),e.extra=o(o({},e.extra),{},{arguments:i}),e)),n=r,we().captureException(n,tn(s))}),r}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(s){}G(n,e),V(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(r){}return n}function wi(){const e=A(),{referrer:t}=yi.document||{},{userAgent:n}=yi.navigator||{};return{url:e,headers:o(o({},t&&{Referer:t}),n&&{"User-Agent":n})}}class Ni extends Xn{constructor(e){var t;const n=function(e){var t;return o({release:"string"===typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:null===(t=yi.SENTRY_RELEASE)||void 0===t?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},e)}(e);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const s=e._metadata||{};s.sdk||(s.sdk={name:"sentry.javascript.".concat(t),packages:n.map(e=>({name:"".concat(i,":@sentry/").concat(e),version:c})),version:c}),e._metadata=s}(n,"browser",["browser"],yi.SENTRY_SDK_SOURCE||"npm"),null!==(t=n._metadata)&&void 0!==t&&t.sdk&&(n._metadata.sdk.settings=o({infer_ip:n.sendDefaultPii?"auto":"never"},n._metadata.sdk.settings)),super(n);const{sendDefaultPii:i,sendClientReports:s,enableLogs:r,_experiments:a}=this._options;yi.document&&(s||r||null!==a&&void 0!==a&&a.enableMetrics)&&yi.document.addEventListener("visibilitychange",()=>{"hidden"===yi.document.visibilityState&&(s&&this._flushOutcomes(),r&&ti(this),null!==a&&void 0!==a&&a.enableMetrics&&si(this))}),r&&(this.on("flush",()=>{ti(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{ti(this)},5e3)})),null!==a&&void 0!==a&&a.enableMetrics&&(this.on("flush",()=>{si(this)}),this.on("afterCaptureMetric",()=>{this._metricFlushIdleTimeout&&clearTimeout(this._metricFlushIdleTimeout),this._metricFlushIdleTimeout=setTimeout(()=>{si(this)},5e3)})),i&&this.on("beforeSendSession",oi)}eventFromException(e,t){return function(e,t,n,i){const s=_i(e,t,(null===n||void 0===n?void 0:n.syntheticException)||void 0,i);return te(s),s.level="error",null!==n&&void 0!==n&&n.event_id&&(s.event_id=n.event_id),Te(s)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const r=gi(e,t,(null===i||void 0===i?void 0:i.syntheticException)||void 0,s);return r.level=n,null!==i&&void 0!==i&&i.event_id&&(r.event_id=i.event_id),Te(r)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,i){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,i)}}const ji={},Ci={};function ki(e,t){ji[e]=ji[e]||[],ji[e].push(t)}function Pi(e,t){if(!Ci[e]){Ci[e]=!0;try{t()}catch(n){p&&B.error("Error while instrumenting ".concat(e),n)}}}function Ti(e,t){const n=e&&ji[e];if(n)for(const s of n)try{s(t)}catch(i){p&&B.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(Qt(s),"\nError:"),i)}}function Ei(){"console"in l&&I.forEach(function(e){e in l.console&&U(l.console,e,function(t){return L[e]=t,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ti("console",{args:n,level:e});const s=L[e];null===s||void 0===s||s.apply(l.console,n)}})})}const Ai=l;function Ii(){if(!("fetch"in Ai))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Li(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ri(e,t){const n="fetch";ki(n,e),Pi(n,()=>Mi(void 0,t))}function Mi(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!function(){if("string"===typeof EdgeRuntime)return!0;if(!Ii())return!1;if(Li(Ai.fetch))return!0;let e=!1;const t=Ai.document;if(t&&"function"===typeof t.createElement)try{var n;const i=t.createElement("iframe");i.hidden=!0,t.head.appendChild(i),null!==(n=i.contentWindow)&&void 0!==n&&n.fetch&&(e=Li(i.contentWindow.fetch)),t.head.removeChild(i)}catch(i){p&&B.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}()||U(l,"fetch",function(t){return function(){const n=new Error;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];const{method:a,url:c}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Fi(t),method:Di(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Fi(t),method:Di(t,"method")?String(t.method).toUpperCase():"GET"}}(s),d={args:s,fetchData:{method:a,url:c},startTimestamp:1e3*ae(),virtualError:n,headers:Bi(s)};return e||Ti("fetch",o({},d)),t.apply(l,s).then(async t=>(e?e(t):Ti("fetch",o(o({},d),{},{endTimestamp:1e3*ae(),response:t})),t),e=>{if(Ti("fetch",o(o({},d),{},{endTimestamp:1e3*ae(),error:e})),f(e)&&void 0===e.stack&&(e.stack=n.stack,V(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(d.fetchData.url);e.message="".concat(e.message," (").concat(t.host,")")}catch(t){}throw e})}})}function Oi(e){let t;try{t=e.clone()}catch(n){return}!async function(e,t){if(null!==e&&void 0!==e&&e.body){const i=e.body,s=i.getReader(),r=setTimeout(()=>{i.cancel().then(null,()=>{})},9e4);let a=!0;for(;a;){let e;try{e=setTimeout(()=>{i.cancel().then(null,()=>{})},5e3);const{done:n}=await s.read();clearTimeout(e),n&&(t(),a=!1)}catch(n){a=!1}finally{clearTimeout(e)}}clearTimeout(r),s.releaseLock(),i.cancel().then(null,()=>{})}}(t,()=>{Ti("fetch-body-resolved",{endTimestamp:1e3*ae(),response:e})})}function Di(e,t){return!!e&&"object"===typeof e&&!!e[t]}function Fi(e){return"string"===typeof e?e:e?Di(e,"url")?e.url:e.toString?e.toString():"":""}function Bi(e){const[t,n]=e;try{if("object"===typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(k(t))return new Headers(t.headers)}catch(i){}}const qi=100;function zi(e,t){const n=Ce(),i=Ne();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:r=qi}=n.getOptions();if(r<=0)return;const a=o({timestamp:ie()},e),c=s?R(()=>s(a,t)):a;null!==c&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),i.addBreadcrumb(c,r))}function Wi(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function Hi(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}function Ui(e){return"isRelative"in e}function Vi(e,t){const n=e.indexOf("://")<=0&&0!==e.indexOf("//"),i=null!==t&&void 0!==t?t:n?"thismessage:/":void 0;try{if("canParse"in URL&&!URL.canParse(e,i))return;const t=new URL(e,i);return n?{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash}:t}catch(s){}}function Gi(e){if(Ui(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Yi(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:i,relative:t[5]+n+i}}const Ki="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Qi="10.19.0",Zi=globalThis;function Ji(){return Xi(Zi),Zi}function Xi(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Qi,t[Qi]=t[Qi]||{}}function $i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zi;const i=n.__SENTRY__=n.__SENTRY__||{},s=i[Qi]=i[Qi]||{};return s[e]||(s[e]=t())}const es={};function ts(e){if(!("console"in Zi))return e();const t=Zi.console,n={},i=Object.keys(es);i.forEach(e=>{const i=es[e];n[e]=t[e],t[e]=i});try{return e()}finally{i.forEach(e=>{t[e]=n[e]})}}function ns(){return ss().enabled}function is(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Ki&&ns()&&ts(()=>{Zi.console[e]("".concat("Sentry Logger ","[").concat(e,"]:"),...n)})}function ss(){return Ki?$i("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const rs={enable:function(){ss().enabled=!0},disable:function(){ss().enabled=!1},isEnabled:ns,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];is("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];is("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];is("error",...t)}};const as="<anonymous>";function os(e){try{return e&&"function"===typeof e&&e.name||as}catch(t){return as}}const cs={},ls={};function ds(e,t){cs[e]=cs[e]||[],cs[e].push(t)}function us(e,t){if(!ls[e]){ls[e]=!0;try{t()}catch(n){Ki&&rs.error("Error while instrumenting ".concat(e),n)}}}function hs(e,t){const n=e&&cs[e];if(n)for(const s of n)try{s(t)}catch(i){Ki&&rs.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(os(s),"\nError:"),i)}}function ps(e,t,n){if(!(t in e))return;const i=e[t];if("function"!==typeof i)return;const s=n(i);"function"===typeof s&&function(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ms(e,"__sentry_original__",t)}catch(n){}}(s,i);try{e[t]=s}catch(r){Ki&&rs.log('Failed to replace method "'.concat(t,'" in object'),e)}}function ms(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(i){Ki&&rs.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const e=Zi;return e.crypto||e.msCrypto}(),t=()=>16*Math.random();try{if(null!==e&&void 0!==e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");null!==e&&void 0!==e&&e.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}const _s=Zi;let gs,vs,ys;function xs(e){ds("dom",e),us("dom",bs)}function bs(){if(!_s.document)return;const e=hs.bind(null,"dom"),t=Ss(e,!0);_s.document.addEventListener("click",t,!1),_s.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{var n,i;const s=null===(n=_s[t])||void 0===n?void 0:n.prototype;null!==s&&void 0!==s&&null!==(i=s.hasOwnProperty)&&void 0!==i&&i.call(s,"addEventListener")&&(ps(s,"addEventListener",function(t){return function(n,i,s){if("click"===n||"keypress"==n)try{const i=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},r=i[n]=i[n]||{refCount:0};if(!r.handler){const i=Ss(e);r.handler=i,t.call(this,n,i,s)}r.refCount++}catch(r){}return t.call(this,n,i,s)}}),ps(s,"removeEventListener",function(e){return function(t,n,i){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},s=n[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,i),s.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(s){}return e.call(this,t,n,i)}}))})}function Ss(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const i=function(e){try{return e.target}catch(t){return null}}(n);if(function(e,t){return"keypress"===e&&(null===t||void 0===t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,i))return;ms(n,"_sentryCaptured",!0),i&&!i._sentryId&&ms(i,"_sentryId",fs());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==vs)return!1;try{if(!e.target||e.target._sentryId!==ys)return!1}catch(t){}return!0}(n)){e({event:n,name:s,global:t}),vs=n.type,ys=i?i._sentryId:void 0}clearTimeout(gs),gs=_s.setTimeout(()=>{ys=void 0,vs=void 0},1e3)}}function ws(){return Date.now()/1e3}let Ns,js;function Cs(){return(null!==Ns&&void 0!==Ns?Ns:Ns=function(){const{performance:e}=Zi;if(null===e||void 0===e||!e.now||!e.timeOrigin)return ws;const t=e.timeOrigin;return()=>(t+e.now())/1e3}())()}function ks(){return js||(js=function(){var e;const{performance:t}=Zi;if(null===t||void 0===t||!t.now)return[void 0,"none"];const n=36e5,i=t.now(),s=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+i-s):n,a=r<n,o=null===(e=t.timing)||void 0===e?void 0:e.navigationStart,c="number"===typeof o?Math.abs(o+i-s):n;return a||c<n?r<=c?[t.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[s,"dateNow"]}()),js[0]}const Ps=Object.prototype.toString;function Ts(e,t){return Ps.call(e)==="[object ".concat(t,"]")}function Es(e){return Ts(e,"String")}function As(e){return null===e||function(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}(e)||"object"!==typeof e&&"function"!==typeof e}function Is(e){return Ts(e,"Object")}function Ls(e){return Boolean((null===e||void 0===e?void 0:e.then)&&"function"===typeof e.then)}const Rs="__sentry_xhr_v3__";function Ms(e){ds("xhr",e),us("xhr",Os)}function Os(){if(!_s.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const i=new Error,s=1e3*Cs(),r=Es(n[0])?n[0].toUpperCase():void 0,a=function(e){if(Es(e))return e;try{return e.toString()}catch(t){}return}(n[1]);if(!r||!a)return e.apply(t,n);t[Rs]={method:r,url:a,request_headers:{}},"POST"===r&&a.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const o=()=>{const e=t[Rs];if(e&&4===t.readyState){try{e.status_code=t.status}catch(n){}hs("xhr",{endTimestamp:1e3*Cs(),startTimestamp:s,xhr:t,virtualError:i})}};return"onreadystatechange"in t&&"function"===typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(o(),e.apply(t,n))}):t.addEventListener("readystatechange",o),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[i,s]=n,r=t[Rs];return r&&Es(i)&&Es(s)&&(r.request_headers[i.toLowerCase()]=s),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const i=t[Rs];if(!i)return e.apply(t,n);void 0!==n[0]&&(i.body=n[0]);return hs("xhr",{startTimestamp:1e3*Cs(),xhr:t}),e.apply(t,n)}})}const Ds=Zi;function Fs(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}let Bs;function qs(e){const t="history";ds(t,e),us(t,zs)}function zs(){function e(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const s=n.length>2?n[2]:void 0;if(s){const t=Bs,i=function(e){try{return new URL(e,_s.location.origin).toString()}catch(t){return e}}(String(s));if(Bs=i,t===i)return e.apply(this,n);hs("history",{from:t,to:i})}return e.apply(this,n)}}_s.addEventListener("popstate",()=>{const e=_s.location.href,t=Bs;if(Bs=e,t===e)return;hs("history",{from:t,to:e})}),"history"in Ds&&Ds.history&&(ps(_s.history,"pushState",e),ps(_s.history,"replaceState",e))}const Ws="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Hs=1024,Us=function(){const e=o({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"Breadcrumbs",setup(t){e.console&&function(e){const t="console";ki(t,e),Pi(t,Ei)}(function(e){return function(t){if(Ce()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Wi(t.level),message:z(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message="Assertion failed: ".concat(z(t.args.slice(1)," ")||"console.assert"),n.data.arguments=t.args.slice(1)}zi(n,{input:t.args,level:t.level})}}(t)),e.dom&&xs(function(e,t){return function(n){if(Ce()!==e)return;let i,s,r="object"===typeof t?t.serializeAttribute:void 0,a="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>Hs&&(Ws&&B.warn("`dom.maxStringLength` cannot exceed ".concat(Hs,", but a value of ").concat(a," was configured. Sentry will use ").concat(Hs," instead.")),a=Hs),"string"===typeof r&&(r=[r]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;i=T(t,{keyAttrs:r,maxStringLength:a}),s=function(e){if(!P.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch(c){i="<unknown>"}if(0===i.length)return;const o={category:"ui.".concat(n.name),message:i};s&&(o.data={"ui.component_name":s}),zi(o,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&Ms(function(e){return function(t){if(Ce()!==e)return;const{startTimestamp:n,endTimestamp:i}=t,s=t.xhr[Rs];if(!n||!i||!s)return;const{method:r,url:a,status_code:o,body:c}=s,l={method:r,url:a,status_code:o},d={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:i},u={category:"xhr",data:l,type:"http",level:Hi(o)};e.emit("beforeOutgoingRequestBreadcrumb",u,d),zi(u,d)}}(t)),e.fetch&&Ri(function(e){return function(t){if(Ce()!==e)return;const{startTimestamp:n,endTimestamp:i}=t;if(i&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const s=t.fetchData,r={data:t.error,input:t.args,startTimestamp:n,endTimestamp:i},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,r),zi(a,r)}else{const s=t.response,r=o(o({},t.fetchData),{},{status_code:null===s||void 0===s?void 0:s.status});t.fetchData.request_body_size,t.fetchData.response_body_size,null===s||void 0===s||s.status;const a={input:t.args,response:s,startTimestamp:n,endTimestamp:i},c={category:"fetch",data:r,type:"http",level:Hi(r.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),zi(c,a)}}}(t)),e.history&&qs(function(e){return function(t){var n;if(Ce()!==e)return;let i=t.from,s=t.to;const r=Yi(yi.location.href);let a=i?Yi(i):void 0;const o=Yi(s);null!==(n=a)&&void 0!==n&&n.path||(a=r),r.protocol===o.protocol&&r.host===o.host&&(s=o.relative),r.protocol===a.protocol&&r.host===a.host&&(i=a.relative),zi({category:"navigation",data:{from:i,to:s}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(e){return function(t){Ce()===e&&zi({category:"sentry.".concat("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:$(t)},{event:t})}}(t))}}};const Vs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Gs=function(){const e=o({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&U(yi,"setTimeout",Ys),e.setInterval&&U(yi,"setInterval",Ys),e.requestAnimationFrame&&U(yi,"requestAnimationFrame",Ks),e.XMLHttpRequest&&"XMLHttpRequest"in yi&&U(XMLHttpRequest.prototype,"send",Qs);const t=e.eventTarget;if(t){(Array.isArray(t)?t:Vs).forEach(t=>function(e,t){var n,i;const s=null===(n=yi[e])||void 0===n?void 0:n.prototype;if(null===s||void 0===s||null===(i=s.hasOwnProperty)||void 0===i||!i.call(s,"addEventListener"))return;U(s,"addEventListener",function(n){return function(i,s,r){try{"function"===typeof s.handleEvent&&(s.handleEvent=Si(s.handleEvent,{mechanism:{data:{handler:Qt(s),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch(a){}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"===typeof e&&"removeEventListener"in e&&"function"===typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,i,s),n.apply(this,[i,Si(s,{mechanism:{data:{handler:Qt(s),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),r])}}),U(s,"removeEventListener",function(e){return function(t,n,i){try{const s=n.__sentry_wrapped__;s&&e.call(this,t,s,i)}catch(s){}return e.call(this,t,n,i)}})}(t,e))}}}};function Ys(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const s=n[0];return n[0]=Si(s,{mechanism:{handled:!1,type:"auto.browser.browserapierrors.".concat(Qt(e))}}),e.apply(this,n)}}function Ks(e){return function(t){return e.apply(this,[Si(t,{mechanism:{data:{handler:Qt(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Qs(e){return function(){const t=this;["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in t&&"function"===typeof t[e]&&U(t,e,function(t){const n={mechanism:{data:{handler:Qt(t)},handled:!1,type:"auto.browser.browserapierrors.xhr.".concat(e)}},i=Y(t);return i&&(n.mechanism.data.handler=Qt(i)),Si(t,n)})});for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(this,i)}}const Zs=()=>({name:"BrowserSession",setupOnce(){"undefined"!==typeof yi.document?(rn({ignoreDuration:!0}),cn(),qs(e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(rn({ignoreDuration:!0}),cn())})):Ws&&B.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let Js=null;function Xs(e){const t="error";ki(t,e),Pi(t,$s)}function $s(){Js=l.onerror,l.onerror=function(e,t,n,i,s){return Ti("error",{column:i,error:s,line:n,msg:e,url:t}),!!Js&&Js.apply(this,arguments)},l.onerror.__SENTRY_INSTRUMENTED__=!0}let er=null;function tr(e){const t="unhandledrejection";ki(t,e),Pi(t,nr)}function nr(){er=l.onunhandledrejection,l.onunhandledrejection=function(e){return Ti("unhandledrejection",e),!er||er.apply(this,arguments)},l.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ir=function(){const e=o({onerror:!0,onunhandledrejection:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(e){Xs(t=>{const{stackParser:n,attachStacktrace:i}=rr();if(Ce()!==e||bi())return;const{msg:s,url:r,line:a,column:o,error:c}=t,l=function(e,t,n,i){var s;const r=e.exception=e.exception||{},a=r.values=r.values||[],o=a[0]=a[0]||{},c=o.stacktrace=o.stacktrace||{},l=c.frames=c.frames||[],d=i,u=n,h=null!==(s=function(e){if(!y(e)||0===e.length)return;if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",i=e.includes("base64,");return"<data:".concat(n).concat(i?",base64":"",">")}return e.slice(0,1024)}(t))&&void 0!==s?s:A();0===l.length&&l.push({colno:d,filename:h,function:Ht,in_app:!0,lineno:u});return e}(_i(n,c||s,void 0,i,!1),r,a,o);l.level="error",sn(l,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}(t),sr("onerror")),e.onunhandledrejection&&(!function(e){tr(t=>{const{stackParser:n,attachStacktrace:i}=rr();if(Ce()!==e||bi())return;const s=function(e){if(b(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}(t),r=b(s)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(s))}]}}:_i(n,s,void 0,i,!0);r.level="error",sn(r,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}(t),sr("onunhandledrejection"))}}};function sr(e){Ws&&B.log("Global Handler attached: ".concat(e))}function rr(){const e=Ce();return(null===e||void 0===e?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const ar=()=>({name:"HttpContext",preprocessEvent(e){var t;if(!yi.navigator&&!yi.location&&!yi.document)return;const n=wi(),i=o(o({},n.headers),null===(t=e.request)||void 0===t?void 0:t.headers);e.request=o(o(o({},n),e.request),{},{headers:i})}});function or(e,t,n,i,s,r){var a;if(null===(a=s.exception)||void 0===a||!a.values||!r||!j(r.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=cr(e,t,i,r.originalException,n,s.exception.values,o,0))}function cr(e,t,n,i,s,r,a,o){if(r.length>=n+1)return r;let c=[...r];if(j(i[s],Error)){lr(a,o);const r=e(t,i[s]),l=c.length;dr(r,s,l,o),c=cr(e,t,n,i[s],s,[r,...c],r,l)}return Array.isArray(i.errors)&&i.errors.forEach((i,r)=>{if(j(i,Error)){lr(a,o);const l=e(t,i),d=c.length;dr(l,"errors[".concat(r,"]"),d,o),c=cr(e,t,n,i,s,[l,...c],l,d)}}),c}function lr(e,t){e.mechanism=o(o(o({handled:!0,type:"auto.core.linked_errors"},e.mechanism),"AggregateError"===e.type&&{is_exception_group:!0}),{},{exception_id:t})}function dr(e,t,n,i){e.mechanism=o(o({handled:!0},e.mechanism),{},{type:"chained",source:t,exception_id:n,parent_id:i})}const ur=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,i,s){or(ci,s.getOptions().stackParser,n,t,e,i)}}};function hr(e,t,n,i){const s={filename:e,function:"<anonymous>"===t?Ht:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==i&&(s.colno=i),s}const pr=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,mr=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fr=/\((\S*)(?::(\d+))(?::(\d+))\)/,_r=/at (.+?) ?\(data:(.+?),/,gr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yr=Gt(...[[30,e=>{const t=e.match(_r);if(t)return{filename:"<data:".concat(t[2],">"),function:t[1]};const n=pr.exec(e);if(n){const[,e,t,i]=n;return hr(e,Ht,+t,+i)}const i=mr.exec(e);if(i){if(i[2]&&0===i[2].indexOf("eval")){const e=fr.exec(i[2]);e&&(i[2]=e[1],i[3]=e[2],i[4]=e[3])}const[e,t]=xr(i[1]||Ht,i[2]);return hr(t,e,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}}],[50,e=>{const t=gr.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=vr.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Ht;return[n,e]=xr(n,e),hr(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),xr=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),i=-1!==e.indexOf("safari-web-extension");return n||i?[-1!==e.indexOf("@")?e.split("@")[0]:Ht,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]},br=Symbol.for("SentryBufferFullError");function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;const t=new Set;function n(e){t.delete(e)}return{get $(){return Array.from(t)},add:function(i){if(!(t.size<e))return Ee(br);const s=i();return t.add(s),s.then(()=>n(s),()=>n(s)),s},drain:function(e){if(!t.size)return Te(!0);const n=Promise.allSettled(Array.from(t)).then(()=>!0);if(!e)return n;const i=[n,new Promise(t=>setTimeout(()=>t(!1),e))];return Promise.race(i)}}}function wr(e,t){let{statusCode:n,headers:i}=t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const r=o({},e),a=null===i||void 0===i?void 0:i["x-sentry-rate-limits"],c=null===i||void 0===i?void 0:i["retry-after"];if(a)for(const o of a.trim().split(",")){const[e,t,,,n]=o.split(":",5),i=parseInt(e,10),a=1e3*(isNaN(i)?60:i);if(t)for(const o of t.split(";"))"metric_bucket"===o&&n&&!n.split(";").includes("custom")||(r[o]=s+a);else r.all=s+a}else c?r.all=s+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;const i=Date.parse("".concat(e));return isNaN(i)?6e4:i-t}(c,s):429===n&&(r.all=s+6e4);return r}function Nr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sr(e.bufferSize||64),i={};return{send:function(s){const r=[];if(An(s,(t,n)=>{const s=Dn(n);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}(i,s)?r.push(t):e.recordDroppedEvent("ratelimit_backoff",s)}),0===r.length)return Promise.resolve({});const a=Tn(s[0],r),o=t=>{An(a,(n,i)=>{e.recordDroppedEvent(t,Dn(i))})};return n.add(()=>t({body:Ln(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&p&&B.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),i=wr(i,e),e),e=>{throw o("network_error"),p&&B.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===br)return p&&B.error("Skipped sending event because buffer is full."),o("queue_overflow"),Promise.resolve({});throw e})},flush:e=>n.drain(e)}}const jr="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Cr={};function kr(e){const t=Cr[e];if(t)return t;let n=_s[e];if(Fs(n))return Cr[e]=n.bind(_s);const i=_s.document;if(i&&"function"===typeof i.createElement)try{const t=i.createElement("iframe");t.hidden=!0,i.head.appendChild(t);const s=t.contentWindow;null!==s&&void 0!==s&&s[e]&&(n=s[e]),i.head.removeChild(t)}catch(s){jr&&rs.warn("Could not create sandbox iframe for ".concat(e," check, bailing to window.").concat(e,": "),s)}return n?Cr[e]=n.bind(_s):n}function Pr(){return kr("setTimeout")(...arguments)}function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr("fetch"),n=0,i=0;return Nr(e,async function(s){const r=s.body.length;n+=r,i++;const a=o({body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&i<15},e.fetchOptions);try{const n=await t(e.url,a);return{statusCode:n.status,headers:{"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")}}}catch(c){throw Cr["fetch"]=void 0,c}finally{n-=r,i--}})}function Er(){return!!function(){var e;if("undefined"===typeof yi.window)return!1;const t=yi;if(t.nw)return!1;const n=t.chrome||t.browser;if(null===n||void 0===n||null===(e=n.runtime)||void 0===e||!e.id)return!1;const i=A(),s=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(yi===yi.top&&s.some(e=>i.startsWith("".concat(e,"://"))))}()&&(Ws&&R(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0)}const Ar="10.19.0";class Ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||ue(),this._spanId=e.spanId||he()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}function Lr(e){if(!e||0===e.length)return;const t={};return e.forEach(e=>{const n=e.attributes||{},i=n["sentry.measurement_unit"],s=n["sentry.measurement_value"];"string"===typeof i&&"number"===typeof s&&(t[e.name]={value:s,unit:i})}),t}class Rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||ue(),this._spanId=e.spanId||he(),this._startTime=e.startTimestamp||ae(),this._links=e.links,this._attributes={},this.setAttributes(o({[Fe]:"manual",[De]:e.op},e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=yt(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Re,"custom"),this}end(e){this._endTime||(this._endTime=yt(e),function(e){if(!p)return;const{description:t="< unknown name >",op:n="< unknown op >"}=bt(e),{spanId:i}=e.spanContext(),s=Pt(e)===e,r='[Tracing] Finishing "'.concat(n,'" ').concat(s?"root ":"",'span "').concat(t,'" with ID ').concat(i);B.log(r)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[De],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:wt(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fe],profile_id:this._attributes[ze],exclusive_time:this._attributes[We],measurements:Lr(this._events),is_segment:this._isStandaloneSpan&&Pt(this)===this||void 0,segment_id:this._isStandaloneSpan?Pt(this).spanContext().spanId:void 0,links:vt(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){p&&B.log("[Tracing] Adding an event to span:",e);const i=Mr(t)?t:n||ae(),s=Mr(t)?{}:t||{},r={name:e,time:yt(i),attributes:s};return this._events.push(r),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Ce();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===Pt(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=Ce();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(function(e,t){const n=Mt(e[0]),i=null===t||void 0===t?void 0:t.getDsn(),s=null===t||void 0===t?void 0:t.getOptions().tunnel,r=o(o({sent_at:(new Date).toISOString()},function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n}),!!s&&i&&{dsn:Je(i)}),{beforeSendSpan:a,ignoreSpans:c}=(null===t||void 0===t?void 0:t.getOptions())||{},l=null!==c&&void 0!==c&&c.length?e.filter(e=>!qn(bt(e),c)):e,d=e.length-l.length;d&&(null===t||void 0===t||t.recordDroppedEvent("before_send","span",d));const u=a?e=>{const t=bt(e);return a(t)||(Et(),t)}:bt,h=[];for(const o of l){const e=u(o);e&&h.push(Rn(e))}return Tn(r,h)}([this],e)):(p&&B.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(ct(this).scope||we()).captureEvent(t)}}_convertSpanToTransaction(){var e;if(!Or(bt(this)))return;this._name||(p&&B.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=ct(this),i=null===t||void 0===t||null===(e=t.getScopeData().sdkProcessingMetadata)||void 0===e?void 0:e.normalizedRequest;if(!0!==this._sampled)return;const s=kt(this).filter(e=>e!==this&&!function(e){return e instanceof Rr&&e.isStandaloneSpan()}(e)).map(e=>bt(e)).filter(Or),r=this._attributes[Re];delete this._attributes[qe],s.forEach(e=>{delete e.data[qe]});const a=o({contexts:{trace:_t(this)},spans:s.length>1e3?s.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Mt(this)},request:i},r&&{transaction_info:{source:r}}),c=Lr(this._events);return c&&Object.keys(c).length&&(p&&B.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Mr(e){return e&&"number"===typeof e||e instanceof Date||Array.isArray(e)}function Or(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}const Dr="__SENTRY_SUPPRESS_TRACING__";function Fr(e){const t=Wr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=zr(e),{forceTransaction:i,parentSpan:s}=e;return(e.scope?t=>je(e.scope,t):void 0!==s?e=>Br(s,e):e=>e())(()=>{const t=we(),r=Ur(t,s);return e.onlyIfParent&&!r?new Ir:qr({parentSpan:r,spanArguments:n,forceTransaction:i,scope:t})})}function Br(e,t){const n=Wr();return n.withActiveSpan?n.withActiveSpan(e,t):je(n=>(me(n,e||void 0),t(n)))}function qr(e){let{parentSpan:t,spanArguments:n,forceTransaction:i,scope:s}=e;if(!tt()){const e=new Ir;if(i||!t){It(e,o({sampled:"false",sample_rate:"0",transaction:n.name},Mt(e)))}return e}const r=Ne();let a;if(t&&!i)a=function(e,t,n){const{spanId:i,traceId:s}=e.spanContext(),r=!t.getScopeData().sdkProcessingMetadata[Dr]&&St(e),a=r?new Rr(o(o({},n),{},{parentSpanId:i,traceId:s,sampled:r})):new Ir({traceId:s});Ct(e,a);const c=Ce();c&&(c.emit("spanStart",a),n.endTimestamp&&c.emit("spanEnd",a));return a}(t,s,n),Ct(t,a);else if(t){const e=Mt(t),{traceId:i,spanId:r}=t.spanContext(),c=St(t);a=Hr(o({traceId:i,parentSpanId:r},n),s,c),It(a,e)}else{const{traceId:e,dsc:t,parentSpanId:i,sampled:c}=o(o({},r.getPropagationContext()),s.getPropagationContext());a=Hr(o({traceId:e,parentSpanId:i},n),s,c),t&&It(a,t)}return function(e){if(!p)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:i}=bt(e),{spanId:s}=e.spanContext(),r=St(e),a=Pt(e),o=a===e,c="[Tracing] Starting ".concat(r?"sampled":"unsampled"," ").concat(o?"root ":"","span"),l=["op: ".concat(n),"name: ".concat(t),"ID: ".concat(s)];if(i&&l.push("parent ID: ".concat(i)),!o){const{op:e,description:t}=bt(a);l.push("root ID: ".concat(a.spanContext().spanId)),e&&l.push("root op: ".concat(e)),t&&l.push("root description: ".concat(t))}B.log("".concat(c,"\n  ").concat(l.join("\n  ")))}(a),ot(a,s,r),a}function zr(e){const t=o({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){const n=o({},t);return n.startTimestamp=yt(e.startTime),delete n.startTime,n}return t}function Wr(){return Se(d())}function Hr(e,t,n){var i,s;const r=Ce(),a=(null===r||void 0===r?void 0:r.getOptions())||{},{name:c=""}=e,l={spanAttributes:o({},e.attributes),spanName:c,parentSampled:n};null===r||void 0===r||r.emit("beforeSampling",l,{decision:!1});const d=null!==(i=l.parentSampled)&&void 0!==i?i:n,u=l.spanAttributes,h=t.getPropagationContext(),[m,f,_]=t.getScopeData().sdkProcessingMetadata[Dr]?[!1]:function(e,t,n){if(!tt(e))return[!1];let i,s;"function"===typeof e.tracesSampler?(s=e.tracesSampler(o(o({},t),{},{inheritOrSampleWith:e=>"number"===typeof t.parentSampleRate?t.parentSampleRate:"boolean"===typeof t.parentSampled?Number(t.parentSampled):e})),i=!0):void 0!==t.parentSampled?s=t.parentSampled:"undefined"!==typeof e.tracesSampleRate&&(s=e.tracesSampleRate,i=!0);const r=lt(s);if(void 0===r)return p&&B.warn("[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(s)," of type ").concat(JSON.stringify(typeof s),".")),[!1];if(!r)return p&&B.log("[Tracing] Discarding transaction because ".concat("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,r,i];const a=n<r;return a||p&&B.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(s),")")),[a,r,i]}(a,{name:c,parentSampled:d,attributes:u,parentSampleRate:lt(null===(s=h.dsc)||void 0===s?void 0:s.sample_rate)},h.sampleRand),g=new Rr(o(o({},e),{},{attributes:o({[Re]:"custom",[Me]:void 0!==f&&_?f:void 0},u),sampled:m}));return!m&&r&&(p&&B.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",g),g}function Ur(e,t){if(t)return t;if(null===t)return;const n=fe(e);if(!n)return;const i=Ce();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?Pt(n):n}const Vr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function Gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Map;let i,s=!1,r="externalFinish",a=!t.disableAutoFinish;const c=[],{idleTimeout:l=Vr.idleTimeout,finalTimeout:d=Vr.finalTimeout,childSpanTimeout:u=Vr.childSpanTimeout,beforeSpanEnd:h,trimIdleSpanEndTimestamp:m=!0}=t,f=Ce();if(!f||!tt()){const e=new Ir;return It(e,o({sample_rate:"0",sampled:"false"},Mt(e))),e}const _=we(),g=Tt(),v=function(e){const t=Fr(e);return me(we(),t),p&&B.log("[Tracing] Started span is an idle span"),t}(e);function y(){i&&(clearTimeout(i),i=void 0)}function x(e){y(),i=setTimeout(()=>{!s&&0===n.size&&a&&(r="idleTimeout",v.end(e))},l)}function b(e){i=setTimeout(()=>{!s&&a&&(r="heartbeatFailed",v.end(e))},u)}function S(e){s=!0,n.clear(),c.forEach(e=>e()),me(_,g);const t=bt(v),{start_timestamp:i}=t;if(!i)return;t.data[Be]||v.setAttribute(Be,r),B.log('[Tracing] Idle span "'.concat(t.op,'" finished'));const a=kt(v).filter(e=>e!==v);let o=0;a.forEach(t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),p&&B.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=bt(t),{timestamp:i=0,start_timestamp:s=0}=n,r=s<=e,a=i-s<=(d+l)/1e3;if(p){const e=JSON.stringify(t,void 0,2);r?a||B.log("[Tracing] Discarding span since it finished after idle span final timeout",e):B.log("[Tracing] Discarding span since it happened after idle span was finished",e)}a&&r||(!function(e,t){e[Nt]&&e[Nt].delete(t)}(v,t),o++)}),o>0&&v.setAttribute("sentry.idle_span_discarded_spans",o)}return v.end=new Proxy(v.end,{apply(e,t,n){if(h&&h(v),t instanceof Ir)return;const[i,...s]=n,r=yt(i||ae()),a=kt(v).filter(e=>e!==v),o=bt(v);if(!a.length||!m)return S(r),Reflect.apply(e,t,[r,...s]);const c=f.getOptions().ignoreSpans,l=null===a||void 0===a?void 0:a.reduce((e,t)=>{const n=bt(t);return n.timestamp?c&&qn(n,c)?e:e?Math.max(e,n.timestamp):n.timestamp:e},void 0),u=o.start_timestamp,p=Math.min(u?u+d/1e3:1/0,Math.max(u||-1/0,Math.min(r,l||1/0)));return S(p),Reflect.apply(e,t,[p,...s])}}),c.push(f.on("spanStart",e=>{if(s||e===v||bt(e).timestamp||e instanceof Rr&&e.isStandaloneSpan())return;var t;kt(v).includes(e)&&(t=e.spanContext().spanId,y(),n.set(t,!0),b(ae()+u/1e3))})),c.push(f.on("spanEnd",e=>{var t;s||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&x(ae()+l/1e3))})),c.push(f.on("idleSpanEnableAutoFinish",e=>{e===v&&(a=!0,x(),n.size&&b())})),t.disableAutoFinish||x(),setTimeout(()=>{s||(v.setStatus({code:2,message:"deadline_exceeded"}),r="finalTimeout",v.end())},d),v}let Yr=!1;function Kr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Cs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:fs()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Qr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const i=o({},e);for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=Qr(i[s],t[s],n-1));return i}function Zr(){return fs()}function Jr(){return fs().substring(16)}const Xr="_sentrySpan";function $r(e,t){t?ms(e,Xr,t):delete e[Xr]}function ea(e){return e[Xr]}function ta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function na(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!Es(e)&&(Ts(t,"RegExp")?t.test(e):!!Es(t)&&(n?e===t:e.includes(t)))}class ia{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Zr(),sampleRand:Math.random()}}clone(){const e=new ia;return e._breadcrumbs=[...this._breadcrumbs],e._tags=o({},this._tags),e._extra=o({},this._extra),e._contexts=o({},this._contexts),this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata=o({},this._sdkProcessingMetadata),e._propagationContext=o({},this._propagationContext),e._client=this._client,e._lastEventId=this._lastEventId,$r(e,ea(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Kr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags=o(o({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=o(o({},this._tags),{},{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=o(o({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=o(o({},this._extra),{},{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e,n=t instanceof ia?t.getScopeData():Is(t)?e:void 0,{tags:i,extra:s,user:r,contexts:a,level:c,fingerprint:l=[],propagationContext:d}=n||{};return this._tags=o(o({},this._tags),i),this._extra=o(o({},this._extra),s),this._contexts=o(o({},this._contexts),a),r&&Object.keys(r).length&&(this._user=r),c&&(this._level=c),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,$r(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Zr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const i=o(o({timestamp:ws()},e),{},{message:e.message?ta(e.message,2048):e.message});var s;(this._breadcrumbs.push(i),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(s=this._client)||void 0===s||s.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ea(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Qr(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||fs();if(!this._client)return Ki&&rs.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(e,o(o({originalException:e,syntheticException:i},t),{},{event_id:n}),this),n}captureMessage(e,t,n){const i=(null===n||void 0===n?void 0:n.event_id)||fs();if(!this._client)return Ki&&rs.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,t,o(o({originalException:e,syntheticException:s},n),{},{event_id:i}),this),i}captureEvent(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||fs();return this._client?(this._client.captureEvent(e,o(o({},t),{},{event_id:n}),this),n):(Ki&&rs.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class sa{constructor(e,t){let n,i;n=e||new ia,i=t||new ia,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(i){throw this._popScope(),i}return Ls(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ra(){const e=Xi(Ji());return e.stack=e.stack||new sa($i("defaultCurrentScope",()=>new ia),$i("defaultIsolationScope",()=>new ia))}function aa(e){return ra().withScope(e)}function oa(e,t){const n=ra();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ca(e){return ra().withScope(()=>e(ra().getIsolationScope()))}function la(e){const t=Xi(e);return t.acs?t.acs:{withIsolationScope:ca,withScope:aa,withSetScope:oa,withSetIsolationScope:(e,t)=>ca(t),getCurrentScope:()=>ra().getScope(),getIsolationScope:()=>ra().getIsolationScope()}}function da(){return la(Ji()).getCurrentScope()}function ua(){const e=la(Ji());for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(2===n.length){const[t,i]=n;return t?e.withSetScope(t,i):e.withScope(i)}return e.withScope(n[0])}function ha(){return da().getClient()}const pa="sentry.source",ma="sentry.sample_rate",fa="sentry.op",_a="sentry.origin",ga="sentry.measurement_unit",va="sentry.measurement_value",ya="sentry.custom_span_name",xa="sentry.exclusive_time";const ba=["spanId","traceId","traceFlags"];let Sa=!1;function wa(e){const{spanId:t,traceId:n}=e.spanContext(),{data:i,op:s,parent_span_id:r,status:a,origin:o,links:c}=ka(e);return{parent_span_id:r,span_id:t,trace_id:n,data:i,op:s,status:a,origin:o,links:c}}function Na(e){return e&&e.length>0?e.map(e=>{let{context:{spanId:t,traceId:n,traceFlags:i},attributes:s}=e;return o({span_id:t,trace_id:n,sampled:1===i,attributes:s},nt(e.context,ba))}):void 0}function ja(e){return"number"===typeof e?Ca(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ca(e.getTime()):Cs()}function Ca(e){return e>9999999999?e/1e3:e}function ka(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){var i;const{attributes:s,startTime:r,name:a,endTime:o,status:c,links:l}=e;return{span_id:t,trace_id:n,data:s,description:a,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?null===(i=e.parentSpanContext)||void 0===i?void 0:i.spanId:void 0,start_timestamp:ja(r),timestamp:ja(o)||void 0,status:Ta(c),op:s[fa],origin:s[_a],links:Na(l)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Pa(e){const{traceFlags:t}=e.spanContext();return 1===t}function Ta(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const Ea="_sentryChildSpans",Aa="_sentryRootSpan";function Ia(e,t){const n=e[Aa]||e;ms(t,Aa,n),e[Ea]?e[Ea].add(t):ms(e,Ea,new Set([t]))}function La(e){return e[Aa]||e}function Ra(){const e=la(Ji());return e.getActiveSpan?e.getActiveSpan():ea(da())}const Ma=Zi;function Oa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const i=5,s=[];let r=0,a=0;const o=" > ",c=o.length;let l;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&r++<i&&(l=Da(n,d),!("html"===l||r>1&&a+s.length*c+l.length>=u));)s.push(l),a+=l.length,n=n.parentNode;return s.reverse().join(o)}catch(n){return"<unknown>"}}function Da(e,t){const n=e,i=[];if(null===n||void 0===n||!n.tagName)return"";if(Ma.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const s=null!==t&&void 0!==t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(null!==s&&void 0!==s&&s.length)s.forEach(e=>{i.push("[".concat(e[0],'="').concat(e[1],'"]'))});else{n.id&&i.push("#".concat(n.id));const e=n.className;if(e&&Es(e)){const t=e.split(/\s+/);for(const e of t)i.push(".".concat(e))}}const r=["aria-label","type","name","title","alt"];for(const a of r){const e=n.getAttribute(a);e&&i.push("[".concat(a,'="').concat(e,'"]'))}return i.join("")}function Fa(e){if(!Ma.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Ba(e){if(!e||0===e.length)return;const t={};return e.forEach(e=>{const n=e.attributes||{},i=n[ga],s=n[va];"string"===typeof i&&"number"===typeof s&&(t[e.name]={value:s,unit:i})}),t}const qa=(e,t,n,i)=>{let s,r;return a=>{t.value>=0&&(a||i)&&(r=t.value-(null!==s&&void 0!==s?s:0),(r||void 0===s)&&(s=t.value,t.delta=r,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},za=function(){var e,t;let n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const i=null===(e=_s.performance)||void 0===e||null===(t=e.getEntriesByType)||void 0===t?void 0:t.call(e,"navigation")[0];if(!n||i&&i.responseStart>0&&i.responseStart<performance.now())return i},Wa=()=>{var e;const t=za();return null!==(e=null===t||void 0===t?void 0:t.activationStart)&&void 0!==e?e:0},Ha=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=za();let i="navigate";var s,r;n&&(null!==(s=_s.document)&&void 0!==s&&s.prerendering||Wa()>0?i="prerender":null!==(r=_s.document)&&void 0!==r&&r.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-")));return{name:e,value:t,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Ua=new WeakMap;function Va(e,t){return Ua.get(e)||Ua.set(e,new t),Ua.get(e)}class Ga{constructor(){Ga.prototype.__init.call(this),Ga.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){var t;if(e.hadRecentInput)return;const n=this._sessionEntries[0],i=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&i&&e.startTime-i.startTime<1e3&&e.startTime-n.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),null===(t=this._onAfterProcessingUnexpectedShift)||void 0===t||t.call(this,e)}}const Ya=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return i.observe(o({type:e,buffered:!0},n)),i}}catch(i){}},Ka=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Qa=-1;const Za=e=>{"hidden"===_s.document.visibilityState&&Qa>-1&&(Qa="visibilitychange"===e.type?e.timeStamp:0,Ja())},Ja=()=>{removeEventListener("visibilitychange",Za,!0),removeEventListener("prerenderingchange",Za,!0)},Xa=()=>{if(_s.document&&Qa<0){var e;const t=Wa(),n=_s.document.prerendering||null===(e=globalThis.performance.getEntriesByType("visibility-state").filter(e=>"hidden"===e.name&&e.startTime>t)[0])||void 0===e?void 0:e.startTime;Qa=null!==n&&void 0!==n?n:(()=>{var e,t;return"hidden"!==(null===(e=_s.document)||void 0===e?void 0:e.visibilityState)||null!==(t=_s.document)&&void 0!==t&&t.prerendering?1/0:0})(),addEventListener("visibilitychange",Za,!0),addEventListener("prerenderingchange",Za,!0)}return{get firstHiddenTime(){return Qa}}},$a=e=>{var t;null!==(t=_s.document)&&void 0!==t&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},eo=[1800,3e3],to=[.1,.25],no=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$a(()=>{const n=Xa(),i=Ha("FCP");let s;const r=Ya("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(r.disconnect(),t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-Wa(),0),i.entries.push(t),s(!0)))});r&&(s=qa(e,i,eo,t.reportAllChanges))})}(Ka(()=>{const n=Ha("CLS",0);let i;const s=Va(t,Ga),r=e=>{for(const t of e)s._processEntry(t);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,i())},a=Ya("layout-shift",r);var o,c;a&&(i=qa(e,n,to,t.reportAllChanges),null===(o=_s.document)||void 0===o||o.addEventListener("visibilitychange",()=>{var e;"hidden"===(null===(e=_s.document)||void 0===e?void 0:e.visibilityState)&&(r(a.takeRecords()),i(!0))}),null===_s||void 0===_s||null===(c=_s.setTimeout)||void 0===c||c.call(_s,i))}))};let io=0,so=1/0,ro=0;const ao=e=>{e.forEach(e=>{e.interactionId&&(so=Math.min(so,e.interactionId),ro=Math.max(ro,e.interactionId),io=ro?(ro-so)/7+1:0)})};let oo;const co=()=>oo?io:performance.interactionCount||0,lo=()=>{"interactionCount"in performance||oo||(oo=Ya("event",ao,{type:"event",buffered:!0,durationThreshold:0}))};let uo=0;class ho{constructor(){ho.prototype.__init.call(this),ho.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){uo=co(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor((co()-uo)/50));return this._longestInteractionList[e]}_processEntry(e){var t;if(null===(t=this._onBeforeProcessingEntry)||void 0===t||t.call(this,e),!e.interactionId&&"first-input"!==e.entryType)return;const n=this._longestInteractionList.at(-1);let i=this._longestInteractionMap.get(e.interactionId);if(i||this._longestInteractionList.length<10||e.duration>n._latency){var s;if(i?e.duration>i._latency?(i.entries=[e],i._latency=e.duration):e.duration===i._latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(i.id,i),this._longestInteractionList.push(i)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10){const e=this._longestInteractionList.splice(10);for(const t of e)this._longestInteractionMap.delete(t.id)}null===(s=this._onAfterProcessingINPCandidate)||void 0===s||s.call(this,i)}}}const po=e=>{const t=t=>{var n;"pagehide"!==t.type&&"hidden"!==(null===(n=_s.document)||void 0===n?void 0:n.visibilityState)||e(t)};_s.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},mo=e=>{var t;const n=_s.requestIdleCallback||_s.setTimeout;"hidden"===(null===(t=_s.document)||void 0===t?void 0:t.visibilityState)?e():(n(e=Ka(e)),po(e))},fo=[200,500];class _o{_processEntry(e){var t;null===(t=this._onBeforeProcessingEntry)||void 0===t||t.call(this,e)}}const go=[2500,4e3],vo=[800,1800],yo=e=>{var t,n;null!==(t=_s.document)&&void 0!==t&&t.prerendering?$a(()=>yo(e)):"complete"!==(null===(n=_s.document)||void 0===n?void 0:n.readyState)?addEventListener("load",()=>yo(e),!0):setTimeout(e)},xo={},bo={};let So,wo,No,jo;function Co(e){return Mo("cls",e,Ao,So,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function ko(e){return Mo("lcp",e,Io,wo,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Po(e){return Mo("inp",e,Ro,jo)}function To(e,t){return Oo(e,t),bo[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Ya(e,t=>{Eo(e,{entries:t})},t)}(e),bo[e]=!0),Do(e,t)}function Eo(e,t){const n=xo[e];if(null!==n&&void 0!==n&&n.length)for(const s of n)try{s(t)}catch(i){jr&&rs.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(os(s),"\nError:"),i)}}function Ao(){return no(e=>{Eo("cls",{metric:e}),So=e},{reportAllChanges:!0})}function Io(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$a(()=>{const n=Xa(),i=Ha("LCP");let s;const r=Va(t,_o),a=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)r._processEntry(t),t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-Wa(),0),i.entries=[t],s())},o=Ya("largest-contentful-paint",a);if(o){s=qa(e,i,go,t.reportAllChanges);const n=Ka(()=>{a(o.takeRecords()),o.disconnect(),s(!0)});for(const e of["keydown","click","visibilitychange"])_s.document&&addEventListener(e,()=>mo(n),{capture:!0,once:!0})}})}(e=>{Eo("lcp",{metric:e}),wo=e},{reportAllChanges:!0})}function Lo(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ha("TTFB"),i=qa(e,n,vo,t.reportAllChanges);yo(()=>{const e=za();e&&(n.value=Math.max(e.responseStart-Wa(),0),n.entries=[e],i(!0))})}(e=>{Eo("ttfb",{metric:e}),No=e})}function Ro(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&$a(()=>{var n;lo();const i=Ha("INP");let s;const r=Va(t,ho),a=e=>{mo(()=>{for(const n of e)r._processEntry(n);const t=r._estimateP98LongestInteraction();t&&t._latency!==i.value&&(i.value=t._latency,i.entries=t.entries,s())})},o=Ya("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});s=qa(e,i,fo,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),po(()=>{a(o.takeRecords()),s(!0)}))})}(e=>{Eo("inp",{metric:e}),jo=e})}function Mo(e,t,n,i){let s,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Oo(e,t),bo[e]||(s=n(),bo[e]=!0),i&&t({metric:i}),Do(e,t,r?s:void 0)}function Oo(e,t){xo[e]=xo[e]||[],xo[e].push(t)}function Do(e,t,n){return()=>{n&&n();const i=xo[e];if(!i)return;const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}function Fo(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};try{n=e()}catch(r){throw t(r),i(),r}return function(e,t,n,i){if(Ls(e))return e.then(e=>(n(),i(e),e),e=>{throw t(e),n(),e});return n(),i(e),e}(n,t,i,s)}function Bo(e){var t;if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=e||(null===(t=ha())||void 0===t?void 0:t.getOptions());return!!n&&(null!=n.tracesSampleRate||!!n.tracesSampler)}function qo(e){if("boolean"===typeof e)return Number(e);const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)||t<0||t>1?void 0:t}const zo=/^sentry-/;function Wo(e){const t=function(e){if(!e||!Es(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((e,t)=>{const n=Ho(t);return Object.entries(n).forEach(t=>{let[n,i]=t;e[n]=i}),e},{});return Ho(e)}(e);if(!t)return;const n=Object.entries(t).reduce((e,t)=>{let[n,i]=t;if(n.match(zo)){e[n.slice(7)]=i}return e},{});return Object.keys(n).length>0?n:void 0}function Ho(e){return e.split(",").map(e=>{const t=e.indexOf("=");if(-1===t)return[];return[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch(t){return}})}).reduce((e,t)=>{let[n,i]=t;return n&&i&&(e[n]=i),e},{})}const Uo=/^o(\d+)\./;function Vo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:i,pass:s,port:r,projectId:a,protocol:o,publicKey:c}=e;return"".concat(o,"://").concat(c).concat(t&&s?":".concat(s):"")+"@".concat(n).concat(r?":".concat(r):"","/").concat(i?"".concat(i,"/"):i).concat(a)}function Go(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let i;return t.orgId?i=String(t.orgId):n&&(i=function(e){const t=e.match(Uo);return null===t||void 0===t?void 0:t[1]}(n)),i}const Yo="_sentryScope",Ko="_sentryIsolationScope";function Qo(e){if(e){if("object"===typeof e&&"deref"in e&&"function"===typeof e.deref)try{return e.deref()}catch(t){return}return e}}function Zo(e,t,n){e&&(ms(e,Ko,function(e){try{const t=Zi.WeakRef;if("function"===typeof t)return new t(e)}catch(t){}return e}(n)),ms(e,Yo,t))}function Jo(e){const t=e;return{scope:t[Yo],isolationScope:Qo(t[Ko])}}const Xo="_frozenDsc";function $o(e,t){ms(e,Xo,t)}function ec(e,t){const n=t.getOptions(),{publicKey:i}=t.getDsn()||{},s={environment:n.environment||"production",release:n.release,public_key:i,trace_id:e,org_id:Go(t)};return t.emit("createDsc",s),s}function tc(e){var t,n;const i=ha();if(!i)return{};const s=La(e),r=ka(s),a=r.data,o=s.spanContext().traceState,c=null!==(t=null!==(n=null===o||void 0===o?void 0:o.get("sentry.sample_rate"))&&void 0!==n?n:a[ma])&&void 0!==t?t:a["sentry.previous_trace_sample_rate"];function l(e){return"number"!==typeof c&&"string"!==typeof c||(e.sample_rate="".concat(c)),e}const d=s[Xo];if(d)return l(d);const u=null===o||void 0===o?void 0:o.get("sentry.dsc"),h=u&&Wo(u);if(h)return l(h);const p=ec(e.spanContext().traceId,i),m=a[pa],f=r.description;var _,g;("url"!==m&&f&&(p.transaction=f),Bo())&&(p.sampled=String(Pa(s)),p.sample_rand=null!==(_=null===o||void 0===o?void 0:o.get("sentry.sample_rand"))&&void 0!==_?_:null===(g=Jo(s).scope)||void 0===g?void 0:g.getPropagationContext().sampleRand.toString());return l(p),i.emit("createDsc",p,s),p}class nc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||Zr(),this._spanId=e.spanId||Jr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}function ic(e){return[{type:"span"},e]}function sc(e){rs.log("Ignoring span ".concat(e.op," - ").concat(e.description," because it matches `ignoreSpans`."))}function rc(e){return"string"===typeof e||e instanceof RegExp}function ac(e,t){const n=tc(e[0]),i=null===t||void 0===t?void 0:t.getDsn(),s=null===t||void 0===t?void 0:t.getOptions().tunnel,r=o(o({sent_at:(new Date).toISOString()},function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n}),!!s&&i&&{dsn:Vo(i)}),{beforeSendSpan:a,ignoreSpans:c}=(null===t||void 0===t?void 0:t.getOptions())||{},l=null!==c&&void 0!==c&&c.length?e.filter(e=>!function(e,t){if(null===t||void 0===t||!t.length||!e.description)return!1;for(const n of t){if(rc(n)){if(na(e.description,n))return Ki&&sc(e),!0;continue}if(!n.name&&!n.op)continue;const t=!n.name||na(e.description,n.name),i=!n.op||e.op&&na(e.op,n.op);if(t&&i)return Ki&&sc(e),!0}return!1}(ka(e),c)):e,d=e.length-l.length;d&&(null===t||void 0===t||t.recordDroppedEvent("before_send","span",d));const u=a?e=>{const t=ka(e),n=a(t);return n||(Sa||(ts(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Sa=!0),t)}:ka,h=[];for(const o of l){const e=u(o);e&&h.push(ic(e))}return function(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}(r,h)}class oc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||Zr(),this._spanId=e.spanId||Jr(),this._startTime=e.startTimestamp||Cs(),this._links=e.links,this._attributes={},this.setAttributes(o({[_a]:"manual",[fa]:e.op},e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=ja(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(pa,"custom"),this}end(e){this._endTime||(this._endTime=ja(e),function(e){if(!Ki)return;const{description:t="< unknown name >",op:n="< unknown op >"}=ka(e),{spanId:i}=e.spanContext(),s=La(e)===e,r='[Tracing] Finishing "'.concat(n,'" ').concat(s?"root ":"",'span "').concat(t,'" with ID ').concat(i);rs.log(r)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[fa],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ta(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[_a],profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[xa],measurements:Ba(this._events),is_segment:this._isStandaloneSpan&&La(this)===this||void 0,segment_id:this._isStandaloneSpan?La(this).spanContext().spanId:void 0,links:Na(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){Ki&&rs.log("[Tracing] Adding an event to span:",e);const i=cc(t)?t:n||Cs(),s=cc(t)?{}:t||{},r={name:e,time:ja(i),attributes:s};return this._events.push(r),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=ha();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===La(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=ha();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(ac([this],e)):(Ki&&rs.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(Jo(this).scope||da()).captureEvent(t)}}_convertSpanToTransaction(){var e;if(!lc(ka(this)))return;this._name||(Ki&&rs.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Jo(this),i=null===t||void 0===t||null===(e=t.getScopeData().sdkProcessingMetadata)||void 0===e?void 0:e.normalizedRequest;if(!0!==this._sampled)return;const s=function(e){const t=new Set;return function e(n){if(!t.has(n)&&Pa(n)){t.add(n);const i=n[Ea]?Array.from(n[Ea]):[];for(const t of i)e(t)}}(e),Array.from(t)}(this).filter(e=>e!==this&&!function(e){return e instanceof oc&&e.isStandaloneSpan()}(e)).map(e=>ka(e)).filter(lc),r=this._attributes[pa];delete this._attributes[ya],s.forEach(e=>{delete e.data[ya]});const a=o({contexts:{trace:wa(this)},spans:s.length>1e3?s.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:tc(this)},request:i},r&&{transaction_info:{source:r}}),c=Ba(this._events);return c&&Object.keys(c).length&&(Ki&&rs.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function cc(e){return e&&"number"===typeof e||e instanceof Date||Array.isArray(e)}function lc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}const dc="__SENTRY_SUPPRESS_TRACING__";function uc(e){const t=fc();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=mc(e),{forceTransaction:i,parentSpan:s}=e;return(e.scope?t=>ua(e.scope,t):void 0!==s?e=>hc(s,e):e=>e())(()=>{const t=da(),r=gc(t,s);return e.onlyIfParent&&!r?new nc:pc({parentSpan:r,spanArguments:n,forceTransaction:i,scope:t})})}function hc(e,t){const n=fc();return n.withActiveSpan?n.withActiveSpan(e,t):ua(n=>($r(n,e||void 0),t(n)))}function pc(e){let{parentSpan:t,spanArguments:n,forceTransaction:i,scope:s}=e;if(!Bo()){const e=new nc;if(i||!t){$o(e,o({sampled:"false",sample_rate:"0",transaction:n.name},tc(e)))}return e}const r=la(Ji()).getIsolationScope();let a;if(t&&!i)a=function(e,t,n){const{spanId:i,traceId:s}=e.spanContext(),r=!t.getScopeData().sdkProcessingMetadata[dc]&&Pa(e),a=r?new oc(o(o({},n),{},{parentSpanId:i,traceId:s,sampled:r})):new nc({traceId:s});Ia(e,a);const c=ha();c&&(c.emit("spanStart",a),n.endTimestamp&&c.emit("spanEnd",a));return a}(t,s,n),Ia(t,a);else if(t){const e=tc(t),{traceId:i,spanId:r}=t.spanContext(),c=Pa(t);a=_c(o({traceId:i,parentSpanId:r},n),s,c),$o(a,e)}else{const{traceId:e,dsc:t,parentSpanId:i,sampled:c}=o(o({},r.getPropagationContext()),s.getPropagationContext());a=_c(o({traceId:e,parentSpanId:i},n),s,c),t&&$o(a,t)}return function(e){if(!Ki)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:i}=ka(e),{spanId:s}=e.spanContext(),r=Pa(e),a=La(e),o=a===e,c="[Tracing] Starting ".concat(r?"sampled":"unsampled"," ").concat(o?"root ":"","span"),l=["op: ".concat(n),"name: ".concat(t),"ID: ".concat(s)];if(i&&l.push("parent ID: ".concat(i)),!o){const{op:e,description:t}=ka(a);l.push("root ID: ".concat(a.spanContext().spanId)),e&&l.push("root op: ".concat(e)),t&&l.push("root description: ".concat(t))}rs.log("".concat(c,"\n  ").concat(l.join("\n  ")))}(a),Zo(a,s,r),a}function mc(e){const t=o({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){const n=o({},t);return n.startTimestamp=ja(e.startTime),delete n.startTime,n}return t}function fc(){return la(Ji())}function _c(e,t,n){var i,s;const r=ha(),a=(null===r||void 0===r?void 0:r.getOptions())||{},{name:c=""}=e,l={spanAttributes:o({},e.attributes),spanName:c,parentSampled:n};null===r||void 0===r||r.emit("beforeSampling",l,{decision:!1});const d=null!==(i=l.parentSampled)&&void 0!==i?i:n,u=l.spanAttributes,h=t.getPropagationContext(),[p,m,f]=t.getScopeData().sdkProcessingMetadata[dc]?[!1]:function(e,t,n){if(!Bo(e))return[!1];let i,s;"function"===typeof e.tracesSampler?(s=e.tracesSampler(o(o({},t),{},{inheritOrSampleWith:e=>"number"===typeof t.parentSampleRate?t.parentSampleRate:"boolean"===typeof t.parentSampled?Number(t.parentSampled):e})),i=!0):void 0!==t.parentSampled?s=t.parentSampled:"undefined"!==typeof e.tracesSampleRate&&(s=e.tracesSampleRate,i=!0);const r=qo(s);if(void 0===r)return Ki&&rs.warn("[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(s)," of type ").concat(JSON.stringify(typeof s),".")),[!1];if(!r)return Ki&&rs.log("[Tracing] Discarding transaction because ".concat("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,r,i];const a=n<r;return a||Ki&&rs.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(s),")")),[a,r,i]}(a,{name:c,parentSampled:d,attributes:u,parentSampleRate:qo(null===(s=h.dsc)||void 0===s?void 0:s.sample_rate)},h.sampleRand),_=new oc(o(o({},e),{},{attributes:o({[pa]:"custom",[ma]:void 0!==m&&f?m:void 0},u),sampled:p}));return!p&&r&&(Ki&&rs.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",_),_}function gc(e,t){if(t)return t;if(null===t)return;const n=ea(e);if(!n)return;const i=ha();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?La(n):n}function vc(e){return void 0!==e?t=>hc(e,t):e=>e()}function yc(e){return"number"===typeof e&&isFinite(e)}function xc(e,t,n,i){let s=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(i),i));const r=ka(e).start_timestamp;return r&&r>t&&"function"===typeof e.updateStartTime&&e.updateStartTime(t),hc(e,()=>{const e=uc(o({startTime:t},s));return e&&e.end(n),e})}function bc(e){var t;const n=ha();if(!n)return;const{name:i,transaction:s,attributes:r,startTime:a}=e,{release:c,environment:l,sendDefaultPii:d}=n.getOptions(),u=n.getIntegrationByName("Replay"),h=null===u||void 0===u?void 0:u.getReplayId(),p=da(),m=p.getUser(),f=void 0!==m?m.email||m.id||m.ip_address:void 0;let _;try{_=p.getScopeData().contexts.profile.profile_id}catch(g){}return uc({name:i,attributes:o({release:c,environment:l,user:f||void 0,profile_id:_||void 0,replay_id:h||void 0,transaction:s,"user_agent.original":null===(t=_s.navigator)||void 0===t?void 0:t.userAgent,"client.address":d?"{{auto}}":void 0},r),startTime:a,experimental:{standalone:!0}})}function Sc(){return _s.addEventListener&&_s.performance}function wc(e){return e/1e3}function Nc(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch(t){return!1}}function jc(e,t){let n,i=!1;function s(e){!i&&n&&t(e,n),i=!0}po(()=>{s("pagehide")});const r=e.on("beforeStartNavigationSpan",(e,t)=>{null!==t&&void 0!==t&&t.isRedirect||(s("navigation"),r(),a())}),a=e.on("afterStartPageLoadSpan",e=>{n=e.spanContext().spanId,a()})}function Cc(e){let t,n=0;if(!Nc("layout-shift"))return;const i=Co(e=>{let{metric:i}=e;const s=i.entries[i.entries.length-1];s&&(n=i.value,t=s)},!0);jc(e,(e,s)=>{!function(e,t,n,i){var s;jr&&rs.log("Sending CLS span (".concat(e,")"));const r=t?wc((ks()||0)+t.startTime):Cs(),a=da().getScopeData().transactionName,o=t?Oa(null===(s=t.sources[0])||void 0===s?void 0:s.node):"Layout shift",c={[_a]:"auto.http.browser.cls",[fa]:"ui.webvital.cls",[xa]:0,"sentry.pageload.span_id":n,"sentry.report_event":i};null!==t&&void 0!==t&&t.sources&&t.sources.forEach((e,t)=>{c["cls.source.".concat(t+1)]=Oa(e.node)});const l=bc({name:o,transaction:a,attributes:c,startTime:r});l&&(l.addEvent("cls",{[ga]:"",[va]:e}),l.end(r))}(n,t,s,e),i()})}function kc(e){let t,n=0;if(!Nc("largest-contentful-paint"))return;const i=ko(e=>{let{metric:i}=e;const s=i.entries[i.entries.length-1];s&&(n=i.value,t=s)},!0);jc(e,(e,s)=>{!function(e,t,n,i){jr&&rs.log("Sending LCP span (".concat(e,")"));const s=wc((ks()||0)+((null===t||void 0===t?void 0:t.startTime)||0)),r=da().getScopeData().transactionName,a=t?Oa(t.element):"Largest contentful paint",o={[_a]:"auto.http.browser.lcp",[fa]:"ui.webvital.lcp",[xa]:0,"sentry.pageload.span_id":n,"sentry.report_event":i};t&&(t.element&&(o["lcp.element"]=Oa(t.element)),t.id&&(o["lcp.id"]=t.id),t.url&&(o["lcp.url"]=t.url.trim().slice(0,200)),null!=t.loadTime&&(o["lcp.loadTime"]=t.loadTime),null!=t.renderTime&&(o["lcp.renderTime"]=t.renderTime),null!=t.size&&(o["lcp.size"]=t.size));const c=bc({name:a,transaction:r,attributes:o,startTime:s});c&&(c.addEvent("lcp",{[ga]:"millisecond",[va]:e}),c.end(s))}(n,t,s,e),i()})}function Pc(e){return e?((ks()||performance.timeOrigin)+e)/1e3:e}function Tc(e){var t;const n={};if(void 0!=e.nextHopProtocol){const{name:t,version:i}=function(e){let t="unknown",n="unknown",i="";for(const s of e){if("/"===s){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t="h"===i?"http":i,n=e.split(i)[1];break}i+=s}return i===e&&(t=i),{name:t,version:n}}(e.nextHopProtocol);n["network.protocol.version"]=i,n["network.protocol.name"]=t}return ks()||null!==(t=Sc())&&void 0!==t&&t.timeOrigin?(i=o(o({},n),{},{"http.request.redirect_start":Pc(e.redirectStart),"http.request.redirect_end":Pc(e.redirectEnd),"http.request.worker_start":Pc(e.workerStart),"http.request.fetch_start":Pc(e.fetchStart),"http.request.domain_lookup_start":Pc(e.domainLookupStart),"http.request.domain_lookup_end":Pc(e.domainLookupEnd),"http.request.connect_start":Pc(e.connectStart),"http.request.secure_connection_start":Pc(e.secureConnectionStart),"http.request.connection_end":Pc(e.connectEnd),"http.request.request_start":Pc(e.requestStart),"http.request.response_start":Pc(e.responseStart),"http.request.response_end":Pc(e.responseEnd),"http.request.time_to_first_byte":null!=e.responseStart?e.responseStart/1e3:void 0}),Object.fromEntries(Object.entries(i).filter(e=>{let[,t]=e;return null!=t}))):n;var i}const Ec=2147483647;let Ac,Ic,Lc=0,Rc={};function Mc(e){let{recordClsStandaloneSpans:t,recordLcpStandaloneSpans:n,client:i}=e;const s=Sc();if(s&&ks()){s.mark&&_s.performance.mark("sentry-tracing-init");const e=n?kc(i):ko(e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(Rc.lcp={value:t.value,unit:"millisecond"},Ac=n)},!0),r=function(){return e=e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(Rc.ttfb={value:t.value,unit:"millisecond"})},Mo("ttfb",e,Lo,No);var e}(),a=t?Cc(i):Co(e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(Rc.cls={value:t.value,unit:""},Ic=n)},!0);return()=>{null===e||void 0===e||e(),r(),null===a||void 0===a||a()}}return()=>{}}function Oc(e,t){const n=Sc(),i=ks();if(null===n||void 0===n||!n.getEntries||!i)return;const s=wc(i),r=n.getEntries(),{op:a,start_timestamp:c}=ka(e);r.slice(Lc).forEach(n=>{const i=wc(n.startTime),r=wc(Math.max(0,n.duration));if(!("navigation"===a&&c&&s+i<c))switch(n.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{Dc(e,t,i,n)}),Dc(e,t,"secureConnection",n,"TLS/SSL"),Dc(e,t,"fetch",n,"cache"),Dc(e,t,"domainLookup",n,"DNS"),function(e,t,n){const i=n+wc(t.requestStart),s=n+wc(t.responseEnd),r=n+wc(t.responseStart);t.responseEnd&&(xc(e,i,s,{op:"browser.request",name:t.name,attributes:{[_a]:"auto.ui.browser.metrics"}}),xc(e,r,s,{op:"browser.response",name:t.name,attributes:{[_a]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,n,s);break;case"mark":case"paint":case"measure":{!function(e,t,n,i,s,r){if(["mark","measure"].includes(t.entryType)&&function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(n=>na(e,n,t))}(t.name,r))return;const a=za(!1),o=wc(a?a.requestStart:0),c=s+Math.max(n,o),l=s+n,d=l+i,u={[_a]:"auto.resource.browser.metrics"};c!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=c);(function(e,t){try{const s=t.detail;if(!s)return;if("object"===typeof s){for(const[t,i]of Object.entries(s))if(i&&As(i))e["sentry.browser.measure.detail.".concat(t)]=i;else if(void 0!==i)try{e["sentry.browser.measure.detail.".concat(t)]=JSON.stringify(i)}catch(n){}return}if(As(s))return void(e["sentry.browser.measure.detail"]=s);try{e["sentry.browser.measure.detail"]=JSON.stringify(s)}catch(i){}}catch(s){}})(u,t),c<=d&&xc(e,c,d,{name:t.name,op:t.entryType,attributes:u})}(e,n,i,r,s,t.ignorePerformanceApiSpans);const a=Xa(),o=n.startTime<a.firstHiddenTime;"first-paint"===n.name&&o&&(Rc.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&o&&(Rc.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,i,s,r,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const c=t.initiatorType?"resource.".concat(t.initiatorType):"resource.other";if(null!==a&&void 0!==a&&a.includes(c))return;const l={[_a]:"auto.resource.browser.metrics"},d=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:i,relative:t[5]+n+i}}(n);d.protocol&&(l["url.scheme"]=d.protocol.split(":").pop());d.host&&(l["server.address"]=d.host);l["url.same_origin"]=n.includes(_s.location.origin),function(e,t,n){n.forEach(n=>{let[i,s]=n;const r=e[i];null!=r&&("number"===typeof r&&r<Ec||"string"===typeof r)&&(t[s]=r)})}(t,l,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const u=o(o({},l),Tc(t)),h=r+i,p=h+s;xc(e,h,p,{name:n.replace(_s.location.origin,""),op:c,attributes:u})}(e,n,n.name,i,r,s,t.ignoreResourceSpans)}}),Lc=Math.max(r.length-1,0),function(e){const t=_s.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),yc(n.rtt)&&(Rc["connection.rtt"]={value:n.rtt,unit:"millisecond"}));yc(t.deviceMemory)&&e.setAttribute("deviceMemory","".concat(t.deviceMemory," GB"));yc(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===a&&(function(e){const t=za(!1);if(!t)return;const{responseStart:n,requestStart:i}=t;i<=n&&(e["ttfb.requestTime"]={value:n-i,unit:"millisecond"})}(Rc),t.recordClsOnPageloadSpan||delete Rc.cls,t.recordLcpOnPageloadSpan||delete Rc.lcp,Object.entries(Rc).forEach(e=>{let[t,n]=e;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ra();const s=i&&La(i);s&&(Ki&&rs.log("[Measurement] Setting measurement on root span: ".concat(e," = ").concat(t," ").concat(n)),s.addEvent(e,{[va]:t,[ga]:n}))}(t,n.value,n.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Wa()),function(e,t){var n;Ac&&t.recordLcpOnPageloadSpan&&(Ac.element&&e.setAttribute("lcp.element",Oa(Ac.element)),Ac.id&&e.setAttribute("lcp.id",Ac.id),Ac.url&&e.setAttribute("lcp.url",Ac.url.trim().slice(0,200)),null!=Ac.loadTime&&e.setAttribute("lcp.loadTime",Ac.loadTime),null!=Ac.renderTime&&e.setAttribute("lcp.renderTime",Ac.renderTime),e.setAttribute("lcp.size",Ac.size));null!==(n=Ic)&&void 0!==n&&n.sources&&t.recordClsOnPageloadSpan&&Ic.sources.forEach((t,n)=>e.setAttribute("cls.source.".concat(n+1),Oa(t.node)))}(e,t)),Ac=void 0,Ic=void 0,Rc={}}function Dc(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;const r=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return"".concat(e,"End")}(n),a=t[r],c=t["".concat(n,"Start")];c&&a&&xc(e,i+wc(c),i+wc(a),{op:"browser.".concat(s),name:t.name,attributes:o({[_a]:"auto.ui.browser.metrics"},"redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{})})}const Fc=[],Bc=new Map;function qc(){if(Sc()&&ks()){const e=Po(Wc);return()=>{e()}}return()=>{}}const zc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const Wc=e=>{let{metric:t}=e;if(void 0==t.value)return;const n=wc(t.value);if(n>60)return;const i=t.entries.find(e=>e.duration===t.value&&zc[e.name]);if(!i)return;const{interactionId:s}=i,r=zc[i.name],a=wc(ks()+i.startTime),o=Ra(),c=o?La(o):void 0,l=(null!=s?Bc.get(s):void 0)||c,d=l?ka(l).description:da().getScopeData().transactionName,u=bc({name:Oa(i.target),transaction:d,attributes:{[_a]:"auto.http.browser.inp",[fa]:"ui.interaction.".concat(r),[xa]:i.duration},startTime:a});u&&(u.addEvent("inp",{[ga]:"millisecond",[va]:t.value}),u.end(a+n))};const Hc=e=>{let{entries:t}=e;const n=Ra(),i=n?La(n):void 0,s=i?ka(i).description:da().getScopeData().transactionName;t.forEach(e=>{var t;const n=e;if(!n.identifier)return;const i=n.name,r=n.renderTime,a=n.loadTime,[o,c]=a?[wc(a),"load-time"]:r?[wc(r),"render-time"]:[Cs(),"entry-emission"],l="image-paint"===i?wc(Math.max(0,(null!==r&&void 0!==r?r:0)-(null!==a&&void 0!==a?a:0))):0,d={[_a]:"auto.ui.browser.elementtiming",[fa]:"ui.elementtiming",[pa]:"component","sentry.span_start_time_source":c,"sentry.transaction_name":s,"element.id":n.id,"element.type":(null===(t=n.element)||void 0===t||null===(t=t.tagName)||void 0===t?void 0:t.toLowerCase())||"unknown","element.size":n.naturalWidth&&n.naturalHeight?"".concat(n.naturalWidth,"x").concat(n.naturalHeight):void 0,"element.render_time":r,"element.load_time":a,"element.url":n.url||void 0,"element.identifier":n.identifier,"element.paint_type":i};!function(e,t){const n=fc();if(n.startSpan)return n.startSpan(e,t);const i=mc(e),{forceTransaction:s,parentSpan:r,scope:a}=e;ua(null===a||void 0===a?void 0:a.clone(),()=>vc(r)(()=>{const n=da(),a=gc(n,r),o=e.onlyIfParent&&!a?new nc:pc({parentSpan:a,spanArguments:i,forceTransaction:s,scope:n});return $r(n,o),Fo(()=>t(o),()=>{const{status:e}=ka(o);!o.isRecording()||e&&"ok"!==e||o.setStatus({code:2,message:"internal_error"})},()=>{o.end()})}))}({name:"element[".concat(n.identifier,"]"),attributes:d,startTime:o,onlyIfParent:!0},e=>{e.end(o+l)})})};const Uc="sentry_previous_trace",Vc="sentry.previous_trace";function Gc(e,t){let{linkPreviousTrace:n,consistentTraceSampling:i}=t;const s="session-storage"===n;let r=s?function(){try{var e;const t=null===(e=yi.sessionStorage)||void 0===e?void 0:e.getItem(Uc);return JSON.parse(t)}catch(t){return}}():void 0;e.on("spanStart",e=>{if(Pt(e)!==e)return;const t=we().getPropagationContext();r=function(e,t,n){const i=bt(t);function s(){try{var e,t,s;return null!==(e=Number(null===(t=n.dsc)||void 0===t?void 0:t.sample_rate))&&void 0!==e?e:Number(null===(s=i.data)||void 0===s?void 0:s[Me])}catch(r){return 0}}const r={spanContext:t.spanContext(),startTimestamp:i.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return r;const a=e.spanContext;if(a.traceId===i.trace_id)return e;Date.now()/1e3-e.startTimestamp<=3600&&(Ws&&B.log("Adding previous_trace ".concat(a," link to span ").concat(o({op:i.op},t.spanContext()))),t.addLink({context:a,attributes:{[He]:"previous_trace"}}),t.setAttribute(Vc,"".concat(a.traceId,"-").concat(a.spanId,"-").concat(Yc(a)?1:0)));return r}(r,e,t),s&&function(e){try{yi.sessionStorage.setItem(Uc,JSON.stringify(e))}catch(t){Ws&&B.warn("Could not store previous trace in sessionStorage",t)}}(r)});let a=!0;i&&e.on("beforeSampling",e=>{if(!r)return;const t=we(),n=t.getPropagationContext();a&&n.parentSpanId?a=!1:(t.setPropagationContext(o(o({},n),{},{dsc:o(o({},n.dsc),{},{sample_rate:String(r.sampleRate),sampled:String(Yc(r.spanContext))}),sampleRand:r.sampleRand})),e.parentSampled=Yc(r.spanContext),e.parentSampleRate=r.sampleRate,e.spanAttributes=o(o({},e.spanAttributes),{},{[Oe]:r.sampleRate}))})}function Yc(e){return 1===e.traceFlags}function Kc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.client||Ce();if(!function(){const e=Ce();return!1!==(null===e||void 0===e?void 0:e.getOptions().enabled)&&!(null===e||void 0===e||!e.getTransport())}()||!t)return{};const n=Se(d());if(n.getTraceData)return n.getTraceData(e);const i=e.scope||we(),s=e.span||Tt(),r=s?function(e){const{traceId:t,spanId:n}=e.spanContext();return ht(t,n,St(e))}(s):function(e){const{traceId:t,sampled:n,propagationSpanId:i}=e.getPropagationContext();return ht(t,i,n)}(i),a=Ye(s?Mt(s):Rt(t,i));if(!dt.test(r))return B.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const o={"sentry-trace":r,baggage:a};if(e.propagateTraceparent){const e=s?function(e){const{traceId:t,spanId:n}=e.spanContext();return pt(t,n,St(e))}(s):function(e){const{traceId:t,sampled:n,propagationSpanId:i}=e.getPropagationContext();return pt(t,i,n)}(i);e&&(o.traceparent=e)}return o}function Qc(e,t,n,i,s){if(!e.fetchData)return;const{method:r,url:a}=e.fetchData,c=tt()&&t(a);if(e.endTimestamp&&c){const t=e.fetchData.__span;if(!t)return;const n=i[t];return void(n&&(!function(e,t){if(t.response){var n;it(e,t.response.status);const i=null===(n=t.response)||void 0===n||null===(n=n.headers)||void 0===n?void 0:n.get("content-length");if(i){const t=parseInt(i);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(n,e),delete i[t]))}const{spanOrigin:l="auto.http.browser",propagateTraceparent:d=!1}="object"===typeof s?s:{spanOrigin:s},u=!!Tt(),h=c&&u?Fr(function(e,t,n){const i=Vi(e);return{name:i?"".concat(t," ").concat(Gi(i)):t,attributes:Jc(e,i,t,n)}}(a,r,l)):new Ir;if(e.fetchData.__span=h.spanContext().spanId,i[h.spanContext().spanId]=h,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},i=function(e,t,n,i){const s=Kc({span:n,propagateTraceparent:i}),r=s["sentry-trace"],a=s.baggage,c=s.traceparent;if(!r)return;const l=t.headers||(k(e)?e.headers:void 0);if(l){if(function(e){return"undefined"!==typeof Headers&&j(e,Headers)}(l)){const e=new Headers(l);if(e.get("sentry-trace")||e.set("sentry-trace",r),i&&c&&!e.get("traceparent")&&e.set("traceparent",c),a){const t=e.get("baggage");t?Zc(t)||e.set("baggage","".concat(t,",").concat(a)):e.set("baggage",a)}return e}if(Array.isArray(l)){const e=[...l];l.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",r]),i&&c&&!l.find(e=>"traceparent"===e[0])&&e.push(["traceparent",c]);const t=l.find(e=>"baggage"===e[0]&&Zc(e[1]));return a&&!t&&e.push(["baggage",a]),e}{const e="sentry-trace"in l?l["sentry-trace"]:void 0,t="traceparent"in l?l.traceparent:void 0,n="baggage"in l?l.baggage:void 0,s=n?Array.isArray(n)?[...n]:[n]:[],d=n&&(Array.isArray(n)?n.find(e=>Zc(e)):Zc(n));a&&!d&&s.push(a);const u=o(o({},l),{},{"sentry-trace":null!==e&&void 0!==e?e:r,baggage:s.length>0?s.join(","):void 0});return i&&c&&!t&&(u.traceparent=c),u}}return o({},s)}(t,n,tt()&&u?h:void 0,d);i&&(e.args[1]=n,n.headers=i)}const p=Ce();if(p){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",h,t)}return h}function Zc(e){return e.split(",").some(e=>e.trim().startsWith(Ue))}function Jc(e,t,n,i){const s={url:e,type:"fetch","http.method":n,[Fe]:i,[De]:"http.client"};return t&&(Ui(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}const Xc=new WeakMap,$c=new Map,el={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function tl(e,t){const{traceFetch:n,traceXHR:i,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:r,enableHTTPTimings:a,tracePropagationTargets:c,onRequestSpanStart:l}=o(o({},el),t),d="function"===typeof r?r:e=>!0,u=e=>function(e,t){const n=A();if(n){let s,r;try{s=new URL(e,n),r=new URL(n).origin}catch(i){return!1}const a=s.origin===r;return t?H(s.toString(),t)||a&&H(s.pathname,t):a}{const n=!!e.match(/^\/(?!\/)/);return t?H(e,t):n}}(e,c),h={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){const t=$c.get(e.span_id);t&&(e.timestamp=t/1e3,$c.delete(e.span_id))}}),e)),s&&function(e){const t="fetch-body-resolved";ki(t,e),Pi(t,()=>Mi(Oi))}(e=>{if(e.response){const t=Xc.get(e.response);t&&e.endTimestamp&&$c.set(t,e.endTimestamp)}}),Ri(e=>{const t=Qc(e,d,u,h,{propagateTraceparent:p});if(e.response&&e.fetchData.__span&&Xc.set(e.response,e.fetchData.__span),t){const n=il(e.fetchData.url),i=n?Yi(n).host:void 0;t.setAttributes({"http.url":n,"server.address":i}),a&&nl(t),null===l||void 0===l||l(t,{headers:e.headers})}})),i&&Ms(e=>{const t=function(e,t,n,i,s){const r=e.xhr,a=null===r||void 0===r?void 0:r[Rs];if(!r||r.__sentry_own_request__||!a)return;const{url:c,method:l}=a,d=tt()&&t(c);if(e.endTimestamp&&d){const e=r.__sentry_xhr_span_id__;if(!e)return;const t=i[e];return void(t&&void 0!==a.status_code&&(it(t,a.status_code),t.end(),delete i[e]))}const u=il(c),h=Yi(u||c),p=(_=c,_.split(/[?#]/,1)[0]),m=!!Tt(),f=d&&m?Fr({name:"".concat(l," ").concat(p),attributes:o(o({url:c,type:"xhr","http.method":l,"http.url":u,"server.address":null===h||void 0===h?void 0:h.host,[Fe]:"auto.http.browser",[De]:"http.client"},(null===h||void 0===h?void 0:h.search)&&{"http.query":null===h||void 0===h?void 0:h.search}),(null===h||void 0===h?void 0:h.hash)&&{"http.fragment":null===h||void 0===h?void 0:h.hash})}):new Ir;var _;r.__sentry_xhr_span_id__=f.spanContext().spanId,i[r.__sentry_xhr_span_id__]=f,n(c)&&function(e,t,n){const{"sentry-trace":i,baggage:s,traceparent:r}=Kc({span:t,propagateTraceparent:n});i&&function(e,t,n,i){var s;const r=null===(s=e.__sentry_xhr_v3__)||void 0===s?void 0:s.request_headers;if(null!==r&&void 0!==r&&r["sentry-trace"]||!e.setRequestHeader)return;try{if(e.setRequestHeader("sentry-trace",t),!i||null!==r&&void 0!==r&&r.traceparent||e.setRequestHeader("traceparent",i),n){const t=null===r||void 0===r?void 0:r.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",n)}}catch(a){}}(e,i,s,r)}(r,tt()&&m?f:void 0,s);const g=Ce();g&&g.emit("beforeOutgoingRequestSpan",f,e);return f}(e,d,u,h,p);if(t){let s;a&&nl(t);try{var n;s=new Headers(null===(n=e.xhr.__sentry_xhr_v3__)||void 0===n?void 0:n.request_headers)}catch(i){}null===l||void 0===l||l(t,{headers:s})}})}function nl(e){const{url:t}=bt(e).data;if(!t||"string"!==typeof t)return;const n=To("resource",i=>{let{entries:s}=i;s.forEach(i=>{(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(i)&&i.name.endsWith(t)&&(e.setAttributes(Tc(i)),setTimeout(n))})})}function il(e){try{return new URL(e,yi.location.origin).href}catch(t){return}}const sl=o(o({},Vr),{},{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{}},el);function rl(e){const t=yi.document,n=null===t||void 0===t?void 0:t.querySelector("meta[name=".concat(e,"]"));return(null===n||void 0===n?void 0:n.getAttribute("content"))||void 0}const al="_sentry_idleSpan";function ol(e){return e[al]}function cl(e,t){V(e,al,t)}const ll=1.5;const dl=globalThis,ul=Object.prototype.toString;function hl(e,t){return ul.call(e)==="[object ".concat(t,"]")}function pl(e){return hl(e,"String")}function ml(e){return hl(e,"Object")}function fl(e){return Boolean((null===e||void 0===e?void 0:e.then)&&"function"===typeof e.then)}function _l(e,t){try{return e instanceof t}catch(n){return!1}}const gl="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,vl=dl;function yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const i=5,s=[];let r=0,a=0;const o=" > ",c=o.length;let l;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&r++<i&&(l=xl(n,d),!("html"===l||r>1&&a+s.length*c+l.length>=u));)s.push(l),a+=l.length,n=n.parentNode;return s.reverse().join(o)}catch(n){return"<unknown>"}}function xl(e,t){const n=e,i=[];if(null===n||void 0===n||!n.tagName)return"";if(vl.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const s=null!==t&&void 0!==t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(null!==s&&void 0!==s&&s.length)s.forEach(e=>{i.push("[".concat(e[0],'="').concat(e[1],'"]'))});else{n.id&&i.push("#".concat(n.id));const e=n.className;if(e&&pl(e)){const t=e.split(/\s+/);for(const e of t)i.push(".".concat(e))}}const r=["aria-label","type","name","title","alt"];for(const a of r){const e=n.getAttribute(a);e&&i.push("[".concat(a,'="').concat(e,'"]'))}return i.join("")}function bl(){try{return vl.document.location.href}catch(e){return""}}const Sl="10.19.0";function wl(){return Nl(dl),dl}function Nl(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Sl,t[Sl]=t[Sl]||{}}function jl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dl;const i=n.__SENTRY__=n.__SENTRY__||{},s=i[Sl]=i[Sl]||{};return s[e]||(s[e]=t())}const Cl={};function kl(e){if(!("console"in dl))return e();const t=dl.console,n={},i=Object.keys(Cl);i.forEach(e=>{const i=Cl[e];n[e]=t[e],t[e]=i});try{return e()}finally{i.forEach(e=>{t[e]=n[e]})}}function Pl(){return El().enabled}function Tl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];gl&&Pl()&&kl(()=>{dl.console[e]("".concat("Sentry Logger ","[").concat(e,"]:"),...n)})}function El(){return gl?jl("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Al={enable:function(){El().enabled=!0},disable:function(){El().enabled=!1},isEnabled:Pl,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Tl("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Tl("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Tl("error",...t)}};function Il(e,t,n){if(!(t in e))return;const i=e[t];if("function"!==typeof i)return;const s=n(i);"function"===typeof s&&function(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ll(e,"__sentry_original__",t)}catch(n){}}(s,i);try{e[t]=s}catch(r){gl&&Al.log('Failed to replace method "'.concat(t,'" in object'),e)}}function Ll(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(i){gl&&Al.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function Rl(e){if(function(e){switch(ul.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return _l(e,Error)}}(e))return o({message:e.message,name:e.name,stack:e.stack},Ol(e));if(t=e,"undefined"!==typeof Event&&_l(t,Event)){const t=o({type:e.type,target:Ml(e.target),currentTarget:Ml(e.currentTarget)},Ol(e));return"undefined"!==typeof CustomEvent&&_l(e,CustomEvent)&&(t.detail=e.detail),t}return e;var t}function Ml(e){try{return t=e,"undefined"!==typeof Element&&_l(t,Element)?yl(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function Ol(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}const Dl="<anonymous>";function Fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return Bl("",e,t,n)}catch(i){return{ERROR:"**non-serializable** (".concat(i,")")}}}function Bl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}();const[r,a]=s;if(null==t||["boolean","string"].includes(typeof t)||"number"===typeof t&&Number.isFinite(t))return t;const o=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof global&&t===global)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if("object"===typeof(n=t)&&null!==n&&(n.__isVue||n._isVue))return"[VueViewModel]";if(function(e){return ml(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"===typeof t&&!Number.isFinite(t))return"[".concat(t,"]");if("function"===typeof t)return"[Function: ".concat(function(e){try{return e&&"function"===typeof e&&e.name||Dl}catch(t){return Dl}}(t),"]");if("symbol"===typeof t)return"[".concat(String(t),"]");if("bigint"===typeof t)return"[BigInt: ".concat(String(t),"]");const i=function(e){const t=Object.getPrototypeOf(e);return null!==t&&void 0!==t&&t.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(i)?"[HTMLElement: ".concat(i,"]"):"[object ".concat(i,"]")}catch(i){return"**non-serializable** (".concat(i,")")}var n}(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;const c="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return o.replace("object ","");if(r(t))return"[Circular ~]";const l=t;if(l&&"function"===typeof l.toJSON)try{return Bl("",l.toJSON(),c-1,i,s)}catch(p){}const d=Array.isArray(t)?[]:{};let u=0;const h=Rl(t);for(const m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;if(u>=i){d[m]="[MaxProperties ~]";break}const e=h[m];d[m]=Bl(m,e,c-1,i,s),u++}return a(t),d}function ql(){return Date.now()/1e3}let zl,Wl;function Hl(){return(null!==zl&&void 0!==zl?zl:zl=function(){const{performance:e}=dl;if(null===e||void 0===e||!e.now||!e.timeOrigin)return ql;const t=e.timeOrigin;return()=>(t+e.now())/1e3}())()}function Ul(){return Wl||(Wl=function(){var e;const{performance:t}=dl;if(null===t||void 0===t||!t.now)return[void 0,"none"];const n=36e5,i=t.now(),s=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+i-s):n,a=r<n,o=null===(e=t.timing)||void 0===e?void 0:e.navigationStart,c="number"===typeof o?Math.abs(o+i-s):n;return a||c<n?r<=c?[t.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[s,"dateNow"]}()),Wl[0]}function Vl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const e=dl;return e.crypto||e.msCrypto}(),t=()=>16*Math.random();try{if(null!==e&&void 0!==e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");null!==e&&void 0!==e&&e.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function Gl(e){var t;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t?void 0:t[0]}function Yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Hl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Vl()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const i=o({},e);for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=Kl(i[s],t[s],n-1));return i}function Ql(){return Vl()}const Zl="_sentrySpan";function Jl(e,t){t?Ll(e,Zl,t):delete e[Zl]}function Xl(e){return e[Zl]}function $l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function ed(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!pl(e)&&(hl(t,"RegExp")?t.test(e):!!pl(t)&&(n?e===t:e.includes(t)))}class td{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ql(),sampleRand:Math.random()}}clone(){const e=new td;return e._breadcrumbs=[...this._breadcrumbs],e._tags=o({},this._tags),e._extra=o({},this._extra),e._contexts=o({},this._contexts),this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata=o({},this._sdkProcessingMetadata),e._propagationContext=o({},this._propagationContext),e._client=this._client,e._lastEventId=this._lastEventId,Jl(e,Xl(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Yl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags=o(o({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=o(o({},this._tags),{},{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=o(o({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=o(o({},this._extra),{},{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e,n=t instanceof td?t.getScopeData():ml(t)?e:void 0,{tags:i,extra:s,user:r,contexts:a,level:c,fingerprint:l=[],propagationContext:d}=n||{};return this._tags=o(o({},this._tags),i),this._extra=o(o({},this._extra),s),this._contexts=o(o({},this._contexts),a),r&&Object.keys(r).length&&(this._user=r),c&&(this._level=c),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Jl(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ql(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const i=o(o({timestamp:ql()},e),{},{message:e.message?$l(e.message,2048):e.message});var s;(this._breadcrumbs.push(i),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(s=this._client)||void 0===s||s.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Xl(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Kl(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||Vl();if(!this._client)return gl&&Al.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(e,o(o({originalException:e,syntheticException:i},t),{},{event_id:n}),this),n}captureMessage(e,t,n){const i=(null===n||void 0===n?void 0:n.event_id)||Vl();if(!this._client)return gl&&Al.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,t,o(o({originalException:e,syntheticException:s},n),{},{event_id:i}),this),i}captureEvent(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||Vl();return this._client?(this._client.captureEvent(e,o(o({},t),{},{event_id:n}),this),n):(gl&&Al.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}class nd{constructor(e,t){let n,i;n=e||new td,i=t||new td,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(i){throw this._popScope(),i}return fl(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function id(){const e=Nl(wl());return e.stack=e.stack||new nd(jl("defaultCurrentScope",()=>new td),jl("defaultIsolationScope",()=>new td))}function sd(e){return id().withScope(e)}function rd(e,t){const n=id();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ad(e){return id().withScope(()=>e(id().getIsolationScope()))}function od(e){const t=Nl(e);return t.acs?t.acs:{withIsolationScope:ad,withScope:sd,withSetScope:rd,withSetIsolationScope:(e,t)=>ad(t),getCurrentScope:()=>id().getScope(),getIsolationScope:()=>id().getIsolationScope()}}function cd(){return od(wl()).getCurrentScope()}function ld(){return od(wl()).getIsolationScope()}function dd(){return cd().getClient()}const ud=100;const hd="production";class pd{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new pd((n,i)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(s){i(s)}else n(t)},e=>{if(t)try{n(t(e))}catch(s){i(s)}else i(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new pd((t,n)=>{let i,s;return this.then(t=>{s=!1,i=t,e&&e()},t=>{s=!0,i=t,e&&e()}).then(()=>{s?n(i):t(i)})})}_executeHandlers(){if(0===this._state)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){const t=(e,t)=>{0===this._state&&(fl(t)?t.then(n,i):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(1,e)},i=e=>{t(2,e)};try{e(n,i)}catch(s){i(s)}}}function md(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{const s=fd(t,n,e,i);return fl(s)?s:(r=s,new pd(e=>{e(r)}))}catch(O){return s=O,new pd((e,t)=>{t(s)})}var s,r}function fd(e,t,n,i){const s=n[i];if(!e||!s)return e;const r=s(o({},e),t);return gl&&null===r&&Al.log('Event processor "'.concat(s.id||"?",'" dropped event')),fl(r)?r.then(e=>fd(e,t,n,i+1)):fd(r,t,n,i+1)}const _d="sentry.source",gd=/^sentry-/;function vd(e){const t=function(e){if(!e||!pl(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((e,t)=>{const n=yd(t);return Object.entries(n).forEach(t=>{let[n,i]=t;e[n]=i}),e},{});return yd(e)}(e);if(!t)return;const n=Object.entries(t).reduce((e,t)=>{let[n,i]=t;if(n.match(gd)){e[n.slice(7)]=i}return e},{});return Object.keys(n).length>0?n:void 0}function yd(e){return e.split(",").map(e=>{const t=e.indexOf("=");if(-1===t)return[];return[e.slice(0,t),e.slice(t+1)].map(e=>{try{return decodeURIComponent(e.trim())}catch(t){return}})}).reduce((e,t)=>{let[n,i]=t;return n&&i&&(e[n]=i),e},{})}const xd=/^o(\d+)\./;function bd(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:i,pass:s,port:r,projectId:a,protocol:o,publicKey:c}=e;return"".concat(o,"://").concat(c).concat(t&&s?":".concat(s):"")+"@".concat(n).concat(r?":".concat(r):"","/").concat(i?"".concat(i,"/"):i).concat(a)}function Sd(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let i;return t.orgId?i=String(t.orgId):n&&(i=function(e){const t=e.match(xd);return null===t||void 0===t?void 0:t[1]}(n)),i}const wd="_sentryScope",Nd="_sentryIsolationScope";function jd(e){if(e){if("object"===typeof e&&"deref"in e&&"function"===typeof e.deref)try{return e.deref()}catch(t){return}return e}}function Cd(e){const t=e;return{scope:t[wd],isolationScope:jd(t[Nd])}}const kd=["spanId","traceId","traceFlags"];function Pd(e){const{spanId:t,traceId:n,isRemote:i}=e.spanContext(),s=i?t:Id(e).parent_span_id,r=Cd(e).scope;return{parent_span_id:s,span_id:i?(null===r||void 0===r?void 0:r.getPropagationContext().propagationSpanId)||Vl().substring(16):t,trace_id:n}}function Td(e){return e&&e.length>0?e.map(e=>{let{context:{spanId:t,traceId:n,traceFlags:i},attributes:s}=e;return o({span_id:t,trace_id:n,sampled:1===i,attributes:s},nt(e.context,kd))}):void 0}function Ed(e){return"number"===typeof e?Ad(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ad(e.getTime()):Hl()}function Ad(e){return e>9999999999?e/1e3:e}function Id(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){var i;const{attributes:s,startTime:r,name:a,endTime:o,status:c,links:l}=e;return{span_id:t,trace_id:n,data:s,description:a,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?null===(i=e.parentSpanContext)||void 0===i?void 0:i.spanId:void 0,start_timestamp:Ed(r),timestamp:Ed(o)||void 0,status:Rd(c),op:s["sentry.op"],origin:s["sentry.origin"],links:Td(l)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Ld(e){const{traceFlags:t}=e.spanContext();return 1===t}function Rd(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const Md="_sentryRootSpan";function Od(e){return e[Md]||e}function Dd(){const e=od(wl());return e.getActiveSpan?e.getActiveSpan():Xl(cd())}const Fd="_frozenDsc";function Bd(e,t){const n=t.getOptions(),{publicKey:i}=t.getDsn()||{},s={environment:n.environment||hd,release:n.release,public_key:i,trace_id:e,org_id:Sd(t)};return t.emit("createDsc",s),s}function qd(e){var t,n;const i=dd();if(!i)return{};const s=Od(e),r=Id(s),a=r.data,o=s.spanContext().traceState,c=null!==(t=null!==(n=null===o||void 0===o?void 0:o.get("sentry.sample_rate"))&&void 0!==n?n:a["sentry.sample_rate"])&&void 0!==t?t:a["sentry.previous_trace_sample_rate"];function l(e){return"number"!==typeof c&&"string"!==typeof c||(e.sample_rate="".concat(c)),e}const d=s[Fd];if(d)return l(d);const u=null===o||void 0===o?void 0:o.get("sentry.dsc"),h=u&&vd(u);if(h)return l(h);const p=Bd(e.spanContext().traceId,i),m=a[_d],f=r.description;var _,g;("url"!==m&&f&&(p.transaction=f),function(e){var t;if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=e||(null===(t=dd())||void 0===t?void 0:t.getOptions());return!!n&&(null!=n.tracesSampleRate||!!n.tracesSampler)}())&&(p.sampled=String(Ld(s)),p.sample_rand=null!==(_=null===o||void 0===o?void 0:o.get("sentry.sample_rand"))&&void 0!==_?_:null===(g=Cd(s).scope)||void 0===g?void 0:g.getPropagationContext().sampleRand.toString());return l(p),i.emit("createDsc",p,s),p}function zd(e,t){const{fingerprint:n,span:i,breadcrumbs:s,sdkProcessingMetadata:r}=t;!function(e,t){const{extra:n,tags:i,user:s,contexts:r,level:a,transactionName:c}=t;Object.keys(n).length&&(e.extra=o(o({},n),e.extra));Object.keys(i).length&&(e.tags=o(o({},i),e.tags));Object.keys(s).length&&(e.user=o(o({},s),e.user));Object.keys(r).length&&(e.contexts=o(o({},r),e.contexts));a&&(e.level=a);c&&"transaction"!==e.type&&(e.transaction=c)}(e,t),i&&function(e,t){e.contexts=o({trace:Pd(t)},e.contexts),e.sdkProcessingMetadata=o({dynamicSamplingContext:qd(t)},e.sdkProcessingMetadata);const n=Od(t),i=Id(n).description;i&&!e.transaction&&"transaction"===e.type&&(e.transaction=i)}(e,i),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata=o(o({},e.sdkProcessingMetadata),t)}(e,r)}function Wd(e,t){const{extra:n,tags:i,user:s,contexts:r,level:a,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:d,eventProcessors:u,attachments:h,propagationContext:p,transactionName:m,span:f}=t;Hd(e,"extra",n),Hd(e,"tags",i),Hd(e,"user",s),Hd(e,"contexts",r),e.sdkProcessingMetadata=Kl(e.sdkProcessingMetadata,c,2),a&&(e.level=a),m&&(e.transactionName=m),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext=o(o({},e.propagationContext),p)}function Hd(e,t,n){e[t]=Kl(e[t],n,1)}let Ud,Vd,Gd;function Yd(e){const t=dl._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Gd&&n.length===Vd||(Vd=n.length,Gd=n.reduce((n,i)=>{Ud||(Ud={});const s=Ud[i];if(s)n[s[0]]=s[1];else{const s=e(i);for(let e=s.length-1;e>=0;e--){const r=s[e],a=null===r||void 0===r?void 0:r.filename,o=t[i];if(a&&o){n[a]=o,Ud[i]=[a,o];break}}}return n},{})),Gd}function Kd(e,t,n,i,s,r){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=e,l=o(o({},t),{},{event_id:t.event_id||n.event_id||Vl(),timestamp:t.timestamp||ql()}),d=n.integrations||e.integrations.map(e=>e.name);!function(e,t){const{environment:n,release:i,dist:s,maxValueLength:r=250}=t;e.environment=e.environment||n||hd,!e.release&&i&&(e.release=i);!e.dist&&s&&(e.dist=s);const a=e.request;null!==a&&void 0!==a&&a.url&&(a.url=$l(a.url,r))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,d),s&&s.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n;const i=Yd(t);null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||n.forEach(e=>{var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach(e=>{e.filename&&(e.debug_id=i[e.filename])})})}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new td;return n.update(t),n}(i,n.captureContext);n.mechanism&&function(e,t){const n=Gl(e);if(!n)return;const i=n.mechanism;if(n.mechanism=o(o(o({},{type:"generic",handled:!0}),i),t),t&&"data"in t){const e=o(o({},null===i||void 0===i?void 0:i.data),t.data);n.mechanism.data=e}}(l,n.mechanism);const h=s?s.getEventProcessors():[],p=jl("globalScope",()=>new td).getScopeData();if(r){Wd(p,r.getScopeData())}if(u){Wd(p,u.getScopeData())}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),zd(l,p);return md([...h,...p.eventProcessors],l,n).then(e=>(e&&function(e){var t;const n={};if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach(e=>{var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach(e=>{e.debug_id&&(e.abs_path?n[e.abs_path]=e.debug_id:e.filename&&(n[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(n).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const i=e.debug_meta.images;Object.entries(n).forEach(e=>{let[t,n]=e;i.push({type:"sourcemap",code_file:t,debug_id:n})})}(e),"number"===typeof a&&a>0?function(e,t,n){var i,s;if(!e)return null;const r=o(o(o(o(o({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>o(o({},e),e.data&&{data:Fl(e.data,t,n)}))}),e.user&&{user:Fl(e.user,t,n)}),e.contexts&&{contexts:Fl(e.contexts,t,n)}),e.extra&&{extra:Fl(e.extra,t,n)});null!==(i=e.contexts)&&void 0!==i&&i.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Fl(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>o(o({},e),e.data&&{data:Fl(e.data,t,n)})));null!==(s=e.contexts)&&void 0!==s&&s.flags&&r.contexts&&(r.contexts.flags=Fl(e.contexts.flags,3,n));return r}(e,a,c):e))}function Qd(e){if(e)return function(e){return e instanceof td||"function"===typeof e}(e)||function(e){return Object.keys(e).some(e=>Zd.includes(e))}(e)?{captureContext:e}:e}const Zd=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Jd(e){return"isRelative"in e}function Xd(e,t){const n=null===t||void 0===t?void 0:t.getDsn(),i=null===t||void 0===t?void 0:t.getOptions().tunnel;return function(e,t){const n=function(e,t){const n=e.indexOf("://")<=0&&0!==e.indexOf("//"),i=null!==t&&void 0!==t?t:n?"thismessage:/":void 0;try{if("canParse"in URL&&!URL.canParse(e,i))return;const t=new URL(e,i);return n?{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash}:t}catch(s){}}(e);if(!n||Jd(n))return!1;return!!t&&(n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search))}(e,n)||function(e,t){if(!t)return!1;return $d(e)===$d(t)}(e,i)}function $d(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function eu(e,t){let{statusCode:n,headers:i}=t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const r=o({},e),a=null===i||void 0===i?void 0:i["x-sentry-rate-limits"],c=null===i||void 0===i?void 0:i["retry-after"];if(a)for(const o of a.trim().split(",")){const[e,t,,,n]=o.split(":",5),i=parseInt(e,10),a=1e3*(isNaN(i)?60:i);if(t)for(const o of t.split(";"))"metric_bucket"===o&&n&&!n.split(";").includes("custom")||(r[o]=s+a);else r.all=s+a}else c?r.all=s+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;const i=Date.parse("".concat(e));return isNaN(i)?6e4:i-t}(c,s):429===n&&(r.all=s+6e4);return r}function tu(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function nu(){return"undefined"!==typeof window&&(!tu()||function(){const e=dl.process;return"renderer"===(null===e||void 0===e?void 0:e.type)}())}function iu(e){if("boolean"===typeof e)return Number(e);const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)||t<0||t>1?void 0:t}function su(e){return new URLSearchParams(e).toString()}function ru(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rs;try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[su(e)];if(!e)return[void 0]}catch(O){return jr&&t.error(O,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return jr&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function au(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===typeof e[1])return e[1].body}const ou=dl,cu="sentryReplaySession",lu="Unable to send Replay",du=5e3,uu=5500,hu=15e4,pu=5e3,mu=2e7,fu=4999,_u=36e5;var gu=Object.defineProperty,vu=(e,t,n)=>((e,t,n)=>t in e?gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),yu=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(yu||{});function xu(e){const t=null===e||void 0===e?void 0:e.host;return Boolean((null===t||void 0===t?void 0:t.shadowRoot)===e)}function bu(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Su(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,wu).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(O){return null}var t}function wu(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Su(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(O){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),i="string"===typeof e.style.all&&e.style.all;if(i&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style,s=i[n],r=i.getPropertyPriority(s);t+="".concat(s,":").concat(i.getPropertyValue(s)).concat(r?" !important":"",";")}return"".concat(e.selectorText," { ").concat(t," }")}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||i)return t}return t||e.cssText}class Nu{constructor(){vu(this,"idNodeMap",new Map),vu(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!==n&&void 0!==n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ju(e){let{maskInputOptions:t,tagName:n,type:i}=e;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||i&&t[i]||"password"===i||"INPUT"===n&&!i&&t.text)}function Cu(e){let{isMasked:t,element:n,value:i,maskInputFn:s}=e,r=i||"";return t?(s&&(r=s(r,n)),"*".repeat(r.length)):r}function ku(e){return e.toLowerCase()}function Pu(e){return e.toUpperCase()}const Tu="__rrweb_original__";function Eu(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ku(t):null}function Au(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function Iu(e,t){var n;let i;try{i=new URL(e,null!==t&&void 0!==t?t:window.location.href)}catch(r){return null}const s=i.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null===s||void 0===s?void 0:s[1])&&void 0!==n?n:null}const Lu={};function Ru(e){const t=Lu[e];if(t)return t;const n=window.document;let i=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(i=s[e]),n.head.removeChild(t)}catch(s){}return Lu[e]=i.bind(window)}function Mu(){return Ru("setTimeout")(...arguments)}function Ou(){return Ru("clearTimeout")(...arguments)}function Du(e){try{return e.contentDocument}catch(t){}}let Fu=1;const Bu=new RegExp("[^a-z0-9-_:]");function qu(){return Fu++}let zu,Wu;const Hu=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Uu=/^(?:[a-z+]+:)?\/\//i,Vu=/^www\..*/i,Gu=/^(data:)([^,]*),(.*)/i;function Yu(e,t){return(e||"").replace(Hu,(e,n,i,s,r,a)=>{const o=i||r||a,c=n||s||"";if(!o)return e;if(Uu.test(o)||Vu.test(o))return"url(".concat(c).concat(o).concat(c,")");if(Gu.test(o))return"url(".concat(c).concat(o).concat(c,")");if("/"===o[0])return"url(".concat(c).concat(function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+o).concat(c,")");const l=t.split("/"),d=o.split("/");l.pop();for(const t of d)"."!==t&&(".."===t?l.pop():l.push(t));return"url(".concat(c).concat(l.join("/")).concat(c,")")})}const Ku=/^[^ \t\n\r\u000c]+/,Qu=/^[, \t\n\r\u000c]+/;const Zu=new WeakMap;function Ju(e,t){return t&&""!==t.trim()?$u(e,t):t}function Xu(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function $u(e,t){let n=Zu.get(e);if(n||(n=e.createElement("a"),Zu.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function eh(e,t,n,i,s,r){return i?"src"===n||"href"===n&&("use"!==t||"#"!==i[0])||"xlink:href"===n&&"#"!==i[0]?Ju(e,i):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function i(e){let i;const s=e.exec(t.substring(n));return s?(i=s[0],n+=i.length,i):""}const s=[];for(;i(Qu),!(n>=t.length);){let r=i(Ku);if(","===r.slice(-1))r=Ju(e,r.substring(0,r.length-1)),s.push(r);else{let i="";r=Ju(e,r);let a=!1;for(;;){const e=t.charAt(n);if(""===e){s.push((r+i).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,s.push((r+i).trim());break}"("===e&&(a=!0)}i+=e,n+=1}}}return s.join(", ")}(e,i):"style"===n?Yu(i,$u(e)):"object"===t&&"data"===n?Ju(e,i):"function"===typeof r?r(n,i,s):i:Ju(e,i):i}function th(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function nh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||i>n?-1:t(e)?i:nh(e.parentNode,t,n,i+1):-1}function ih(e,t){return n=>{const i=n;if(null===i)return!1;try{if(e)if("string"===typeof e){if(i.matches(".".concat(e)))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}return!1}(i,e))return!0;return!(!t||!i.matches(t))}catch(s){return!1}}}function sh(e,t,n,i,s,r){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let o=-1,c=-1;if(r){if(c=nh(a,ih(i,s)),c<0)return!0;o=nh(a,ih(t,n),c>=0?c:1/0)}else{if(o=nh(a,ih(t,n)),o<0)return!1;c=nh(a,ih(i,s),o>=0?o:1/0)}return o>=0?!(c>=0)||o<=c:!(c>=0)&&!!r}catch(a){}return!!r}function rh(e,t){const{doc:n,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,maskAllText:o,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:f,maskInputFn:_,dataURLOptions:g={},inlineImages:v,recordCanvas:y,keepIframeSrcFn:x,newlyAddedElement:b=!1}=t,S=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,i);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:yu.Document,childNodes:[],compatMode:e.compatMode}:{type:yu.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:yu.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:i,blockSelector:s,unblockSelector:r,inlineStylesheet:a,maskInputOptions:o={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:d={},inlineImages:u,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:f,maskTextClass:_,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:y}=t,x=function(e,t,n,i){try{if(i&&e.matches(i))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}if(n)return e.matches(n)}catch(s){}return!1}(e,i,s,r),b=function(e){if(e instanceof HTMLFormElement)return"form";const t=ku(e.tagName);return Bu.test(t)?"div":t}(e);let S={};const w=e.attributes.length;for(let C=0;C<w;C++){const t=e.attributes[C];t.name&&!th(b,t.name,t.value)&&(S[t.name]=eh(n,b,ku(t.name),t.value,e,c))}if("link"===b&&a){const t=Array.from(n.styleSheets).find(t=>t.href===e.href);let i=null;t&&(i=Su(t)),i&&(S.rel=null,S.href=null,S.crossorigin=null,S._cssText=Yu(i,t.href))}if("style"===b&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Su(e.sheet);t&&(S._cssText=Yu(t,$u(n)))}if("input"===b||"textarea"===b||"select"===b||"option"===b){const t=e,n=Eu(t),i=Au(t,Pu(b),n),s=t.checked;if("submit"!==n&&"button"!==n&&i){const e=sh(t,_,v,g,y,ju({type:n,tagName:Pu(b),maskInputOptions:o}));S.value=Cu({isMasked:e,element:t,value:i,maskInputFn:l})}s&&(S.checked=s)}"option"===b&&(e.selected&&!o.select?S.selected=!0:delete S.selected);if("canvas"===b&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let i=0;i<e.height;i+=50){const s=t.getImageData,r=Tu in s?s[Tu]:s;if(new Uint32Array(r.call(t,n,i,Math.min(50,e.width-n),Math.min(50,e.height-i)).data.buffer).some(e=>0!==e))return!1}return!0})(e)||(S.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const t=e.toDataURL(d.type,d.quality),i=n.createElement("canvas");i.width=e.width,i.height=e.height;t!==i.toDataURL(d.type,d.quality)&&(S.rr_dataURL=t)}if("img"===b&&u){zu||(zu=n.createElement("canvas"),Wu=zu.getContext("2d"));const t=e,i=t.currentSrc||t.getAttribute("src")||"<unknown-src>",s=t.crossOrigin,r=()=>{t.removeEventListener("load",r);try{zu.width=t.naturalWidth,zu.height=t.naturalHeight,Wu.drawImage(t,0,0),S.rr_dataURL=zu.toDataURL(d.type,d.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?r():t.addEventListener("load",r));console.warn("Cannot inline img src=".concat(i,"! Error: ").concat(e))}"anonymous"===t.crossOrigin&&(s?S.crossOrigin=s:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?r():t.addEventListener("load",r)}"audio"!==b&&"video"!==b||(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime);m||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop));if(x){const{width:t,height:n}=e.getBoundingClientRect();S={class:S.class,rr_width:"".concat(t,"px"),rr_height:"".concat(n,"px")}}"iframe"!==b||p(S.src)||(x||Du(e)||(S.rr_src=S.src),delete S.src);let N;try{customElements.get(b)&&(N=!0)}catch(j){}return{type:yu.Element,tagName:b,attributes:S,childNodes:[],isSVG:Xu(e)||void 0,needBlock:x,rootId:f,isCustom:N}}(e,{doc:n,blockClass:s,blockSelector:r,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:_,dataURLOptions:g,inlineImages:v,recordCanvas:y,keepIframeSrcFn:x,newlyAddedElement:b,rootId:S,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:i,unmaskTextClass:s,maskTextSelector:r,unmaskTextSelector:a,maskTextFn:o,maskInputOptions:c,maskInputFn:l,rootId:d}=t,u=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p="STYLE"===u||void 0,m="SCRIPT"===u||void 0,f="TEXTAREA"===u||void 0;if(p&&h){try{var _;e.nextSibling||e.previousSibling||null!==(_=e.parentNode.sheet)&&void 0!==_&&_.cssRules&&(h=Su(e.parentNode.sheet))}catch(v){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(v),e)}h=Yu(h,$u(t.doc))}m&&(h="SCRIPT_PLACEHOLDER");const g=sh(e,i,r,s,a,n);p||m||f||!h||!g||(h=o?o(h,e.parentElement):h.replace(/[\S]/g,"*"));f&&h&&(c.textarea||g)&&(h=l?l(h,e.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===u&&h){h=Cu({isMasked:sh(e,i,r,s,a,ju({type:null,tagName:u,maskInputOptions:c})),element:e,value:h,maskInputFn:l})}return{type:yu.Text,textContent:h||"",isStyle:p,rootId:d}}(e,{doc:n,maskAllText:o,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,maskTextFn:f,maskInputOptions:m,maskInputFn:_,rootId:S});case e.CDATA_SECTION_NODE:return{type:yu.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:yu.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function ah(e){return void 0===e||null===e?"":e.toLowerCase()}function oh(e,t){const{doc:n,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:f,maskTextFn:_,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y={},inlineImages:x=!1,recordCanvas:b=!1,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:N=5e3,onBlockedImageLoad:j,onStylesheetLoad:C,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:P=()=>!1,newlyAddedElement:T=!1}=t;let{preserveWhiteSpace:E=!0}=t;const A=rh(e,{doc:n,mirror:i,blockClass:s,blockSelector:r,maskAllText:o,unblockSelector:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:f,maskTextFn:_,maskInputFn:g,dataURLOptions:y,inlineImages:x,recordCanvas:b,keepIframeSrcFn:P,newlyAddedElement:T});if(!A)return console.warn(e,"not serialized"),null;let I;I=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===yu.Comment)return!0;if(e.type===yu.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&"js"===Iu(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ah(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ah(e.attributes.name)||"icon"===ah(e.attributes.rel)||"apple-touch-icon"===ah(e.attributes.rel)||"shortcut icon"===ah(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ah(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ah(e.attributes.property).match(/^(og|twitter|fb):/)||ah(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ah(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ah(e.attributes.name)||"googlebot"===ah(e.attributes.name)||"bingbot"===ah(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ah(e.attributes.name)||"generator"===ah(e.attributes.name)||"framework"===ah(e.attributes.name)||"publisher"===ah(e.attributes.name)||"progid"===ah(e.attributes.name)||ah(e.attributes.property).match(/^article:/)||ah(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ah(e.attributes.name)||"yandex-verification"===ah(e.attributes.name)||"csrf-token"===ah(e.attributes.name)||"p:domain_verify"===ah(e.attributes.name)||"verify-v1"===ah(e.attributes.name)||"verification"===ah(e.attributes.name)||"shopify-checkout-api-token"===ah(e.attributes.name)))return!0}}return!1}(A,v)&&(E||A.type!==yu.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?qu():-2;const L=Object.assign(A,{id:I});if(i.add(e,L),-2===I)return null;S&&S(e);let R=!h;if(L.type===yu.Element){R=R&&!L.needBlock;const t=e.shadowRoot;t&&bu(t)&&(L.isShadowHost=!0)}if((L.type===yu.Document||L.type===yu.Element)&&R){v.headWhitespace&&L.type===yu.Element&&"head"===L.tagName&&(E=!1);const t={doc:n,mirror:i,blockClass:s,blockSelector:r,maskAllText:o,unblockSelector:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:h,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:f,maskTextFn:_,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y,inlineImages:x,recordCanvas:b,preserveWhiteSpace:E,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:N,onBlockedImageLoad:j,onStylesheetLoad:C,stylesheetLoadTimeout:k,keepIframeSrcFn:P},T=e.childNodes?Array.from(e.childNodes):[];for(const e of T){const n=oh(e,t);n&&L.childNodes.push(n)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const i=oh(n,t);i&&(bu(e.shadowRoot)&&(i.isShadow=!0),L.childNodes.push(i))}}if(e.parentNode&&xu(e.parentNode)&&bu(e.parentNode)&&(L.isShadow=!0),L.type!==yu.Element||"iframe"!==L.tagName||L.needBlock||function(e,t,n){const i=e.contentWindow;if(!i)return;let s,r=!1;try{s=i.document.readyState}catch(O){return}if("complete"!==s){const i=Mu(()=>{r||(t(),r=!0)},n);return void e.addEventListener("load",()=>{Ou(i),r=!0,t()})}const a="about:blank";if(i.location.href!==a||e.src===a||""===e.src)return Mu(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{const t=Du(e);if(t&&w){const n=oh(t,{doc:t,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:f,maskTextFn:_,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y,inlineImages:x,recordCanvas:b,preserveWhiteSpace:E,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:N,onStylesheetLoad:C,stylesheetLoadTimeout:k,keepIframeSrcFn:P});n&&w(e,n)}},N),L.type===yu.Element&&"img"===L.tagName&&!e.complete&&L.needBlock){const t=e,n=()=>{if(t.isConnected&&!t.complete&&j)try{const e=t.getBoundingClientRect();e.width>0&&e.height>0&&j(t,L,e)}catch(O){}t.removeEventListener("load",n)};t.isConnected&&t.addEventListener("load",n)}return L.type===yu.Element&&"link"===L.tagName&&"string"===typeof L.attributes.rel&&("stylesheet"===L.attributes.rel||"preload"===L.attributes.rel&&"string"===typeof L.attributes.href&&"css"===Iu(L.attributes.href))&&function(e,t,n){let i,s=!1;try{i=e.sheet}catch(O){return}if(i)return;const r=Mu(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Ou(r),s=!0,t()})}(e,()=>{if(C){const t=oh(e,{doc:n,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:f,maskTextFn:_,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y,inlineImages:x,recordCanvas:b,preserveWhiteSpace:E,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:N,onStylesheetLoad:C,stylesheetLoadTimeout:k,keepIframeSrcFn:P});t&&C(e,t)}},k),L.type===yu.Element&&delete L.needBlock,L}function ch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const i={capture:!0,passive:!0};return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}const lh="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let dh={map:{},getId:()=>(console.error(lh),-1),getNode:()=>(console.error(lh),null),removeNodeFromMap(){console.error(lh)},has:()=>(console.error(lh),!1),reset(){console.error(lh)}};function uh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null,s=0;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];const c=Date.now();s||!1!==n.leading||(s=c);const l=t-(c-s),d=this;l<=0||l>t?(i&&(!function(){Ah("clearTimeout")(...arguments)}(i),i=null),s=c,e.apply(d,a)):i||!1===n.trailing||(i=Ih(()=>{s=!1===n.leading?0:Date.now(),i=null,e.apply(d,a)},l))}}function hh(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const r=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,i?n:{set(e){Ih(()=>{n.set.call(this,e)},0),r&&r.set&&r.set.call(this,e)}}),()=>hh(e,t,r||{},!0)}function ph(e,t,n){try{if(!(t in e))return()=>{};const i=e[t],s=n(i);return"function"===typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=s,()=>{e[t]=i}}catch(i){return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(dh=new Proxy(dh,{get:(e,t,n)=>("map"===t&&console.error(lh),Reflect.get(e,t,n))}));let mh=Date.now;function fh(e){var t,n,i,s;const r=e.document;return{left:r.scrollingElement?r.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null===r||void 0===r?void 0:r.documentElement.scrollLeft)||(null===r||void 0===r||null===(t=r.body)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.scrollLeft)||(null===r||void 0===r||null===(n=r.body)||void 0===n?void 0:n.scrollLeft)||0,top:r.scrollingElement?r.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null===r||void 0===r?void 0:r.documentElement.scrollTop)||(null===r||void 0===r||null===(i=r.body)||void 0===i||null===(i=i.parentElement)||void 0===i?void 0:i.scrollTop)||(null===r||void 0===r||null===(s=r.body)||void 0===s?void 0:s.scrollTop)||0}}function _h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function gh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function vh(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(O){return null}}function yh(e,t,n,i,s){if(!e)return!1;const r=vh(e);if(!r)return!1;const a=ih(t,n);if(!s){const e=i&&r.matches(i);return a(r)&&!e}const o=nh(r,a);let c=-1;return!(o<0)&&(i&&(c=nh(r,ih(null,i))),o>-1&&c<0||o<c)}function xh(e,t){return-2===t.getId(e)}function bh(e,t){if(xu(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||bh(e.parentNode,t))}function Sh(e){return Boolean(e.changedTouches)}function wh(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Nh(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function jh(e){return Boolean(null===e||void 0===e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(mh=()=>(new Date).getTime());class Ch{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function kh(e){var t;let n=null;return(null===(t=e.getRootNode)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function Ph(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=kh(n);)n=t;return n}(e);return t.contains(n)}function Th(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Ph(e))}const Eh={};function Ah(e){const t=Eh[e];if(t)return t;const n=window.document;let i=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(i=s[e]),n.head.removeChild(t)}catch(s){}return Eh[e]=i.bind(window)}function Ih(){return Ah("setTimeout")(...arguments)}var Lh=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Lh||{}),Rh=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Rh||{}),Mh=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Mh||{}),Oh=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Oh||{}),Dh=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Dh||{});function Fh(e){try{return e.contentDocument}catch(t){}}function Bh(e){return"__ln"in e}class qh{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let i=0;i<e;i++){var n;t=(null===(n=t)||void 0===n?void 0:n.next)||null}return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Bh(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Bh(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const zh=(e,t)=>"".concat(e,"@").concat(t);class Wh{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new qh,i=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},s=s=>{if(!s.parentNode||!Th(s))return;const r=xu(s.parentNode)?this.mirror.getId(kh(s)):this.mirror.getId(s.parentNode),a=i(s);if(-1===r||-1===a)return n.addNode(s);const o=oh(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{wh(e,this.mirror)&&!yh(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),Nh(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),jh(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{yh(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)},onBlockedImageLoad:(e,t,n)=>{let{width:i,height:s}=n;this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:"".concat(i,"px"),height:"".concat(s,"px")}}}]})}});o&&(e.push({parentId:r,nextId:a,node:o}),t.add(o.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const o of this.movedSet)Uh(this.removes,o,this.mirror)&&!this.movedSet.has(o.parentNode)||s(o);for(const o of this.addedSet)Vh(this.droppedSet,o)||Uh(this.removes,o,this.mirror)?Vh(this.movedSet,o)?s(o):this.droppedSet.add(o):s(o);let r=null;for(;n.length;){let e=null;if(r){const t=this.mirror.getId(r.value.parentNode),n=i(r.value);-1!==t&&-1!==n&&(e=r)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===i(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const i=t.parentNode.host;if(-1!==this.mirror.getId(i)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}r=e.previous,n.removeNode(e.value),s(e.value)}const a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+i).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!xh(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;yh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:sh(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,vh(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let i=e.attributeName,s=e.target.getAttribute(i);if("value"===i){const t=Eu(n),i=n.tagName;s=Au(n,i,t);const r=ju({maskInputOptions:this.maskInputOptions,tagName:i,type:t});s=Cu({isMasked:sh(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,r),element:n,value:s,maskInputFn:this.maskInputFn})}if(yh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let r=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===i&&!this.keepIframeSrcFn(s)){if(Fh(n))return;i="rr_src"}if(r||(r={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(e.target,r)),"type"===i&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!th(n.tagName,i)&&(r.attributes[i]=eh(this.doc,ku(n.tagName),ku(i),s,n,this.maskAttributeFn),"style"===i)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),s=n.style.getPropertyPriority(e);t!==i.style.getPropertyValue(e)||s!==i.style.getPropertyPriority(e)?r.styleDiff[e]=""===s?t:[t,s]:r._unchangedStyles[e]=[t,s]}for(const e of Array.from(i.style))""===n.style.getPropertyValue(e)&&(r.styleDiff[e]=!1)}break}case"childList":if(yh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),i=xu(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);yh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||xh(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Hh(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||bh(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[zh(n,i)]?Hh(this.movedSet,t):this.removes.push({parentId:i,id:n,isShadow:!(!xu(e.target)||!bu(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(xh(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[zh(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);yh(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(e=>this.genAdds(e)),jh(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Hh(e,t){var n;e.delete(t),null===(n=t.childNodes)||void 0===n||n.forEach(t=>Hh(e,t))}function Uh(e,t,n){return 0!==e.length&&function(e,t,n){let i=t.parentNode;for(;i;){const t=n.getId(i);if(e.some(e=>e.id===t))return!0;i=i.parentNode}return!1}(e,t,n)}function Vh(e,t){return 0!==e.size&&Gh(e,t)}function Gh(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Gh(e,n))}let Yh;const Kh=e=>{if(!Yh)return e;return function(){try{return e(...arguments)}catch(O){if(Yh&&!0===Yh(O))return()=>{};throw O}}},Qh=[];function Zh(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function Jh(e,t){var n,i;const s=new Wh;Qh.push(s),s.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const a=null===(n=window)||void 0===n||null===(n=n.Zone)||void 0===n||null===(i=n.__symbol__)||void 0===i?void 0:i.call(n,"MutationObserver");a&&window[a]&&(r=window[a]);const o=new r(Kh(t=>{e.onMutation&&!1===e.onMutation(t)||s.processMutations.bind(s)(t)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Xh(e){let{mouseInteractionCb:t,doc:n,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,sampling:c}=e;if(!1===c.mouseInteraction)return()=>{};const l=!0===c.mouseInteraction||void 0===c.mouseInteraction?{}:c.mouseInteraction,d=[];let u=null;return Object.keys(Mh).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e]).forEach(e=>{let c=ku(e);const l=(e=>n=>{const c=Zh(n);if(yh(c,s,r,a,!0))return;let l=null,d=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=Oh.Mouse;break;case"touch":l=Oh.Touch;break;case"pen":l=Oh.Pen}l===Oh.Touch?Mh[e]===Mh.MouseDown?d="TouchStart":Mh[e]===Mh.MouseUp&&(d="TouchEnd"):Oh.Pen}else Sh(n)&&(l=Oh.Touch);null!==l?(u=l,(d.startsWith("Touch")&&l===Oh.Touch||d.startsWith("Mouse")&&l===Oh.Mouse)&&(l=null)):Mh[e]===Mh.Click&&(l=u,u=null);const h=Sh(n)?n.changedTouches[0]:n;if(!h)return;const p=i.getId(c),{clientX:m,clientY:f}=h;Kh(t)(o({type:Mh[d],id:p,x:m,y:f},null!==l&&{pointerType:l}))})(e);if(window.PointerEvent)switch(Mh[e]){case Mh.MouseDown:case Mh.MouseUp:c=c.replace("mouse","pointer");break;case Mh.TouchStart:case Mh.TouchEnd:return}d.push(ch(c,l,n))}),Kh(()=>{d.forEach(e=>e())})}function $h(e){let{scrollCb:t,doc:n,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,sampling:o}=e;return ch("scroll",Kh(uh(Kh(e=>{const o=Zh(e);if(!o||yh(o,s,r,a,!0))return;const c=i.getId(o);if(o===n&&n.defaultView){const e=fh(n.defaultView);t({id:c,x:e.left,y:e.top})}else t({id:c,x:o.scrollLeft,y:o.scrollTop})}),o.scroll||100)),n)}const ep=["INPUT","TEXTAREA","SELECT"],tp=new WeakMap;function np(e){let{inputCb:t,doc:n,mirror:i,blockClass:s,blockSelector:r,unblockSelector:a,ignoreClass:c,ignoreSelector:l,maskInputOptions:d,maskInputFn:u,sampling:h,userTriggeredOnInput:p,maskTextClass:m,unmaskTextClass:f,maskTextSelector:_,unmaskTextSelector:g}=e;function v(e){let t=Zh(e);const i=e.isTrusted,o=t&&Pu(t.tagName);if("OPTION"===o&&(t=t.parentElement),!t||!o||ep.indexOf(o)<0||yh(t,s,r,a,!0))return;const h=t;if(h.classList.contains(c)||l&&h.matches(l))return;const v=Eu(t);let x=Au(h,o,v),b=!1;const S=ju({maskInputOptions:d,tagName:o,type:v}),w=sh(t,m,_,f,g,S);"radio"!==v&&"checkbox"!==v||(b=t.checked),x=Cu({isMasked:w,element:t,value:x,maskInputFn:u}),y(t,p?{text:x,isChecked:b,userTriggered:i}:{text:x,isChecked:b});const N=t.name;"radio"===v&&N&&b&&n.querySelectorAll('input[type="radio"][name="'.concat(N,'"]')).forEach(e=>{if(e!==t){const t=Cu({isMasked:w,element:e,value:Au(e,o,v),maskInputFn:u});y(e,p?{text:t,isChecked:!b,userTriggered:!1}:{text:t,isChecked:!b})}})}function y(e,n){const s=tp.get(e);if(!s||s.text!==n.text||s.isChecked!==n.isChecked){tp.set(e,n);const s=i.getId(e);Kh(t)(o(o({},n),{},{id:s}))}}const x=("last"===h.input?["change"]:["input","change"]).map(e=>ch(e,Kh(v),n)),b=n.defaultView;if(!b)return()=>{x.forEach(e=>e())};const S=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&x.push(...w.map(e=>hh(e[0],e[1],{set(){Kh(v)({target:this,isTrusted:!1})}},!1,b))),Kh(()=>{x.forEach(e=>e())})}function ip(e){return function(e,t){if(op("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||op("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||op("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||op("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function sp(e,t,n){let i,s;return e?(e.ownerNode?i=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:i}):{}}function rp(e,t){var n,i;let{mirror:s,stylesheetManager:r}=e,a=null;a="#document"===t.nodeName?s.getId(t):s.getId(t.host);const o="#document"===t.nodeName?null===(n=t.defaultView)||void 0===n?void 0:n.Document:null===(i=t.ownerDocument)||void 0===i||null===(i=i.defaultView)||void 0===i?void 0:i.ShadowRoot,c=null!==o&&void 0!==o&&o.prototype?Object.getOwnPropertyDescriptor(null===o||void 0===o?void 0:o.prototype,"adoptedStyleSheets"):void 0;return null!==a&&-1!==a&&o&&c?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var e;return null===(e=c.get)||void 0===e?void 0:e.call(this)},set(e){var t;const n=null===(t=c.set)||void 0===t?void 0:t.call(this,e);if(null!==a&&-1!==a)try{r.adoptStyleSheets(e,a)}catch(i){}return n}}),Kh(()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})})):()=>{}}function ap(e){const t=e.doc.defaultView;if(!t)return()=>{};let n;e.recordDOM&&(n=Jh(e,e.doc));const i=function(e){let{mousemoveCb:t,sampling:n,doc:i,mirror:s}=e;if(!1===n.mousemove)return()=>{};const r="number"===typeof n.mousemove?n.mousemove:50,a="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500;let o,c=[];const l=uh(Kh(e=>{const n=Date.now()-o;t(c.map(e=>(e.timeOffset-=n,e)),e),c=[],o=null}),a),d=Kh(uh(Kh(e=>{const t=Zh(e),{clientX:n,clientY:i}=Sh(e)?e.changedTouches[0]:e;o||(o=mh()),c.push({x:n,y:i,id:s.getId(t),timeOffset:mh()-o}),l("undefined"!==typeof DragEvent&&e instanceof DragEvent?Rh.Drag:e instanceof MouseEvent?Rh.MouseMove:Rh.TouchMove)}),r,{trailing:!1})),u=[ch("mousemove",d,i),ch("touchmove",d,i),ch("drag",d,i)];return Kh(()=>{u.forEach(e=>e())})}(e),s=Xh(e),r=$h(e),a=function(e,t){let{viewportResizeCb:n}=e,{win:i}=t,s=-1,r=-1;return ch("resize",Kh(uh(Kh(()=>{const e=_h(),t=gh();s===e&&r===t||(n({width:Number(t),height:Number(e)}),s=e,r=t)}),200)),i)}(e,{win:t}),o=np(e),c=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:i,unblockSelector:s,mirror:r,sampling:a,doc:o}=e;const c=Kh(e=>uh(Kh(a=>{const o=Zh(a);if(!o||yh(o,n,i,s,!0))return;const{currentTime:c,volume:l,muted:d,playbackRate:u}=o;t({type:e,id:r.getId(o),currentTime:c,volume:l,muted:d,playbackRate:u})}),a.media||500)),l=[ch("play",c(Dh.Play),o),ch("pause",c(Dh.Pause),o),ch("seeked",c(Dh.Seeked),o),ch("volumechange",c(Dh.VolumeChange),o),ch("ratechange",c(Dh.RateChange),o)];return Kh(()=>{l.forEach(e=>e())})}(e);let l=()=>{},d=()=>{},u=()=>{},h=()=>{};e.recordDOM&&(l=function(e,t){let{styleSheetRuleCb:n,mirror:i,stylesheetManager:s}=e,{win:r}=t;if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Kh((e,t,r)=>{const[a,o]=r,{id:c,styleId:l}=sp(t,i,s.styleMirror);return(c&&-1!==c||l&&-1!==l)&&n({id:c,styleId:l,adds:[{rule:a,index:o}]}),e.apply(t,r)})});const o=r.CSSStyleSheet.prototype.deleteRule;let c,l;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Kh((e,t,r)=>{const[a]=r,{id:o,styleId:c}=sp(t,i,s.styleMirror);return(o&&-1!==o||c&&-1!==c)&&n({id:o,styleId:c,removes:[{index:a}]}),e.apply(t,r)})}),r.CSSStyleSheet.prototype.replace&&(c=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(c,{apply:Kh((e,t,r)=>{const[a]=r,{id:o,styleId:c}=sp(t,i,s.styleMirror);return(o&&-1!==o||c&&-1!==c)&&n({id:o,styleId:c,replace:a}),e.apply(t,r)})})),r.CSSStyleSheet.prototype.replaceSync&&(l=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Kh((e,t,r)=>{const[a]=r,{id:o,styleId:c}=sp(t,i,s.styleMirror);return(o&&-1!==o||c&&-1!==c)&&n({id:o,styleId:c,replaceSync:a}),e.apply(t,r)})}));const d={};cp("CSSGroupingRule")?d.CSSGroupingRule=r.CSSGroupingRule:(cp("CSSMediaRule")&&(d.CSSMediaRule=r.CSSMediaRule),cp("CSSConditionRule")&&(d.CSSConditionRule=r.CSSConditionRule),cp("CSSSupportsRule")&&(d.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(d).forEach(e=>{let[t,r]=e;u[t]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule},r.prototype.insertRule=new Proxy(u[t].insertRule,{apply:Kh((e,t,r)=>{const[a,o]=r,{id:c,styleId:l}=sp(t.parentStyleSheet,i,s.styleMirror);return(c&&-1!==c||l&&-1!==l)&&n({id:c,styleId:l,adds:[{rule:a,index:[...ip(t),o||0]}]}),e.apply(t,r)})}),r.prototype.deleteRule=new Proxy(u[t].deleteRule,{apply:Kh((e,t,r)=>{const[a]=r,{id:o,styleId:c}=sp(t.parentStyleSheet,i,s.styleMirror);return(o&&-1!==o||c&&-1!==c)&&n({id:o,styleId:c,removes:[{index:[...ip(t),a]}]}),e.apply(t,r)})})}),Kh(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=o,c&&(r.CSSStyleSheet.prototype.replace=c),l&&(r.CSSStyleSheet.prototype.replaceSync=l),Object.entries(d).forEach(e=>{let[t,n]=e;n.prototype.insertRule=u[t].insertRule,n.prototype.deleteRule=u[t].deleteRule})})}(e,{win:t}),d=rp(e,e.doc),u=function(e,t){let{styleDeclarationCb:n,mirror:i,ignoreCSSAttributes:s,stylesheetManager:r}=e,{win:a}=t;const o=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Kh((e,t,a)=>{var c;const[l,d,u]=a;if(s.has(l))return o.apply(t,[l,d,u]);const{id:h,styleId:p}=sp(null===(c=t.parentRule)||void 0===c?void 0:c.parentStyleSheet,i,r.styleMirror);return(h&&-1!==h||p&&-1!==p)&&n({id:h,styleId:p,set:{property:l,value:d,priority:u},index:ip(t.parentRule)}),e.apply(t,a)})});const c=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(c,{apply:Kh((e,t,a)=>{var o;const[l]=a;if(s.has(l))return c.apply(t,[l]);const{id:d,styleId:u}=sp(null===(o=t.parentRule)||void 0===o?void 0:o.parentStyleSheet,i,r.styleMirror);return(d&&-1!==d||u&&-1!==u)&&n({id:d,styleId:u,remove:{property:l},index:ip(t.parentRule)}),e.apply(t,a)})}),Kh(()=>{a.CSSStyleDeclaration.prototype.setProperty=o,a.CSSStyleDeclaration.prototype.removeProperty=c})}(e,{win:t}),e.collectFonts&&(h=function(e){let{fontCb:t,doc:n}=e;const i=n.defaultView;if(!i)return()=>{};const s=[],r=new WeakMap,a=i.FontFace;i.FontFace=function(e,t,n){const i=new a(e,t,n);return r.set(i,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),i};const o=ph(n.fonts,"add",function(e){return function(n){return Ih(Kh(()=>{const e=r.get(n);e&&(t(e),r.delete(n))}),0),e.apply(this,[n])}});return s.push(()=>{i.FontFace=a}),s.push(o),Kh(()=>{s.forEach(e=>e())})}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:i,blockSelector:s,unblockSelector:r,selectionCb:a}=e;let o=!0;const c=Kh(()=>{const e=t.getSelection();if(!e||o&&null!==e&&void 0!==e&&e.isCollapsed)return;o=e.isCollapsed||!1;const c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const a=e.getRangeAt(t),{startContainer:o,startOffset:l,endContainer:d,endOffset:u}=a;yh(o,i,s,r,!0)||yh(d,i,s,r,!0)||c.push({start:n.getId(o),startOffset:l,end:n.getId(d),endOffset:u})}a({ranges:c})});return c(),ch("selectionchange",c)}(e),m=function(e){let{doc:t,customElementCb:n}=e;const i=t.defaultView;return i&&i.customElements?ph(i.customElements,"define",function(e){return function(t,i,s){try{n({define:{name:t}})}catch(r){}return e.apply(this,[t,i,s])}}):()=>{}}(e),f=[];for(const _ of e.plugins)f.push(_.observer(_.callback,t,_.options));return Kh(()=>{var e;Qh.forEach(e=>e.reset()),null===(e=n)||void 0===e||e.disconnect(),i(),s(),r(),a(),o(),c(),l(),d(),u(),h(),p(),m(),f.forEach(e=>e())})}function op(e){return"undefined"!==typeof window[e]}function cp(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class lp{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,i){const s=n||this.getIdToRemoteIdMap(e),r=i||this.getRemoteIdToIdMap(e);let a=s.get(t);return a||(a=this.generateIdFn(),s.set(t,a),r.set(a,t)),a}getIds(e,t){const n=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,i))}getRemoteId(e,t,n){const i=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const s=i.get(t);return s||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class dp{constructor(){this.crossOriginIframeMirror=new lp(qu),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class up{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new lp(qu),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new lp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n,i;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null===(n=e.contentWindow)||void 0===n||n.addEventListener("message",this.handleMessage.bind(this))),null===(i=this.loadListener)||void 0===i||i.call(this,e);const s=Fh(e);s&&s.adoptedStyleSheets&&s.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(s.adoptedStyleSheets,this.mirror.getId(s))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const i=this.transformCrossOriginEvent(n,t.data.event);i&&this.wrappedEmit(i,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Lh.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Lh.IncrementalSnapshot,data:{source:Rh.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Lh.Meta:case Lh.Load:case Lh.DomContentLoaded:return!1;case Lh.Plugin:return t;case Lh.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Lh.IncrementalSnapshot:switch(t.data.source){case Rh.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case Rh.Drag:case Rh.TouchMove:case Rh.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case Rh.ViewportResize:return!1;case Rh.MediaInteraction:case Rh.MouseInteraction:case Rh.Scroll:case Rh.CanvasMutation:case Rh.Input:return this.replaceIds(t.data,e,["id"]),t;case Rh.StyleSheetRule:case Rh.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Rh.Font:return t;case Rh.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case Rh.AdoptedStyleSheet:var n;return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,n,i){for(const s of i)(Array.isArray(t[s])||"number"===typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(n,t[s]):t[s]=e.getId(n,t[s]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===yu.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class hp{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class pp{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!bu(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=Jh(o(o({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push($h(o(o({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),Ih(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(rp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const t=Fh(e),n=function(e){try{return e.contentWindow}catch(t){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(ph(e.prototype,"attachShadow",function(e){return function(i){const s=e.call(this,i);return this.shadowRoot&&Th(this)&&n.addShadowRoot(this.shadowRoot,t),s}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var mp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fp="undefined"===typeof Uint8Array?[]:new Uint8Array(256),_p=0;_p<64;_p++)fp[mp.charCodeAt(_p)]=_p;class gp{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class vp{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ch,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},i=[];for(const s of e){let e;this.styleMirror.has(s)?e=this.styleMirror.getId(s):(e=this.styleMirror.add(s),i.push({styleId:e,rules:Array.from(s.rules||CSSRule,(e,t)=>({rule:wu(e),index:t}))})),n.styleIds.push(e)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class yp{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(){Ah("requestAnimationFrame")(...arguments)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let xp,bp;try{if(2!==Array.from([1],e=>2*e)[0]){var Sp;const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null===(Sp=e.contentWindow)||void 0===Sp?void 0:Sp.Array.from)||Array.from,document.body.removeChild(e)}}catch(Dte){console.debug("Unable to override Array.from",Dte)}const wp=new Nu;function Np(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:t,checkoutEveryNms:n,checkoutEveryNth:i,blockClass:s="rr-block",blockSelector:r=null,unblockSelector:a=null,ignoreClass:c="rr-ignore",ignoreSelector:l=null,maskAllText:d=!1,maskTextClass:u="rr-mask",unmaskTextClass:h=null,maskTextSelector:p=null,unmaskTextSelector:m=null,inlineStylesheet:f=!0,maskAllInputs:_,maskInputOptions:g,slimDOMOptions:v,maskAttributeFn:y,maskInputFn:x,maskTextFn:b,maxCanvasSize:S=null,packFn:w,sampling:N={},dataURLOptions:j={},mousemoveWait:C,recordDOM:k=!0,recordCanvas:P=!1,recordCrossOriginIframes:T=!1,recordAfter:E=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:I=!1,inlineImages:L=!1,plugins:R,keepIframeSrcFn:M=()=>!1,ignoreCSSAttributes:D=new Set([]),errorHandler:F,onMutation:B,getCanvasManager:q}=e;Yh=F;const z=!T||window.parent===window;let W=!1;if(!z)try{window.parent.document&&(W=!1)}catch(ie){W=!0}if(z&&!t)throw new Error("emit function is required");if(!z&&!W)return()=>{};void 0!==C&&void 0===N.mousemove&&(N.mousemove=C),wp.reset();const H=!0===_?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let V;!function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let s=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===s)return!0}while(s=s&&s.parentNode);return!1})}();let G=0;const Y=e=>{for(const t of R||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!W&&(e=w(e)),e};xp=(e,s)=>{var r;const a=e;if(a.timestamp=mh(),null===(r=Qh[0])||void 0===r||!r.isFrozen()||a.type===Lh.FullSnapshot||a.type===Lh.IncrementalSnapshot&&a.data.source===Rh.Mutation||Qh.forEach(e=>e.unfreeze()),z)null===t||void 0===t||t(Y(a),s);else if(W){const e={type:"rrweb",event:Y(a),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(a.type===Lh.FullSnapshot)V=a,G=0;else if(a.type===Lh.IncrementalSnapshot){if(a.data.source===Rh.Mutation&&a.data.isAttachIframe)return;G++;const e=i&&G>=i,t=n&&V&&a.timestamp-V.timestamp>n;(e||t)&&ne(!0)}};const K=e=>{xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.Mutation},e)})},Q=e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.Scroll},e)}),Z=e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.CanvasMutation},e)}),J=new vp({mutationCb:K,adoptedStyleSheetCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.AdoptedStyleSheet},e)})}),X="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new dp:new up({mirror:wp,mutationCb:K,stylesheetManager:J,recordCrossOriginIframes:T,wrappedEmit:xp});for(const o of R||[])o.getMirror&&o.getMirror({nodeMirror:wp,crossOriginIframeMirror:X.crossOriginIframeMirror,crossOriginIframeStyleMirror:X.crossOriginIframeStyleMirror});const $=new yp,ee=function(e,t){try{return e?e(t):new gp}catch(n){return console.warn("Unable to initialize CanvasManager"),new gp}}(q,{mirror:wp,win:window,mutationCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.CanvasMutation},e)}),recordCanvas:P,blockClass:s,blockSelector:r,unblockSelector:a,maxCanvasSize:S,sampling:N.canvas,dataURLOptions:j,errorHandler:F}),te="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new hp:new pp({mutationCb:K,scrollCb:Q,bypassOptions:{onMutation:B,blockClass:s,blockSelector:r,unblockSelector:a,maskAllText:d,maskTextClass:u,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:f,maskInputOptions:H,dataURLOptions:j,maskAttributeFn:y,maskTextFn:b,maskInputFn:x,recordCanvas:P,inlineImages:L,sampling:N,slimDOMOptions:U,iframeManager:X,stylesheetManager:J,canvasManager:ee,keepIframeSrcFn:M,processedNodeManager:$},mirror:wp}),ne=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!k)return;xp({type:Lh.Meta,data:{href:window.location.href,width:gh(),height:_h()}},e),J.reset(),te.init(),Qh.forEach(e=>e.lock());const t=function(e,t){const{mirror:n=new Nu,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:r=null,maskAllText:a=!1,maskTextClass:o="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:f,maskTextFn:_,maskInputFn:g,slimDOM:v=!1,dataURLOptions:y,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:w,onBlockedImageLoad:N,onStylesheetLoad:j,stylesheetLoadTimeout:C,keepIframeSrcFn:k=()=>!1}=t||{};return oh(e,{doc:e,mirror:n,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:a,maskTextClass:o,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===m?{}:m,maskAttributeFn:f,maskTextFn:_,maskInputFn:g,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:y,inlineImages:h,recordCanvas:p,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:w,onBlockedImageLoad:N,onStylesheetLoad:j,stylesheetLoadTimeout:C,keepIframeSrcFn:k,newlyAddedElement:!1})}(document,{mirror:wp,blockClass:s,blockSelector:r,unblockSelector:a,maskAllText:d,maskTextClass:u,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:f,maskAllInputs:H,maskAttributeFn:y,maskInputFn:x,maskTextFn:b,slimDOM:U,dataURLOptions:j,recordCanvas:P,inlineImages:L,onSerialize:e=>{wh(e,wp)&&X.addIframe(e),Nh(e,wp)&&J.trackLinkElement(e),jh(e)&&te.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{X.attachIframe(e,t),e.contentWindow&&ee.addWindow(e.contentWindow),te.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{J.attachLinkElement(e,t)},onBlockedImageLoad:(e,t,n)=>{let{width:i,height:s}=n;K({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:"".concat(i,"px"),height:"".concat(s,"px")}}}]})},keepIframeSrcFn:M});if(!t)return console.warn("Failed to snapshot the document");xp({type:Lh.FullSnapshot,data:{node:t,initialOffset:fh(window)}}),Qh.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&J.adoptStyleSheets(document.adoptedStyleSheets,wp.getId(document))};bp=ne;try{const e=[],t=e=>{var t;return Kh(ap)({onMutation:B,mutationCb:K,mousemoveCb:(e,t)=>xp({type:Lh.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.MouseInteraction},e)}),scrollCb:Q,viewportResizeCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.ViewportResize},e)}),inputCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.Input},e)}),mediaInteractionCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.MediaInteraction},e)}),styleSheetRuleCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.StyleSheetRule},e)}),styleDeclarationCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.StyleDeclaration},e)}),canvasMutationCb:Z,fontCb:e=>xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.Font},e)}),selectionCb:e=>{xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.Selection},e)})},customElementCb:e=>{xp({type:Lh.IncrementalSnapshot,data:o({source:Rh.CustomElement},e)})},blockClass:s,ignoreClass:c,ignoreSelector:l,maskAllText:d,maskTextClass:u,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:m,maskInputOptions:H,inlineStylesheet:f,sampling:N,recordDOM:k,recordCanvas:P,inlineImages:L,userTriggeredOnInput:A,collectFonts:I,doc:e,maskAttributeFn:y,maskInputFn:x,maskTextFn:b,keepIframeSrcFn:M,blockSelector:r,unblockSelector:a,slimDOMOptions:U,dataURLOptions:j,mirror:wp,iframeManager:X,stylesheetManager:J,shadowDomManager:te,processedNodeManager:$,canvasManager:ee,ignoreCSSAttributes:D,plugins:(null===R||void 0===R||null===(t=R.filter(e=>e.observer))||void 0===t?void 0:t.map(e=>({observer:e.observer,options:e.options,callback:t=>xp({type:Lh.Plugin,data:{plugin:e.name,payload:t}})})))||[]},{})};X.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(O){console.warn(O)}});const n=()=>{ne(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(ch("DOMContentLoaded",()=>{xp({type:Lh.DomContentLoaded,data:{}}),"DOMContentLoaded"===E&&n()})),e.push(ch("load",()=>{xp({type:Lh.Load,data:{}}),"load"===E&&n()},window))),()=>{e.forEach(e=>e()),$.destroy(),bp=void 0,Yh=void 0}}catch(O){console.warn(O)}}var jp,Cp;Np.mirror=wp,Np.takeFullSnapshot=function(e){if(!bp)throw new Error("please take full snapshot after start recording");bp(e)},(Cp=jp||(jp={}))[Cp.NotStarted=0]="NotStarted",Cp[Cp.Running=1]="Running",Cp[Cp.Stopped=2]="Stopped";function kp(e){return e>9999999999?e:1e3*e}function Pp(e){return e>9999999999?e/1e3:e}function Tp(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Lh.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Fl(t,10,1e3)}}),"console"===t.category)))}function Ep(e){return e.closest("button,a")||e}function Ap(e){const t=Ip(e);return t&&t instanceof Element?Ep(t):t}function Ip(e){return function(e){return"object"===typeof e&&!!e&&"target"in e}(e)?e.target:e}let Lp;function Rp(e){return Lp||(Lp=[],Il(ou,"open",function(e){return function(){if(Lp)try{Lp.forEach(e=>e())}catch(s){}for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(ou,n)}})),Lp.push(e),()=>{const t=Lp?Lp.indexOf(e):-1;t>-1&&Lp.splice(t,1)}}const Mp=new Set([Rh.Mutation,Rh.StyleSheetRule,Rh.StyleDeclaration,Rh.AdoptedStyleSheet,Rh.CanvasMutation,Rh.Selection,Rh.MediaInteraction]);class Op{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tp;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Rp(()=>{this._lastMutation=Fp()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Dp.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Pp(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=Pp(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=Pp(e)}registerClick(e){const t=Ep(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){const e=[],t=Fp();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,i=e.mutationAfter&&e.mutationAfter<=this._threshold,s=!n&&!i,{clickCount:r,clickBreadcrumb:a}=e;if(s){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),i=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:o(o({},a.data),{},{url:ou.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:i,clickCount:r||1})};return void this._addBreadcrumbEvent(t,s)}if(r>1){const e={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:o(o({},a.data),{},{url:ou.location.href,route:t.getCurrentRoute(),clickCount:r,metric:!0})};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Pr(()=>this._checkClicks(),1e3)}}const Dp=["A","BUTTON","INPUT"];function Fp(){return Date.now()/1e3}function Bp(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(Mp.has(n)&&e.registerMutation(t.timestamp),n===Rh.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Rh.MouseInteraction}(t)){const{type:n,id:i}=t.data,s=Np.mirror.getNode(i);s instanceof HTMLElement&&n===Mh.Click&&e.registerClick(s)}}catch(n){}}function qp(e){return o({timestamp:Date.now()/1e3,type:"default"},e)}var zp=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(zp||{});const Wp=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Hp(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(Wp.has(n)){let i=n;"data-testid"!==n&&"data-test-id"!==n||(i="testId"),t[i]=e[n]}return t}const Up=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,i=null;try{i=t?Ap(e.event):Ip(e.event),n=yl(i,{maxStringLength:200})||"<unknown>"}catch(s){n="<unknown>"}return{target:i,message:n}}(e);return qp(o({category:"ui.".concat(e.name)},Vp(t,n)))}(t);if(!n)return;const i="click"===t.name,s=i?t.event:void 0;var r,a,c;!(i&&e.clickDetector&&null!==s&&void 0!==s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(r=e.clickDetector,a=n,c=Ap(t.event),r.handleClick(a,c)),Tp(e,n)};function Vp(e,t){const n=Np.mirror.getId(e),i=n&&Np.mirror.getNode(n),s=i&&Np.mirror.getMeta(i),r=s&&function(e){return e.type===zp.Element}(s)?s:null;return{message:t,data:r?{nodeId:n,node:{id:n,tagName:r.tagName,textContent:Array.from(r.childNodes).map(e=>e.type===zp.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:Hp(r.attributes)}}:{}}}function Gp(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:i,altKey:s,key:r,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!r)return null;const c=t||i||s,l=1===r.length;if(!c&&l)return null;const d=yl(a,{maxStringLength:200})||"<unknown>",u=Vp(a,d);return qp({category:"ui.keyDown",message:d,data:o(o({},u.data),{},{metaKey:t,shiftKey:n,ctrlKey:i,altKey:s,key:r})})}(t);n&&Tp(e,n)}const Yp={resource:function(e){const{entryType:t,initiatorType:n,name:i,responseEnd:s,startTime:r,decodedBodySize:a,encodedBodySize:o,responseStatus:c,transferSize:l}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(t,".").concat(n),start:Zp(r),end:Zp(s),name:i,data:{size:l,statusCode:c,decodedBodySize:a,encodedBodySize:o}}},paint:function(e){const{duration:t,entryType:n,name:i,startTime:s}=e,r=Zp(s);return{type:n,name:i,start:r,end:r+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:i,duration:s,domComplete:r,encodedBodySize:a,domContentLoadedEventStart:o,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:d,loadEventEnd:u,redirectCount:h,startTime:p,transferSize:m,type:f}=e;if(0===s)return null;return{type:"".concat(t,".").concat(f),start:Zp(p),end:Zp(r),name:n,data:{size:m,decodedBodySize:i,encodedBodySize:a,duration:s,domInteractive:l,domContentLoadedEventStart:o,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:u,domComplete:r,redirectCount:h}}}};function Kp(e,t){return n=>{let{metric:i}=n;t.replayPerformanceEntries.push(e(i))}}function Qp(e){const t=Yp[e.entryType];return t?t(e):null}function Zp(e){return((Ul()||ou.performance.timeOrigin)+e)/1e3}function Jp(e){const t=e.entries[e.entries.length-1];return tm(e,"largest-contentful-paint",null!==t&&void 0!==t&&t.element?[t.element]:void 0)}function Xp(e){return void 0!==e.sources}function $p(e){const t=[],n=[];for(const i of e.entries)if(Xp(i)){const e=[];for(const t of i.sources)if(t.node){n.push(t.node);const i=Np.mirror.getId(t.node);i&&e.push(i)}t.push({value:i.value,nodeIds:e.length?e:void 0})}return tm(e,"cumulative-layout-shift",n,t)}function em(e){const t=e.entries[e.entries.length-1];return tm(e,"interaction-to-next-paint",null!==t&&void 0!==t&&t.target?[t.target]:void 0)}function tm(e,t,n,i){const s=e.value,r=e.rating,a=Zp(s);return{type:"web-vital",name:t,start:a,end:a,data:{value:s,size:s,rating:r,nodeIds:n?n.map(e=>Np.mirror.getId(e)):void 0,attributions:i}}}const nm="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const im=["log","warn","error"],sm="[Replay] ";function rm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";!function(e,t){const n=dd(),i=ld();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:r=ud}=n.getOptions();if(r<=0)return;const a=o({timestamp:ql()},e),c=s?kl(()=>s(a,t)):a;null!==c&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),i.addBreadcrumb(c,r))}({category:"console",data:{logger:"replay"},level:t,message:"".concat(sm).concat(e)},{level:t})}const am=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return nm?(im.forEach(e=>{n[e]=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var r;Al[e](sm,...i),t&&rm(i.join(""),"warn"===(r=e)?"warning":["fatal","error","warning","log","info","debug"].includes(r)?r:"log")}}),n.exception=function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];var o,c;r.length&&n.error&&n.error(...r),Al.error(sm,i),e?(o=i,c={mechanism:{handled:!0,type:"auto.function.replay.debug"}},cd().captureException(o,Qd(c))):t&&rm(i,"error")},n.infoTick=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];Al.log(sm,...n),t&&setTimeout(()=>rm(n[0]),0)}):im.forEach(e=>{n[e]=()=>{}}),n}();class om extends Error{constructor(){super("Event buffer exceeded maximum size of ".concat(mu,"."))}}class cm{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>mu)throw new om;this.events.push(e)}finish(){return new Promise(e=>{const t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(e=>e.timestamp).sort()[0];return e?kp(e):null}}class lm{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",n=>{let{data:i}=n;i.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){nm&&am.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise((i,s)=>{const r=t=>{let{data:a}=t;const o=a;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",r),!o.success)return nm&&am.error("Error in compression worker: ",o.response),void s(new Error("Error in compression worker"));i(o.response)}};this._worker.addEventListener("message",r),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class dm{constructor(e){this._worker=new lm(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=kp(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>mu?Promise.reject(new om):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{nm&&am.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class um{constructor(e){this._fallback=new cm,this._compression=new dm(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(O){return void(nm&&am.exception(O,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,i=[];for(const s of e)i.push(this._compression.addEvent(s));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(O){nm&&am.exception(O,"Failed to add events when switching buffers.")}}}function hm(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;nm&&am.log("Using compression worker".concat(e?" from ".concat(e):""));const n=new Worker(t);return new um(n)}catch(O){nm&&am.exception(O,"Failed to create compression worker")}}(n);if(e)return e}return nm&&am.log("Using simple buffer"),new cm}function pm(){try{return"sessionStorage"in ou&&!!ou.sessionStorage}catch(e){return!1}}function mm(e){!function(){if(!pm())return;try{ou.sessionStorage.removeItem(cu)}catch(e){}}(),e.session=void 0}function fm(e){return void 0!==e&&Math.random()<e}function _m(e){if(pm())try{ou.sessionStorage.setItem(cu,JSON.stringify(e))}catch(t){}}function gm(e){const t=Date.now();return{id:e.id||Vl(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function vm(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:i=!1}=e,{previousSessionId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=function(e,t){return fm(e)?"session":!!t&&"buffer"}(t,n),a=gm({sampled:r,previousSessionId:s});return i&&_m(a),a}function ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function xm(e,t){let{maxReplayDuration:n,sessionIdleExpire:i,targetTime:s=Date.now()}=t;return ym(e.started,n,s)||ym(e.lastActivity,i,s)}function bm(e,t){let{sessionIdleExpire:n,maxReplayDuration:i}=t;return!!xm(e,{sessionIdleExpire:n,maxReplayDuration:i})&&("buffer"!==e.sampled||0!==e.segmentId)}function Sm(e,t){let{sessionIdleExpire:n,maxReplayDuration:i,previousSessionId:s}=e;const r=t.stickySession&&function(){if(!pm())return null;try{const e=ou.sessionStorage.getItem(cu);if(!e)return null;const t=JSON.parse(e);return nm&&am.infoTick("Loading existing session"),gm(t)}catch(e){return null}}();return r?bm(r,{sessionIdleExpire:n,maxReplayDuration:i})?(nm&&am.infoTick("Session in sessionStorage is expired, creating new one..."),vm(t,{previousSessionId:r.id})):r:(nm&&am.infoTick("Creating new session"),vm(t,{previousSessionId:s}))}function wm(e,t,n){return!!jm(e,t)&&(Nm(e,t,n),!0)}async function Nm(e,t,n){const{eventBuffer:i}=e;if(!i||i.waitForCheckout&&!n)return null;const s="buffer"===e.recordingMode;try{n&&s&&i.clear(),n&&(i.hasCheckout=!0,i.waitForCheckout=!1);const r=function(e,t){try{if("function"===typeof t&&function(e){return e.type===Lh.Custom}(e))return t(e)}catch(O){return nm&&am.exception(O,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await i.addEvent(r)}catch(O){const n=O&&O instanceof om,r=n?"addEventSizeExceeded":"addEvent";if(n&&s)return i.clear(),i.waitForCheckout=!0,null;e.handleException(O),await e.stop({reason:r});const a=dd();a&&a.recordDroppedEvent("internal_sdk_error","replay")}}function jm(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=kp(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(nm&&am.infoTick("Skipping event with timestamp ".concat(n," because it is after maxReplayDuration")),!1))}function Cm(e){return!e.type}function km(e){return"transaction"===e.type}function Pm(e){return"feedback"===e.type}function Tm(e){return(t,n)=>{if(!e.isEnabled()||!Cm(t)&&!km(t))return;const i=n.statusCode;!i||i<200||i>=300||(km(t)?function(e,t){var n;const i=e.getContext();null!==(n=t.contexts)&&void 0!==n&&null!==(n=n.trace)&&void 0!==n&&n.trace_id&&i.traceIds.size<100&&i.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:i}=e.getOptions();if("function"===typeof i&&!i(t))return;Pr(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(Dte){e.handleException(Dte)}})}(e,t))}}function Em(e){return t=>{e.isEnabled()&&Cm(t)&&function(e,t){var n;const i=null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.value;if("string"!==typeof i)return;if(i.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||i.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Tp(e,qp({category:"replay.hydrate-error",data:{url:bl()}}))}}(e,t)}}function Am(e){const t=dd();t&&t.on("beforeAddBreadcrumb",t=>function(e,t){if(!e.isEnabled()||!Im(t))return;const n=function(e){if(!Im(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t;const n=null===(t=e.data)||void 0===t?void 0:t.arguments;if(!Array.isArray(n)||0===n.length)return qp(e);let i=!1;const s=n.map(e=>{if(!e)return e;if("string"===typeof e)return e.length>pu?(i=!0,"".concat(e.slice(0,pu),"\u2026")):e;if("object"===typeof e)try{const t=Fl(e,7);return JSON.stringify(t).length>pu?(i=!0,"".concat(JSON.stringify(t,null,2).slice(0,pu),"\u2026")):t}catch(t){}return e});return qp(o(o({},e),{},{data:o(o({},e.data),{},{arguments:s},i?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(e);return qp(e)}(t);n&&Tp(e,n)}(e,t))}function Im(e){return!!e.category}function Lm(){const e=cd().getPropagationContext().dsc;e&&delete e.replay_id;const t=Dd();if(t){delete qd(t).replay_id}}function Rm(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Cm(t)&&!km(t)&&!Pm(t))return t;if(!e.checkAndHandleExpiredSession())return Lm(),t;if(Pm(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:Lh.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1))}(e,t),t;if(function(e,t){var n,i;return!(e.type||null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||!n.length)&&!(null===(i=t.originalException)||void 0===i||!i.__rrweb__)}(t,n)&&!e.getOptions()._experiments.captureExceptions)return nm&&am.log("Ignoring error from rrweb internals",t),null;const i=function(e,t){return"buffer"===e.recordingMode&&t.message!==lu&&!(!t.exception||t.type)&&fm(e.getOptions().errorSampleRate)}(e,t);return(i||"session"===e.recordingMode)&&(t.tags=o(o({},t.tags),{},{replayId:e.getSessionId()})),t},{id:"Replay"})}function Mm(e,t){return t.map(t=>{let{type:n,start:i,end:s,name:r,data:a}=t;const o=e.throttledAddEvent({type:Lh.Custom,timestamp:i,data:{tag:"performanceSpan",payload:{op:n,description:r,startTimestamp:i,endTimestamp:s,data:a}}});return"string"===typeof o?Promise.resolve(null):o})}function Om(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Mm(e,[n]),!1)))}}function Dm(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!nm||!e.getOptions()._experiments.traceInternals)&&Xd(t,dd())}(e,t.name)||e.addUpdate(()=>(Mm(e,[t]),!0)))}function Fm(e){if(!e)return;const t=new TextEncoder;try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=su(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(n){}}function Bm(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function qm(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n=o({},e._meta),i=n.warnings||[];return n.warnings=[...i,t],e._meta=n,e}function zm(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:i,url:s,method:r,statusCode:a,request:o,response:c}=t;return{type:e,start:n/1e3,end:i/1e3,name:s,data:{method:r,statusCode:a,request:o,response:c}}}function Wm(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Hm(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const i={headers:e,size:t},{body:s,warnings:r}=function(e){if(!e||"string"!==typeof e)return{body:e};const t=e.length>hu,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,hu);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(t,"\u2026"),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(i){}return{body:e}}(n);return i.body=s,null!==r&&void 0!==r&&r.length&&(i._meta={warnings:r}),i}function Um(e,t){return Object.entries(e).reduce((n,i)=>{let[s,r]=i;const a=s.toLowerCase();return t.includes(a)&&e[s]&&(n[a]=r),n},{})}function Vm(e,t){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ou.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ou.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const i=n.href;if(!e.endsWith("/")&&i.endsWith("/"))return i.slice(0,-1);return i}(e);return function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(n=>ed(e,n,t))}(n,t)}async function Gm(e,t,n){try{const i=await async function(e,t,n){const i=Date.now(),{startTimestamp:s=i,endTimestamp:r=i}=t,{url:a,method:o,status_code:c=0,request_body_size:l,response_body_size:d}=e.data,u=Vm(a,n.networkDetailAllowUrls)&&!Vm(a,n.networkDetailDenyUrls),h=u?function(e,t,n){let{networkCaptureBodies:i,networkRequestHeaders:s}=e;const r=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return Km(e[0],t);if(2===e.length)return Km(e[1],t);return{}}(t,s):{};if(!i)return Hm(r,n,void 0);const a=au(t),[o,c]=ru(a,am),l=Hm(r,n,o);if(c)return qm(l,c);return l}(n,t.input,l):Wm(l),p=await async function(e,t,n,i){let{networkCaptureBodies:s,networkResponseHeaders:r}=t;if(!e&&void 0!==i)return Wm(i);const a=n?Ym(n.headers,r):{};if(!n||!s&&void 0!==i)return Hm(a,i,void 0);const[o,c]=await async function(e){const t=function(e){try{return e.clone()}catch(O){nm&&am.exception(O,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise((t,n)=>{const i=Pr(()=>n(new Error("Timeout while trying to read response body")),500);(async function(e){return await e.text()})(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(i))})}(t);return[e]}catch(O){return O instanceof Error&&O.message.indexOf("Timeout")>-1?(nm&&am.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(nm&&am.exception(O,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(n),l=function(e,t){let{networkCaptureBodies:n,responseBodySize:i,captureDetails:s,headers:r}=t;try{const t=null!==e&&void 0!==e&&e.length&&void 0===i?Fm(e):i;return s?Hm(r,t,n?e:void 0):Wm(t)}catch(O){return nm&&am.exception(O,"Failed to serialize response body"),Hm(r,i,void 0)}}(o,{networkCaptureBodies:s,responseBodySize:i,captureDetails:e,headers:a});if(c)return qm(l,c);return l}(u,n,t.response,d);return{startTimestamp:s,endTimestamp:r,url:a,method:o,statusCode:c,request:h,response:p}}(e,t,n),s=zm("resource.fetch",i);Dm(n.replay,s)}catch(O){nm&&am.exception(O,"Failed to capture fetch breadcrumb")}}function Ym(e,t){const n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function Km(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Ym(n,t):Array.isArray(n)?{}:Um(n,t):{}}async function Qm(e,t,n){try{const i=function(e,t,n){const i=Date.now(),{startTimestamp:s=i,endTimestamp:r=i,input:a,xhr:o}=t,{url:c,method:l,status_code:d=0,request_body_size:u,response_body_size:h}=e.data;if(!c)return null;if(!o||!Vm(c,n.networkDetailAllowUrls)||Vm(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:r,url:c,method:l,statusCode:d,request:Wm(u),response:Wm(h)}}const p=o[Rs],m=p?Um(p.request_headers,n.networkRequestHeaders):{},f=Um(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{const[n,i]=t.split(": ");return i&&(e[n.toLowerCase()]=i),e},{})}(o),n.networkResponseHeaders),[_,g]=n.networkCaptureBodies?ru(a,am):[void 0],[v,y]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(O){return nm&&am.exception(O,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return nm&&am.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(n){t.push(n)}return nm&&am.warn("Failed to get xhr response body",...t),[void 0]}(o):[void 0],x=Hm(m,u,_),b=Hm(f,h,v);return{startTimestamp:s,endTimestamp:r,url:c,method:l,statusCode:d,request:g?qm(x,g):x,response:y?qm(b,y):b}}(e,t,n),s=zm("resource.xhr",i);Dm(n.replay,s)}catch(O){nm&&am.exception(O,"Failed to capture xhr breadcrumb")}}function Zm(e,t){const{xhr:n,input:i}=t;if(!n)return;const s=Fm(i),r=n.getResponseHeader("content-length")?Bm(n.getResponseHeader("content-length")):function(e,t){try{return Fm("json"===t&&e&&"object"===typeof e?JSON.stringify(e):e)}catch(n){return}}(n.response,n.responseType);void 0!==s&&(e.data.request_body_size=s),void 0!==r&&(e.data.response_body_size=r)}function Jm(e){const t=dd();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:r,networkResponseHeaders:a}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:r,networkResponseHeaders:a};t&&t.on("beforeAddBreadcrumb",(e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return null===e||void 0===e?void 0:e.xhr}(n)&&(Zm(t,n),Qm(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return null===e||void 0===e?void 0:e.response}(n)&&(!function(e,t){const{input:n,response:i}=t,s=Fm(n?au(n):void 0),r=i?Bm(i.headers.get("content-length")):void 0;void 0!==s&&(e.data.request_body_size=s),void 0!==r&&(e.data.response_body_size=r)}(t,n),Gm(t,n,e))}catch(i){nm&&am.exception(i,"Error when enriching network breadcrumb")}}(o,e,t))}catch(n){}}function Xm(e){const t=dd();xs(Up(e)),qs(Om(e)),Am(e),Jm(e);const n=Rm(e);var i;i=n,ld().addEventProcessor(i),t&&(t.on("beforeSendEvent",Em(e)),t.on("afterSendEvent",Tm(e)),t.on("createDsc",t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}}),t.on("spanStart",t=>{e.lastActiveSpan=t}),t.on("spanEnd",t=>{e.lastActiveSpan=t}),t.on("beforeSendFeedback",async(t,n)=>{var i;const s=e.getSessionId();null!==n&&void 0!==n&&n.includeReplay&&e.isEnabled()&&s&&null!==(i=t.contexts)&&void 0!==i&&i.feedback&&("api"===t.contexts.feedback.source&&await e.sendBufferedReplayOrFlush(),t.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}function $m(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:i}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:i}}}}function ef(e,t,n){return function(e,t,n){let i,s,r;const a=null!==n&&void 0!==n&&n.maxWait?Math.max(n.maxWait,t):0,o=(null===n||void 0===n?void 0:n.setTimeoutImpl)||setTimeout;function c(){return l(),i=e(),i}function l(){void 0!==s&&clearTimeout(s),void 0!==r&&clearTimeout(r),s=r=void 0}function d(){return s&&clearTimeout(s),s=o(c,t),a&&void 0===r&&(r=o(c,a)),i}return d.cancel=l,d.flush=function(){return void 0!==s||void 0!==r?c():i},d}(e,t,o(o({},n),{},{setTimeoutImpl:Pr}))}const tf=dl.navigator;function nf(e){let t=!1;return(n,i)=>{if(!e.checkAndHandleExpiredSession())return void(nm&&am.warn("Received replay event after session expired."));const s=i||!t;t=!0,e.clickDetector&&Bp(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&s&&e.setInitialState(),!wm(e,n,s))return!0;if(!s)return!1;const t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;wm(e,function(e){const t=e.getOptions();return{type:Lh.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,s),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(nm&&am.log("Updating session start time to earliest event in buffer to ".concat(new Date(n))),t.started=n,e.getOptions().stickySession&&_m(t))}return null!==t&&void 0!==t&&t.previousSessionId||"session"===e.recordingMode&&e.flush(),!0})}}function sf(e,t,n,i){return function(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}(function(e,t,n,i){var s;const r=null===(s=e.sdkProcessingMetadata)||void 0===s?void 0:s.dynamicSamplingContext;return o(o(o({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&i&&{dsn:bd(i)}),r&&{trace:r})}(e,function(e){if(null===e||void 0===e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}(e),i,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}async function rf(e){let{recordingData:t,replayId:n,segmentId:i,eventContext:s,timestamp:r,session:a}=e;const c=function(e){let t,{recordingData:n,headers:i}=e;const s="".concat(JSON.stringify(i),"\n");if("string"===typeof n)t="".concat(s).concat(n);else{const e=(new TextEncoder).encode(s);t=new Uint8Array(e.length+n.length),t.set(e),t.set(n,e.length)}return t}({recordingData:t,headers:{segment_id:i}}),{urls:l,errorIds:d,traceIds:u,initialTimestamp:h}=s,p=dd(),m=cd(),f=null===p||void 0===p?void 0:p.getTransport(),_=null===p||void 0===p?void 0:p.getDsn();if(!p||!f||!_||!a.sampled)return Promise.resolve({});const g={type:"replay_event",replay_start_timestamp:h/1e3,timestamp:r/1e3,error_ids:d,trace_ids:u,urls:l,replay_id:n,segment_id:i,replay_type:a.sampled},v=await async function(e){let{client:t,scope:n,replayId:i,event:s}=e;const r={event_id:i,integrations:"object"!==typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",s,r);const a=await Kd(t.getOptions(),s,r,n,t,ld());if(!a)return null;t.emit("postprocessEvent",a,r),a.platform=a.platform||"javascript";const c=t.getSdkMetadata(),{name:l,version:d,settings:u}=(null===c||void 0===c?void 0:c.sdk)||{};return a.sdk=o(o({},a.sdk),{},{name:l||"sentry.javascript.unknown",version:d||"0.0.0",settings:u}),a}({scope:m,client:p,replayId:n,event:g});if(!v)return p.recordDroppedEvent("event_processor","replay"),nm&&am.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete v.sdkProcessingMetadata;const y=sf(v,c,_,p.getOptions().tunnel);let x;try{x=await f.send(y)}catch(Dte){const t=new Error(lu);try{t.cause=Dte}catch(S){}throw t}if("number"===typeof x.statusCode&&(x.statusCode<200||x.statusCode>=300))throw new af(x.statusCode);const b=eu({},x);if(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}(b,"replay"))throw new of(b);return x}class af extends Error{constructor(e){super("Transport returned status code ".concat(e))}}class of extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function cf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3};const{recordingData:n,onError:i}=e;var s,r;if(n.length)try{return await rf(e),!0}catch(Dte){if(Dte instanceof af||Dte instanceof of)throw Dte;if(s="Replays",r={_retryCount:t.count},ld().setContext(s,r),i&&i(Dte),t.count>=3){const e=new Error("".concat(lu," - max retries exceeded"));try{e.cause=Dte}catch(a){}throw e}return t.interval*=++t.count,new Promise((i,s)=>{Pr(async()=>{try{await cf(e,t),i(!0)}catch(n){s(n)}},t.interval)})}}const lf="__THROTTLED";function df(e,t,n){const i=new Map;let s=!1;return function(){const r=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;i.forEach((e,n)=>{n<t&&i.delete(n)})})(r),[...i.values()].reduce((e,t)=>e+t,0)>=t){const e=s;return s=!0,e?"__SKIPPED":lf}s=!1;const a=i.get(r)||0;return i.set(r,a+1),e(...arguments)}}class uf{constructor(e){let{options:t,recordingOptions:n}=e;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=ef(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=df((e,t)=>function(e,t,n){return jm(e,t)?Nm(e,t,n):Promise.resolve(null)}(this,e,t),300,5);const{slowClickTimeout:i,slowClickIgnoreSelectors:s}=this.getOptions(),r=i?{threshold:Math.min(3e3,i),timeout:i,scrollTimeout:300,ignoreSelector:s?s.join(","):""}:void 0;if(r&&(this.clickDetector=new Op(this,r)),nm){const e=t._experiments;am.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}this._handleVisibilityChange=()=>{"visible"===ou.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const e=qp({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{const e=qp({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{Gp(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){nm&&am.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,i=t<=0&&n<=0;this._requiresManualStart=i,i||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",nm&&am.infoTick("Starting replay in ".concat(this.recordingMode," mode")),this._initializeRecording()):nm&&am.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(nm&&am.log("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(nm&&am.log("Buffering is in progress, call `flush()` to save the replay"));nm&&am.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=Sm({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(nm&&am.log("Buffering is in progress, call `flush()` to save the replay"));nm&&am.infoTick("Starting replay in buffer mode");const e=Sm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Np(o(o(o(o({},this._recordingOptions),"buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{},{emit:nf(this)},function(){var e,t;return/iPhone|iPad|iPod/i.test(null!==(e=null===tf||void 0===tf?void 0:tf.userAgent)&&void 0!==e?e:"")||/Macintosh/i.test(null!==(t=null===tf||void 0===tf?void 0:tf.userAgent)&&void 0!==t?t:"")&&null!==tf&&void 0!==tf&&tf.maxTouchPoints&&(null===tf||void 0===tf?void 0:tf.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}()),{},{onMutation:this._onMutationHandler.bind(this)},e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(Dte){this.handleException(Dte)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(Dte){return this.handleException(Dte),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{var n;nm&&am.log("Stopping Replay".concat(t?" triggered by ".concat(t):"")),Lm(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),null===(n=this.eventBuffer)||void 0===n||n.destroy(),this.eventBuffer=null,mm(this)}catch(Dte){this.handleException(Dte)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),nm&&am.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),nm&&am.log("Resuming replay"))}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();nm&&am.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){var t,n;if(!e||!1!==(null===(t=this.session)||void 0===t?void 0:t.sampled))return null===(n=this.session)||void 0===n?void 0:n.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&ym(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e="".concat(ou.location.pathname).concat(ou.location.hash).concat(ou.location.search),t="".concat(ou.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===lf){const e=qp({category:"replay.throttled"});this.addUpdate(()=>!wm(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){const e=this.lastActiveSpan||Dd(),t=e&&Od(e),n=(t&&Id(t).data||{})[_d];if(t&&n&&["route","custom"].includes(n))return Id(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=hm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=Sm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!bm(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{ou.document.addEventListener("visibilitychange",this._handleVisibilityChange),ou.addEventListener("blur",this._handleWindowBlur),ou.addEventListener("focus",this._handleWindowFocus),ou.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Xm(this),this._hasInitializedCoreListeners=!0)}catch(Dte){this.handleException(Dte)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}const i=[];return["navigation","paint","resource"].forEach(e=>{i.push(To(e,n))}),i.push(ko(Kp(Jp,e)),Co(Kp($p,e)),Po(Kp(em,e))),()=>{i.forEach(e=>e())}}(this)}_removeListeners(){try{ou.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ou.removeEventListener("blur",this._handleWindowBlur),ou.removeEventListener("focus",this._handleWindowFocus),ou.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(Dte){this.handleException(Dte)}}_doChangeToBackgroundTasks(e){if(!this.session)return;xm(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):nm&&am.log("Document has become active, but session has expired")}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Lh.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(Qp).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(Mm(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){var e;const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),null!==(e=this.eventBuffer)&&void 0!==e&&e.hasEvents&&(await async function(e){try{return Promise.all(Mm(e,[$m(ou.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await cf({replayId:t,recordingData:s,segmentId:i,eventContext:n,session:this.session,timestamp:e,onError:e=>this.handleException(e)})}catch(Dte){this.handleException(Dte),this.stop({reason:"sendReplay"});const t=dd();if(t){const n=Dte instanceof of?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else nm&&am.error("No session or eventBuffer found to flush.")}async _flush(){let{force:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(nm&&am.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const i=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(i||s)return nm&&am.log("Session duration (".concat(Math.floor(n/1e3),"s) is too ").concat(i?"short":"long",", not sending replay.")),void(i&&this._debouncedFlush());const r=this.eventBuffer;r&&0===this.session.segmentId&&!r.hasCheckout&&nm&&am.log("Flushing initial segment without checkout.");const a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(Dte){this.handleException(Dte)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&_m(this.session)}_onMutationHandler(e){const{ignoreMutations:t}=this._options._experiments;if(null!==t&&void 0!==t&&t.length&&e.some(e=>{const n=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}(e.target),i=t.join(",");return null===n||void 0===n?void 0:n.matches(i)}))return!1;const n=e.length,i=this._options.mutationLimit,s=i&&n>i;if(n>this._options.mutationBreadcrumbLimit||s){const e=qp({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(e)}return!s||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function hf(e,t){return[...e,...t].join(",")}const pf='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',mf=["content-length","content-type","accept"];let ff=!1;class _f{constructor(){let{flushMinDelay:e=du,flushMaxDelay:t=uu,minReplayDuration:n=fu,maxReplayDuration:i=_u,stickySession:s=!0,useCompression:r=!0,workerUrl:a,_experiments:c={},maskAllText:l=!0,maskAllInputs:d=!0,blockAllMedia:u=!0,mutationBreadcrumbLimit:h=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:g=[],networkCaptureBodies:v=!0,networkRequestHeaders:y=[],networkResponseHeaders:x=[],mask:b=[],maskAttributes:S=["title","placeholder","aria-label"],unmask:w=[],block:N=[],unblock:j=[],ignore:C=[],maskFn:k,beforeAddRecordingEvent:P,beforeErrorSampling:T,onError:E}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="Replay";const A=function(e){let{mask:t,unmask:n,block:i,unblock:s,ignore:r}=e;return{maskTextSelector:hf(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:hf(n,[]),blockSelector:hf(i,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:hf(s,[]),ignoreSelector:hf(r,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:w,block:N,unblock:j,ignore:C});if(this._recordingOptions=o(o({maskAllInputs:d,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:k,maskInputFn:k,maskAttributeFn:(e,t,n)=>function(e){let{el:t,key:n,maskAttributes:i,maskAllText:s,privacyOptions:r,value:a}=e;return s?r.unmaskTextSelector&&t.matches(r.unmaskTextSelector)?a:i.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a:a}({maskAttributes:S,maskAllText:l,privacyOptions:A,key:e,value:t,el:n})},A),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(t){}},recordCrossOriginIframes:Boolean(c.recordCrossOriginIframes)}),this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(i,_u),stickySession:s,useCompression:r,workerUrl:a,blockAllMedia:u,maskAllInputs:d,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:f,networkDetailAllowUrls:_,networkDetailDenyUrls:g,networkCaptureBodies:v,networkRequestHeaders:gf(y),networkResponseHeaders:gf(x),beforeAddRecordingEvent:P,beforeErrorSampling:T,onError:E,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(pf):pf),this._isInitialized&&nu())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ff}set _isInitialized(e){ff=e}afterAllSetup(e){nu()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){var t;if(null!==(t=this._replay)&&void 0!==t&&t.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){var e;if(null!==(e=this._replay)&&void 0!==e&&e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),i=o({sessionSampleRate:0,errorSampleRate:0},e),s=iu(n.replaysSessionSampleRate),r=iu(n.replaysOnErrorSampleRate);null==s&&null==r&&kl(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")});null!=s&&(i.sessionSampleRate=s);null!=r&&(i.errorSampleRate=r);return i}(this._initialOptions,e);this._replay=new uf({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(t){}}}function gf(e){return[...mf,...e.map(e=>e.toLowerCase())]}class vf extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class yf extends vf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xf extends vf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bf extends vf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sf;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Sf||(Sf={}));var wf=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};class Nf{constructor(e){let{headers:t={},customFetch:i,region:s=Sf.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(i)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return wf(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:r,signal:a}=t;let o={},{region:c}=t;c||(c=this.region);const l=new URL("".concat(this.url,"/").concat(e));let d;c&&"any"!==c&&(o["x-region"]=c,l.searchParams.set("forceFunctionRegion",c)),r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!==typeof Blob&&r instanceof Blob||r instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=r):"string"===typeof r?(o["Content-Type"]="text/plain",d=r):"undefined"!==typeof FormData&&r instanceof FormData?d=r:(o["Content-Type"]="application/json",d=JSON.stringify(r)));const u=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d,signal:a}).catch(e=>{if("AbortError"===e.name)throw e;throw new yf(e)}),h=u.headers.get("x-relay-error");if(h&&"true"===h)throw new xf(u);if(!u.ok)throw new bf(u);let p,m=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===m?yield u.json():"application/octet-stream"===m?yield u.blob():"text/event-stream"===m?u:"multipart/form-data"===m?yield u.formData():yield u.text(),{data:p,error:null,response:u}}catch(O){return O instanceof Error&&"AbortError"===O.name?{data:null,error:new yf(O)}:{data:null,error:O,response:O instanceof bf||O instanceof xf?O.context:void 0}}})}}var jf=n(53);const{PostgrestClient:Cf,PostgrestQueryBuilder:kf,PostgrestFilterBuilder:Pf,PostgrestTransformBuilder:Tf,PostgrestBuilder:Ef,PostgrestError:Af}=jf;const If=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Lf="realtime-js/".concat("2.15.5"),Rf=1e4;var Mf,Of,Df,Ff,Bf,qf;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Mf||(Mf={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Of||(Of={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Df||(Df={})),function(e){e.websocket="websocket"}(Ff||(Ff={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Bf||(Bf={}));class zf{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),s=t.getUint8(2);let r=this.HEADER_LENGTH+2;const a=n.decode(e.slice(r,r+i));r+=i;const o=n.decode(e.slice(r,r+s));r+=s;return{ref:null,topic:a,event:o,payload:JSON.parse(n.decode(e.slice(r,e.byteLength)))}}}class Wf{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(qf||(qf={}));const Hf=function(e,t){var n;const i=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,s)=>(n[s]=Uf(s,e,t,i),n),{})},Uf=(e,t,n,i)=>{const s=t.find(t=>t.name===e),r=null===s||void 0===s?void 0:s.type,a=n[e];return r&&!i.includes(r)?Vf(r,a):Gf(a)},Vf=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Zf(t,n)}switch(e){case qf.bool:return Yf(t);case qf.float4:case qf.float8:case qf.int2:case qf.int4:case qf.int8:case qf.numeric:case qf.oid:return Kf(t);case qf.json:case qf.jsonb:return Qf(t);case qf.timestamp:return Jf(t);case qf.abstime:case qf.date:case qf.daterange:case qf.int4range:case qf.int8range:case qf.money:case qf.reltime:case qf.text:case qf.time:case qf.timestamptz:case qf.timetz:case qf.tsrange:case qf.tstzrange:default:return Gf(t)}},Gf=e=>e,Yf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kf=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qf=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(O){return console.log("JSON parse error: ".concat(O)),e}return e},Zf=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,i=e[n];if("{"===e[0]&&"}"===i){let i;const r=e.slice(1,n);try{i=JSON.parse("["+r+"]")}catch(s){i=r?r.split(","):[]}return i.map(e=>Vf(t,e))}return e},Jf=e=>"string"===typeof e?e.replace(" ","T"):e,Xf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class $f{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rf;this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e_,t_,n_,i_;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(e_||(e_={}));class s_{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=s_.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=s_.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],i()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=s_.syncDiff(this.state,e,t,n),i())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const s=this.cloneDeep(e),r=this.transformState(t),a={},o={};return this.map(s,(e,t)=>{r[e]||(o[e]=t)}),this.map(r,(e,t)=>{const n=s[e];if(n){const i=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),r=t.filter(e=>s.indexOf(e.presence_ref)<0),c=n.filter(e=>i.indexOf(e.presence_ref)<0);r.length>0&&(a[e]=r),c.length>0&&(o[e]=c)}else a[e]=t}),this.syncDiff(s,{joins:a,leaves:o},n,i)}static syncDiff(e,t,n,i){const{joins:s,leaves:r}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(t,i)=>{var s;const r=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(i),r.length>0){const n=e[t].map(e=>e.presence_ref),i=r.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...i)}n(t,r,i)}),this.map(r,(t,n)=>{let s=e[t];if(!s)return;const r=n.map(e=>e.presence_ref);s=s.filter(e=>r.indexOf(e.presence_ref)<0),e[t]=s,i(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return t[n]="metas"in i?i.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(t_||(t_={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(n_||(n_={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(i_||(i_={}));class r_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Of.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $f(this,Df.join,this.params,this.timeout),this.rejoinTimer=new Wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Of.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Of.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Of.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Of.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Of.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Df.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new s_(this),this.broadcastEndpointURL=Xf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Of.closed){const{config:{broadcast:r,presence:a,private:o}}=this.params,c=null!==(i=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==i?i:[],l=!!this.bindings[n_.PRESENCE]&&this.bindings[n_.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),d={},u={broadcast:r,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(i_.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(i_.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var i;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0,r=[];for(let i=0;i<s;i++){const s=t[i],{filter:{event:a,schema:o,table:c,filter:l}}=s,d=n&&n[i];if(!d||d.event!==a||d.schema!==o||d.table!==c||d.filter!==l)return this.unsubscribe(),this.state=Of.errored,void(null===e||void 0===e||e(i_.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));r.push(Object.assign(Object.assign({},s),{id:d.id}))}return this.bindings.postgres_changes=r,void(e&&e(i_.SUBSCRIBED))}null===e||void 0===e||e(i_.SUBSCRIBED)}).receive("error",t=>{this.state=Of.errored,null===e||void 0===e||e(i_.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(i_.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Of.joined&&e===n_.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var i,s,r;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(r=null===(s=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===s?void 0:s.broadcast)||void 0===r?void 0:r.ack)||n("ok"),a.receive("ok",()=>n("ok")),a.receive("error",()=>n("error")),a.receive("timeout",()=>n("timed out"))});{const{event:s,payload:r}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(i=e.body)||void 0===i?void 0:i.cancel()),e.ok?"ok":"error"}catch(O){return"AbortError"===O.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Of.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Df.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new $f(this,Df.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Of.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),r=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),r}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let i=new $f(this,e,t,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,s;const r=e.toLocaleLowerCase(),{close:a,error:o,leave:c,join:l}=Df;if(n&&[a,o,c,l].indexOf(r)>=0&&n!==this._joinRef())return;let d=this._onMessage(r,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(e=>{var t,n,i;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(i=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===i?void 0:i.toLocaleLowerCase())===r}).map(e=>e.callback(d,n)):null===(s=this.bindings[r])||void 0===s||s.filter(e=>{var n,i,s,a,o,c;if(["broadcast","presence","postgres_changes"].includes(r)){if("id"in e){const r=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return r&&(null===(i=t.ids)||void 0===i?void 0:i.includes(r))&&("*"===a||(null===a||void 0===a?void 0:a.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(o=null===(a=null===e||void 0===e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(c=null===t||void 0===t?void 0:t.event)||void 0===c?void 0:c.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===r}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:n,commit_timestamp:i,type:s,errors:r}=e,a={schema:t,table:n,commit_timestamp:i,eventType:s,new:{},old:{},errors:r};d=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===Of.closed}_isJoined(){return this.state===Of.joined}_isJoining(){return this.state===Of.joining}_isLeaving(){return this.state===Of.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var i;return!((null===(i=e.type)||void 0===i?void 0:i.toLocaleLowerCase())===n&&r_.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Df.close,{},e)}_onError(e){this._on(Df.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Of.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Hf(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Hf(e.columns,e.old_record)),t}}const a_=()=>{},o_=25e3,c_=10,l_=100,d_=[1e3,2e3,5e3,1e4];class u_{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rf,this.transport=null,this.heartbeatIntervalMs=o_,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=a_,this.ref=0,this.reconnectTimer=null,this.logger=a_,this.conn=null,this.sendBuffer=[],this.serializer=new zf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(i=null===t||void 0===t?void 0:t.params)||void 0===i?void 0:i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Ff.websocket),this.httpEndpoint=Xf(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=If.createWebSocket(this.endpointURL())}catch(O){this._setConnectionState("disconnected");const t=O.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mf.connecting:return Bf.Connecting;case Mf.open:return Bf.Open;case Mf.closing:return Bf.Closing;default:return Bf.Closed}}isConnected(){return this.connectionState()===Bf.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),i=this.getChannels().find(e=>e.topic===n);if(i)return i;{const n=new r_("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:i,ref:s}=e,r=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},l_)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:i,ref:s}=e,r=s?"(".concat(s,")"):"",a=i.status||"";this.log("receive","".concat(a," ").concat(t," ").concat(n," ").concat(r).trim(),i),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,i,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Df.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return"".concat(e).concat(n).concat(i)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Lf};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Df.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(i){this.log("error","error in ".concat(e," callback"),i)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new Wf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},c_)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,i,s,r,a,o,c,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Rf,this.heartbeatIntervalMs=null!==(i=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==i?i:o_,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(r=null===e||void 0===e?void 0:e.accessToken)&&void 0!==r?r:null,this.heartbeatCallback=null!==(a=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==a?a:a_,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>d_[e-1]||1e4,this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class h_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function p_(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class m_ extends h_{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class f_ extends h_{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var __=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};const g_=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},v_=e=>{if(Array.isArray(e))return e.map(e=>v_(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,i]=e;const s=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=v_(i)}),t};var y_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};const x_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b_=(e,t,i)=>y_(void 0,void 0,void 0,function*(){const s=yield __(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,621))).Response:Response});e instanceof s&&!(null===i||void 0===i?void 0:i.noResolveJson)?e.json().then(n=>{const i=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||i+"";t(new m_(x_(n),i,s))}).catch(e=>{t(new f_(x_(e),e))}):t(new f_(x_(e),e))}),S_=(e,t,n,i)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&i?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(i)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(i)):s.body=i,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function w_(e,t,n,i,s,r){return y_(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,S_(t,i,s,r)).then(e=>{if(!e.ok)throw e;return(null===i||void 0===i?void 0:i.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>b_(e,o,i))})})}function N_(e,t,n,i){return y_(this,void 0,void 0,function*(){return w_(e,"GET",t,n,i)})}function j_(e,t,n,i,s){return y_(this,void 0,void 0,function*(){return w_(e,"POST",t,i,s,n)})}function C_(e,t,n,i,s){return y_(this,void 0,void 0,function*(){return w_(e,"PUT",t,i,s,n)})}function k_(e,t,n,i,s){return y_(this,void 0,void 0,function*(){return w_(e,"DELETE",t,i,s,n)})}var P_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};class T_{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return P_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}}var E_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};class A_{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new T_(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return E_(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}}var I_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};const L_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class M_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=g_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,i){return I_(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},R_),i);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(r.upsert)});const o=r.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",r.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=n,a["cache-control"]="max-age=".concat(r.cacheControl),a["content-type"]=r.contentType,o&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===i||void 0===i?void 0:i.headers)&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),l=this._getFinalPath(c),d=yield("PUT"==e?C_:j_)(this.fetch,"".concat(this.url,"/object/").concat(l),s,Object.assign({headers:a},(null===r||void 0===r?void 0:r.duplex)?{duplex:r.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}upload(e,t,n){return I_(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return I_(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),r=this._getFinalPath(s),a=new URL(this.url+"/object/upload/sign/".concat(r));a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:R_.upsert},i),r=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,r["cache-control"]="max-age=".concat(t.cacheControl),r["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield C_(this.fetch,a.toString(),e,{headers:r})).Key},error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}createSignedUploadUrl(e,t){return I_(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(i["x-upsert"]="true");const s=yield j_(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:i}),r=new URL(this.url+s.url),a=r.searchParams.get("token");if(!a)throw new h_("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:a},error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}update(e,t,n){return I_(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return I_(this,void 0,void 0,function*(){try{return{data:yield j_(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}copy(e,t,n){return I_(this,void 0,void 0,function*(){try{return{data:{path:(yield j_(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}createSignedUrl(e,t,n){return I_(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield j_(this.fetch,"".concat(this.url,"/object/sign/").concat(i),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const r=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return s={signedUrl:encodeURI("".concat(this.url).concat(s.signedURL).concat(r))},{data:s,error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}createSignedUrls(e,t,n){return I_(this,void 0,void 0,function*(){try{const i=yield j_(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:i.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(s)):null})),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=i?"?".concat(i):"",r=this._getFinalPath(e);return new A_(()=>N_(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(r).concat(s),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return I_(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield N_(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:v_(e),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}exists(e){return I_(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,i){return y_(this,void 0,void 0,function*(){return w_(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O)&&O instanceof f_){const t=O.originalError;if([400,404].includes(null===t||void 0===t?void 0:t.status))return{data:!1,error:O}}throw O}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&i.push(s);const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==a&&i.push(a);let o=i.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(r,"/public/").concat(n).concat(o))}}}remove(e){return I_(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}list(e,t,n){return I_(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},L_),t),{prefix:e||""});return{data:yield j_(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},n),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}listV2(e,t){return I_(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield j_(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const O_={"X-Client-Info":"storage-js/".concat("2.12.2")};var D_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};class F_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const s=new URL(e);if(null===i||void 0===i?void 0:i.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},O_),t),this.fetch=g_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return D_(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}getBucket(e){return D_(this,void 0,void 0,function*(){try{return{data:yield N_(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return D_(this,void 0,void 0,function*(){try{return{data:yield j_(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}updateBucket(e,t){return D_(this,void 0,void 0,function*(){try{return{data:yield C_(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}emptyBucket(e){return D_(this,void 0,void 0,function*(){try{return{data:yield j_(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}deleteBucket(e){return D_(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(p_(O))return{data:null,error:O};throw O}})}}class B_ extends F_{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new M_(this.url,this.headers,e,this.fetch)}}let q_="";q_="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const z_={headers:{"X-Client-Info":"supabase-js-".concat(q_,"/").concat("2.58.0")}},W_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U_={};var V_=n(621),G_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};const Y_=e=>{let t;return t=e||("undefined"===typeof fetch?V_.default:fetch),function(){return t(...arguments)}},K_=(e,t,n)=>{const i=Y_(n),s="undefined"===typeof Headers?V_.Headers:Headers;return(n,r)=>G_(void 0,void 0,void 0,function*(){var a;const o=null!==(a=yield t())&&void 0!==a?a:e;let c=new s(null===r||void 0===r?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization","Bearer ".concat(o)),i(n,Object.assign(Object.assign({},r),{headers:c}))})};var Q_=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};const Z_="2.72.0",J_=3e4,X_=9e4,$_={"X-Client-Info":"gotrue-js/".concat(Z_)},eg="X-Supabase-Api-Version",tg={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ng=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ig extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function sg(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class rg extends ig{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ag extends ig{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class og extends ig{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class cg extends og{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class lg extends og{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dg extends og{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ug extends og{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hg extends og{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pg extends og{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function mg(e){return sg(e)&&"AuthRetryableFetchError"===e.name}class fg extends og{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class _g extends og{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vg=" \t\n\r=".split(""),yg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vg.length;t+=1)e[vg[t].charCodeAt(0)]=-2;for(let t=0;t<gg.length;t+=1)e[gg[t].charCodeAt(0)]=t;return e})();function xg(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(gg[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(gg[e]),t.queuedBits-=6}}function bg(e,t,n){const i=yg[e];if(!(i>-1)){if(-2===i)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Sg(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},r=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,i,n)};for(let a=0;a<e.length;a+=1)bg(e.charCodeAt(a),s,r);return t.join("")}function wg(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Ng(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const t=1024*(i-55296)&65535;i=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}wg(i,t)}}function jg(e){const t=[],n={queue:0,queuedBits:0},i=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)bg(e.charCodeAt(s),n,i);return new Uint8Array(t)}function Cg(e){const t=[],n={queue:0,queuedBits:0},i=e=>{t.push(e)};return e.forEach(e=>xg(e,n,i)),xg(null,n,i),t.join("")}const kg=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Pg={tested:!1,writable:!1},Tg=()=>{if(!kg())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Pg.tested)return Pg.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pg.tested=!0,Pg.writable=!0}catch(t){Pg.tested=!0,Pg.writable=!1}return Pg.writable};const Eg=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Ag=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ig=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(i){return n}},Lg=async(e,t)=>{await e.removeItem(t)};class Rg{constructor(){this.promise=new Rg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Mg(e){const t=e.split(".");if(3!==t.length)throw new _g("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ng.test(t[n]))throw new _g("JWT not in base64url format");return{header:JSON.parse(Sg(t[0])),payload:JSON.parse(Sg(t[1])),signature:jg(t[2]),raw:{header:t[0],payload:t[1]}}}function Og(e){return("0"+e.toString(16)).substr(-2)}async function Dg(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let i=0;i<56;i++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Og).join("")}();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Ag(e,"".concat(t,"-code-verifier"),s);const r=await Dg(i);return[r,i===r?"plain":"s256"]}Rg.promiseConstructor=Promise;const Bg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const qg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zg(e){if(!qg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wg(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Hg(e){return JSON.parse(JSON.stringify(e))}var Ug=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Vg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gg=[502,503,504];async function Yg(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new pg(Vg(e),0);if(Gg.includes(e.status))throw new pg(Vg(e),e.status);let i,s;try{i=await e.json()}catch(a){throw new ag(Vg(a),a)}const r=function(e){const t=e.headers.get(eg);if(!t)return null;if(!t.match(Bg))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(a){return null}}(e);if(r&&r.getTime()>=tg.timestamp&&"object"===typeof i&&i&&"string"===typeof i.code?s=i.code:"object"===typeof i&&i&&"string"===typeof i.error_code&&(s=i.error_code),s){if("weak_password"===s)throw new fg(Vg(i),e.status,(null===(t=i.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new cg}else if("object"===typeof i&&i&&"object"===typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new fg(Vg(i),e.status,i.weak_password.reasons);throw new rg(Vg(i),e.status||500,s)}async function Kg(e,t,n,i){var s;const r=Object.assign({},null===i||void 0===i?void 0:i.headers);r[eg]||(r[eg]=tg.name),(null===i||void 0===i?void 0:i.jwt)&&(r.Authorization="Bearer ".concat(i.jwt));const a=null!==(s=null===i||void 0===i?void 0:i.query)&&void 0!==s?s:{};(null===i||void 0===i?void 0:i.redirectTo)&&(a.redirect_to=i.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await async function(e,t,n,i,s,r){const a=((e,t,n,i)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))})(t,i,s,r);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new pg(Vg(c),0)}o.ok||await Yg(o);if(null===i||void 0===i?void 0:i.noResolveJson)return o;try{return await o.json()}catch(c){await Yg(c)}}(e,t,n+o,{headers:r,noResolveJson:null===i||void 0===i?void 0:i.noResolveJson},{},null===i||void 0===i?void 0:i.body);return(null===i||void 0===i?void 0:i.xform)?null===i||void 0===i?void 0:i.xform(c):{data:Object.assign({},c),error:null}}function Qg(e){var t;let n=null;var i;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(i=e.expires_in,Math.round(Date.now()/1e3)+i)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Zg(e){const t=Qg(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Jg(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Xg(e){return{data:e,error:null}}function $g(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:r}=e,a=Ug(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:r},user:Object.assign({},a)},error:null}}function ev(e){return e}const tv=["global","local","others"];var nv=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};class iv{constructor(e){let{url:t="",headers:n={},fetch:i}=e;this.url=t,this.headers=n,this.fetch=Eg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tv[0];if(tv.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(tv.join(", ")));try{return await Kg(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(O){if(sg(O))return{data:null,error:O};throw O}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Kg(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Jg})}catch(O){if(sg(O))return{data:{user:null},error:O};throw O}}async generateLink(e){try{const{options:t}=e,n=nv(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=null===n||void 0===n?void 0:n.newEmail,delete i.newEmail),await Kg(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:i,headers:this.headers,xform:$g,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(O){if(sg(O))return{data:{properties:null,user:null},error:O};throw O}}async createUser(e){try{return await Kg(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Jg})}catch(O){if(sg(O))return{data:{user:null},error:O};throw O}}async listUsers(e){var t,n,i,s,r,a,o;try{const c={nextPage:null,lastPage:0,total:0},l=await Kg(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(i=null===e||void 0===e?void 0:e.perPage)||void 0===i?void 0:i.toString())&&void 0!==s?s:""},xform:ev});if(l.error)throw l.error;const d=await l.json(),u=null!==(r=l.headers.get("x-total-count"))&&void 0!==r?r:0,h=null!==(o=null===(a=l.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);c["".concat(n,"Page")]=t}),c.total=parseInt(u)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(O){if(sg(O))return{data:{users:[]},error:O};throw O}}async getUserById(e){zg(e);try{return await Kg(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Jg})}catch(O){if(sg(O))return{data:{user:null},error:O};throw O}}async updateUserById(e,t){zg(e);try{return await Kg(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Jg})}catch(O){if(sg(O))return{data:{user:null},error:O};throw O}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];zg(e);try{return await Kg(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Jg})}catch(O){if(sg(O))return{data:{user:null},error:O};throw O}}async _listFactors(e){zg(e.userId);try{const{data:t,error:n}=await Kg(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(O){if(sg(O))return{data:null,error:O};throw O}}async _deleteFactor(e){zg(e.userId),zg(e.id);try{return{data:await Kg(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(O){if(sg(O))return{data:null,error:O};throw O}}}function sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const rv=!!(globalThis&&Tg()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ov extends av{}async function cv(e,t,n){rv&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),rv&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async i=>{if(!i){if(0===t)throw rv&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ov('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(rv)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}rv&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{rv&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}))}function lv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function dv(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const uv={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hv(e,t,n){return await n()}const pv={};class mv{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mv.nextInstanceID,mv.nextInstanceID+=1,this.instanceID>0&&kg()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},uv),e);if(this.logDebugMessages=!!i.debug,"function"===typeof i.debug&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new iv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Eg(i.fetch),this.lock=i.lock||hv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:kg()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=cv:this.lock=hv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=sv(this.memoryStorage)),kg()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=pv[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){pv[this.storageKey]=Object.assign(Object.assign({},pv[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=pv[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pv[this.storageKey]=Object.assign(Object.assign({},pv[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Z_,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(i){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),kg()&&this.detectSessionInUrl&&"none"!==n){const{data:i,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return sg(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(O){return sg(O)?{error:O}:{error:new ag("Unexpected error during initialization",O)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const s=await Kg(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(i=null===e||void 0===e?void 0:e.options)||void 0===i?void 0:i.captchaToken}},xform:Qg}),{data:r,error:a}=s;if(a||!r)return{data:{user:null,session:null},error:a};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async signUp(e){var t,n,i;try{let s;if("email"in e){const{email:n,password:i,options:r}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await Fg(this.storage,this.storageKey)),s=await Kg(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===r||void 0===r?void 0:r.emailRedirectTo,body:{email:n,password:i,data:null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},code_challenge:a,code_challenge_method:o},xform:Qg})}else{if(!("phone"in e))throw new dg("You must provide either an email or phone number and a password");{const{phone:t,password:r,options:a}=e;s=await Kg(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:r,data:null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(i=null===a||void 0===a?void 0:a.channel)&&void 0!==i?i:"sms",gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Qg})}}const{data:r,error:a}=s;if(a||!r)return{data:{user:null,session:null},error:a};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:i,options:s}=e;t=await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:i,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Zg})}else{if(!("phone"in e))throw new dg("You must provide either an email or phone number and a password");{const{phone:n,password:i,options:s}=e;t=await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:i,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Zg})}}const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i}):{data:{user:null,session:null},error:new lg}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async signInWithOAuth(e){var t,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,i,s,r,a,o,c,l,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:m,options:f}=e;let _;if(kg())if("object"===typeof u)_=u;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");_=e.ethereum}else{if("object"!==typeof u||!(null===f||void 0===f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=u}const g=new URL(null!==(t=null===f||void 0===f?void 0:f.url)&&void 0!==t?t:window.location.href),v=await _.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=lv(v[0]);let x=null===(n=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!x){const e=await _.request({method:"eth_chainId"});x=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:r=new Date,nonce:a,notBefore:o,requestId:c,resources:l,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(a));if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const p=lv(e.address),m=d?"".concat(d,"://").concat(i):i,f=e.statement?"".concat(e.statement,"\n"):"",_="".concat(m," wants you to sign in with your Ethereum account:\n").concat(p,"\n\n").concat(f);let g="URI: ".concat(u,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(a?"\nNonce: ".concat(a):"","\nIssued At: ").concat(r.toISOString());if(s&&(g+="\nExpiration Time: ".concat(s.toISOString())),o&&(g+="\nNot Before: ".concat(o.toISOString())),c&&(g+="\nRequest ID: ".concat(c)),l){let e="\nResources:";for(const t of l){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}g+=e}return"".concat(_,"\n").concat(g)}({domain:g.host,address:y,statement:m,uri:g.href,version:"1",chainId:x,nonce:null===(i=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.nonce,issuedAt:null!==(r=null===(s=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:new Date,expirationTime:null===(a=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===a?void 0:a.expirationTime,notBefore:null===(o=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(c=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.requestId,resources:null===(l=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.resources}),p=await _.request({method:"personal_sign",params:[dv(h),y]})}try{const{data:t,error:n}=await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Qg});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new lg}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async signInWithSolana(e){var t,n,i,s,r,a,o,c,l,d,u,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:u,wallet:h,statement:f,options:_}=e;let g;if(kg())if("object"===typeof h)g=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");g=e.solana}else{if("object"!==typeof h||!(null===_||void 0===_?void 0:_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=h}const v=new URL(null!==(t=null===_||void 0===_?void 0:_.url)&&void 0!==t?t:window.location.href);if("signIn"in g&&g.signIn){const e=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===_||void 0===_?void 0:_.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in g)||"function"!==typeof g.signMessage||!("publicKey"in g)||"object"!==typeof g||!g.publicKey||!("toBase58"in g.publicKey)||"function"!==typeof g.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(v.host," wants you to sign in with your Solana account:"),g.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(i=null===(n=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==i?i:(new Date).toISOString()),...(null===(s=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(_.signInWithSolana.notBefore)]:[],...(null===(r=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===r?void 0:r.expirationTime)?["Expiration Time: ".concat(_.signInWithSolana.expirationTime)]:[],...(null===(a=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===a?void 0:a.chainId)?["Chain ID: ".concat(_.signInWithSolana.chainId)]:[],...(null===(o=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(_.signInWithSolana.nonce)]:[],...(null===(c=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===c?void 0:c.requestId)?["Request ID: ".concat(_.signInWithSolana.requestId)]:[],...(null===(d=null===(l=null===_||void 0===_?void 0:_.signInWithSolana)||void 0===l?void 0:l.resources)||void 0===d?void 0:d.length)?["Resources",..._.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await g.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:n}=await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Cg(m)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Qg});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new lg}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const t=await Ig(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,i]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qg});if(await Lg(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==i&&void 0!==i?i:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new lg}}catch(O){if(sg(O))return{data:{user:null,session:null,redirectType:null},error:O};throw O}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:s,nonce:r}=e,a=await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Qg}),{data:o,error:c}=a;return c?{data:{user:null,session:null},error:c}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c}):{data:{user:null,session:null},error:new lg}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async signInWithOtp(e){var t,n,i,s,r;try{if("email"in e){const{email:i,options:s}=e;let r=null,a=null;"pkce"===this.flowType&&([r,a]=await Fg(this.storage,this.storageKey));const{error:o}=await Kg(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:i,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:r,code_challenge_method:a},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:o}=await Kg(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(i=null===n||void 0===n?void 0:n.data)&&void 0!==i?i:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(r=null===n||void 0===n?void 0:n.channel)&&void 0!==r?r:"sms"}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:o}}throw new dg("You must provide either an email or phone number.")}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async verifyOtp(e){var t,n;try{let i,s;"options"in e&&(i=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:r,error:a}=await Kg(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Qg});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async signInWithSSO(e){var t,n,i;try{let s=null,r=null;return"pkce"===this.flowType&&([s,r]=await Fg(this.storage,this.storageKey)),await Kg(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(i=null===e||void 0===e?void 0:e.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:Xg})}catch(O){if(sg(O))return{data:null,error:O};throw O}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new cg;const{error:i}=await Kg(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:i,options:s}=e,{error:r}=await Kg(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}if("phone"in e){const{phone:n,type:i,options:s}=e,{data:r,error:a}=await Kg(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===r||void 0===r?void 0:r.message_id},error:a}}throw new dg("You must provide either an email or phone number and a type")}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ig(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<X_;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Ig(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Wg()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,i)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,i))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Kg(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Jg}):await this._useSession(async e=>{var t,n,i;const{data:s,error:r}=e;if(r)throw r;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Kg(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(i=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==i?i:void 0,xform:Jg}):{data:{user:null},error:new cg}})}catch(O){if(sg(O))return function(e){return sg(e)&&"AuthSessionMissingError"===e.name}(O)&&(await this._removeSession(),await Lg(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:O};throw O}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new cg;const r=i.session;let a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await Fg(this.storage,this.storageKey));const{data:c,error:l}=await Kg(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:r.access_token,xform:Jg});if(l)throw l;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(O){if(sg(O))return{data:{user:null},error:O};throw O}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cg;const t=Date.now()/1e3;let n=t,i=!0,s=null;const{payload:r}=Mg(e.access_token);if(r.exp&&(n=r.exp,i=n<=t),i){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:i,error:r}=await this._getUser(e.access_token);if(r)throw r;s={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(O){if(sg(O))return{data:{session:null,user:null},error:O};throw O}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:i,error:s}=t;if(s)throw s;e=null!==(n=i.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new cg;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(O){if(sg(O))return{data:{user:null,session:null},error:O};throw O}}async _getSessionFromURL(e,t){try{if(!kg())throw new ug("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ug(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new hg("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new ug("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hg("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:r,expires_in:a,expires_at:o,token_type:c}=e;if(!s||!a||!r||!c)throw new ug("No session defined in URL");const l=Math.round(Date.now()/1e3),d=parseInt(a);let u=l+d;o&&(u=parseInt(o));const h=u-l;1e3*h<=J_&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const p=u-d;l-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,l):l-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,u,l);const{data:m,error:f}=await this._getUser(s);if(f)throw f;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:u,refresh_token:r,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(O){if(sg(O))return{data:{session:null,redirectType:null},error:O};throw O}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ig(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{error:s};const r=null===(n=i.session)||void 0===n?void 0:n.access_token;if(r){const{error:t}=await this.admin.signOut(r,e);if(t&&(!function(e){return sg(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Lg(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:i},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(Dte){await(null===(i=this.stateChangeEmitters.get(e))||void 0===i?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",Dte),console.error(Dte)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null;"pkce"===this.flowType&&([n,i]=await Fg(this.storage,this.storageKey,!0));try{return await Kg(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(O){if(sg(O))return{data:null,error:O};throw O}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(O){if(sg(O))return{data:null,error:O};throw O}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async t=>{var n,i,s,r,a;const{data:o,error:c}=t;if(c)throw c;const l=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(i=e.options)||void 0===i?void 0:i.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Kg(this.fetch,"GET",l,{headers:this.headers,jwt:null!==(a=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0})});if(i)throw i;return kg()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(O){if(sg(O))return{data:{provider:e.provider,url:null},error:O};throw O}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:r}=t;if(r)throw r;return await Kg(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(i=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==i?i:void 0})})}catch(O){if(sg(O))return{data:null,error:O};throw O}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const n=Date.now();return await function(e,t){const n=new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const i=await e(r);if(!t(r,null,i))return void n(i)}catch(s){if(!t(r,s))return void i(s)}})()});return n}(async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Kg(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Qg})),(e,t)=>{const i=200*Math.pow(2,e);return t&&mg(t)&&Date.now()+i-n<J_})}catch(O){if(this._debug(t,"error",O),sg(O))return{data:{session:null,user:null},error:O};throw O}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),kg()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ig(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Ig(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Ag(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Wg()}else if(s&&!s.user&&!s.user){const e=await Ig(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await Lg(this.storage,this.storageKey+"-user"),await Ag(this.storage,this.storageKey,s)):s.user=Wg()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const r=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<X_;if(this._debug(n,"session has".concat(r?"":" not"," expired with margin of ").concat(X_,"s")),r){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),mg(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(Dte){return this._debug(n,"error",Dte),void console.error(Dte)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new cg;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(i,"begin");try{this.refreshingDeferred=new Rg;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new cg;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const i={session:t.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(O){if(this._debug(i,"error",O),sg(O)){const n={session:null,error:O};return mg(O)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(O),O}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i="#_notifyAllSubscribers(".concat(e,")");this._debug(i,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(s){i.push(s)}});if(await Promise.all(s),i.length>0){for(let e=0;e<i.length;e+=1)console.error(i[e]);throw i[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Ag(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const i=Hg(e);await Ag(this.storage,this.storageKey,i)}else{const e=Hg(t);await Ag(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Lg(this.storage,this.storageKey),await Lg(this.storage,this.storageKey+"-code-verifier"),await Lg(this.storage,this.storageKey+"-user"),this.userStorage&&await Lg(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kg()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),J_);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const i=Math.floor((1e3*n.expires_at-t)/J_);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(i," ticks, a tick lasts ").concat(J_,"ms, refresh threshold is ").concat(3," ticks")),i<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof av))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kg()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(O){console.error("_handleVisibilityChange",O)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&i.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&i.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Fg(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});i.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);i.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&i.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(i.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await Kg(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token})})}catch(O){if(sg(O))return{data:null,error:O};throw O}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:s,error:r}=t;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:c}=await Kg(this.fetch,"POST","".concat(this.url,"/factors"),{body:a,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return c?{data:null,error:c}:("totp"===e.factorType&&(null===(i=null===o||void 0===o?void 0:o.totp)||void 0===i?void 0:i.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(O){if(sg(O))return{data:null,error:O};throw O}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:r,error:a}=await Kg(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(O){if(sg(O))return{data:null,error:O};throw O}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:s}=t;return s?{data:null,error:s}:await Kg(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token})})}catch(O){if(sg(O))return{data:null,error:O};throw O}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],i=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Mg(i.access_token);let a=null;r.aal&&(a=r.aal);let o=a;(null!==(n=null===(t=i.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:r.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:i,error:s}=await Kg(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return i.keys&&0!==i.keys.length?(this.jwks=i,this.jwks_cached_at=n,t=i.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:i,payload:s,signature:r,raw:{header:a,payload:o}}=Mg(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const c=i.alg&&!i.alg.startsWith("HS")&&i.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(i.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!c){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:i,signature:r},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(i.alg),d=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,r,function(e){const t=[];return Ng(e,e=>t.push(e)),new Uint8Array(t)}("".concat(a,".").concat(o))))throw new _g("Invalid JWT signature");return{data:{claims:s,header:i,signature:r},error:null}}catch(O){if(sg(O))return{data:null,error:O};throw O}}}mv.nextInstanceID=0;const fv=mv;class _v extends fv{constructor(e){super(e)}}var gv=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function o(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}c((i=i.apply(e,t||[])).next())})};class vv{constructor(e,t,n){var i,s,r;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(i){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o="sb-".concat(a.hostname.split(".")[0],"-auth-token"),c=function(e,t){var n,i;const{db:s,auth:r,realtime:a,global:o}=e,{db:c,auth:l,realtime:d,global:u}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(n=null===u||void 0===u?void 0:u.headers)&&void 0!==n?n:{}),null!==(i=null===o||void 0===o?void 0:o.headers)&&void 0!==i?i:{})}),accessToken:()=>Q_(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:W_,realtime:U_,auth:Object.assign(Object.assign({},H_),{storageKey:o}),global:z_});this.storageKey=null!==(i=c.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(s=c.global.headers)&&void 0!==s?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(r=c.auth)&&void 0!==r?r:{},this.headers,c.global.fetch),this.fetch=K_(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Cf(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new B_(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Nf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return gv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:i,persistSession:s,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:c,flowType:l,lock:d,debug:u}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new _v({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:c,autoRefreshToken:i,persistSession:s,detectSessionInUrl:r,storage:a,userStorage:o,flowType:l,lock:d,debug:u,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new u_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yv="https://jmzvrqwjmlnvxojculee.supabase.co",xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImptenZycXdqbWxudnhvamN1bGVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODE1NjksImV4cCI6MjA3NDE1NzU2OX0.s-fLHpJWc54j-NOVU7k1mIKOHFL1mzduO-VFCVhoizA";const bv=((e,t,n)=>new vv(e,t,n))(yv,xv,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:"undefined"!==typeof window?window.localStorage:void 0},global:{headers:{"x-application-name":"armora-protection-service"}}});var Sv=n(414);const wv={currentView:"splash",user:null,questionnaireData:null,deviceCapabilities:{isOnline:"undefined"===typeof navigator||navigator.onLine,isMobile:"undefined"!==typeof navigator&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTouch:"undefined"!==typeof window&&"ontouchstart"in window,screenWidth:"undefined"!==typeof window?window.innerWidth:1024,screenHeight:"undefined"!==typeof window?window.innerHeight:768,orientation:"undefined"!==typeof window?window.innerWidth>window.innerHeight?"landscape":"portrait":"landscape",supportsInstallPrompt:"undefined"!==typeof navigator&&"serviceWorker"in navigator,deferredPrompt:null,isInstallable:!1,isInstalled:!1},selectedServiceForProtectionAssignment:void 0,userProfileSelection:void 0,assignmentState:{currentAssignment:null,hasActiveAssignment:!1,activeAssignmentId:null,panicAlertSent:!1,panicAlertTimestamp:null,lastKnownLocation:null},assignmentContext:null,isAssignmentActive:!1,isLoading:!1,error:null,notifications:[]};function Nv(e,t){var n,i,s,r;switch(t.type){case"SET_VIEW":return o(o({},e),{},{currentView:t.payload});case"SET_USER":return o(o({},e),{},{user:t.payload});case"SET_QUESTIONNAIRE_DATA":return o(o({},e),{},{questionnaireData:t.payload});case"SET_USER_PROFILE_SELECTION":return o(o({},e),{},{userProfileSelection:t.payload});case"UPDATE_USER_QUESTIONNAIRE_COMPLETION":return o(o({},e),{},{user:e.user?o(o({},e.user),{},{hasCompletedQuestionnaire:!0,hasUnlockedReward:"guest"!==e.user.userType}):e.user});case"UPDATE_DEVICE_CAPABILITIES":return o(o({},e),{},{deviceCapabilities:o(o({},e.deviceCapabilities),t.payload)});case"SET_LOADING":return o(o({},e),{},{isLoading:t.payload});case"SET_ERROR":return o(o({},e),{},{error:t.payload,isLoading:!1});case"SET_SELECTED_SERVICE":return o(o({},e),{},{selectedServiceForProtectionAssignment:t.payload});case"SET_ASSIGNMENT":return o(o({},e),{},{assignmentState:o(o({},e.assignmentState),{},{currentAssignment:t.payload,hasActiveAssignment:"active"===(null===(n=t.payload)||void 0===n?void 0:n.status)||"in_progress"===(null===(i=t.payload)||void 0===i?void 0:i.status),activeAssignmentId:(null===(s=t.payload)||void 0===s?void 0:s.id)||null})});case"UPDATE_ASSIGNMENT_STATUS":if((null===(r=e.assignmentState.currentAssignment)||void 0===r?void 0:r.id)===t.payload.assignmentId){const n=o(o({},e.assignmentState.currentAssignment),{},{status:t.payload.status});return o(o({},e),{},{assignmentState:o(o({},e.assignmentState),{},{currentAssignment:n,hasActiveAssignment:"active"===t.payload.status||"in_progress"===t.payload.status})})}return e;case"SET_PANIC_ALERT_SENT":return o(o({},e),{},{assignmentState:o(o({},e.assignmentState),{},{panicAlertSent:t.payload.sent,panicAlertTimestamp:t.payload.timestamp||null})});case"UPDATE_LAST_KNOWN_LOCATION":return o(o({},e),{},{assignmentState:o(o({},e.assignmentState),{},{lastKnownLocation:t.payload})});case"START_ASSIGNMENT":return o(o({},e),{},{assignmentContext:t.payload,isAssignmentActive:!0});case"END_ASSIGNMENT":return o(o({},e),{},{assignmentContext:null,isAssignmentActive:!1});case"CLEAR_ERROR":return o(o({},e),{},{error:null});case"RESET_APP":return o(o({},wv),{},{deviceCapabilities:e.deviceCapabilities});case"ADD_NOTIFICATION":return o(o({},e),{},{notifications:[t.payload,...e.notifications||[]]});case"MARK_NOTIFICATION_READ":return o(o({},e),{},{notifications:(e.notifications||[]).map(e=>e.id===t.payload.id?o(o({},e),{},{isRead:!0}):e)});case"MARK_ALL_NOTIFICATIONS_READ":return o(o({},e),{},{notifications:(e.notifications||[]).map(e=>o(o({},e),{},{isRead:!0}))});case"SET_NOTIFICATIONS":return o(o({},e),{},{notifications:t.payload});default:return e}}const jv=(0,e.createContext)(void 0);function Cv(t){var n;let{children:i}=t;const[s,r]=(0,e.useReducer)(Nv,wv),a=(0,e.useCallback)(e=>{var t,n;const i=!1;if(console.log("Navigation debug:",{targetView:e,currentUser:s.user,hasCompletedQuestionnaire:null===(t=s.user)||void 0===t?void 0:t.hasCompletedQuestionnaire,isDevelopment:i,willBypassSkip:i}),"questionnaire"===e&&null!==(n=s.user)&&void 0!==n&&n.hasCompletedQuestionnaire)r({type:"SET_VIEW",payload:"home"});else{r({type:"SET_VIEW",payload:e});try{"undefined"!==typeof window&&window.location.hash!=="#".concat(e)&&(window.location.hash=e)}catch(a){}}},[]),c=(0,e.useCallback)((e,t)=>{e&&r({type:"START_ASSIGNMENT",payload:{preselectedService:e,source:t||"home"}}),r({type:"SET_VIEW",payload:"protection-request"});try{"undefined"!==typeof window&&(window.location.hash="protection-request")}catch(n){}},[]),l=e=>{r({type:"SET_USER",payload:e})},d=(0,e.useCallback)(e=>{r({type:"SET_QUESTIONNAIRE_DATA",payload:e}),e.profileSelection&&r({type:"SET_USER_PROFILE_SELECTION",payload:e.profileSelection}),e.completedAt&&r({type:"UPDATE_USER_QUESTIONNAIRE_COMPLETION"})},[]),u=e=>{r({type:"SET_ERROR",payload:e})},h=e=>{r({type:"SET_LOADING",payload:e})};(0,e.useEffect)(()=>{const e=()=>{try{if("undefined"===typeof window)return;const e=window.location.hash||"",t=e.startsWith("#")?e.slice(1):e;if(!t)return;const n=t;s.currentView!==n&&r({type:"SET_VIEW",payload:n})}catch(e){}};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);const p=(0,e.useCallback)(async e=>{h(!0),u(null);try{const{data:i,error:s}=await(async e=>await bv.from("protection_assignments").insert(e).select().single())(e);if(s)throw s;return r({type:"SET_ASSIGNMENT",payload:i}),i.id&&(t=i.id,n=e=>{"UPDATE"===e.eventType&&r({type:"UPDATE_ASSIGNMENT_STATUS",payload:{assignmentId:e.new.id,status:e.new.assignment_status}})},bv.channel("assignment-".concat(t)).on("postgres_changes",{event:"*",schema:"public",table:"protection_assignments",filter:"id=eq.".concat(t)},n).subscribe()),i}catch(O){throw console.error("Error creating assignment:",O),u(O.message),O}finally{h(!1)}var t,n},[]),m=(0,e.useCallback)(async(e,t)=>{try{const{error:n}=await(async(e,t)=>await bv.from("protection_assignments").update(t).eq("id",e).select().single())(e,{assignment_status:t});if(n)throw n;r({type:"UPDATE_ASSIGNMENT_STATUS",payload:{assignmentId:e,status:t}})}catch(O){throw console.error("Error updating assignment status:",O),u(O.message),O}},[]),f=(0,e.useCallback)(async e=>{var t;if(null===(t=s.user)||void 0===t||!t.id)throw new Error("User must be logged in to activate panic alert");h(!0),u(null);try{const t=e||s.assignmentState.lastKnownLocation,{error:n}=await(async(e,t,n)=>await bv.from("emergency_activations").insert({user_id:e,assignment_id:n,activation_type:"panic_button",location:t,response_status:"activated",activated_at:(new Date).toISOString()}).select().single())(s.user.id,t,s.assignmentState.activeAssignmentId||void 0);if(n)throw n;r({type:"SET_PANIC_ALERT_SENT",payload:{sent:!0,timestamp:new Date}}),r({type:"ADD_NOTIFICATION",payload:{id:"emergency-".concat(Date.now()),type:"emergency",title:"Emergency Alert Activated",message:"Your panic alert has been sent. Emergency services are being contacted.",timestamp:new Date,isRead:!1,requiresAction:!1}}),a("hub")}catch(O){throw console.error("Error activating panic alert:",O),u(O.message),O}finally{h(!1)}},[null===(n=s.user)||void 0===n?void 0:n.id,s.assignmentState,a]),_=(0,e.useCallback)(async()=>{h(!0),u(null);try{r({type:"SET_PANIC_ALERT_SENT",payload:{sent:!1}}),r({type:"ADD_NOTIFICATION",payload:{id:"emergency-deactivated-".concat(Date.now()),type:"success",title:"Emergency Alert Deactivated",message:"Your panic alert has been successfully deactivated.",timestamp:new Date,isRead:!1,requiresAction:!1}})}catch(O){throw console.error("Error deactivating panic alert:",O),u(O.message),O}finally{h(!1)}},[]),g=(0,e.useCallback)(e=>{r({type:"UPDATE_LAST_KNOWN_LOCATION",payload:o(o({},e),{},{timestamp:(new Date).toISOString()})})},[]);(0,e.useEffect)(()=>{const e=()=>{r({type:"UPDATE_DEVICE_CAPABILITIES",payload:{screenWidth:window.innerWidth,screenHeight:window.innerHeight,orientation:window.innerWidth>window.innerHeight?"landscape":"portrait"}})},t=()=>{r({type:"UPDATE_DEVICE_CAPABILITIES",payload:{isOnline:navigator.onLine}})},n=e=>{console.log("[PWA] beforeinstallprompt event fired"),e.preventDefault(),r({type:"UPDATE_DEVICE_CAPABILITIES",payload:{deferredPrompt:e,isInstallable:!0}})},i=()=>{console.log("[PWA] App was installed"),r({type:"UPDATE_DEVICE_CAPABILITIES",payload:{deferredPrompt:null,isInstallable:!1,isInstalled:!0}})};return window.addEventListener("resize",e),window.addEventListener("online",t),window.addEventListener("offline",t),window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",i),(()=>{var e;(window.matchMedia&&null!==(e=window.matchMedia("(display-mode: standalone)"))&&void 0!==e&&e.matches||!0===window.navigator.standalone)&&r({type:"UPDATE_DEVICE_CAPABILITIES",payload:{isInstalled:!0,isInstallable:!1}})})(),()=>{window.removeEventListener("resize",e),window.removeEventListener("online",t),window.removeEventListener("offline",t),window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("appinstalled",i)}},[]),(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_user"),t=localStorage.getItem("armora_questionnaire"),n=localStorage.getItem("armora_notifications");if(e)try{const t=JSON.parse(e);t.savedAddresses&&0!==t.savedAddresses.length||(t.savedAddresses=[{id:"home-001",label:"home",address:"10 Downing Street, Westminster, London SW1A 2AA",createdAt:new Date("2024-01-15"),lastUsed:new Date("2024-09-28")},{id:"work-001",label:"work",address:"Canary Wharf, London E14 5AB",createdAt:new Date("2024-01-20"),lastUsed:new Date("2024-09-29")},{id:"custom-001",label:"custom",customLabel:"Mum's House",address:"221B Baker Street, Marylebone, London NW1 6XE",createdAt:new Date("2024-02-10")}]),t.recentAddresses&&0!==t.recentAddresses.length||(t.recentAddresses=["Heathrow Airport, Hounslow TW6 1AP","The Shard, 32 London Bridge Street, London SE1 9SG","Harrods, 87-135 Brompton Road, Knightsbridge, London SW1X 7XL"]),l(t)}catch(O){console.error("Failed to parse saved user data:",O),localStorage.removeItem("armora_user")}if(t)try{const e=JSON.parse(t);d(e)}catch(O){console.error("Failed to parse saved questionnaire data:",O),localStorage.removeItem("armora_questionnaire")}if(n)try{const e=JSON.parse(n).map(e=>({id:e.id,type:e.type||"info",title:e.title||"Update",message:e.message||"",timestamp:e.timestamp?new Date(e.timestamp):new Date,isRead:!!e.isRead,requiresAction:!!e.requiresAction,actionText:e.actionText}));r({type:"SET_NOTIFICATIONS",payload:e})}catch(i){console.warn("Failed to parse saved notifications")}},[d]),(0,e.useEffect)(()=>{s.user?localStorage.setItem("armora_user",JSON.stringify(s.user)):localStorage.removeItem("armora_user")},[s.user]),(0,e.useEffect)(()=>{s.questionnaireData&&localStorage.setItem("armora_questionnaire",JSON.stringify(s.questionnaireData))},[s.questionnaireData]);const v=(0,e.useCallback)(async()=>{const e=s.deviceCapabilities.deferredPrompt;if(!e)return console.log("[PWA] No deferred prompt available"),!1;try{e.prompt();const{outcome:t}=await e.userChoice;return console.log("[PWA] User choice: ".concat(t)),"accepted"===t?(console.log("[PWA] User accepted the install prompt"),r({type:"UPDATE_DEVICE_CAPABILITIES",payload:{deferredPrompt:null,isInstallable:!1}}),!0):(console.log("[PWA] User dismissed the install prompt"),!1)}catch(O){return console.error("[PWA] Error showing install prompt:",O),!1}},[s.deviceCapabilities.deferredPrompt]),y=(0,e.useCallback)(()=>s.deviceCapabilities.isInstallable&&!s.deviceCapabilities.isInstalled&&!!s.deviceCapabilities.deferredPrompt,[s.deviceCapabilities]),x={state:s,dispatch:r,navigateToView:a,startProtectionRequest:c,setUser:l,updateQuestionnaireData:d,setUserProfileSelection:e=>{r({type:"SET_USER_PROFILE_SELECTION",payload:e})},setError:u,clearError:()=>{r({type:"CLEAR_ERROR"})},setLoading:h,resetApp:()=>{r({type:"RESET_APP"})},setSelectedService:e=>{r({type:"SET_SELECTED_SERVICE",payload:e})},addNotification:e=>{const t={id:e.id||"".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,8)),type:e.type||"info",title:e.title||"Update",message:e.message||"",timestamp:e.timestamp||new Date,isRead:!!e.isRead,requiresAction:!!e.requiresAction,actionText:e.actionText,actionHandler:e.actionHandler};r({type:"ADD_NOTIFICATION",payload:t});try{const e=localStorage.getItem("armora_notifications")||"[]",n=JSON.parse(e);n.unshift(o(o({},t),{},{timestamp:t.timestamp.toISOString()})),localStorage.setItem("armora_notifications",JSON.stringify(n))}catch(n){}},markNotificationRead:e=>{r({type:"MARK_NOTIFICATION_READ",payload:{id:e}});try{const t=localStorage.getItem("armora_notifications")||"[]",n=JSON.parse(t).map(t=>t.id===e?o(o({},t),{},{isRead:!0}):t);localStorage.setItem("armora_notifications",JSON.stringify(n))}catch(t){}},markAllNotificationsRead:()=>{r({type:"MARK_ALL_NOTIFICATIONS_READ"});try{const e=localStorage.getItem("armora_notifications")||"[]",t=JSON.parse(e).map(e=>o(o({},e),{},{isRead:!0}));localStorage.setItem("armora_notifications",JSON.stringify(t))}catch(e){}},createAssignment:p,updateAssignmentStatus:m,activatePanicAlert:f,deactivatePanicAlert:_,updateLastKnownLocation:g,startAssignment:e=>{r({type:"START_ASSIGNMENT",payload:e})},endAssignment:()=>{r({type:"END_ASSIGNMENT"})},showInstallPrompt:v,canInstall:y};return(0,Sv.jsx)(jv.Provider,{value:x,children:i})}function kv(){const t=(0,e.useContext)(jv);if(void 0===t)throw new Error("useApp must be used within an AppProvider");return t}const Pv=(0,e.createContext)(void 0),Tv=t=>{let{children:n}=t;const[i,s]=(0,e.useState)(null),[r,a]=(0,e.useState)(null),[o,c]=(0,e.useState)(null),[l,d]=(0,e.useState)(!0),[u,h]=(0,e.useState)(null),p=async e=>{try{const{data:t,error:n}=await(async e=>await bv.from("profiles").select("*").eq("id",e).single())(e);if(n)throw n;c(t)}catch(Dte){console.error("Error fetching profile:",Dte),h(Dte.message)}};(0,e.useEffect)(()=>{(async()=>{try{const{data:{session:e}}=await bv.auth.getSession();e&&(a(e),s(e.user),await p(e.user.id))}catch(Dte){console.error("Auth initialization error:",Dte),h(Dte.message)}finally{d(!1)}})();const{data:{subscription:e}}=bv.auth.onAuthStateChange(async(e,t)=>{var n;switch(a(t),s(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),null!==t&&void 0!==t&&t.user?await p(t.user.id):c(null),e){case"SIGNED_IN":console.log("User signed in");break;case"SIGNED_OUT":console.log("User signed out");break;case"USER_UPDATED":console.log("User updated")}});return()=>{e.unsubscribe()}},[]);const m=async e=>{if(!i)throw new Error("No user logged in");h(null),d(!0);try{const{data:t,error:n}=await(async(e,t)=>await bv.from("profiles").update(t).eq("id",e).select().single())(i.id,e);if(n)throw n;c(t)}catch(Dte){throw console.error("Profile update error:",Dte),h(Dte.message),Dte}finally{d(!1)}},f={user:i,session:r,profile:o,loading:l,error:u,signUp:async(e,t,n)=>{h(null),d(!0);try{const{data:i,error:r}=await(async(e,t,n)=>await bv.auth.signUp({email:e,password:t,options:{data:n}}))(e,t,{full_name:n});if(r)throw r;i.user&&(s(i.user),i.session&&a(i.session))}catch(Dte){throw console.error("Sign up error:",Dte),h(Dte.message),Dte}finally{d(!1)}},signIn:async(e,t)=>{h(null),d(!0);try{const{data:n,error:i}=await(async(e,t)=>await bv.auth.signInWithPassword({email:e,password:t}))(e,t);if(i)throw i;n.user&&(s(n.user),n.session&&a(n.session),await p(n.user.id))}catch(Dte){throw console.error("Sign in error:",Dte),h(Dte.message),Dte}finally{d(!1)}},signInWithGoogle:async()=>{h(null),d(!0);try{const{error:e}=await(async()=>await bv.auth.signInWithOAuth({provider:"google",options:{redirectTo:"undefined"!==typeof window?"".concat(window.location.origin,"/dashboard"):"/dashboard"}}))();if(e)throw e}catch(Dte){throw console.error("Google sign in error:",Dte),h(Dte.message),Dte}finally{d(!1)}},signOut:async()=>{h(null),d(!0);try{const{error:e}=await(async()=>await bv.auth.signOut())();if(e)throw e;s(null),a(null),c(null),localStorage.removeItem("armoraUser"),localStorage.removeItem("armoraQuestionnaireResponses"),localStorage.removeItem("armoraBookingData")}catch(Dte){throw console.error("Sign out error:",Dte),h(Dte.message),Dte}finally{d(!1)}},updateProfile:m,refreshProfile:async()=>{i&&await p(i.id)},saveQuestionnaire:async e=>{if(!i)throw new Error("No user logged in");h(null),d(!0);try{const{error:t}=await(async(e,t)=>await bv.from("questionnaire_responses").upsert({user_id:e,responses:t,completed:!0,completed_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).select().single())(i.id,e);if(t)throw t;await m({sia_verification_status:"pending"})}catch(Dte){throw console.error("Questionnaire save error:",Dte),h(Dte.message),Dte}finally{d(!1)}},acknowledgeMartynsLaw:async()=>{if(!i)throw new Error("No user logged in");await m({martyns_law_acknowledged:!0})}};return(0,Sv.jsx)(Pv.Provider,{value:f,children:n})},Ev={paymentMethod:{id:"default-card",type:"card",last4:"4242",brand:"visa",name:"Default Card"}};function Av(e,t){switch(t.type){case"SET_PICKUP_LOCATION":return o(o({},e),{},{commencementLocation:t.payload});case"SET_DESTINATION":return o(o({},e),{},{secureDestination:t.payload});case"SET_SELECTED_SERVICE":return o(o({},e),{},{selectedService:t.payload});case"SET_PAYMENT_METHOD":return o(o({},e),{},{paymentMethod:t.payload});case"SET_ASSIGNMENT_TIME":case"SET_BOOKING_TIME":return o(o({},e),{},{assignmentTime:t.payload});case"SET_SPECIAL_REQUESTS":return o(o({},e),{},{specialRequests:t.payload});case"SET_ROUTE_INFO":return o(o({},e),{},{estimatedDuration:t.payload.duration,estimatedDistance:t.payload.distance});case"LOAD_FROM_STORAGE":return o(o({},e),t.payload);case"CLEAR_ASSIGNMENT":case"CLEAR_BOOKING":return Ev;default:return e}}const Iv=(0,e.createContext)(null);function Lv(t){let{children:n}=t;const[i,s]=(0,e.useReducer)(Av,Ev),r=e=>{s({type:"SET_DESTINATION",payload:e})},a={protectionAssignmentData:i,dispatch:s,setPickupLocation:e=>{s({type:"SET_PICKUP_LOCATION",payload:e})},setDestination:r,setSelectedService:e=>{s({type:"SET_SELECTED_SERVICE",payload:e})},setPaymentMethod:e=>{s({type:"SET_PAYMENT_METHOD",payload:e})},clearAssignment:()=>{s({type:"CLEAR_ASSIGNMENT"}),localStorage.removeItem("armora_assignment_data")},saveToStorage:()=>{localStorage.setItem("armora_assignment_data",JSON.stringify(i))},loadFromStorage:()=>{const e=localStorage.getItem("armora_assignment_data");if(e)try{const t=JSON.parse(e);s({type:"LOAD_FROM_STORAGE",payload:t})}catch(O){console.error("Error loading protection assignment data from storage:",O)}const t=localStorage.getItem("armora_destination"),n=localStorage.getItem("armora_destination_coords");if(t){let e;try{e=n?JSON.parse(n):void 0}catch(i){e=void 0}r({address:t,coordinates:e})}}};return(0,Sv.jsx)(Iv.Provider,{value:a,children:n})}const Rv={typography:{brandText:{fontFamily:"'Arial Black', 'Helvetica', sans-serif",fontWeight:900,letterSpacing:"0.15em",textTransform:"uppercase",fontSize:{hero:"3.5rem",large:"2.5rem",medium:"1.8rem",small:"1.2rem"}},tagline:{fontFamily:"'Helvetica', 'Arial', sans-serif",fontWeight:300,letterSpacing:"0.1em",fontSize:{primary:"1.1rem",secondary:"0.9rem"}}},colors:{gold:{primary:"#FFD700",secondary:"#FFA500",accent:"#FF8C00",gradient:"linear-gradient(45deg, #FFD700, #FFA500, #FFD700, #FF8C00)",gradientAnimated:"linear-gradient(45deg, #FFD700, #FFA500, #FFD700, #FF8C00)"},navy:{primary:"#1a1a2e",secondary:"#16213e",tertiary:"#1e1e3a"},background:{immersive:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%)",gradientLight:"radial-gradient(circle at 20% 30%, rgba(255, 215, 0, 0.15) 0%, transparent 40%)",card:"linear-gradient(135deg, #1a1a2e 0%, #1e1e3a 100%)"},text:{goldPrimary:"rgba(255, 215, 0, 0.9)",goldSecondary:"rgba(255, 215, 0, 0.8)",white:"rgba(255, 255, 255, 0.9)",muted:"rgba(255, 255, 255, 0.7)"},effects:{glow:"rgba(255, 215, 0, 0.8)",shadow:"rgba(0, 0, 0, 0.3)",glassMorphism:"rgba(255, 255, 255, 0.1)"}},logo:{dimensions:{hero:{width:216,height:252},large:{width:156,height:182},medium:{width:120,height:140},small:{width:84,height:98},compact:{width:60,height:70}},animations:{float:"logoFloat 6s ease-in-out infinite",orbit:{inner:"orbitRotation 8s linear infinite",middle:"orbitRotation 12s linear infinite reverse",outer:"orbitRotation 16s linear infinite"},glow:"letterGlow 3s ease-in-out infinite alternate",pulse:"energyPulse 3s ease-in-out infinite"}},textEffects:{goldGradient:{background:"linear-gradient(45deg, #FFD700, #FFA500, #FFD700, #FF8C00)",backgroundSize:"300% 300%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",animation:"goldWave 4s ease-in-out infinite"},dropShadow:{filter:"drop-shadow(0 0 10px rgba(255, 215, 0, 0.8))"},textGlow:{textShadow:"0 0 10px rgba(255, 215, 0, 0.8), 0 0 20px rgba(255, 215, 0, 0.4)"}},spacing:{letterSpacing:{brand:"0.15em",tagline:"0.1em",normal:"0.05em"},margins:{brandText:{bottom:"1rem"},tagline:{top:"0.5rem",bottom:"2rem"}}},animations:{letterReveal:"\n      @keyframes letterReveal {\n        0% {\n          transform: rotateY(-90deg) translateY(-50px);\n          opacity: 0;\n          filter: blur(10px);\n        }\n        50% {\n          transform: rotateY(-20deg) translateY(-10px);\n          opacity: 0.7;\n          filter: blur(3px);\n        }\n        100% {\n          transform: rotateY(0deg) translateY(0px);\n          opacity: 1;\n          filter: blur(0px);\n        }\n      }\n    ",goldWave:"\n      @keyframes goldWave {\n        0%, 100% { background-position: 0% 50%; }\n        50% { background-position: 100% 50%; }\n      }\n    ",letterFloat:"\n      @keyframes letterFloat {\n        0%, 100% { transform: translateY(0px) scale(1); }\n        33% { transform: translateY(-3px) scale(1.02); }\n        66% { transform: translateY(2px) scale(0.98); }\n      }\n    "}},Mv=("\n  :root {\n    --armora-gold-primary: ".concat(Rv.colors.gold.primary,";\n    --armora-gold-secondary: ").concat(Rv.colors.gold.secondary,";\n    --armora-gold-accent: ").concat(Rv.colors.gold.accent,";\n    --armora-navy-primary: ").concat(Rv.colors.navy.primary,";\n    --armora-navy-secondary: ").concat(Rv.colors.navy.secondary,";\n\n    --armora-brand-font: ").concat(Rv.typography.brandText.fontFamily,";\n    --armora-brand-weight: ").concat(Rv.typography.brandText.fontWeight,";\n    --armora-brand-spacing: ").concat(Rv.typography.brandText.letterSpacing,";\n\n    --armora-tagline-font: ").concat(Rv.typography.tagline.fontFamily,";\n    --armora-tagline-weight: ").concat(Rv.typography.tagline.fontWeight,";\n    --armora-tagline-spacing: ").concat(Rv.typography.tagline.letterSpacing,";\n  }\n"),{armoraLogo4d:"ArmoraLogo_armoraLogo4d__KSTqI",shieldContainer:"ArmoraLogo_shieldContainer__oT1gn",logoFloat:"ArmoraLogo_logoFloat__qlTKU",shieldShadowLayer:"ArmoraLogo_shieldShadowLayer__mK3d4",shieldDepthLayer3:"ArmoraLogo_shieldDepthLayer3__8KCaF",depthPulse:"ArmoraLogo_depthPulse__KV75I",shieldDepthLayer2:"ArmoraLogo_shieldDepthLayer2__-EIaX",shieldDepthLayer1:"ArmoraLogo_shieldDepthLayer1__AKypJ",shieldMain:"ArmoraLogo_shieldMain__RIcT7",shieldBaseMetallic:"ArmoraLogo_shieldBaseMetallic__M1JmR",metallicShimmer:"ArmoraLogo_metallicShimmer__QXsJV",shieldGlassOverlay:"ArmoraLogo_shieldGlassOverlay__zZi51",glassReflection:"ArmoraLogo_glassReflection__VnYoR",shieldEmblemArea:"ArmoraLogo_shieldEmblemArea__rxdti",letterA3d:"ArmoraLogo_letterA3d__9-DLr",letterFront:"ArmoraLogo_letterFront__Gwj5H",letterGlow:"ArmoraLogo_letterGlow__wHXz6",letterBevel:"ArmoraLogo_letterBevel__xj-9r",letterShadow:"ArmoraLogo_letterShadow__FTUVP",securityCircuits:"ArmoraLogo_securityCircuits__4L-vA",circuitFlow:"ArmoraLogo_circuitFlow__wicvz",circuitPattern:"ArmoraLogo_circuitPattern__CmSpL",circuitPulse:"ArmoraLogo_circuitPulse__xV8Q7",holographicSdetails:"ArmoraLogo_holographicSdetails__HuA6s",holographicShift:"ArmoraLogo_holographicShift__t-xKL",orbitalSystem:"ArmoraLogo_orbitalSystem__fJq1u",orbitRing1:"ArmoraLogo_orbitRing1__-YjjD",orbitRotation:"ArmoraLogo_orbitRotation__9pbMc",orbitRing2:"ArmoraLogo_orbitRing2__vmd7V",orbitRing3:"ArmoraLogo_orbitRing3__6xim0",energyField:"ArmoraLogo_energyField__TyCio",energyPulse:"ArmoraLogo_energyPulse__Ui6aX",logoContent:"ArmoraLogo_logoContent__6h0m3",withText:"ArmoraLogo_withText__40y3a",textBeside:"ArmoraLogo_textBeside__NDX18",brandTextContainer:"ArmoraLogo_brandTextContainer__GRFud",small:"ArmoraLogo_small__6x8u1",medium:"ArmoraLogo_medium__6GFii",large:"ArmoraLogo_large__A7U06",hero:"ArmoraLogo_hero__WwkeD",compact:"ArmoraLogo_compact__9cDhR",minimal:"ArmoraLogo_minimal__cxEn2",animated:"ArmoraLogo_animated__oIljK",spin:"ArmoraLogo_spin__7hviM",monochrome:"ArmoraLogo_monochrome__gMBPR",interactive:"ArmoraLogo_interactive__yFlQ1"}),Ov=e=>{let{size:t="medium",variant:n="full",showOrbits:i=!0,interactive:s=!1,className:r="",showBrandText:a=!1,textPosition:c="below"}=e;const l="\n    ".concat(Mv.armoraLogo4d,"\n    ").concat(Mv[t],"\n    ").concat(Mv[n],"\n    ").concat(s?Mv.interactive:"","\n    ").concat(a?Mv.withText:"","\n    ").concat(a&&"beside"===c?Mv.textBeside:"","\n    ").concat(r,"\n  ").trim(),d=a?o(o({fontFamily:Rv.typography.brandText.fontFamily,fontWeight:Rv.typography.brandText.fontWeight,letterSpacing:Rv.typography.brandText.letterSpacing,textTransform:Rv.typography.brandText.textTransform,fontSize:"hero"===t?"2.5rem":"large"===t?"1.8rem":"medium"===t?"1.2rem":"0.9rem"},Rv.textEffects.goldGradient),Rv.textEffects.dropShadow):{};return(0,Sv.jsx)("div",{className:l,children:(0,Sv.jsxs)("div",{className:Mv.logoContent,children:[(0,Sv.jsxs)("div",{className:Mv.shieldContainer,children:[(0,Sv.jsx)("div",{className:Mv.shieldShadowLayer}),(0,Sv.jsx)("div",{className:Mv.shieldDepthLayer3}),(0,Sv.jsx)("div",{className:Mv.shieldDepthLayer2}),(0,Sv.jsx)("div",{className:Mv.shieldDepthLayer1}),(0,Sv.jsxs)("div",{className:Mv.shieldMain,children:[(0,Sv.jsx)("div",{className:Mv.shieldBaseMetallic}),(0,Sv.jsx)("div",{className:Mv.shieldGlassOverlay}),(0,Sv.jsx)("div",{className:Mv.shieldEmblemArea,children:(0,Sv.jsxs)("div",{className:Mv.letterA3d,children:[(0,Sv.jsx)("div",{className:Mv.letterFront,children:"A"}),(0,Sv.jsx)("div",{className:Mv.letterBevel,children:"A"}),(0,Sv.jsx)("div",{className:Mv.letterShadow,children:"A"})]})}),(0,Sv.jsx)("div",{className:Mv.securityCircuits,children:(0,Sv.jsxs)("svg",{className:Mv.circuitPattern,viewBox:"0 0 100 100",children:[(0,Sv.jsx)("path",{d:"M10,50 Q30,30 50,50 Q70,70 90,50"}),(0,Sv.jsx)("circle",{cx:"20",cy:"45",r:"2"}),(0,Sv.jsx)("circle",{cx:"80",cy:"55",r:"2"}),(0,Sv.jsx)("path",{d:"M30,20 L70,20 M30,80 L70,80"}),(0,Sv.jsx)("circle",{cx:"50",cy:"20",r:"1"}),(0,Sv.jsx)("circle",{cx:"50",cy:"80",r:"1"})]})}),(0,Sv.jsx)("div",{className:Mv.holographicStrips})]}),i&&(0,Sv.jsxs)("div",{className:Mv.orbitalSystem,children:[(0,Sv.jsx)("div",{className:Mv.orbitRing1}),(0,Sv.jsx)("div",{className:Mv.orbitRing2}),(0,Sv.jsx)("div",{className:Mv.orbitRing3})]}),(0,Sv.jsx)("div",{className:Mv.energyField})]}),a&&(0,Sv.jsx)("div",{className:Mv.brandTextContainer,style:d,children:"ARMORA"})]})})},Dv="Footer_footer__kXlYa",Fv="Footer_mainFooter__m41rq",Bv="Footer_footerContainer__cqEAW",qv="Footer_footerColumns__lTiss",zv="Footer_column__iAwVm",Wv="Footer_columnTitle__0rNjT",Hv="Footer_contactBlock__VMIS+",Uv="Footer_hotline__+7k6n",Vv="Footer_phoneIcon__dpGYd",Gv="Footer_hotlineLabel__EnDy2",Yv="Footer_hotlineNumber__9aTFZ",Kv="Footer_hotlineNote__F1fqw",Qv="Footer_emails__wpTxN",Zv="Footer_emailLink__dGjG8",Jv="Footer_linkList__3eYol",Xv="Footer_footerLink__zoJJ6",$v="Footer_locationList__I777d",ey="Footer_coverageNote__qsctx",ty="Footer_socialLinks__8J74g",ny="Footer_socialIcon__+HSoA",iy="Footer_footerBottom__XPvsq",sy="Footer_legalLinks__HIHkX",ry="Footer_legalLink__NFCI0",ay="Footer_divider__k7loG",oy="Footer_companyDetails__X-lCs",cy="Footer_copyright__JQMtz",ly="Footer_credentials__S3cGD",dy="Footer_regulatoryNotice__UBO5w",uy="Footer_regulatoryContent__hnXy+",hy="Footer_infoIcon__eCnIn",py="Footer_regulatoryText__ngAsb";function my(){const{navigateToView:e}=kv();return(0,Sv.jsxs)("footer",{className:Dv,children:[(0,Sv.jsx)("div",{className:Fv,children:(0,Sv.jsxs)("div",{className:Bv,children:[(0,Sv.jsxs)("div",{className:qv,children:[(0,Sv.jsxs)("div",{className:zv,children:[(0,Sv.jsx)("h3",{className:Wv,children:"ARMORA SECURITY"}),(0,Sv.jsxs)("div",{className:Hv,children:[(0,Sv.jsxs)("div",{className:Uv,children:[(0,Sv.jsx)("span",{className:Vv,children:"\ud83d\udcde"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{className:Gv,children:"24/7 Protection Hotline"}),(0,Sv.jsx)("div",{className:Yv,children:"020 7123 4567"}),(0,Sv.jsx)("div",{className:Kv,children:"Available for immediate assistance"})]})]}),(0,Sv.jsxs)("div",{className:Qv,children:[(0,Sv.jsx)("a",{href:"mailto:request protection@armora.security",className:Zv,children:"request protection@armora.security"}),(0,Sv.jsx)("a",{href:"mailto:corporate@armora.security",className:Zv,children:"corporate@armora.security"})]})]})]}),(0,Sv.jsxs)("div",{className:zv,children:[(0,Sv.jsx)("h3",{className:Wv,children:"SERVICES"}),(0,Sv.jsxs)("ul",{className:Jv,children:[(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#essential",className:Xv,children:"Essential Protection"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#executive",className:Xv,children:"Executive Protection"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#shadow",className:Xv,children:"Shadow Protection"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#corporate",className:Xv,children:"Corporate Security"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#event",className:Xv,children:"Event Protection"})})]})]}),(0,Sv.jsxs)("div",{className:zv,children:[(0,Sv.jsx)("h3",{className:Wv,children:"COMPANY"}),(0,Sv.jsxs)("ul",{className:Jv,children:[(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#about",className:Xv,children:"About Us"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#careers",className:Xv,children:"Careers"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#press",className:Xv,children:"Press"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#partners",className:Xv,children:"Partners"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#blog",className:Xv,children:"Blog"})})]})]}),(0,Sv.jsxs)("div",{className:zv,children:[(0,Sv.jsx)("h3",{className:Wv,children:"COVERAGE"}),(0,Sv.jsxs)("ul",{className:$v,children:[(0,Sv.jsx)("li",{children:"London \u2022 Manchester"}),(0,Sv.jsx)("li",{children:"Birmingham \u2022 Liverpool"}),(0,Sv.jsx)("li",{children:"Leeds \u2022 Bristol"}),(0,Sv.jsx)("li",{children:"Newcastle \u2022 Sheffield"}),(0,Sv.jsx)("li",{className:ey,children:"+ All England & Wales"})]})]}),(0,Sv.jsxs)("div",{className:zv,children:[(0,Sv.jsx)("h3",{className:Wv,children:"CONNECT"}),(0,Sv.jsxs)("div",{className:ty,children:[(0,Sv.jsx)("a",{href:"https://linkedin.com",className:ny,"aria-label":"LinkedIn",children:(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),(0,Sv.jsx)("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),(0,Sv.jsx)("line",{x1:"8",y1:"11",x2:"8",y2:"17"}),(0,Sv.jsx)("line",{x1:"8",y1:"8",x2:"8",y2:"8.01"})]})}),(0,Sv.jsx)("a",{href:"https://twitter.com",className:ny,"aria-label":"Twitter/X",children:(0,Sv.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Sv.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}),(0,Sv.jsx)("a",{href:"https://instagram.com",className:ny,"aria-label":"Instagram",children:(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),(0,Sv.jsx)("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),(0,Sv.jsx)("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),(0,Sv.jsx)("a",{href:"https://youtube.com",className:ny,"aria-label":"YouTube",children:(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,Sv.jsx)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})]})})]})]})]}),(0,Sv.jsxs)("div",{className:iy,children:[(0,Sv.jsxs)("div",{className:sy,children:[(0,Sv.jsx)("button",{onClick:()=>e("terms"),className:ry,children:"Terms of Service"}),(0,Sv.jsx)("span",{className:ay,children:"|"}),(0,Sv.jsx)("button",{onClick:()=>e("privacy"),className:ry,children:"Privacy Policy"}),(0,Sv.jsx)("span",{className:ay,children:"|"}),(0,Sv.jsx)("button",{onClick:()=>e("sia"),className:ry,children:"SIA Compliance"}),(0,Sv.jsx)("span",{className:ay,children:"|"}),(0,Sv.jsx)("button",{onClick:()=>e("gdpr"),className:ry,children:"GDPR Rights"}),(0,Sv.jsx)("span",{className:ay,children:"|"}),(0,Sv.jsx)("a",{href:"#insurance",className:ry,children:"Insurance"}),(0,Sv.jsx)("span",{className:ay,children:"|"}),(0,Sv.jsx)("a",{href:"#cookies",className:ry,children:"Cookies"})]}),(0,Sv.jsxs)("div",{className:oy,children:[(0,Sv.jsx)("div",{className:cy,children:"\xa9 2024 Armora Security Ltd \u2022 London, England"}),(0,Sv.jsx)("div",{className:ly,children:"SIA License: [Pending] \u2022 Company No: [To be registered] \u2022 Public Liability Insurance: \xa310,000,000"})]})]})]})}),(0,Sv.jsx)("div",{className:dy,children:(0,Sv.jsxs)("div",{className:uy,children:[(0,Sv.jsx)("span",{className:hy,children:"\u2139\ufe0f"}),(0,Sv.jsxs)("span",{className:py,children:[(0,Sv.jsx)("strong",{children:"REGULATORY NOTICE:"})," Armora provides SIA-licensed close protection services throughout England and Wales in compliance with Security Industry Authority regulations. All protection officers hold valid SIA Close Protection licenses. Secure transport is provided exclusively as part of comprehensive protection services."]})]})})]})}const fy="BrandText_brandText__uubTJ",_y="BrandText_animated__EH2WF",gy=e=>{let{size:t="medium",className:n="",animated:i=!1,children:s="ARMORA"}=e;const r=(e=>o(o({fontFamily:Rv.typography.brandText.fontFamily,fontWeight:Rv.typography.brandText.fontWeight,letterSpacing:Rv.typography.brandText.letterSpacing,textTransform:Rv.typography.brandText.textTransform,fontSize:Rv.typography.brandText.fontSize[e]},Rv.textEffects.goldGradient),Rv.textEffects.dropShadow))(t);return(0,Sv.jsx)("span",{className:"".concat(fy," ").concat(i?_y:""," ").concat(n),style:r,children:s})},vy="HamburgerMenu_overlay__kFSdt",yy="HamburgerMenu_menu__Ixksm",xy="HamburgerMenu_header__vzUZr",by="HamburgerMenu_title__rc7h7",Sy="HamburgerMenu_closeBtn__WRjrL",wy="HamburgerMenu_content__-rI9o",Ny="HamburgerMenu_userInfo__kZxSM",jy="HamburgerMenu_userName__LzQRx",Cy="HamburgerMenu_userType__bBlbD",ky="HamburgerMenu_section__TJ+Im",Py="HamburgerMenu_sectionTitle__NFoPq",Ty="HamburgerMenu_sectionDivider__uxpHX",Ey="HamburgerMenu_itemList__D79ld",Ay="HamburgerMenu_menuItem__Y6X6Q",Iy="HamburgerMenu_menuIcon__Kxtuo",Ly="HamburgerMenu_menuLabel__ENYMT",Ry="HamburgerMenu_menuArrow__wMvQc",My=e=>{var t;let{isOpen:n,onClose:i}=e;const{navigateToView:s,state:r}=kv(),{user:a}=r,o=e=>{s(e),i()},c={quickActions:{title:"PRIORITY ACCESS",items:[{label:"Request Protection Now",icon:"\u26a1",action:()=>{s("protection-request"),i()}},{label:"Important Contacts",icon:"\ud83d\udcde",action:()=>o("account")},{label:"Safety Resources",icon:"\ud83d\udee1\ufe0f",action:()=>o("hub")}]},protectionServices:{title:"PROTECTION SERVICES",items:[{label:"Essential Protection",icon:"\ud83d\ude97",action:()=>o("services")},{label:"Executive Shield",icon:"\ud83d\udc54",action:()=>o("services")},{label:"Shadow Protocol",icon:"\ud83e\udd77",action:()=>o("services")},{label:"Venue Protection",icon:"\ud83c\udfe2",action:()=>o("services")}]},account:{title:"MY ACCOUNT",items:[{label:"Profile Settings",icon:"\u2699\ufe0f",action:()=>o("account")},{label:"Payment Methods",icon:"\ud83d\udcb3",action:()=>o("account")},{label:"Subscription Plan",icon:"\u2b50",action:()=>o("account")},{label:"Protection History",icon:"\ud83d\udcca",action:()=>o("hub")}]},support:{title:"HELP & SUPPORT",items:[{label:"Contact Support",icon:"\ud83d\udcac",action:()=>o("account")},{label:"Coverage Areas",icon:"\ud83d\uddfa\ufe0f",action:()=>o("services")},{label:"Safety Guidelines",icon:"\ud83d\udccb",action:()=>o("hub")},{label:"About Armora",icon:"\u2139\ufe0f",action:()=>o("account")}]}};return n?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:vy,onClick:i}),(0,Sv.jsxs)("div",{className:yy,children:[(0,Sv.jsxs)("div",{className:xy,children:[(0,Sv.jsx)("h3",{className:by,children:"Menu"}),(0,Sv.jsx)("button",{className:Sy,onClick:i,"aria-label":"Close menu",children:(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("path",{d:"M18 6L6 18"}),(0,Sv.jsx)("path",{d:"M6 6l12 12"})]})})]}),(0,Sv.jsxs)("div",{className:wy,children:[a&&(0,Sv.jsxs)("div",{className:Ny,children:[(0,Sv.jsx)("div",{className:jy,children:a.preferredName||a.name||(null===(t=a.legalName)||void 0===t?void 0:t.first)||"User"}),(0,Sv.jsx)("div",{className:Cy,children:"registered"===a.userType||"google"===a.userType?"Premium Member":"Guest"})]}),Object.entries(c).map(e=>{let[t,n]=e;return(0,Sv.jsxs)("div",{className:ky,children:[(0,Sv.jsx)("h4",{className:Py,children:n.title}),(0,Sv.jsx)("div",{className:Ty}),(0,Sv.jsx)("ul",{className:Ey,children:n.items.map((e,t)=>(0,Sv.jsx)("li",{children:(0,Sv.jsxs)("button",{className:Ay,onClick:e.action,children:[(0,Sv.jsx)("span",{className:Iy,children:e.icon}),(0,Sv.jsx)("span",{className:Ly,children:e.label}),(0,Sv.jsx)("span",{className:Ry,children:"\u203a"})]})},t))})]},t)})]})]})]}):null},Oy="TopToolbar_topbar__PKOBh",Dy="TopToolbar_logoSection__3MFjo",Fy="TopToolbar_actions__a6chB",By="TopToolbar_iconBtn__NjXYZ",qy="TopToolbar_iconLabel__9xZfD",zy="TopToolbar_badge__rfSHo",Wy=t=>{let{onToggleNotifications:n,isNotificationsOpen:i}=t;const{navigateToView:s,state:r}=kv(),a=(0,e.useMemo)(()=>(r.notifications||[]).filter(e=>!e.isRead).length,[r.notifications]),[o,c]=(0,e.useState)(!1);return(0,Sv.jsxs)("nav",{className:Oy,"aria-label":"Top",children:[(0,Sv.jsxs)("button",{className:Dy,onClick:()=>{s("home")},"aria-label":"Armora Home",title:"Return to Home",children:[(0,Sv.jsx)(Ov,{size:"small",variant:"compact",showOrbits:!1,interactive:!1}),(0,Sv.jsx)("div",{children:(0,Sv.jsx)(gy,{size:"small",animated:!1})})]}),(0,Sv.jsxs)("div",{className:Fy,children:[(0,Sv.jsxs)("button",{className:By,"aria-label":"Request Protection",title:"Request Protection Services",onClick:()=>{s("protection-request")},children:[(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,Sv.jsx)("path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,Sv.jsx)("path",{d:"M5 17h-2v-6l2-5h9l4 5h1a2 2 0 0 1 2 2v4h-2"}),(0,Sv.jsx)("path",{d:"M16 5h1.5a1.5 1.5 0 0 1 0 3H16"})]}),(0,Sv.jsx)("span",{className:qy,children:"Request Protection"})]}),(0,Sv.jsxs)("button",{className:By,"aria-label":"Notifications",title:"View Notifications",onClick:()=>n&&n(),children:[(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("path",{d:"M18 8a6 6 0 1 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"}),(0,Sv.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),a>0&&(0,Sv.jsx)("span",{className:zy,"aria-label":"".concat(a," unread"),children:a>9?"9+":a})]}),(0,Sv.jsx)("button",{className:By,"aria-label":"Menu",title:"Open Menu",onClick:()=>{c(!o)},children:(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("path",{d:"M3 12h18"}),(0,Sv.jsx)("path",{d:"M3 6h18"}),(0,Sv.jsx)("path",{d:"M3 18h18"})]})})]}),(0,Sv.jsx)(My,{isOpen:o,onClose:()=>c(!1)})]})},Hy={overlay:"NotificationsPanel_overlay__bBLmK",open:"NotificationsPanel_open__M8uz9",panel:"NotificationsPanel_panel__KYb7v",header:"NotificationsPanel_header__GMLl+",title:"NotificationsPanel_title__RzOE1",actions:"NotificationsPanel_actions__JWp5U",iconBtn:"NotificationsPanel_iconBtn__zAZM4",closeBtn:"NotificationsPanel_closeBtn__bbIcd",list:"NotificationsPanel_list__K77Ih",item:"NotificationsPanel_item__aMrd-",itemUnread:"NotificationsPanel_itemUnread__3twgS",itemHeader:"NotificationsPanel_itemHeader__JOwXu",itemTitle:"NotificationsPanel_itemTitle__57A-6",time:"NotificationsPanel_time__w2D-t",message:"NotificationsPanel_message__2pb3t",badge:"NotificationsPanel_badge__VaSKs",info:"NotificationsPanel_info__aQ3mS",warning:"NotificationsPanel_warning__Gt3Ce",success:"NotificationsPanel_success__LPnZ6",emergency:"NotificationsPanel_emergency__swLej",empty:"NotificationsPanel_empty__Y+DWF"},Uy=t=>{let{isOpen:n,onClose:i}=t;const{state:s,markAllNotificationsRead:r,markNotificationRead:a,navigateToView:o}=kv(),c=(0,e.useMemo)(()=>s.notifications||[],[s.notifications]),l=(0,e.useMemo)(()=>c.filter(e=>!e.isRead).length,[c]);return(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:"".concat(Hy.overlay," ").concat(n?Hy.open:""),onClick:i}),(0,Sv.jsxs)("aside",{className:"".concat(Hy.panel," ").concat(n?Hy.open:""),role:"dialog","aria-label":"Notifications",children:[(0,Sv.jsxs)("div",{className:Hy.header,children:[(0,Sv.jsxs)("div",{className:Hy.title,children:["Notifications ",l>0?"(".concat(l,")"):""]}),(0,Sv.jsxs)("div",{className:Hy.actions,children:[(0,Sv.jsx)("button",{className:Hy.iconBtn,onClick:r,children:"Mark all read"}),(0,Sv.jsx)("button",{className:Hy.closeBtn,onClick:i,"aria-label":"Close notifications",children:(0,Sv.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("path",{d:"m18 6-12 12"}),(0,Sv.jsx)("path",{d:"m6 6 12 12"})]})})]})]}),(0,Sv.jsx)("div",{className:Hy.list,children:0===c.length?(0,Sv.jsx)("div",{className:Hy.empty,children:"No notifications yet."}):c.map(e=>(0,Sv.jsxs)("div",{className:"".concat(Hy.item," ").concat(e.isRead?"":Hy.itemUnread),children:[(0,Sv.jsxs)("div",{className:Hy.itemHeader,children:[(0,Sv.jsx)("span",{className:"".concat(Hy.badge," ").concat(Hy[e.type]),children:e.type.toUpperCase()}),(0,Sv.jsx)("span",{className:Hy.time,children:new Date(e.timestamp).toLocaleString()})]}),(0,Sv.jsx)("div",{className:Hy.itemTitle,children:e.title}),(0,Sv.jsx)("div",{className:Hy.message,children:e.message}),(0,Sv.jsx)("div",{className:Hy.actions,children:e.requiresAction&&(0,Sv.jsx)("button",{className:Hy.iconBtn,onClick:()=>(e=>{a(e.id),o("hub"),i()})(e),children:e.actionText||"View"})})]},e.id))})]})]})},Vy={layout:"AppLayout_layout__ruP5W",noTopbar:"AppLayout_noTopbar__e+U1i",content:"AppLayout_content__rbBs1",header:"AppLayout_header__Ny4GR",headerContent:"AppLayout_headerContent__M6+N8",backButton:"AppLayout_backButton__CLurn",headerLeft:"AppLayout_headerLeft__0JQZN",headerCenter:"AppLayout_headerCenter__mZ-CQ",headerRight:"AppLayout_headerRight__hmNNB",headerBrand:"AppLayout_headerBrand__ya2kG",headerLogo:"AppLayout_headerLogo__r6efF",brandInfo:"AppLayout_brandInfo__TWbx6",headerTitle:"AppLayout_headerTitle__QQSYj",brandName:"AppLayout_brandName__W6n6A",brandInTitle:"AppLayout_brandInTitle__ZyrTX",headerSubtitle:"AppLayout_headerSubtitle__GCNpH",serviceTypes:"AppLayout_serviceTypes__gEosH",serviceType:"AppLayout_serviceType__cbdSD",userInfo:"AppLayout_userInfo__gZHup",welcomeText:"AppLayout_welcomeText__5i8lv",userType:"AppLayout_userType__uUony",headerActions:"AppLayout_headerActions__Otjs2",mobileActions:"AppLayout_mobileActions__lYvD8",quickActionButton:"AppLayout_quickActionButton__ZC+57",emergencyButton:"AppLayout_emergencyButton__K9bNF",main:"AppLayout_main__5+3zS",hasFooter:"AppLayout_hasFooter__JL0Gr",navigation:"AppLayout_navigation__xHrCP",navContent:"AppLayout_navContent__RGSVA",navButton:"AppLayout_navButton__kDd9U",navButtonActive:"AppLayout_navButtonActive__XanDm",navLabel:"AppLayout_navLabel__OyTZm",activeButton:"AppLayout_activeButton__mLSUV",activeIconContainer:"AppLayout_activeIconContainer__3BTI0",activeIcon:"AppLayout_activeIcon__YoQau",activePulsing:"AppLayout_activePulsing__gNO95",protectionPulse:"AppLayout_protectionPulse__o3TYK",activeDisabled:"AppLayout_activeDisabled__3Pigp",loading:"AppLayout_loading__Vf3P3",error:"AppLayout_error__zSsH6"};function Gy(t){let{children:n,showHeader:i=!0,showNavigation:s=!0,headerTitle:r,headerActions:a,className:o=""}=t;const{state:c,navigateToView:l}=kv(),{currentView:d,user:u}=c,[h,p]=(0,e.useState)(!1),m=s&&"splash"!==d,f=[Vy.layout,"home"===d?Vy.hasFooter:"","protection-assignment"===d?Vy.noTopbar:"",o].filter(Boolean).join(" ");(()=>{if(r)return{title:r,subtitle:"",showServices:!1};switch(d){case"welcome":return{title:"Welcome to ARMORA",subtitle:"",showServices:!1};case"login":return{title:"Sign In",subtitle:"",showServices:!1};case"signup":return{title:"Create Account",subtitle:"",showServices:!1};case"guest-disclaimer":return{title:"Guest Access",subtitle:"",showServices:!1};case"questionnaire":return{title:"Security Assessment",subtitle:"",showServices:!1};case"home":return{title:"Home",subtitle:"Your Security Dashboard",showServices:!0};case"services":return{title:"Services",subtitle:"Choose your protection",showServices:!1};case"protection-assignment":return{title:"",subtitle:"Secure Transport",showServices:!1};case"active":return{title:"Active Protection",subtitle:"Live Security Status",showServices:!1};case"hub":case"Assignments":return{title:"Your Hub",subtitle:"Transport & Security",showServices:!1};case"account":return{title:"Your Account",subtitle:"Settings & Preferences",showServices:!1};case"venue-protection-welcome":return{title:"Venue Protection",subtitle:"Professional Security Services",showServices:!1};case"venue-security-questionnaire":return{title:"Security Assessment",subtitle:"Venue Protection Planning",showServices:!1};case"venue-protection-success":return{title:"Assessment Complete",subtitle:"Quote Being Prepared",showServices:!1};default:;}})();return(0,Sv.jsxs)("div",{className:f,children:["protection-assignment"!==d&&"active"!==d&&(0,Sv.jsx)(Wy,{onToggleNotifications:()=>p(!h),isNotificationsOpen:h}),!1,(0,Sv.jsx)("main",{className:Vy.main,children:(0,Sv.jsx)("div",{className:Vy.content,children:n})}),"home"===d&&(0,Sv.jsx)(my,{}),m&&(0,Sv.jsx)("nav",{className:Vy.navigation,children:(0,Sv.jsxs)("div",{className:Vy.navContent,children:[(0,Sv.jsxs)("button",{className:"".concat(Vy.navButton," ").concat("home"===d?Vy.navButtonActive:""),onClick:()=>l("home"),"aria-label":"Home",children:[(0,Sv.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,Sv.jsx)("polyline",{points:"9,22 9,12 15,12 15,22"})]}),(0,Sv.jsx)("span",{className:Vy.navLabel,children:"Home"})]}),(0,Sv.jsxs)("button",{className:"".concat(Vy.navButton," ").concat("services"===d||d.startsWith("venue-protection")||"protection-assignment"===d?Vy.navButtonActive:""),onClick:()=>l("services"),"aria-label":"Services",children:[(0,Sv.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),(0,Sv.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),(0,Sv.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),(0,Sv.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]}),(0,Sv.jsx)("span",{className:Vy.navLabel,children:"Services"})]}),(0,Sv.jsxs)("button",{className:"".concat(Vy.navButton," ").concat("active"===d?Vy.navButtonActive:""," ").concat(Vy.activeButton),onClick:()=>l("active"),"aria-label":"Active Protection",children:[(0,Sv.jsx)("div",{className:Vy.activeIconContainer,children:(0,Sv.jsx)("div",{className:"".concat(Vy.activeIcon," ").concat(Vy.activePulsing),children:"\ud83d\udfe2"})}),(0,Sv.jsx)("span",{className:Vy.navLabel,style:{color:"#22c55e"},children:"Active"})]}),(0,Sv.jsxs)("button",{className:"".concat(Vy.navButton," ").concat("hub"===d||"Assignments"===d?Vy.navButtonActive:""),onClick:()=>l("hub"),"aria-label":"Hub",children:[(0,Sv.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,Sv.jsx)("path",{d:"M12 1v6m0 6v6"}),(0,Sv.jsx)("path",{d:"m21 12-6-3 6-3"}),(0,Sv.jsx)("path",{d:"m21 12-6 3 6 3"}),(0,Sv.jsx)("path",{d:"m3 12 6 3-6 3"}),(0,Sv.jsx)("path",{d:"m3 12 6-3-6-3"})]}),(0,Sv.jsx)("span",{className:Vy.navLabel,children:"Hub"})]}),(0,Sv.jsxs)("button",{className:"".concat(Vy.navButton," ").concat("account"===d?Vy.navButtonActive:""),onClick:()=>l("account"),"aria-label":"Account",children:[(0,Sv.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Sv.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),(0,Sv.jsx)("span",{className:Vy.navLabel,children:"Account"})]})]})}),(0,Sv.jsx)(Uy,{isOpen:h,onClose:()=>p(!1)})]})}const Yy={splashScreen:"SplashScreen_splashScreen__PwKSn",gradientMesh:"SplashScreen_gradientMesh__YcCX6",splashImmersiveBg:"SplashScreen_splashImmersiveBg__CGDh8",patternFloat:"SplashScreen_patternFloat__uQFv3",floatingOrb:"SplashScreen_floatingOrb__SFynJ",securityGrid:"SplashScreen_securityGrid__tBvbk",gridShift:"SplashScreen_gridShift__OkLoD",securityParticle:"SplashScreen_securityParticle__eCjVL",particleRise:"SplashScreen_particleRise__w+rKr",content:"SplashScreen_content__Wh0hf",fadeInUp:"SplashScreen_fadeInUp__vrmhi",cornerPulse:"SplashScreen_cornerPulse__BepG7",armoraLogoEnhanced:"SplashScreen_armoraLogoEnhanced__AG+kl",logoGrandEntrance:"SplashScreen_logoGrandEntrance__tIBhT",securityOrbit:"SplashScreen_securityOrbit__ejzy+",orbitInner:"SplashScreen_orbitInner__0Huw5",orbitClockwise:"SplashScreen_orbitClockwise__Q4LdN",orbitMiddle:"SplashScreen_orbitMiddle__4MgQJ",orbitCounterClockwise:"SplashScreen_orbitCounterClockwise__axTAn",orbitOuter:"SplashScreen_orbitOuter__O8CEc",shieldCore:"SplashScreen_shieldCore__a8CWA",shieldPowerPulse:"SplashScreen_shieldPowerPulse__lEUDV",shieldLetter:"SplashScreen_shieldLetter__xbHaq",letterGlow:"SplashScreen_letterGlow__C+Vjz",armoraTitleAnimated:"SplashScreen_armoraTitleAnimated__oX+TQ",letterContainer:"SplashScreen_letterContainer__iaqGB",letter:"SplashScreen_letter__nJKoF",letterReveal:"SplashScreen_letterReveal__dCUtH",goldWave:"SplashScreen_goldWave__B0u4T",letterFloat:"SplashScreen_letterFloat__-hZxV",shadowPulse:"SplashScreen_shadowPulse__ES9Cd",taglineEnhanced:"SplashScreen_taglineEnhanced__wkJC1",taglineReveal:"SplashScreen_taglineReveal__FKAgS",taglineHighlight:"SplashScreen_taglineHighlight__VkzlS",securityLoadingContainer:"SplashScreen_securityLoadingContainer__SX3Qk",biometricScanner:"SplashScreen_biometricScanner__PyKBs",scannerBeam:"SplashScreen_scannerBeam__08HJT",securitySweep:"SplashScreen_securitySweep__kuzzA",encryptionProgress:"SplashScreen_encryptionProgress__V4mop",dataBlock:"SplashScreen_dataBlock__7avQB",dataEncrypt:"SplashScreen_dataEncrypt__bCGvY",dataFill:"SplashScreen_dataFill__VJBOm",holoShimmer:"SplashScreen_holoShimmer__7TeHW",securityStatus:"SplashScreen_securityStatus__ckKJw",statusText:"SplashScreen_statusText__hUFpd",cursor:"SplashScreen_cursor__7F514",cursorBlink:"SplashScreen_cursorBlink__7MUeM"},Ky=()=>{const[t,n]=(0,e.useState)(0),[i,s]=(0,e.useState)(""),[r,a]=(0,e.useState)(!0),o=(0,e.useMemo)(()=>["Connecting you with licensed security professionals...","Verifying SIA-certified protection officers...","Preparing your secure travel experience...","Setting up transparent pricing details...","Confirming your protection service level...","Ready to keep you safe..."],[]);return(0,e.useEffect)(()=>{const e=o[t];let i=0;s(""),a(!0);const r=setInterval(()=>{i<e.length?(s(e.slice(0,i+1)),i++):(a(!1),clearInterval(r),setTimeout(()=>{n(e=>(e+1)%o.length)},800))},60);return()=>clearInterval(r)},[t,o]),(0,Sv.jsxs)("div",{className:Yy.securityStatus,children:[(0,Sv.jsx)("span",{className:Yy.statusText,children:i}),r&&(0,Sv.jsx)("span",{className:Yy.cursor,children:"|"})]})};function Qy(){const{navigateToView:t}=kv(),n=(0,e.useRef)(!1);return(0,e.useEffect)(()=>{const e=setTimeout(()=>{n.current||(n.current=!0,t("welcome"))},4e3);return()=>{clearTimeout(e)}},[]),(0,Sv.jsxs)("div",{className:Yy.splashScreen,children:[(0,Sv.jsxs)("div",{className:Yy.splashImmersiveBg,children:[(0,Sv.jsx)("div",{className:Yy.securityGrid}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle}),(0,Sv.jsx)("div",{className:Yy.securityParticle})]}),(0,Sv.jsxs)("div",{className:Yy.content,children:[(0,Sv.jsx)(Ov,{size:"hero",variant:"animated",showOrbits:!0,className:Yy.splashLogo}),(0,Sv.jsxs)("h1",{className:Yy.armoraTitleAnimated,children:[(0,Sv.jsx)("div",{className:Yy.letterContainer,children:(0,Sv.jsx)("span",{className:Yy.letter,"data-letter":"A",children:"A"})}),(0,Sv.jsx)("div",{className:Yy.letterContainer,children:(0,Sv.jsx)("span",{className:Yy.letter,"data-letter":"R",children:"R"})}),(0,Sv.jsx)("div",{className:Yy.letterContainer,children:(0,Sv.jsx)("span",{className:Yy.letter,"data-letter":"M",children:"M"})}),(0,Sv.jsx)("div",{className:Yy.letterContainer,children:(0,Sv.jsx)("span",{className:Yy.letter,"data-letter":"O",children:"O"})}),(0,Sv.jsx)("div",{className:Yy.letterContainer,children:(0,Sv.jsx)("span",{className:Yy.letter,"data-letter":"R",children:"R"})}),(0,Sv.jsx)("div",{className:Yy.letterContainer,children:(0,Sv.jsx)("span",{className:Yy.letter,"data-letter":"A",children:"A"})})]}),(0,Sv.jsx)("p",{className:Yy.taglineEnhanced,children:"Professional Close Protection Services"}),(0,Sv.jsxs)("div",{className:Yy.securityLoadingContainer,children:[(0,Sv.jsx)("div",{className:Yy.biometricScanner,children:(0,Sv.jsx)("div",{className:Yy.scannerBeam})}),(0,Sv.jsx)("div",{className:Yy.encryptionProgress,children:Array.from({length:30},(e,t)=>(0,Sv.jsx)("div",{className:Yy.dataBlock,style:{animationDelay:"".concat(.1*t,"s")}},t))})]}),(0,Sv.jsx)(Ky,{})]})]})}const Zy={button:"Button_button__O+4gT",sm:"Button_sm__rWQKq",md:"Button_md__EtAPj",lg:"Button_lg__23qwm",xl:"Button_xl__7YPkQ",primary:"Button_primary__fmhg1",secondary:"Button_secondary__xIDl+",outline:"Button_outline__IzwtP",ghost:"Button_ghost__WsRyM",danger:"Button_danger__gYYRF",fullWidth:"Button_fullWidth__YCW43",loading:"Button_loading__zSoey",spin:"Button_spin__X64sh",disabled:"Button_disabled__7Gyvl",content:"Button_content__kbKXG",iconLeft:"Button_iconLeft__OkUys",iconRight:"Button_iconRight__HIoLy",spinner:"Button_spinner__U7-YR",spinnerRing:"Button_spinnerRing__vqVR+"},Jy=["variant","size","isLoading","isFullWidth","leftIcon","rightIcon","children","disabled","className"];function Xy(e){let{variant:t="primary",size:n="md",isLoading:i=!1,isFullWidth:s=!1,leftIcon:r,rightIcon:a,children:c,disabled:l,className:d=""}=e,u=nt(e,Jy);const h=[Zy.button,Zy[t],Zy[n],s&&Zy.fullWidth,i&&Zy.loading,l&&Zy.disabled,d].filter(Boolean).join(" ");return(0,Sv.jsxs)("button",o(o({className:h,disabled:l||i},u),{},{children:[i&&(0,Sv.jsx)("div",{className:Zy.spinner,"aria-hidden":"true",children:(0,Sv.jsx)("div",{className:Zy.spinnerRing})}),!i&&r&&(0,Sv.jsx)("span",{className:Zy.iconLeft,"aria-hidden":"true",children:r}),(0,Sv.jsx)("span",{className:Zy.content,children:c}),!i&&a&&(0,Sv.jsx)("span",{className:Zy.iconRight,"aria-hidden":"true",children:a})]}))}const $y=[{month:1,name:"Winter Frost",particles:{color:"rgba(255, 255, 255, 0.8)",secondaryColor:"rgba(255, 215, 0, 0.3)",count:15,speed:.5,direction:"down",shape:"snowflake",size:{min:3,max:8}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(26, 26, 46, 1) 70%, rgba(15, 15, 35, 1) 100%)",overlay:"rgba(255, 255, 255, 0.03)",glow:"rgba(255, 255, 255, 0.1)"},animation:{intensity:"gentle",pattern:"structured"}},{month:2,name:"Rose Gold",particles:{color:"rgba(255, 182, 193, 0.6)",secondaryColor:"rgba(255, 215, 0, 0.4)",count:12,speed:.3,direction:"float",shape:"sparkle",size:{min:2,max:6}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(35, 26, 35, 1) 70%, rgba(20, 15, 25, 1) 100%)",overlay:"rgba(255, 182, 193, 0.02)",glow:"rgba(255, 215, 0, 0.1)"},animation:{intensity:"gentle",pattern:"organic"}},{month:3,name:"Spring Gold",particles:{color:"rgba(144, 238, 144, 0.5)",secondaryColor:"rgba(255, 215, 0, 0.6)",count:14,speed:.4,direction:"up",shape:"circle",size:{min:2,max:5}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(26, 35, 26, 1) 70%, rgba(15, 25, 15, 1) 100%)",overlay:"rgba(144, 238, 144, 0.02)",glow:"rgba(255, 215, 0, 0.1)"},animation:{intensity:"moderate",pattern:"organic"}},{month:4,name:"Pastel Gold",particles:{color:"rgba(255, 215, 0, 0.5)",secondaryColor:"rgba(255, 255, 255, 0.3)",count:13,speed:.3,direction:"drift",shape:"circle",size:{min:2,max:4}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(30, 30, 50, 1) 70%, rgba(20, 20, 40, 1) 100%)",overlay:"rgba(255, 255, 255, 0.02)",glow:"rgba(255, 215, 0, 0.08)"},animation:{intensity:"gentle",pattern:"random"}},{month:5,name:"Bright Gold",particles:{color:"rgba(255, 215, 0, 0.6)",secondaryColor:"rgba(144, 238, 144, 0.3)",count:16,speed:.5,direction:"float",shape:"sparkle",size:{min:3,max:6}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(26, 30, 35, 1) 70%, rgba(15, 20, 25, 1) 100%)",overlay:"rgba(144, 238, 144, 0.02)",glow:"rgba(255, 215, 0, 0.12)"},animation:{intensity:"moderate",pattern:"organic"}},{month:6,name:"Summer Gold",particles:{color:"rgba(255, 215, 0, 0.7)",secondaryColor:"rgba(135, 206, 250, 0.4)",count:18,speed:.6,direction:"drift",shape:"circle",size:{min:3,max:7}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(26, 35, 46, 1) 70%, rgba(15, 25, 36, 1) 100%)",overlay:"rgba(135, 206, 250, 0.03)",glow:"rgba(255, 215, 0, 0.15)"},animation:{intensity:"active",pattern:"random"}},{month:7,name:"Golden Hour",particles:{color:"rgba(255, 165, 0, 0.7)",secondaryColor:"rgba(255, 215, 0, 0.8)",count:20,speed:.7,direction:"float",shape:"sparkle",size:{min:4,max:8}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(35, 30, 25, 1) 70%, rgba(25, 20, 15, 1) 100%)",overlay:"rgba(255, 165, 0, 0.03)",glow:"rgba(255, 215, 0, 0.18)"},animation:{intensity:"active",pattern:"organic"}},{month:8,name:"Warm Amber",particles:{color:"rgba(255, 191, 0, 0.8)",secondaryColor:"rgba(255, 140, 0, 0.5)",count:17,speed:.6,direction:"drift",shape:"circle",size:{min:3,max:7}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(35, 30, 26, 1) 70%, rgba(25, 20, 16, 1) 100%)",overlay:"rgba(255, 191, 0, 0.03)",glow:"rgba(255, 215, 0, 0.15)"},animation:{intensity:"moderate",pattern:"random"}},{month:9,name:"Autumn Amber",particles:{color:"rgba(218, 165, 32, 0.7)",secondaryColor:"rgba(255, 215, 0, 0.5)",count:15,speed:.4,direction:"down",shape:"leaf",size:{min:3,max:6}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(35, 28, 20, 1) 70%, rgba(25, 18, 10, 1) 100%)",overlay:"rgba(218, 165, 32, 0.03)",glow:"rgba(255, 215, 0, 0.12)"},animation:{intensity:"moderate",pattern:"structured"}},{month:10,name:"Deep Autumn",particles:{color:"rgba(255, 140, 0, 0.6)",secondaryColor:"rgba(255, 215, 0, 0.4)",count:16,speed:.5,direction:"down",shape:"leaf",size:{min:4,max:8}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(40, 25, 15, 1) 70%, rgba(30, 15, 5, 1) 100%)",overlay:"rgba(255, 140, 0, 0.03)",glow:"rgba(255, 215, 0, 0.10)"},animation:{intensity:"moderate",pattern:"organic"}},{month:11,name:"Bronze Gold",particles:{color:"rgba(205, 127, 50, 0.6)",secondaryColor:"rgba(255, 215, 0, 0.3)",count:12,speed:.3,direction:"down",shape:"leaf",size:{min:3,max:5}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(35, 25, 20, 1) 70%, rgba(25, 15, 10, 1) 100%)",overlay:"rgba(205, 127, 50, 0.02)",glow:"rgba(255, 215, 0, 0.08)"},animation:{intensity:"gentle",pattern:"structured"}},{month:12,name:"Winter Silver",particles:{color:"rgba(192, 192, 192, 0.8)",secondaryColor:"rgba(255, 255, 255, 0.6)",count:18,speed:.4,direction:"down",shape:"snowflake",size:{min:4,max:10}},atmosphere:{gradient:"radial-gradient(ellipse at center, rgba(26, 26, 46, 0.95) 0%, rgba(30, 30, 40, 1) 70%, rgba(20, 20, 30, 1) 100%)",overlay:"rgba(255, 255, 255, 0.04)",glow:"rgba(192, 192, 192, 0.1)"},animation:{intensity:"moderate",pattern:"structured"}}],ex=()=>{const e=(new Date).getMonth()+1;return $y.find(t=>t.month===e)||$y[0]},tx={seasonalContainer:"SeasonalTheme_seasonalContainer__vrXku",loaded:"SeasonalTheme_loaded__mTB1G",atmosphereLayer:"SeasonalTheme_atmosphereLayer__qJpl0",particleField:"SeasonalTheme_particleField__BTdvt",particle:"SeasonalTheme_particle__3FzjG",circleParticle:"SeasonalTheme_circleParticle__HqIY2",particlecircle:"SeasonalTheme_particlecircle__+kPNe",floatCircle:"SeasonalTheme_floatCircle__yqIVy",particlesnowflake:"SeasonalTheme_particlesnowflake__pU0uk",fallSnowflake:"SeasonalTheme_fallSnowflake__W5CIG",particleleaf:"SeasonalTheme_particleleaf__0KR8v",fallLeaf:"SeasonalTheme_fallLeaf__4ptEm",particlesparkle:"SeasonalTheme_particlesparkle__jGMrQ",sparkleFloat:"SeasonalTheme_sparkleFloat__QnvUD",directionup:"SeasonalTheme_directionup__q6tQw",floatUp:"SeasonalTheme_floatUp__oirAR",directiondown:"SeasonalTheme_directiondown__AsbA5",fallDown:"SeasonalTheme_fallDown__vxi-b",directionfloat:"SeasonalTheme_directionfloat__VGDZN",gentleFloat:"SeasonalTheme_gentleFloat__nr1++",directiondrift:"SeasonalTheme_directiondrift__NHrJt",driftMotion:"SeasonalTheme_driftMotion__AtXvl",intensitygentle:"SeasonalTheme_intensitygentle__GEd2+",intensitymoderate:"SeasonalTheme_intensitymoderate__LPNpx",intensityactive:"SeasonalTheme_intensityactive__Vg06o",glowOverlay:"SeasonalTheme_glowOverlay__Qzq-y",glowPulse:"SeasonalTheme_glowPulse__SVF48",content:"SeasonalTheme_content__W5lSw",themeInfo:"SeasonalTheme_themeInfo__n9SPZ"},nx=t=>{let{children:n,className:i="",testMonth:s}=t;const[r,a]=(0,e.useState)(ex()),[o,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=ex();a(e);const t=setTimeout(()=>c(!0),100);return()=>clearTimeout(t)},[s]);const l=(0,e.useMemo)(()=>Array.from({length:r.particles.count},(e,t)=>({id:t,delay:4*Math.random(),duration:3+4*Math.random(),x:100*Math.random(),y:100*Math.random(),size:r.particles.size.min+Math.random()*(r.particles.size.max-r.particles.size.min),rotation:360*Math.random()})),[r]),d=(e,t)=>{switch(e.shape){case"snowflake":return(0,Sv.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",children:[(0,Sv.jsx)("path",{d:"M12 2L12 22M7.05 5.64L16.95 18.36M5.64 7.05L18.36 16.95M2 12L22 12M7.05 18.36L16.95 5.64M5.64 16.95L18.36 7.05",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"1",fill:"currentColor"})]});case"leaf":return(0,Sv.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",children:[(0,Sv.jsx)("path",{d:"M17 8C8 10 5.5 16.5 3 21C8.5 18.5 15 16 17 7V8Z",stroke:"currentColor",strokeWidth:"1.5",fill:"currentColor",fillOpacity:"0.3"}),(0,Sv.jsx)("path",{d:"M3 21C7.5 16.5 15 13 17 8",stroke:"currentColor",strokeWidth:"1",strokeOpacity:"0.5"})]});case"sparkle":return(0,Sv.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",children:(0,Sv.jsx)("path",{d:"M12 2L13.09 8.26L20 7.27L14.18 12.18L15.64 18.36L12 15.77L8.36 18.36L9.82 12.18L4 7.27L10.91 8.26L12 2Z",fill:"currentColor"})});default:return(0,Sv.jsx)("div",{className:tx.circleParticle,style:{width:t,height:t,background:"radial-gradient(circle, currentColor 0%, transparent 70%)"}})}};return(0,Sv.jsxs)("div",{className:"".concat(tx.seasonalContainer," ").concat(i," ").concat(o?tx.loaded:""),style:{"--theme-gradient":r.atmosphere.gradient,"--theme-overlay":r.atmosphere.overlay||"transparent","--theme-glow":r.atmosphere.glow||"transparent","--particle-color":r.particles.color,"--particle-secondary":r.particles.secondaryColor||r.particles.color,"--animation-intensity":r.animation.intensity},children:[(0,Sv.jsx)("div",{className:tx.atmosphereLayer}),(0,Sv.jsx)("div",{className:tx.particleField,children:l.map(e=>(0,Sv.jsx)("div",{className:"".concat(tx.particle," ").concat(tx["particle".concat(r.particles.shape)]," ").concat(tx["direction".concat(r.particles.direction)]," ").concat(tx["intensity".concat(r.animation.intensity)]),style:{"--delay":"".concat(e.delay,"s"),"--duration":"".concat(e.duration,"s"),"--x":"".concat(e.x,"%"),"--y":"".concat(e.y,"%"),"--rotation":"".concat(e.rotation,"deg"),"--size":"".concat(e.size,"px"),color:Math.random()>.7?r.particles.secondaryColor:r.particles.color},children:d(r.particles,e.size)},e.id))}),r.atmosphere.glow&&(0,Sv.jsx)("div",{className:tx.glowOverlay}),(0,Sv.jsx)("div",{className:tx.content,children:n})]})},ix=e=>{let{size:t=20,className:n=""}=e;return(0,Sv.jsxs)("svg",{viewBox:"0 0 24 24",width:t,height:t,className:n,style:{display:"block"},children:[(0,Sv.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Sv.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Sv.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Sv.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})},sx=e=>{let{type:t,className:n=""}=e;const i="credential-icon ".concat(n);switch(t){case"sia":return(0,Sv.jsxs)("svg",{className:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sv.jsx)("defs",{children:(0,Sv.jsxs)("linearGradient",{id:"siaGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#003078"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#1e4d8b"})]})}),(0,Sv.jsx)("rect",{width:"100",height:"100",fill:"url(#siaGradient)",rx:"8"}),(0,Sv.jsx)("rect",{x:"8",y:"8",width:"84",height:"84",fill:"#ffffff",rx:"4"}),(0,Sv.jsx)("rect",{x:"12",y:"12",width:"76",height:"76",fill:"url(#siaGradient)",rx:"2"}),(0,Sv.jsx)("path",{d:"M25 35 L35 25 L65 25 L75 35 L75 65 L65 75 L35 75 L25 65 Z",fill:"#ffffff",opacity:"0.1"}),(0,Sv.jsx)("text",{x:"50",y:"42",fill:"#ffffff",fontSize:"18",fontWeight:"bold",textAnchor:"middle",children:"SIA"}),(0,Sv.jsx)("text",{x:"50",y:"58",fill:"#ffffff",fontSize:"8",fontWeight:"500",textAnchor:"middle",children:"SECURITY INDUSTRY"}),(0,Sv.jsx)("text",{x:"50",y:"68",fill:"#ffffff",fontSize:"8",fontWeight:"500",textAnchor:"middle",children:"AUTHORITY"}),(0,Sv.jsx)("circle",{cx:"85",cy:"15",r:"8",fill:"#00ff00",opacity:"0.8"}),(0,Sv.jsx)("text",{x:"85",y:"19",fill:"#003078",fontSize:"8",fontWeight:"bold",textAnchor:"middle",children:"\u2713"})]});case"homeoffice":return(0,Sv.jsxs)("svg",{className:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sv.jsx)("defs",{children:(0,Sv.jsxs)("linearGradient",{id:"homeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#8B1538"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#a8284a"})]})}),(0,Sv.jsx)("rect",{width:"100",height:"100",fill:"url(#homeGradient)",rx:"8"}),(0,Sv.jsx)("path",{d:"M50 15 L75 30 L75 60 L50 75 L25 60 L25 30 Z",fill:"#ffffff",stroke:"#8B1538",strokeWidth:"2"}),(0,Sv.jsx)("path",{d:"M50 25 L65 35 L65 55 L50 65 L35 55 L35 35 Z",fill:"url(#homeGradient)"}),(0,Sv.jsx)("path",{d:"M45 40 L50 35 L55 40 L55 50 L45 50 Z",fill:"#ffffff"}),(0,Sv.jsx)("text",{x:"50",y:"82",fill:"#ffffff",fontSize:"7",fontWeight:"bold",textAnchor:"middle",children:"HOME OFFICE"}),(0,Sv.jsx)("text",{x:"50",y:"92",fill:"#ffffff",fontSize:"7",fontWeight:"500",textAnchor:"middle",children:"BS 7858 STANDARDS"}),(0,Sv.jsx)("circle",{cx:"85",cy:"15",r:"8",fill:"#00ff00",opacity:"0.8"}),(0,Sv.jsx)("text",{x:"85",y:"19",fill:"#8B1538",fontSize:"8",fontWeight:"bold",textAnchor:"middle",children:"\u2713"})]});case"cabinet":return(0,Sv.jsxs)("svg",{className:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sv.jsxs)("defs",{children:[(0,Sv.jsxs)("linearGradient",{id:"cabinetGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#005ea5"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#2074c7"})]}),(0,Sv.jsxs)("radialGradient",{id:"crownGradient",cx:"50%",cy:"50%",r:"50%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#FFD700"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#FFA500"})]})]}),(0,Sv.jsx)("rect",{width:"100",height:"100",fill:"url(#cabinetGradient)",rx:"8"}),(0,Sv.jsx)("circle",{cx:"50",cy:"42",r:"22",fill:"#ffffff",stroke:"url(#cabinetGradient)",strokeWidth:"3"}),(0,Sv.jsx)("path",{d:"M50 22 L54 35 L67 35 L57 44 L61 57 L50 50 L39 57 L43 44 L33 35 L46 35 Z",fill:"url(#crownGradient)",stroke:"#005ea5",strokeWidth:"1"}),(0,Sv.jsx)("circle",{cx:"50",cy:"42",r:"8",fill:"none",stroke:"url(#cabinetGradient)",strokeWidth:"2"}),(0,Sv.jsx)("text",{x:"50",y:"80",fill:"#ffffff",fontSize:"6",fontWeight:"bold",textAnchor:"middle",children:"CABINET OFFICE"}),(0,Sv.jsx)("text",{x:"50",y:"90",fill:"#ffffff",fontSize:"6",fontWeight:"500",textAnchor:"middle",children:"VIP PROTECTION"}),(0,Sv.jsx)("circle",{cx:"85",cy:"15",r:"8",fill:"#00ff00",opacity:"0.8"}),(0,Sv.jsx)("text",{x:"85",y:"19",fill:"#005ea5",fontSize:"8",fontWeight:"bold",textAnchor:"middle",children:"\u2713"})]});case"tfl":return(0,Sv.jsxs)("svg",{className:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sv.jsx)("defs",{children:(0,Sv.jsxs)("linearGradient",{id:"tflGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#dc241f"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#e8453c"})]})}),(0,Sv.jsx)("rect",{width:"100",height:"100",fill:"#ffffff",rx:"8",stroke:"#dc241f",strokeWidth:"2"}),(0,Sv.jsx)("circle",{cx:"50",cy:"45",r:"35",fill:"#ffffff",stroke:"url(#tflGradient)",strokeWidth:"6"}),(0,Sv.jsx)("rect",{x:"22",y:"42",width:"56",height:"6",fill:"#0019a8",rx:"3"}),(0,Sv.jsx)("path",{d:"M30 30 L70 30 L65 38 L35 38 Z",fill:"url(#tflGradient)"}),(0,Sv.jsx)("path",{d:"M30 52 L70 52 L65 60 L35 60 Z",fill:"url(#tflGradient)"}),(0,Sv.jsx)("text",{x:"50",y:"82",fill:"#dc241f",fontSize:"6",fontWeight:"bold",textAnchor:"middle",children:"TRANSPORT FOR LONDON"}),(0,Sv.jsx)("text",{x:"50",y:"92",fill:"#0019a8",fontSize:"6",fontWeight:"500",textAnchor:"middle",children:"PRIVATE HIRE LICENSED"}),(0,Sv.jsx)("circle",{cx:"85",cy:"15",r:"8",fill:"#00ff00",opacity:"0.8"}),(0,Sv.jsx)("text",{x:"85",y:"19",fill:"#dc241f",fontSize:"8",fontWeight:"bold",textAnchor:"middle",children:"\u2713"})]});case"phv":return(0,Sv.jsxs)("svg",{className:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sv.jsx)("defs",{children:(0,Sv.jsxs)("linearGradient",{id:"phvGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#006633"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#228B22"})]})}),(0,Sv.jsx)("rect",{width:"100",height:"100",fill:"url(#phvGradient)",rx:"8"}),(0,Sv.jsx)("rect",{x:"8",y:"22",width:"84",height:"56",rx:"8",fill:"#ffffff",stroke:"#006633",strokeWidth:"2"}),(0,Sv.jsx)("rect",{x:"12",y:"26",width:"76",height:"48",rx:"6",fill:"url(#phvGradient)"}),(0,Sv.jsx)("path",{d:"M20 45 L30 45 L35 38 L65 38 L70 45 L80 45 L80 58 L75 62 L25 62 L20 58 Z",fill:"#ffffff"}),(0,Sv.jsx)("circle",{cx:"32",cy:"62",r:"6",fill:"#006633",stroke:"#ffffff",strokeWidth:"2"}),(0,Sv.jsx)("circle",{cx:"68",cy:"62",r:"6",fill:"#006633",stroke:"#ffffff",strokeWidth:"2"}),(0,Sv.jsx)("rect",{x:"40",y:"30",width:"20",height:"4",fill:"#ffffff",rx:"2"}),(0,Sv.jsx)("text",{x:"50",y:"82",fill:"#ffffff",fontSize:"6",fontWeight:"bold",textAnchor:"middle",children:"PRIVATE HIRE VEHICLE"}),(0,Sv.jsx)("text",{x:"50",y:"92",fill:"#ffffff",fontSize:"6",fontWeight:"500",textAnchor:"middle",children:"COMMERCIAL LICENSE"}),(0,Sv.jsx)("circle",{cx:"85",cy:"15",r:"8",fill:"#00ff00",opacity:"0.8"}),(0,Sv.jsx)("text",{x:"85",y:"19",fill:"#006633",fontSize:"8",fontWeight:"bold",textAnchor:"middle",children:"\u2713"})]});case"cpo":return(0,Sv.jsxs)("svg",{className:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sv.jsxs)("defs",{children:[(0,Sv.jsxs)("linearGradient",{id:"cpoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#1a1a2e"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#2a2a3e"})]}),(0,Sv.jsxs)("radialGradient",{id:"goldGradient",cx:"50%",cy:"50%",r:"50%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:"#FFD700"}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:"#DAA520"})]})]}),(0,Sv.jsx)("rect",{width:"100",height:"100",fill:"url(#cpoGradient)",rx:"8"}),(0,Sv.jsx)("circle",{cx:"50",cy:"38",r:"18",fill:"none",stroke:"url(#goldGradient)",strokeWidth:"4"}),(0,Sv.jsx)("path",{d:"M50 20 L50 56 M32 38 L68 38",stroke:"url(#goldGradient)",strokeWidth:"4",strokeLinecap:"round"}),(0,Sv.jsx)("path",{d:"M28 58 L50 68 L72 58",fill:"none",stroke:"url(#goldGradient)",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Sv.jsx)("circle",{cx:"50",cy:"38",r:"8",fill:"url(#goldGradient)",opacity:"0.3"}),(0,Sv.jsx)("path",{d:"M45 33 L47 36 L53 30",stroke:"url(#goldGradient)",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Sv.jsx)("text",{x:"50",y:"82",fill:"#FFD700",fontSize:"6",fontWeight:"bold",textAnchor:"middle",children:"CLOSE PROTECTION"}),(0,Sv.jsx)("text",{x:"50",y:"92",fill:"#FFD700",fontSize:"6",fontWeight:"500",textAnchor:"middle",children:"LEVEL 3 CERTIFIED"}),(0,Sv.jsx)("circle",{cx:"85",cy:"15",r:"8",fill:"#00ff00",opacity:"0.8"}),(0,Sv.jsx)("text",{x:"85",y:"19",fill:"#1a1a2e",fontSize:"8",fontWeight:"bold",textAnchor:"middle",children:"\u2713"})]});default:return null}},rx="CredentialsModal_modalOverlay__tIuOv",ax="CredentialsModal_modal__+hnGi",ox="CredentialsModal_modalHeader__4KjeK",cx="CredentialsModal_modalTitleSection__dEM6F",lx="CredentialsModal_modalIcon__lrXIs",dx="CredentialsModal_modalTitleGroup__Dw7YU",ux="CredentialsModal_modalTitle__hHfDY",hx="CredentialsModal_modalSubtitle__Chw+N",px="CredentialsModal_closeButton__omqPm",mx="CredentialsModal_modalContent__wtk8l",fx="CredentialsModal_introSection__p0gD8",_x="CredentialsModal_introText__xMU0u",gx="CredentialsModal_credentialsGrid__4fDsq",vx="CredentialsModal_credentialCard__Aw2VU",yx="CredentialsModal_credentialHeader__lvoBu",xx="CredentialsModal_credentialIcon__kUm+5",bx="CredentialsModal_credentialLogo__EGxCD",Sx="CredentialsModal_credentialTitleGroup__lZqVM",wx="CredentialsModal_credentialTitle__z8rhd",Nx="CredentialsModal_credentialCategory__XZ2mm",jx="CredentialsModal_credentialContent__DzX88",Cx="CredentialsModal_credentialDescription__ovfWZ",kx="CredentialsModal_benefitsSection__C1T7I",Px="CredentialsModal_benefitsTitle__kelXQ",Tx="CredentialsModal_benefitsList__c-zU1",Ex="CredentialsModal_benefitItem__+B-rE",Ax="CredentialsModal_benefitIcon__Aub19",Ix="CredentialsModal_benefitText__NOcWO",Lx="CredentialsModal_significanceBadge__RGgrv",Rx="CredentialsModal_significanceText__0megv",Mx="CredentialsModal_summarySection__RMrfb",Ox="CredentialsModal_summaryCard__JHP95",Dx="CredentialsModal_summaryTitle__fbTKf",Fx="CredentialsModal_summaryText__V3Bwx",Bx="CredentialsModal_modalFooter__5Q9Kl",qx="CredentialsModal_ctaButton__sAEu8",zx=[{id:"sia",title:"Security Industry Authority",subtitle:"SIA Licensed",fullTitle:"Security Industry Authority (SIA) Licensing",description:"Government-mandated licensing for all security personnel with enhanced security screening following government protocols and criminal background verification.",benefits:["Enhanced security screening following government protocols with criminal background verification","Professional security awareness and advanced threat assessment training","Ongoing compliance monitoring with government oversight standards","BS 7858 security screening standards with rigorous background checks"],significance:"SIA certified close protection operatives, not just Protection Officers",category:"Government Licensing"},{id:"homeoffice",title:"Home Office Approved",subtitle:"Security Standards",fullTitle:"Home Office Approved Security Standards",description:"BS 7858 security screening standards with enhanced background verification procedures beyond standard licensing requirements.",benefits:["Advanced vetting procedures beyond standard licensing requirements","Government-level security clearance processes with rigorous background verification","Enhanced standards for VIP and executive protection services","Professional security solutions tailored to your specific needs"],significance:"Professional security solutions tailored to your specific needs",category:"Government Standards"},{id:"cabinet",title:"Cabinet Office Standards",subtitle:"VIP Protection",fullTitle:"Cabinet Office VIP Protection Standards",description:"Government executive protection protocols and security procedures with advanced threat awareness training and discrete professional conduct.",benefits:["Government executive protection protocols and security procedures","Advanced threat awareness training and discrete professional conduct","Specialist training in VIP transport and threat assessment","Service standards suitable for government officials and executives"],significance:"24/7 On-Demand Close Protection services available around the clock",category:"Executive Protection"},{id:"tfl",title:"Transport for London",subtitle:"TfL Licensed",fullTitle:"Transport for London (TfL) Licensed Operations",description:"Fully licensed private hire operations with commercial vehicle compliance and regular safety inspections under Transport for London regulatory oversight.",benefits:["Legal compliance for all London private hire operations with TfL oversight","Regular safety inspections and regulatory compliance monitoring","Professional transport operations meeting all legal requirements","Expert knowledge of London routes with advanced traffic management"],significance:"Professional security transport services available around the clock",category:"Transport Licensing"},{id:"phv",title:"Private Hire Vehicle",subtitle:"PHV Licensed",fullTitle:"Private Hire Vehicle (PHV) Licensed Fleet",description:"Commercial Principal vehicle licensing with comprehensive insurance coverage and professional maintenance standards for all fleet vehicles.",benefits:["Commercial Principal vehicle licensing with comprehensive insurance coverage","Professional maintenance standards for reliability and operational safety","Regular safety inspections ensuring roadworthiness and regulatory compliance","Advanced fleet management with professional service standards"],significance:"Commercial vehicle compliance with professional service standards",category:"Vehicle Licensing"},{id:"cpo",title:"Close Protection Officers",subtitle:"CPO Certified",fullTitle:"Close Protection Officers (CPO) Certified Team",description:"Level 3 Close Protection Officer certification with specialized security training and advanced situational awareness protocols.",benefits:["Level 3 Close Protection Officer certification with specialized security training","Advanced situational awareness and personal protection protocols","Professional close protection expertise with discrete service delivery","Rapid response capabilities and security protocol implementation"],significance:"Advanced personal protection protocols with specialized training",category:"Protection Certification"}];function Wx(t){let{isOpen:n,onClose:i}=t;if(e.useEffect(()=>{const e=e=>{"Escape"===e.key&&i()};return n?(document.addEventListener("keydown",e),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[n,i]),!n)return null;return(0,Sv.jsx)("div",{className:rx,onClick:e=>{e.target===e.currentTarget&&i()},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,Sv.jsxs)("div",{className:ax,children:[(0,Sv.jsxs)("header",{className:ox,children:[(0,Sv.jsxs)("div",{className:cx,children:[(0,Sv.jsx)("span",{className:lx,role:"img","aria-label":"Security Credentials",children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsxs)("div",{className:dx,children:[(0,Sv.jsx)("h2",{id:"modal-title",className:ux,children:"Armora Security Credentials"}),(0,Sv.jsx)("span",{className:hx,children:"Comprehensive Security Standards & Licensing"})]})]}),(0,Sv.jsx)("button",{className:px,onClick:i,"aria-label":"Close modal",type:"button",children:(0,Sv.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Sv.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,Sv.jsxs)("main",{className:mx,children:[(0,Sv.jsx)("div",{className:fx,children:(0,Sv.jsx)("p",{className:_x,children:"Armora operates under comprehensive government licensing and security industry certifications. Our multi-level compliance framework ensures professional security protocols, regulatory adherence, and advanced personal protection capabilities for executive transport services."})}),(0,Sv.jsx)("div",{className:gx,children:zx.map((e,t)=>(0,Sv.jsxs)("div",{className:vx,children:[(0,Sv.jsxs)("div",{className:yx,children:[(0,Sv.jsx)("div",{className:xx,children:(0,Sv.jsx)(sx,{type:e.id,className:bx})}),(0,Sv.jsxs)("div",{className:Sx,children:[(0,Sv.jsx)("h3",{className:wx,children:e.fullTitle}),(0,Sv.jsx)("span",{className:Nx,children:e.category})]})]}),(0,Sv.jsxs)("div",{className:jx,children:[(0,Sv.jsx)("p",{className:Cx,children:e.description}),(0,Sv.jsxs)("div",{className:kx,children:[(0,Sv.jsx)("h4",{className:Px,children:"Key Benefits:"}),(0,Sv.jsx)("ul",{className:Tx,children:e.benefits.slice(0,2).map((e,t)=>(0,Sv.jsxs)("li",{className:Ex,children:[(0,Sv.jsx)("span",{className:Ax,children:"\u2713"}),(0,Sv.jsx)("span",{className:Ix,children:e})]},t))})]}),(0,Sv.jsx)("div",{className:Lx,children:(0,Sv.jsx)("span",{className:Rx,children:e.significance})})]})]},e.id))}),(0,Sv.jsx)("div",{className:Mx,children:(0,Sv.jsxs)("div",{className:Ox,children:[(0,Sv.jsx)("h3",{className:Dx,children:"Comprehensive Security Standards Compliance"}),(0,Sv.jsx)("p",{className:Fx,children:"All Armora security operatives and fleet vehicles maintain full compliance with these six government certification standards, ensuring professional security protocols, regulatory compliance, and advanced personal protection capabilities for executive transport services."})]})})]}),(0,Sv.jsx)("footer",{className:Bx,children:(0,Sv.jsx)(Xy,{variant:"primary",size:"lg",isFullWidth:!0,onClick:i,className:qx,children:"Proceed with Professional Security Transport"})})]})})}const Hx="SafeAssignmentFundCTA_ctaContainer__j0MhK",Ux="SafeAssignmentFundCTA_ctaButton__qS-Cr",Vx="SafeAssignmentFundCTA_ctaText__u-vIv",Gx="SafeAssignmentFundCTA_reduced__IoTE6",Yx=t=>{let{onClick:n}=t;const[i,s]=(0,e.useState)(!1);(0,e.useEffect)(()=>{localStorage.getItem("safeRideFundModalViewed")&&s(!0)},[]);return(0,Sv.jsx)("div",{className:"".concat(Hx," ").concat(i?Gx:""),children:(0,Sv.jsx)("button",{className:Ux,onClick:()=>{n()},"aria-label":"Learn about Safe Assignment Fund impact",children:(0,Sv.jsx)("span",{className:Vx,children:"\ud83d\udee1\ufe0f Learn About Our Impact"})})})},Kx={modalOverlay:"SafeAssignmentFundModal_modalOverlay__BCgbD",visible:"SafeAssignmentFundModal_visible__Alqn7",backdropFadeIn:"SafeAssignmentFundModal_backdropFadeIn__22yOv",backdrop:"SafeAssignmentFundModal_backdrop__GH6oc",modal:"SafeAssignmentFundModal_modal__abZaU",slideUpFromBottom:"SafeAssignmentFundModal_slideUpFromBottom__IRQwO",modalEnter:"SafeAssignmentFundModal_modalEnter__5KVf5",header:"SafeAssignmentFundModal_header__VRx0q",headerAnimate:"SafeAssignmentFundModal_headerAnimate__0aKTZ",icon:"SafeAssignmentFundModal_icon__irdtr",iconBounce:"SafeAssignmentFundModal_iconBounce__F-3-u",iconPulse:"SafeAssignmentFundModal_iconPulse__hO4Sh",title:"SafeAssignmentFundModal_title__8Vx9c",titleSlideIn:"SafeAssignmentFundModal_titleSlideIn__KdlVG",tagline:"SafeAssignmentFundModal_tagline__Wi1Y2",taglineSlideIn:"SafeAssignmentFundModal_taglineSlideIn__XBVNx",closeButton:"SafeAssignmentFundModal_closeButton__J3rnM",fadeInDelayed:"SafeAssignmentFundModal_fadeInDelayed__91ngY",content:"SafeAssignmentFundModal_content__zzGFQ",floatBackground:"SafeAssignmentFundModal_floatBackground__jnmgo",subtitle:"SafeAssignmentFundModal_subtitle__XKmOF",mission:"SafeAssignmentFundModal_mission__wQ7YV",breakdown:"SafeAssignmentFundModal_breakdown__YG-A0",breakdownChart:"SafeAssignmentFundModal_breakdownChart__S1Rer",breakdownItem:"SafeAssignmentFundModal_breakdownItem__Ns3wI",amount:"SafeAssignmentFundModal_amount__S5+gt",description:"SafeAssignmentFundModal_description__ASUx1",total:"SafeAssignmentFundModal_total__cefzy",totalAmount:"SafeAssignmentFundModal_totalAmount__oIDci",totalLabel:"SafeAssignmentFundModal_totalLabel__TaaNa",impact:"SafeAssignmentFundModal_impact__s3I6M",statsGlow:"SafeAssignmentFundModal_statsGlow__XvVV6",statsGrid:"SafeAssignmentFundModal_statsGrid__adocN",statCard:"SafeAssignmentFundModal_statCard__jcqna",cardReveal:"SafeAssignmentFundModal_cardReveal__puk71",cardAnimateIn:"SafeAssignmentFundModal_cardAnimateIn__XYMdt",statCard1:"SafeAssignmentFundModal_statCard1__B--If",statCard2:"SafeAssignmentFundModal_statCard2__C7sge",statCard3:"SafeAssignmentFundModal_statCard3__yXMZA",statCard4:"SafeAssignmentFundModal_statCard4__sELTk",primaryNumber:"SafeAssignmentFundModal_primaryNumber__dEUKj",primaryPulse:"SafeAssignmentFundModal_primaryPulse__sr2IS",particleOrbit:"SafeAssignmentFundModal_particleOrbit__OqrWI",secondaryNumber:"SafeAssignmentFundModal_secondaryNumber__b8TCQ",secondaryGlow:"SafeAssignmentFundModal_secondaryGlow__fgqqO",timeNumber:"SafeAssignmentFundModal_timeNumber__uKOaO",timeFlicker:"SafeAssignmentFundModal_timeFlicker__de7Vk",successNumber:"SafeAssignmentFundModal_successNumber__gqEJk",successPulse:"SafeAssignmentFundModal_successPulse__ATyjk",successCard:"SafeAssignmentFundModal_successCard__zfNJt",successAura:"SafeAssignmentFundModal_successAura__zbFG5",progressBar:"SafeAssignmentFundModal_progressBar__wn+dP",progressFill:"SafeAssignmentFundModal_progressFill__me1Sw",progressShimmer:"SafeAssignmentFundModal_progressShimmer__QrnAO",impactVisible:"SafeAssignmentFundModal_impactVisible__8pgGn",stories:"SafeAssignmentFundModal_stories__wPlNA",storiesVisible:"SafeAssignmentFundModal_storiesVisible__0WBXs",howItWorks:"SafeAssignmentFundModal_howItWorks__goaAF",processVisible:"SafeAssignmentFundModal_processVisible__3cY3d",sectionTitle:"SafeAssignmentFundModal_sectionTitle__bwoT5",titleFadeUp:"SafeAssignmentFundModal_titleFadeUp__bQ2W-",storyContainer:"SafeAssignmentFundModal_storyContainer__+rCMx",storyContainerFadeIn:"SafeAssignmentFundModal_storyContainerFadeIn__H1MD7",storyTransition:"SafeAssignmentFundModal_storyTransition__dWafQ",organizationHeader:"SafeAssignmentFundModal_organizationHeader__Jm6RW",headerSlideIn:"SafeAssignmentFundModal_headerSlideIn__N5dKv",testimonialFooter:"SafeAssignmentFundModal_testimonialFooter__qP79o",footerSlideUp:"SafeAssignmentFundModal_footerSlideUp__6eF9Q",nameGlow:"SafeAssignmentFundModal_nameGlow__cChDW",textShimmer:"SafeAssignmentFundModal_textShimmer__c6s0n",textShimmerEffect:"SafeAssignmentFundModal_textShimmerEffect__81KZz",badgePulse:"SafeAssignmentFundModal_badgePulse__7mZXD",badgePulseEffect:"SafeAssignmentFundModal_badgePulseEffect__GgVfR",impactHighlight:"SafeAssignmentFundModal_impactHighlight__jDF+E",statsGlowEffect:"SafeAssignmentFundModal_statsGlowEffect__xAUIQ",storyIndicators:"SafeAssignmentFundModal_storyIndicators__V6GX1",indicatorsSlideIn:"SafeAssignmentFundModal_indicatorsSlideIn__ONAIn",indicatorHover:"SafeAssignmentFundModal_indicatorHover__hlme0",processSteps:"SafeAssignmentFundModal_processSteps__2J-Ik",stepsAnimate:"SafeAssignmentFundModal_stepsAnimate__CFOBV",step:"SafeAssignmentFundModal_step__Bk1RC",stepSlideIn:"SafeAssignmentFundModal_stepSlideIn__oLn+Z",stepHover:"SafeAssignmentFundModal_stepHover__H9StV",numberPulse:"SafeAssignmentFundModal_numberPulse__AW94w",numberPulseEffect:"SafeAssignmentFundModal_numberPulseEffect__3Kc4i",textFade:"SafeAssignmentFundModal_textFade__sXw7r",actions:"SafeAssignmentFundModal_actions__PW1Hl",actionsSlideUp:"SafeAssignmentFundModal_actionsSlideUp__0LtRe",buttonPulse:"SafeAssignmentFundModal_buttonPulse__mlbLY",buttonPulseEffect:"SafeAssignmentFundModal_buttonPulseEffect__u6btH",gradientShift:"SafeAssignmentFundModal_gradientShift__1MfTg",gradientShiftEffect:"SafeAssignmentFundModal_gradientShiftEffect__9OxF+",buttonRipple:"SafeAssignmentFundModal_buttonRipple__dX6F4",primaryButton:"SafeAssignmentFundModal_primaryButton__kGYNB",buttonHover:"SafeAssignmentFundModal_buttonHover__JLtA3",buttonGlow:"SafeAssignmentFundModal_buttonGlow__t5ErY",buttonShimmer:"SafeAssignmentFundModal_buttonShimmer__iN9E1",secondaryButton:"SafeAssignmentFundModal_secondaryButton__uKx1v",buttonText:"SafeAssignmentFundModal_buttonText__NE4vG",slideInHidden:"SafeAssignmentFundModal_slideInHidden__3oQLd",slideInVisible:"SafeAssignmentFundModal_slideInVisible__f9-Lb",slideInFromRight:"SafeAssignmentFundModal_slideInFromRight__lMPDF",statNumber:"SafeAssignmentFundModal_statNumber__1nCxE",indicator:"SafeAssignmentFundModal_indicator__aqpoE",stepNumber:"SafeAssignmentFundModal_stepNumber__7mEca",stepText:"SafeAssignmentFundModal_stepText__K6l-B",contribution:"SafeAssignmentFundModal_contribution__MgkUi",contributionCard:"SafeAssignmentFundModal_contributionCard__xw0qf",contributionDetails:"SafeAssignmentFundModal_contributionDetails__6m+-L",contributionAmount:"SafeAssignmentFundModal_contributionAmount__dAnoc",contributionResult:"SafeAssignmentFundModal_contributionResult__n1P6w",result:"SafeAssignmentFundModal_result__m2l5t",amountDesc:"SafeAssignmentFundModal_amountDesc__d2CyO",resultDesc:"SafeAssignmentFundModal_resultDesc__WTIl-",stat:"SafeAssignmentFundModal_stat__iuwmz",statsExtra:"SafeAssignmentFundModal_statsExtra__b633l",numberGlow:"SafeAssignmentFundModal_numberGlow__QO0Bp",particlePulse:"SafeAssignmentFundModal_particlePulse__9Wd4y",statLabel:"SafeAssignmentFundModal_statLabel__841im",story:"SafeAssignmentFundModal_story__7+dFt",fadeInStory:"SafeAssignmentFundModal_fadeInStory__sZVZy",organizationInfo:"SafeAssignmentFundModal_organizationInfo__WXHCj",organizationName:"SafeAssignmentFundModal_organizationName__ke2Ej",verifiedBadge:"SafeAssignmentFundModal_verifiedBadge__acMNe",storyText:"SafeAssignmentFundModal_storyText__wQR7f",storyImpact:"SafeAssignmentFundModal_storyImpact__R1wxx",impactStats:"SafeAssignmentFundModal_impactStats__oRJmf",active:"SafeAssignmentFundModal_active__q5eJU",cta:"SafeAssignmentFundModal_cta__QnBvx",ctaButtons:"SafeAssignmentFundModal_ctaButtons__Lhbpr",primaryCta:"SafeAssignmentFundModal_primaryCta__oBdFQ",secondaryCta:"SafeAssignmentFundModal_secondaryCta__AxuQi",stats:"SafeAssignmentFundModal_stats__Sr5cf"},Qx=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"easeOut";const[r,a]=(0,e.useState)(0),[o,c]=(0,e.useState)(!1),l=(0,e.useRef)(void 0),d=(0,e.useRef)(void 0),u={linear:e=>e,easeOut:e=>1-Math.pow(1-e,3),easeInOut:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,3)/2},h=e=>{d.current||(d.current=e);const r=e-d.current-i;if(r<0)return void(l.current=requestAnimationFrame(h));const o=Math.min(r/n,1),p=u[s](o),m=Math.floor(p*t);a(m),o<1?l.current=requestAnimationFrame(h):(a(t),c(!1))};return(0,e.useEffect)(()=>()=>{l.current&&cancelAnimationFrame(l.current)},[]),{currentValue:r,startAnimation:()=>{o||(c(!0),a(0),d.current=void 0,l.current=requestAnimationFrame(h))},stopAnimation:()=>{l.current&&cancelAnimationFrame(l.current),c(!1),a(t)},isAnimating:o}},Zx=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,i]=(0,e.useState)(!1),[s,r]=(0,e.useState)(!1),a=(0,e.useRef)(null);return(0,e.useEffect)(()=>{const e=a.current;if(!e)return;const n=new IntersectionObserver(e=>{let[t]=e;const n=t.isIntersecting;i(n),n&&!s&&r(!0)},o({threshold:.3,rootMargin:"-50px"},t));return n.observe(e),()=>n.disconnect()},[s,t]),{targetRef:a,isIntersecting:n,hasIntersected:s}},Jx=function(e){return e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)},Xx=(e,t)=>{switch(t){case"time":return 12===e?"12min":"".concat(e,"min");case"percentage":return"".concat(e,"%");default:return e.toLocaleString()}},$x=[{id:1,organization:"Women's Aid Federation",testimonial:"The Safe Assignment Fund has become an essential lifeline, providing immediate transport solutions when traditional funding isn't available. Their 24/7 availability has directly supported over 200 individuals this year.",impact:"Domestic Violence Support",verified:!0,stats:"200+ individuals supported",story:"The Safe Assignment Fund has become an essential lifeline, providing immediate transport solutions when traditional funding isn't available. Their 24/7 availability has directly supported over 200 individuals this year."},{id:2,organization:"Crisis UK",testimonial:"Armora's Safe Assignment Fund eliminates transport barriers that often prevent our service users from accessing vital support. Their rapid response has been instrumental in crisis intervention.",impact:"Homelessness Prevention",verified:!0,stats:"Average 12min response time",story:"Armora's Safe Assignment Fund eliminates transport barriers that often prevent our service users from accessing vital support. Their rapid response has been instrumental in crisis intervention."},{id:3,organization:"Mind Mental Health",testimonial:"Transport accessibility is crucial for mental health support. The Safe Assignment Fund has enabled 150+ individuals to attend critical appointments and reach support services.",impact:"Mental Health Access",verified:!0,stats:"98% appointment attendance rate",story:"Transport accessibility is crucial for mental health support. The Safe Assignment Fund has enabled 150+ individuals to attend critical appointments and reach support services."}],eb=t=>{let{onClose:n}=t;const[i,s]=(0,e.useState)(0),[r,a]=(0,e.useState)(!1),[o,c]=(0,e.useState)(!1),l=Qx(3741,2e3,300,"easeOut"),d=Qx(834,2e3,500,"easeOut"),u=Qx(12,1500,800,"easeOut"),h=Qx(98,1800,1e3,"easeOut"),{targetRef:p,hasIntersected:m}=Zx(),{targetRef:f,hasIntersected:_}=Zx(),{targetRef:g,hasIntersected:v}=Zx(),y=(0,e.useCallback)(()=>{localStorage.setItem("safeRideFundModalViewed","true"),localStorage.setItem("safeRideFundModalViewedDate",(new Date).toISOString()),n()},[n]),x=(0,e.useCallback)(e=>{e.target===e.currentTarget&&y()},[y]),b=(0,e.useCallback)(e=>{"Escape"===e.key&&y()},[y]);return(0,e.useEffect)(()=>(document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}),[b]),(0,e.useEffect)(()=>{const e=setTimeout(()=>{a(!0)},100);return()=>clearTimeout(e)},[]),(0,e.useEffect)(()=>{r&&!o&&(c(!0),l.startAnimation(),d.startAnimation(),u.startAnimation(),h.startAnimation())},[r,o,l,d,u,h]),(0,e.useEffect)(()=>{const e=setInterval(()=>{s(e=>(e+1)%$x.length)},8e3);return()=>clearInterval(e)},[]),(0,e.useEffect)(()=>{m&&o&&(l.isAnimating||(l.startAnimation(),d.startAnimation(),u.startAnimation(),h.startAnimation()))},[m,o,l,d,u,h]),(0,Sv.jsx)("div",{className:"".concat(Kx.modalOverlay," ").concat(r?Kx.visible:""),onClick:x,children:(0,Sv.jsxs)("div",{className:"".concat(Kx.modal," ").concat(r?Kx.modalEnter:""),onClick:e=>e.stopPropagation(),children:[(0,Sv.jsx)("button",{className:"".concat(Kx.closeButton," ").concat(r?Kx.fadeInDelayed:""),onClick:y,"aria-label":"Close modal",children:"\u2715"}),(0,Sv.jsxs)("div",{className:Kx.content,children:[(0,Sv.jsxs)("header",{className:"".concat(Kx.header," ").concat(r?Kx.headerAnimate:""),children:[(0,Sv.jsx)("div",{className:"".concat(Kx.icon," ").concat(r?Kx.iconBounce:""),children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsxs)("div",{className:Kx.headerText,children:[(0,Sv.jsx)("h2",{className:"".concat(Kx.title," ").concat(r?Kx.titleSlideIn:""),children:"Safe Assignment Fund"}),(0,Sv.jsx)("p",{className:"".concat(Kx.tagline," ").concat(r?Kx.taglineSlideIn:""),children:"Transport for those who need it most"})]})]}),(0,Sv.jsx)("section",{ref:p,className:"".concat(Kx.impact," ").concat(m?Kx.impactVisible:""),children:(0,Sv.jsxs)("div",{className:Kx.statsGrid,children:[(0,Sv.jsxs)("div",{className:"".concat(Kx.statCard," ").concat(Kx.statCard1," ").concat(o?Kx.cardAnimateIn:""),style:{animationDelay:"".concat(Jx(0,.15),"s")},children:[(0,Sv.jsx)("span",{className:"".concat(Kx.statNumber," ").concat(Kx.primaryNumber),children:Xx(l.currentValue,"default")}),(0,Sv.jsx)("span",{className:Kx.statLabel,children:"Safe Assignments Delivered"})]}),(0,Sv.jsxs)("div",{className:"".concat(Kx.statCard," ").concat(Kx.statCard2," ").concat(o?Kx.cardAnimateIn:""),style:{animationDelay:"".concat(Jx(1,.15),"s")},children:[(0,Sv.jsx)("span",{className:"".concat(Kx.statNumber," ").concat(Kx.secondaryNumber),children:Xx(d.currentValue,"default")}),(0,Sv.jsx)("span",{className:Kx.statLabel,children:"People Reached This Month"})]}),(0,Sv.jsxs)("div",{className:"".concat(Kx.statCard," ").concat(Kx.statCard3," ").concat(o?Kx.cardAnimateIn:""),style:{animationDelay:"".concat(Jx(2,.15),"s")},children:[(0,Sv.jsx)("span",{className:"".concat(Kx.statNumber," ").concat(Kx.timeNumber),children:Xx(u.currentValue,"time")}),(0,Sv.jsx)("span",{className:Kx.statLabel,children:"Average Response"})]}),(0,Sv.jsxs)("div",{className:"".concat(Kx.statCard," ").concat(Kx.statCard4," ").concat(Kx.successCard," ").concat(o?Kx.cardAnimateIn:""),style:{animationDelay:"".concat(Jx(3,.15),"s")},children:[(0,Sv.jsx)("span",{className:"".concat(Kx.statNumber," ").concat(Kx.successNumber),children:Xx(h.currentValue,"percentage")}),(0,Sv.jsx)("span",{className:Kx.statLabel,children:"Success Rate"}),(0,Sv.jsx)("div",{className:Kx.progressBar,children:(0,Sv.jsx)("div",{className:Kx.progressFill,style:{width:"".concat(h.currentValue,"%"),transitionDelay:"1.2s"}})})]})]})}),(0,Sv.jsxs)("section",{className:Kx.mission,children:[(0,Sv.jsx)("h3",{children:"Our Mission"}),(0,Sv.jsx)("p",{children:"Every Armora membership contributes \xa34 to our Safe Assignment Fund, providing priority transport for vulnerable individuals when they need it most. Working with Crisis UK, Women's Aid, Mind Mental Health, and other vital organizations, we ensure transport is never a barrier to safety and support."})]}),(0,Sv.jsxs)("section",{ref:f,className:"".concat(Kx.stories," ").concat(_?Kx.storiesVisible:""),children:[(0,Sv.jsx)("h3",{className:"".concat(Kx.sectionTitle," ").concat(_?Kx.titleFadeUp:""),children:"Partner Organizations"}),(0,Sv.jsxs)("div",{className:"".concat(Kx.storyContainer," ").concat(_?Kx.storyContainerFadeIn:""),children:[(0,Sv.jsxs)("div",{className:"".concat(Kx.story," ").concat(Kx.storyTransition),children:[(0,Sv.jsx)("div",{className:"".concat(Kx.organizationHeader," ").concat(_?Kx.headerSlideIn:""),children:(0,Sv.jsxs)("div",{className:Kx.organizationInfo,children:[(0,Sv.jsx)("h4",{className:"".concat(Kx.organizationName," ").concat(Kx.nameGlow),children:$x[i].organization}),$x[i].verified&&(0,Sv.jsx)("span",{className:"".concat(Kx.verifiedBadge," ").concat(Kx.badgePulse),children:"\u2713 Verified Partner"})]})}),(0,Sv.jsxs)("p",{className:"".concat(Kx.storyText," ").concat(Kx.textShimmer),children:['"',$x[i].testimonial,'"']}),(0,Sv.jsxs)("div",{className:"".concat(Kx.testimonialFooter," ").concat(_?Kx.footerSlideUp:""),children:[(0,Sv.jsx)("span",{className:"".concat(Kx.storyImpact," ").concat(Kx.impactHighlight),children:$x[i].impact}),(0,Sv.jsx)("span",{className:"".concat(Kx.impactStats," ").concat(Kx.statsGlow),children:$x[i].stats})]})]}),(0,Sv.jsx)("div",{className:"".concat(Kx.storyIndicators," ").concat(_?Kx.indicatorsSlideIn:""),children:$x.map((e,t)=>(0,Sv.jsx)("button",{className:"".concat(Kx.indicator," ").concat(Kx.indicatorHover," ").concat(t===i?Kx.active:""),onClick:()=>s(t),"aria-label":"Story ".concat(t+1),style:{animationDelay:"".concat(Jx(t,.1),"s")}},t))})]})]}),(0,Sv.jsxs)("section",{ref:g,className:"".concat(Kx.howItWorks," ").concat(v?Kx.processVisible:""),children:[(0,Sv.jsx)("h3",{className:"".concat(Kx.sectionTitle," ").concat(v?Kx.titleFadeUp:""),children:"How It Works"}),(0,Sv.jsx)("div",{className:"".concat(Kx.processSteps," ").concat(v?Kx.stepsAnimate:""),children:["Partner organizations identify urgent transport needs","Safe Assignment Fund coordinates immediate response","Security-trained Protection Officers provide safe transport","Individual reaches safety and support"].map((e,t)=>(0,Sv.jsxs)("div",{className:"".concat(Kx.step," ").concat(Kx.stepHover," ").concat(v?Kx.stepSlideIn:""),style:{animationDelay:"".concat(Jx(t,.2),"s")},children:[(0,Sv.jsx)("span",{className:"".concat(Kx.stepNumber," ").concat(Kx.numberPulse),children:t+1}),(0,Sv.jsx)("span",{className:"".concat(Kx.stepText," ").concat(Kx.textFade),children:e})]},t))})]}),(0,Sv.jsx)("section",{className:Kx.contribution,children:(0,Sv.jsxs)("div",{className:Kx.contributionCard,children:[(0,Sv.jsx)("h3",{children:"Your Membership Impact"}),(0,Sv.jsxs)("div",{className:Kx.contributionDetails,children:[(0,Sv.jsxs)("div",{className:Kx.contributionAmount,children:[(0,Sv.jsx)("span",{className:Kx.amount,children:"\xa34"}),(0,Sv.jsx)("span",{className:Kx.amountDesc,children:"from every membership"})]}),(0,Sv.jsxs)("div",{className:Kx.contributionResult,children:[(0,Sv.jsx)("span",{className:Kx.result,children:"= 1 Priority Journey"}),(0,Sv.jsx)("span",{className:Kx.resultDesc,children:"Funded for someone in crisis"})]})]})]})}),(0,Sv.jsxs)("div",{className:"".concat(Kx.actions," ").concat(r?Kx.actionsSlideUp:""),children:[(0,Sv.jsxs)("button",{className:"".concat(Kx.primaryButton," ").concat(Kx.buttonPulse," ").concat(Kx.gradientShift),onClick:y,children:[(0,Sv.jsx)("span",{className:Kx.buttonText,children:"Support This Initiative"}),(0,Sv.jsx)("div",{className:Kx.buttonRipple})]}),(0,Sv.jsxs)("button",{className:"".concat(Kx.secondaryButton," ").concat(Kx.buttonHover," ").concat(Kx.buttonGlow),onClick:y,children:[(0,Sv.jsx)("span",{className:Kx.buttonText,children:"Learn More"}),(0,Sv.jsx)("div",{className:Kx.buttonShimmer})]})]})]})]})})},tb={installButton:"InstallAppButton_installButton__KgdS1",primary:"InstallAppButton_primary__WGLsg",secondary:"InstallAppButton_secondary__F-W-W",compact:"InstallAppButton_compact__pLumU",icon:"InstallAppButton_icon__NJZYi",text:"InstallAppButton_text__RANpX"},nb=t=>{let{className:n="",variant:i="primary"}=t;const{state:s,showInstallPrompt:r,canInstall:a}=kv(),[o,c]=(0,e.useState)(!1);if(s.deviceCapabilities.isInstalled||!a())return null;const l=o?"Installing...":"Install App",d="".concat(tb.installButton," ").concat(tb[i]," ").concat(n);return(0,Sv.jsxs)("button",{onClick:async()=>{if(a()){c(!0);try{await r()?console.log("[PWA] App was successfully installed"):console.log("[PWA] User cancelled installation")}catch(O){console.error("[PWA] Error during installation:",O)}finally{c(!1)}}else console.log("[PWA] Cannot install - conditions not met")},disabled:o,className:d,"aria-label":"Install Armora Security app",children:[(0,Sv.jsx)("span",{className:tb.icon,children:"\ud83d\udcf1"}),"compact"!==i&&(0,Sv.jsx)("span",{className:tb.text,children:l})]})},ib="WelcomePage_welcomePage__HTxD4",sb="WelcomePage_welcomeContainer__DOM40",rb="WelcomePage_welcomeHeader__Jy6RC",ab="WelcomePage_headerSection__EM+Zi",ob="WelcomePage_logoTop__wgn+6",cb="WelcomePage_logoContainer__yTaMj",lb="WelcomePage_fullWidthText__ynEd3",db="WelcomePage_heroHeadline__4uL1K",ub="WelcomePage_dividerLine__zlJAd",hb="WelcomePage_heroSubheading__mjEUj",pb="WelcomePage_heroBody__lKL67",mb="WelcomePage_trustIcon__m5wkc",fb="WelcomePage_trustText__XPtT1",_b="WelcomePage_welcomeActions__gLjeY",gb="WelcomePage_authButtons__oj5vO",vb="WelcomePage_googleButton__2IXiG",yb="WelcomePage_emailButton__i8XiQ",xb="WelcomePage_phoneButton__E2cfF",bb="WelcomePage_guestButton__mes1r",Sb="WelcomePage_actionsVisible__AV5gc",wb="WelcomePage_buttonRow__p0DZ+",Nb="WelcomePage_installButtonSection__UOQO4",jb="WelcomePage_installAppButton__IH4op",Cb="WelcomePage_bottomButtonRow__bVi3H",kb="WelcomePage_authButtonBase__aiSC+",Pb="WelcomePage_buttonContent__Kdz-m",Tb="WelcomePage_buttonText__y83YD",Eb="WelcomePage_desktopText__DWjHu",Ab="WelcomePage_mobileText__dXjfS",Ib="WelcomePage_authIcon__yIcJA",Lb="WelcomePage_divider__RqMPO",Rb="WelcomePage_dividerText__k3cia",Mb="WelcomePage_guestButtonContent__3HFM7",Ob="WelcomePage_guestNote__o4ILL",Db="WelcomePage_welcomeFooter__Pns4b",Fb="WelcomePage_governmentLicensedButton__MWybn",Bb="WelcomePage_footerVisible__6LARH",qb="WelcomePage_trustIndicatorsSection__cNa1x",zb="WelcomePage_trustVisible__otdT7",Wb="WelcomePage_trustBadges__wtoaX",Hb="WelcomePage_trustBadge__9lExu";function Ub(){const{navigateToView:t,setUser:n,updateQuestionnaireData:i}=kv(),[s,r]=(0,e.useState)(!1),[a,o]=(0,e.useState)(!1),[c,l]=(0,e.useState)(!1);(0,e.useEffect)(()=>{},[c]);const d=!1;(0,e.useEffect)(()=>{const e=setTimeout(()=>r(!0),1600);return()=>{clearTimeout(e)}},[]);const u=e=>{t(e)};return(0,Sv.jsxs)(nx,{className:ib,children:[(0,Sv.jsxs)("div",{className:sb,children:[(0,Sv.jsx)("header",{className:rb,children:(0,Sv.jsxs)("div",{className:ab,children:[(0,Sv.jsx)("div",{className:ob,children:(0,Sv.jsx)("div",{className:cb,children:(0,Sv.jsx)(Ov,{size:"small",variant:"full",showOrbits:!0,interactive:!0})})}),(0,Sv.jsxs)("div",{className:lb,children:[(0,Sv.jsx)("h1",{className:db,children:"Protection That Matches Your Standards"}),(0,Sv.jsx)("div",{className:ub}),(0,Sv.jsx)("p",{className:hb,children:"Discrete. Professional. Always Available."}),(0,Sv.jsx)("p",{className:pb,children:"Experience executive-level security tailored to your lifestyle. Our SIA-licensed protection officers provide discrete, professional service that adapts to your needs."})]})]})}),(0,Sv.jsx)("section",{className:"".concat(qb," ").concat(s?zb:""),children:(0,Sv.jsxs)("div",{className:Wb,children:[(0,Sv.jsxs)("div",{className:Hb,children:[(0,Sv.jsx)("div",{className:mb,children:"\u2713"}),(0,Sv.jsx)("div",{className:fb,children:"Ex-Military & Police Officers"})]}),(0,Sv.jsxs)("div",{className:Hb,children:[(0,Sv.jsx)("div",{className:mb,children:"\u2713"}),(0,Sv.jsx)("div",{className:fb,children:"Average Response: 12 Minutes"})]}),(0,Sv.jsxs)("div",{className:Hb,children:[(0,Sv.jsx)("div",{className:mb,children:"\u2713"}),(0,Sv.jsx)("div",{className:fb,children:"5-Star Principal Rating"})]})]})}),(0,Sv.jsxs)("section",{className:"".concat(_b," ").concat(s?Sb:""),children:[(0,Sv.jsxs)("div",{className:gb,children:[(0,Sv.jsx)(Xy,{variant:"primary",size:"lg",isFullWidth:!0,onClick:()=>u("signup"),className:"".concat(vb," ").concat(kb),children:(0,Sv.jsxs)("span",{className:Pb,children:[(0,Sv.jsx)(ix,{className:Ib,size:20}),(0,Sv.jsxs)("span",{className:Tb,children:[(0,Sv.jsx)("span",{className:Eb,children:"Join 1,247 Members - Continue with Google"}),(0,Sv.jsx)("span",{className:Ab,children:"Join 1,247 Members"})]})]})}),(0,Sv.jsxs)("div",{className:wb,children:[(0,Sv.jsx)(Xy,{variant:"outline",size:"lg",onClick:()=>u("login"),className:"".concat(yb," ").concat(kb),children:(0,Sv.jsxs)("span",{className:Pb,children:[(0,Sv.jsxs)("svg",{className:Ib,viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,Sv.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),(0,Sv.jsxs)("span",{className:Tb,children:[(0,Sv.jsx)("span",{className:Eb,children:"Continue with Email"}),(0,Sv.jsx)("span",{className:Ab,children:"Email"})]})]})}),(0,Sv.jsx)(Xy,{variant:"outline",size:"lg",onClick:()=>u("signup"),className:"".concat(xb," ").concat(kb),children:(0,Sv.jsxs)("span",{className:Pb,children:[(0,Sv.jsx)("svg",{className:Ib,viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",children:(0,Sv.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),(0,Sv.jsxs)("span",{className:Tb,children:[(0,Sv.jsx)("span",{className:Eb,children:"Continue with Phone"}),(0,Sv.jsx)("span",{className:Ab,children:"Phone"})]})]})})]})]}),(0,Sv.jsx)("div",{className:Lb,children:(0,Sv.jsx)("span",{className:Rb,children:"or"})}),(0,Sv.jsx)("div",{className:Nb,children:(0,Sv.jsx)(nb,{variant:"secondary",className:jb})}),(0,Sv.jsxs)("div",{className:Cb,children:[(0,Sv.jsx)(Xy,{variant:"ghost",size:"md",onClick:()=>u("guest-disclaimer"),className:bb,children:(0,Sv.jsxs)("span",{className:Mb,children:[(0,Sv.jsxs)("span",{className:Tb,children:[(0,Sv.jsx)("span",{className:Eb,children:"Continue as Guest"}),(0,Sv.jsx)("span",{className:Ab,children:"Guest"})]}),(0,Sv.jsx)("span",{className:Ob,children:"(Limited features)"})]})}),d]}),d]}),(0,Sv.jsx)("footer",{className:"".concat(Db," ").concat(s?Bb:""),children:(0,Sv.jsx)("button",{className:Fb,onClick:()=>o(!0),"aria-label":"View all Government Licensed & Certified Operations credentials",children:"Trusted by 1,247 London executives"})})]}),(0,Sv.jsx)(Yx,{onClick:()=>{l(!0)}}),(0,Sv.jsx)(Wx,{isOpen:a,onClose:()=>o(!1)}),c&&(0,Sv.jsx)(eb,{onClose:()=>l(!1)})]})}const Vb={loginPage:"LoginForm_loginPage__rwyiy",loginContainer:"LoginForm_loginContainer__TOEyk",visible:"LoginForm_visible__8ioJB",header:"LoginForm_header__9R5vG",logo:"LoginForm_logo__ncWBg",title:"LoginForm_title__NpgUC",subtitle:"LoginForm_subtitle__Nty6M",form:"LoginForm_form__EpSU9",errorMessage:"LoginForm_errorMessage__Y3NAD",errorIcon:"LoginForm_errorIcon__+8wxA",fieldGroup:"LoginForm_fieldGroup__OWBQR",label:"LoginForm_label__Zz3jt",inputWrapper:"LoginForm_inputWrapper__6E9Rb",input:"LoginForm_input__LtQtF",inputError:"LoginForm_inputError__9hslz",inputIcon:"LoginForm_inputIcon__B6ZFR",passwordToggle:"LoginForm_passwordToggle__kc5ch",fieldError:"LoginForm_fieldError__Henth",checkboxGroup:"LoginForm_checkboxGroup__jPs5b",checkboxLabel:"LoginForm_checkboxLabel__EtOaM",checkbox:"LoginForm_checkbox__CDghR",checkboxText:"LoginForm_checkboxText__Ow5tL",submitButton:"LoginForm_submitButton__O6pA9",spinner:"LoginForm_spinner__4NpU4",spin:"LoginForm_spin__e1U74",footer:"LoginForm_footer__ch0gN",linkButton:"LoginForm_linkButton__I3Q57",divider:"LoginForm_divider__aUJFr",dividerText:"LoginForm_dividerText__sq8F5",signupButton:"LoginForm_signupButton__aatg5",backButton:"LoginForm_backButton__UGooq"};function Gb(){const{navigateToView:t,setUser:n,setLoading:i}=kv(),[s,r]=(0,e.useState)({email:"",password:"",rememberMe:!1}),[a,c]=(0,e.useState)({}),[l,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=setTimeout(()=>m(!0),200);return()=>clearTimeout(e)},[]);const f=e=>t=>{const n="rememberMe"===e?t.target.checked:t.target.value;r(t=>o(o({},t),{},{[e]:n})),a[e]&&c(t=>o(o({},t),{},{[e]:void 0}))};return(0,Sv.jsx)("div",{className:Vb.loginPage,children:(0,Sv.jsxs)("div",{className:"".concat(Vb.loginContainer," ").concat(p?Vb.visible:""),children:[(0,Sv.jsxs)("header",{className:Vb.header,children:[(0,Sv.jsx)("h1",{className:Vb.title,children:"Welcome Back"}),(0,Sv.jsx)("p",{className:Vb.subtitle,children:"Sign in to your Armora account"})]}),(0,Sv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};var t;return s.email.trim()?(t=s.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(e.email="Please enter a valid email address")):e.email="Email address is required",s.password.trim()?s.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",c(e),0===Object.keys(e).length})()){d(!0),i(!0);try{await new Promise(e=>setTimeout(e,1500));const e={id:"1",email:s.email,name:s.email.split("@")[0],isAuthenticated:!0,userType:"registered",hasCompletedQuestionnaire:!1,hasUnlockedReward:!1,createdAt:new Date};n(e),t("questionnaire")}catch(O){c({general:"Login failed. Please check your credentials and try again."})}finally{d(!1),i(!1)}}},className:Vb.form,children:[a.general&&(0,Sv.jsxs)("div",{className:Vb.errorMessage,children:[(0,Sv.jsxs)("svg",{className:Vb.errorIcon,viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor",strokeWidth:"2"})]}),a.general]}),(0,Sv.jsxs)("div",{className:Vb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"email",className:Vb.label,children:"Email Address"}),(0,Sv.jsxs)("div",{className:Vb.inputWrapper,children:[(0,Sv.jsx)("input",{id:"email",type:"email",value:s.email,onChange:f("email"),className:"".concat(Vb.input," ").concat(a.email?Vb.inputError:""),placeholder:"your.email@example.com",disabled:l,autoComplete:"email",autoFocus:!0}),(0,Sv.jsxs)("svg",{className:Vb.inputIcon,viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,Sv.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("polyline",{points:"22,6 12,13 2,6",stroke:"currentColor",strokeWidth:"2"})]})]}),a.email&&(0,Sv.jsx)("span",{className:Vb.fieldError,children:a.email})]}),(0,Sv.jsxs)("div",{className:Vb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"password",className:Vb.label,children:"Password"}),(0,Sv.jsxs)("div",{className:Vb.inputWrapper,children:[(0,Sv.jsx)("input",{id:"password",type:u?"text":"password",value:s.password,onChange:f("password"),className:"".concat(Vb.input," ").concat(a.password?Vb.inputError:""),placeholder:"Enter your password",disabled:l,autoComplete:"current-password"}),(0,Sv.jsx)("button",{type:"button",className:Vb.passwordToggle,onClick:()=>h(!u),disabled:l,"aria-label":u?"Hide password":"Show password",children:(0,Sv.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:u?(0,Sv.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22",stroke:"currentColor",strokeWidth:"2",fill:"none"}):(0,Sv.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]}),a.password&&(0,Sv.jsx)("span",{className:Vb.fieldError,children:a.password})]}),(0,Sv.jsx)("div",{className:Vb.checkboxGroup,children:(0,Sv.jsxs)("label",{className:Vb.checkboxLabel,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:s.rememberMe,onChange:f("rememberMe"),className:Vb.checkbox,disabled:l}),(0,Sv.jsx)("span",{className:Vb.checkboxText,children:"Remember me for 30 days"})]})}),(0,Sv.jsx)(Xy,{type:"submit",variant:"primary",size:"lg",isFullWidth:!0,disabled:l,className:Vb.submitButton,children:l?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("svg",{className:Vb.spinner,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:(0,Sv.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"1s",values:"31.416;0",repeatCount:"indefinite"})})}),"Signing In..."]}):"Sign In"})]}),(0,Sv.jsxs)("footer",{className:Vb.footer,children:[(0,Sv.jsx)("button",{type:"button",className:Vb.linkButton,onClick:()=>t("signup"),disabled:l,children:"Forgot your password?"}),(0,Sv.jsx)("div",{className:Vb.divider,children:(0,Sv.jsx)("span",{className:Vb.dividerText,children:"or"})}),(0,Sv.jsx)(Xy,{variant:"outline",size:"md",isFullWidth:!0,onClick:()=>t("signup"),disabled:l,className:Vb.signupButton,children:"Create New Account"}),(0,Sv.jsx)("button",{type:"button",className:Vb.backButton,onClick:()=>t("welcome"),disabled:l,children:"\u2190 Back to Welcome"}),(0,Sv.jsxs)("div",{className:Vb.legalLinks,children:[(0,Sv.jsx)("button",{type:"button",className:Vb.linkButton,onClick:()=>t("privacy"),disabled:l,children:"Privacy Policy"}),(0,Sv.jsx)("span",{children:" \u2022 "}),(0,Sv.jsx)("button",{type:"button",className:Vb.linkButton,onClick:()=>t("terms"),disabled:l,children:"Terms of Service"})]})]})]})})}const Yb={signupPage:"SignupForm_signupPage__Nn-Mm",signupContainer:"SignupForm_signupContainer__vNfKw",visible:"SignupForm_visible__WcCWE",header:"SignupForm_header__Qkpsv",logo:"SignupForm_logo__HYefT",title:"SignupForm_title__WWwV2",subtitle:"SignupForm_subtitle__TNaqv",form:"SignupForm_form__gRnbs",errorMessage:"SignupForm_errorMessage__LCuSG",errorIcon:"SignupForm_errorIcon__qahEa",fieldGroup:"SignupForm_fieldGroup__TGjPY",label:"SignupForm_label__NIOy8",inputWrapper:"SignupForm_inputWrapper__UV8OU",input:"SignupForm_input__slO4b",inputError:"SignupForm_inputError__pb0ip",passwordToggle:"SignupForm_passwordToggle__TI+vq",fieldError:"SignupForm_fieldError__WaVFU",passwordStrength:"SignupForm_passwordStrength__kfljZ",strengthBar:"SignupForm_strengthBar__TBKpG",strengthProgress:"SignupForm_strengthProgress__u8V1M",strengthInfo:"SignupForm_strengthInfo__-2jQJ",strengthLabel:"SignupForm_strengthLabel__1o2iG",suggestions:"SignupForm_suggestions__YqoAs",checkboxGroup:"SignupForm_checkboxGroup__xFI7e",checkboxLabel:"SignupForm_checkboxLabel__zYE1s",checkbox:"SignupForm_checkbox__J6Y6c",checkboxText:"SignupForm_checkboxText__qaKrL",link:"SignupForm_link__fQvVd",submitButton:"SignupForm_submitButton__migkG",spinner:"SignupForm_spinner__wQqDT",spin:"SignupForm_spin__X56rL",footer:"SignupForm_footer__7kfe1",divider:"SignupForm_divider__Xcjuc",dividerText:"SignupForm_dividerText__QAuZW",loginButton:"SignupForm_loginButton__sETBy",backButton:"SignupForm_backButton__V4Ifh",devButtonContainer:"SignupForm_devButtonContainer__DpwKx",devSkipButton:"SignupForm_devSkipButton__chjVD",devButtonGrid:"SignupForm_devButtonGrid__P1REQ"};function Kb(){const{navigateToView:t,setUser:n,setLoading:i,updateQuestionnaireData:s}=kv(),[r,a]=(0,e.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",acceptTerms:!1,acceptMarketing:!1}),[c,l]=(0,e.useState)({}),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(!1),[_,g]=(0,e.useState)(null),[v,y]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=setTimeout(()=>y(!0),200);return()=>clearTimeout(e)},[]);(0,e.useEffect)(()=>{r.password?g((e=>{let t=0;const n=[];return e.length>=8?t++:n.push("Use at least 8 characters"),/[A-Z]/.test(e)?t++:n.push("Add uppercase letters"),/[a-z]/.test(e)?t++:n.push("Add lowercase letters"),/\d/.test(e)?t++:n.push("Add numbers"),/[^A-Za-z0-9]/.test(e)?t++:n.push("Add special characters"),o(o({score:t},[{label:"Very Weak",color:"#ff4444"},{label:"Weak",color:"#ff8800"},{label:"Fair",color:"#ffaa00"},{label:"Good",color:"#88cc00"},{label:"Strong",color:"#00aa00"}][Math.min(t,4)]),{},{suggestions:n.slice(0,2)})})(r.password)):g(null)},[r.password]);const x=e=>t=>{const n=["acceptTerms","acceptMarketing"].includes(e)?t.target.checked:t.target.value;a(t=>o(o({},t),{},{[e]:n})),c[e]&&l(t=>o(o({},t),{},{[e]:void 0}))};return(0,Sv.jsx)("div",{className:Yb.signupPage,children:(0,Sv.jsxs)("div",{className:"".concat(Yb.signupContainer," ").concat(v?Yb.visible:""),children:[(0,Sv.jsxs)("header",{className:Yb.header,children:[(0,Sv.jsx)("h1",{className:Yb.title,children:"Join Armora"}),(0,Sv.jsx)("p",{className:Yb.subtitle,children:"Create your premium security transport account"})]}),(0,Sv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};var t,n;return r.name.trim()?r.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Full name is required",r.email.trim()?(t=r.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(e.email="Please enter a valid email address")):e.email="Email address is required",r.phone.trim()?(n=r.phone,/^[+]?[1-9][\d]{0,15}$/.test(n.replace(/\s/g,""))||(e.phone="Please enter a valid phone number")):e.phone="Phone number is required",r.password?r.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",r.acceptTerms||(e.acceptTerms="You must accept the Terms of Service to continue"),l(e),0===Object.keys(e).length})()){u(!0),i(!0);try{await new Promise(e=>setTimeout(e,2e3));const e={id:"1",email:r.email,name:r.name,isAuthenticated:!0,userType:"registered",hasCompletedQuestionnaire:!1,hasUnlockedReward:!1,createdAt:new Date};n(e),t("questionnaire")}catch(O){l({general:"Account creation failed. Please try again."})}finally{u(!1),i(!1)}}},className:Yb.form,children:[c.general&&(0,Sv.jsxs)("div",{className:Yb.errorMessage,children:[(0,Sv.jsxs)("svg",{className:Yb.errorIcon,viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor",strokeWidth:"2"})]}),c.general]}),(0,Sv.jsxs)("div",{className:Yb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"name",className:Yb.label,children:"Full Name"}),(0,Sv.jsx)("input",{id:"name",type:"text",value:r.name,onChange:x("name"),className:"".concat(Yb.input," ").concat(c.name?Yb.inputError:""),placeholder:"Your full name",disabled:d,autoComplete:"name",autoFocus:!0}),c.name&&(0,Sv.jsx)("span",{className:Yb.fieldError,children:c.name})]}),(0,Sv.jsxs)("div",{className:Yb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"email",className:Yb.label,children:"Email Address"}),(0,Sv.jsx)("input",{id:"email",type:"email",value:r.email,onChange:x("email"),className:"".concat(Yb.input," ").concat(c.email?Yb.inputError:""),placeholder:"your.email@example.com",disabled:d,autoComplete:"email"}),c.email&&(0,Sv.jsx)("span",{className:Yb.fieldError,children:c.email})]}),(0,Sv.jsxs)("div",{className:Yb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"phone",className:Yb.label,children:"Phone Number"}),(0,Sv.jsx)("input",{id:"phone",type:"tel",value:r.phone,onChange:x("phone"),className:"".concat(Yb.input," ").concat(c.phone?Yb.inputError:""),placeholder:"+44 7700 900123",disabled:d,autoComplete:"tel"}),c.phone&&(0,Sv.jsx)("span",{className:Yb.fieldError,children:c.phone})]}),(0,Sv.jsxs)("div",{className:Yb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"password",className:Yb.label,children:"Password"}),(0,Sv.jsxs)("div",{className:Yb.inputWrapper,children:[(0,Sv.jsx)("input",{id:"password",type:h?"text":"password",value:r.password,onChange:x("password"),className:"".concat(Yb.input," ").concat(c.password?Yb.inputError:""),placeholder:"Create a strong password",disabled:d,autoComplete:"new-password"}),(0,Sv.jsx)("button",{type:"button",className:Yb.passwordToggle,onClick:()=>p(!h),disabled:d,"aria-label":h?"Hide password":"Show password",children:(0,Sv.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:h?(0,Sv.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22",stroke:"currentColor",strokeWidth:"2",fill:"none"}):(0,Sv.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]}),_&&(0,Sv.jsxs)("div",{className:Yb.passwordStrength,children:[(0,Sv.jsx)("div",{className:Yb.strengthBar,children:(0,Sv.jsx)("div",{className:Yb.strengthProgress,style:{width:"".concat(_.score/4*100,"%"),backgroundColor:_.color}})}),(0,Sv.jsxs)("div",{className:Yb.strengthInfo,children:[(0,Sv.jsx)("span",{className:Yb.strengthLabel,style:{color:_.color},children:_.label}),_.suggestions.length>0&&(0,Sv.jsx)("ul",{className:Yb.suggestions,children:_.suggestions.map((e,t)=>(0,Sv.jsx)("li",{children:e},t))})]})]}),c.password&&(0,Sv.jsx)("span",{className:Yb.fieldError,children:c.password})]}),(0,Sv.jsxs)("div",{className:Yb.fieldGroup,children:[(0,Sv.jsx)("label",{htmlFor:"confirmPassword",className:Yb.label,children:"Confirm Password"}),(0,Sv.jsxs)("div",{className:Yb.inputWrapper,children:[(0,Sv.jsx)("input",{id:"confirmPassword",type:m?"text":"password",value:r.confirmPassword,onChange:x("confirmPassword"),className:"".concat(Yb.input," ").concat(c.confirmPassword?Yb.inputError:""),placeholder:"Confirm your password",disabled:d,autoComplete:"new-password"}),(0,Sv.jsx)("button",{type:"button",className:Yb.passwordToggle,onClick:()=>f(!m),disabled:d,"aria-label":m?"Hide password":"Show password",children:(0,Sv.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:m?(0,Sv.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22",stroke:"currentColor",strokeWidth:"2",fill:"none"}):(0,Sv.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z M12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6z",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]}),c.confirmPassword&&(0,Sv.jsx)("span",{className:Yb.fieldError,children:c.confirmPassword})]}),(0,Sv.jsxs)("div",{className:Yb.checkboxGroup,children:[(0,Sv.jsxs)("label",{className:Yb.checkboxLabel,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:r.acceptTerms,onChange:x("acceptTerms"),className:Yb.checkbox,disabled:d}),(0,Sv.jsxs)("span",{className:Yb.checkboxText,children:["I accept the ",(0,Sv.jsx)("button",{type:"button",className:Yb.link,onClick:()=>t("terms"),children:"Terms of Service"})," and ",(0,Sv.jsx)("button",{type:"button",className:Yb.link,onClick:()=>t("privacy"),children:"Privacy Policy"})]})]}),c.acceptTerms&&(0,Sv.jsx)("span",{className:Yb.fieldError,children:c.acceptTerms})]}),(0,Sv.jsx)("div",{className:Yb.checkboxGroup,children:(0,Sv.jsxs)("label",{className:Yb.checkboxLabel,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:r.acceptMarketing,onChange:x("acceptMarketing"),className:Yb.checkbox,disabled:d}),(0,Sv.jsx)("span",{className:Yb.checkboxText,children:"Send me updates about new services and exclusive offers (optional)"})]})}),(0,Sv.jsx)(Xy,{type:"submit",variant:"primary",size:"lg",isFullWidth:!0,disabled:d,className:Yb.submitButton,children:d?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("svg",{className:Yb.spinner,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:(0,Sv.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"1s",values:"31.416;0",repeatCount:"indefinite"})})}),"Creating Account..."]}):"Create Account"})]}),!1,(0,Sv.jsxs)("footer",{className:Yb.footer,children:[(0,Sv.jsx)("div",{className:Yb.divider,children:(0,Sv.jsx)("span",{className:Yb.dividerText,children:"or"})}),(0,Sv.jsx)(Xy,{variant:"outline",size:"md",isFullWidth:!0,onClick:()=>t("login"),disabled:d,className:Yb.loginButton,children:"Sign In to Existing Account"}),(0,Sv.jsx)("button",{type:"button",className:Yb.backButton,onClick:()=>t("welcome"),disabled:d,children:"\u2190 Back to Welcome"}),(0,Sv.jsxs)("div",{className:Yb.legalLinks,children:[(0,Sv.jsx)("button",{type:"button",className:Yb.linkButton,onClick:()=>t("privacy"),disabled:d,children:"Privacy Policy"}),(0,Sv.jsx)("span",{children:" \u2022 "}),(0,Sv.jsx)("button",{type:"button",className:Yb.linkButton,onClick:()=>t("terms"),disabled:d,children:"Terms of Service"})]})]})]})})}const Qb="GuestDisclaimer_disclaimerPage__mZUeJ",Zb="GuestDisclaimer_disclaimerContainer__nb5af",Jb="GuestDisclaimer_visible__KWczk",Xb="GuestDisclaimer_header__lI6a6",$b="GuestDisclaimer_title__ykn64",eS="GuestDisclaimer_subtitle__5giKd",tS="GuestDisclaimer_content__U8way",nS="GuestDisclaimer_section__RvyEi",iS="GuestDisclaimer_sectionTitle__K5A54",sS="GuestDisclaimer_sectionIcon__o4BSN",rS="GuestDisclaimer_featureList__saFOt",aS="GuestDisclaimer_featureItem__Pkeuc",oS="GuestDisclaimer_featureIcon__D2u5E",cS="GuestDisclaimer_benefitsList__854ku",lS="GuestDisclaimer_benefitItem__qecKk",dS="GuestDisclaimer_benefitHeader__LZneX",uS="GuestDisclaimer_benefitIcon__GY7Qj",hS="GuestDisclaimer_benefitTitle__mF8oN",pS="GuestDisclaimer_benefitDescription__Va4az",mS="GuestDisclaimer_privacyContent__+tV7W",fS="GuestDisclaimer_privacyText__-ZANj",_S="GuestDisclaimer_limitationsSection__Mkq5g",gS="GuestDisclaimer_limitationNotice__Zbkpc",vS="GuestDisclaimer_warningIcon__+puZ3",yS="GuestDisclaimer_limitationContent__hK2C7",xS="GuestDisclaimer_limitationTitle__vlPn0",bS="GuestDisclaimer_limitationText__3-axA",SS="GuestDisclaimer_footer__DnJ7-",wS="GuestDisclaimer_createAccountButton__4uEKM",NS="GuestDisclaimer_guestButton__bjvHQ",jS="GuestDisclaimer_buttonContent__aWjp3",CS="GuestDisclaimer_buttonIcon__N4kbc",kS="GuestDisclaimer_spinner__zJwfV",PS="GuestDisclaimer_divider__S-yKS",TS="GuestDisclaimer_dividerText__E44-g",ES="GuestDisclaimer_backButton__ym4zX";function AS(){const{navigateToView:t,setUser:n,setLoading:i}=kv(),[s,r]=(0,e.useState)(!1),[a,o]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=setTimeout(()=>r(!0),300);return()=>clearTimeout(e)},[]);return(0,Sv.jsx)("div",{className:Qb,children:(0,Sv.jsxs)("div",{className:"".concat(Zb," ").concat(s?Jb:""),children:[(0,Sv.jsxs)("header",{className:Xb,children:[(0,Sv.jsx)("h1",{className:$b,children:"Guest Access"}),(0,Sv.jsx)("p",{className:eS,children:"Experience Armora with limited access or create an account for full features"})]}),(0,Sv.jsxs)("div",{className:tS,children:[(0,Sv.jsxs)("section",{className:nS,children:[(0,Sv.jsxs)("h2",{className:iS,children:[(0,Sv.jsx)("svg",{className:sS,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),"What You Can Do as a Guest"]}),(0,Sv.jsxs)("ul",{className:rS,children:[(0,Sv.jsxs)("li",{className:aS,children:[(0,Sv.jsx)("svg",{className:oS,viewBox:"0 0 24 24",width:"16",height:"16",children:(0,Sv.jsx)("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),(0,Sv.jsx)("span",{children:"Complete our 9-step professional service assessment"})]}),(0,Sv.jsxs)("li",{className:aS,children:[(0,Sv.jsx)("svg",{className:oS,viewBox:"0 0 24 24",width:"16",height:"16",children:(0,Sv.jsx)("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),(0,Sv.jsx)("span",{children:"Browse all service levels (Standard, Executive, Shadow)"})]}),(0,Sv.jsxs)("li",{className:aS,children:[(0,Sv.jsx)("svg",{className:oS,viewBox:"0 0 24 24",width:"16",height:"16",children:(0,Sv.jsx)("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),(0,Sv.jsx)("span",{children:"Use our quote calculator for route pricing estimates"})]}),(0,Sv.jsxs)("li",{className:aS,children:[(0,Sv.jsx)("svg",{className:oS,viewBox:"0 0 24 24",width:"16",height:"16",children:(0,Sv.jsx)("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),(0,Sv.jsx)("span",{children:"Access direct contact information for bookings"})]}),(0,Sv.jsxs)("li",{className:aS,children:[(0,Sv.jsx)("svg",{className:oS,viewBox:"0 0 24 24",width:"16",height:"16",children:(0,Sv.jsx)("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),(0,Sv.jsx)("span",{children:"Preview the protection assignment interface and app features"})]})]})]}),(0,Sv.jsxs)("section",{className:nS,children:[(0,Sv.jsxs)("h2",{className:iS,children:[(0,Sv.jsx)("svg",{className:sS,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"currentColor"})}),"Premium Account Benefits"]}),(0,Sv.jsxs)("ul",{className:cS,children:[(0,Sv.jsxs)("li",{className:lS,children:[(0,Sv.jsxs)("div",{className:dS,children:[(0,Sv.jsxs)("svg",{className:uS,viewBox:"0 0 24 24",width:"16",height:"16",children:[(0,Sv.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21",stroke:"currentColor",strokeWidth:"2"})]}),(0,Sv.jsx)("span",{className:hS,children:"Direct In-App Assignment"})]}),(0,Sv.jsx)("p",{className:pS,children:"Book Assignments instantly without phone calls or waiting"})]}),(0,Sv.jsxs)("li",{className:lS,children:[(0,Sv.jsxs)("div",{className:dS,children:[(0,Sv.jsxs)("svg",{className:uS,viewBox:"0 0 24 24",width:"16",height:"16",children:[(0,Sv.jsx)("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("line",{x1:"1",y1:"10",x2:"23",y2:"10",stroke:"currentColor",strokeWidth:"2"})]}),(0,Sv.jsx)("span",{className:hS,children:"Secure Payment Storage"})]}),(0,Sv.jsx)("p",{className:pS,children:"Save payment methods for quick, secure transactions"})]}),(0,Sv.jsxs)("li",{className:lS,children:[(0,Sv.jsxs)("div",{className:dS,children:[(0,Sv.jsxs)("svg",{className:uS,viewBox:"0 0 24 24",width:"16",height:"16",children:[(0,Sv.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("polyline",{points:"9,22 9,12 15,12 15,22",stroke:"currentColor",strokeWidth:"2"})]}),(0,Sv.jsx)("span",{className:hS,children:"Assignment History & Profiles"})]}),(0,Sv.jsx)("p",{className:pS,children:"Access all previous Protection Details and saved secureDestination profiles"})]}),(0,Sv.jsxs)("li",{className:lS,children:[(0,Sv.jsxs)("div",{className:dS,children:[(0,Sv.jsx)("svg",{className:uS,viewBox:"0 0 24 24",width:"16",height:"16",children:(0,Sv.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"currentColor"})}),(0,Sv.jsx)("span",{className:hS,children:"50% Off First Assignment Reward"})]}),(0,Sv.jsx)("p",{className:pS,children:"Unlock exclusive savings on your first premium journey"})]})]})]}),(0,Sv.jsxs)("section",{className:nS,children:[(0,Sv.jsxs)("h2",{className:iS,children:[(0,Sv.jsx)("svg",{className:sS,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),"Your Privacy & Security"]}),(0,Sv.jsxs)("div",{className:mS,children:[(0,Sv.jsxs)("p",{className:fS,children:[(0,Sv.jsx)("strong",{children:"Guest Access:"})," We collect minimal information to provide service recommendations. Your questionnaire responses are stored locally and not linked to personal identity."]}),(0,Sv.jsxs)("p",{className:fS,children:[(0,Sv.jsx)("strong",{children:"GDPR Compliant:"})," All data handling meets European privacy standards. You may request data deletion at any time through our contact channels."]})]})]}),(0,Sv.jsx)("section",{className:_S,children:(0,Sv.jsxs)("div",{className:gS,children:[(0,Sv.jsx)("svg",{className:vS,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),(0,Sv.jsxs)("div",{className:yS,children:[(0,Sv.jsx)("h3",{className:xS,children:"Important Limitation"}),(0,Sv.jsx)("p",{className:bS,children:"Guest users cannot complete direct bookings through the app. You'll need to contact us directly or create an account to reserve your security transport."})]})]})})]}),(0,Sv.jsxs)("footer",{className:SS,children:[(0,Sv.jsx)(Xy,{variant:"primary",size:"lg",isFullWidth:!0,onClick:()=>{t("signup")},disabled:a,className:wS,children:(0,Sv.jsxs)("span",{className:jS,children:[(0,Sv.jsx)("svg",{className:CS,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"currentColor"})}),"Create Account for Full Access"]})}),(0,Sv.jsx)("div",{className:PS,children:(0,Sv.jsx)("span",{className:TS,children:"or"})}),(0,Sv.jsx)(Xy,{variant:"outline",size:"lg",isFullWidth:!0,onClick:async()=>{o(!0),i(!0);try{await new Promise(e=>setTimeout(e,1e3));const e={id:"guest-"+Date.now(),email:"guest@armora.app",name:"Guest User",isAuthenticated:!1,userType:"guest",hasCompletedQuestionnaire:!1,hasUnlockedReward:!1,createdAt:new Date};n(e),t("questionnaire")}catch(O){console.error("Guest setup failed:",O)}finally{o(!1),i(!1)}},disabled:a,className:NS,children:a?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("svg",{className:kS,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:(0,Sv.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"1s",values:"31.416;0",repeatCount:"indefinite"})})}),"Setting up guest access..."]}):(0,Sv.jsxs)("span",{className:jS,children:[(0,Sv.jsxs)("svg",{className:CS,viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,Sv.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",fill:"none",stroke:"currentColor",strokeWidth:"2"}),(0,Sv.jsx)("circle",{cx:"12",cy:"7",r:"4",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),"Continue as Guest"]})}),(0,Sv.jsx)("button",{type:"button",className:ES,onClick:()=>t("welcome"),disabled:a,children:"\u2190 Back to Welcome"})]})]})})}const IS="CTAButtons_ctaContainer__z6bHY",LS="CTAButtons_ctaButton__LhCKL",RS="CTAButtons_primaryCTA__wpwBr",MS="CTAButtons_ctaButtonsRow__WeQQ2",OS="CTAButtons_secondaryCTA__tfdMd",DS="CTAButtons_ctaLabel__XUi1V",FS=["name","size","title"],BS={shield:(0,Sv.jsx)("path",{d:"M12 2l7 3v6c0 5-3.5 9.5-7 11-3.5-1.5-7-6-7-11V5l7-3z",fill:"currentColor"}),clock:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("path",{d:"M12 6v6l4 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"check-circle":(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("path",{d:"M8.5 12.5l2.5 2.5 4.5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),info:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("circle",{cx:"12",cy:"8",r:"1.2",fill:"currentColor"}),(0,Sv.jsx)("path",{d:"M11 11h2v6h-2z",fill:"currentColor"})]}),lock:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("path",{d:"M8 11V8a4 4 0 118 0v3",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),"arrow-right":(0,Sv.jsx)("path",{d:"M5 12h10M13 8l4 4-4 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),"chevron-left":(0,Sv.jsx)("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),save:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("path",{d:"M5 4h10l4 4v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("path",{d:"M7 4v6h10V8",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("rect",{x:"8",y:"14",width:"8",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),user:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Sv.jsx)("path",{d:"M4 22c1.5-4 5-6 8-6s6.5 2 8 6",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),list:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("circle",{cx:"6",cy:"7",r:"1.5",fill:"currentColor"}),(0,Sv.jsx)("circle",{cx:"6",cy:"12",r:"1.5",fill:"currentColor"}),(0,Sv.jsx)("circle",{cx:"6",cy:"17",r:"1.5",fill:"currentColor"}),(0,Sv.jsx)("path",{d:"M10 7h10M10 12h10M10 17h10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})},qS=e=>{let{name:t,size:n=18,title:i}=e,s=nt(e,FS);return(0,Sv.jsxs)("svg",o(o({width:n,height:n,viewBox:"0 0 24 24",role:i?"img":"presentation","aria-hidden":!i||void 0,focusable:"false"},s),{},{children:[i?(0,Sv.jsx)("title",{children:i}):null,BS[t]]}))};function zS(e){let{currentStep:t,totalSteps:n,hasSelection:i,onNext:s,onPrevious:r,onSaveExit:a,onHelp:o,onSkip:c,isLastStep:l,dynamicBackText:d="Back",dynamicContinueText:u="Continue"}=e;const h={text:l?"Complete Security Assessment":u,action:s,disabled:!i,style:"primary"},p=[...r&&t>1?[{text:"Back",icon:"chevron-left",action:r,style:"secondary",show:!0}]:[],{text:"Save & Exit",icon:"save",action:a,style:"ghost",show:!0}];return(0,Sv.jsx)("div",{className:IS,children:(0,Sv.jsxs)("div",{className:MS,children:[(0,Sv.jsx)("button",{onClick:h.action,disabled:h.disabled,className:"".concat(LS," ").concat(RS," premium-button"),children:(0,Sv.jsxs)("span",{className:DS,children:[(0,Sv.jsx)(qS,{name:"arrow-right",size:22})," ",h.text]})}),p.map((e,t)=>!1!==e.show&&(0,Sv.jsxs)("button",{onClick:e.action,disabled:e.disabled,className:"".concat(LS," ").concat(OS," premium-button micro-bounce"),children:[e.icon&&(0,Sv.jsx)(qS,{name:e.icon,size:22}),(0,Sv.jsx)("span",{className:DS,children:e.text})]},t))]})})}var WS=n(119);const HS="NameConfirmationModal_overlay__ohDUn",US="NameConfirmationModal_overlayAnimatingIn__EKesv",VS="NameConfirmationModal_overlayAnimatingOut__Zp9Yp",GS="NameConfirmationModal_modal__9ZNc0",YS="NameConfirmationModal_modalAnimatingIn__5f6-j",KS="NameConfirmationModal_modalAnimatingOut__TyuZt",QS="NameConfirmationModal_header__UASQC",ZS="NameConfirmationModal_waveEmoji__g3Pam",JS="NameConfirmationModal_wave__CMaPI",XS="NameConfirmationModal_waveAnimating__792Fq",$S="NameConfirmationModal_title__TCrQW",ew="NameConfirmationModal_goldenUnderline__R9GUD",tw="NameConfirmationModal_body__TSqUP",nw="NameConfirmationModal_mainMessage__Pdlcn",iw="NameConfirmationModal_assessmentPreview__eW6MP",sw="NameConfirmationModal_assessmentHeader__PSrzC",rw="NameConfirmationModal_assessmentIcon__0hZaK",aw="NameConfirmationModal_assessmentDetails__oWTKT",ow="NameConfirmationModal_assessmentDetail__b5CcO",cw="NameConfirmationModal_detailIcon__5eE2p",lw="NameConfirmationModal_benefitsSection__V-2ej",dw="NameConfirmationModal_benefitsTitle__xpYvw",uw="NameConfirmationModal_benefitsList__o7cCS",hw="NameConfirmationModal_benefitItem__vv87s",pw="NameConfirmationModal_bulletPoint__Zgr77",mw="NameConfirmationModal_valueProposition__7nhw3",fw="NameConfirmationModal_footer__WGCvM",_w="NameConfirmationModal_primaryButton__-7cD-",gw="NameConfirmationModal_secondaryButton__Z5yF1";function vw(t){let{name:n,isOpen:i,onConfirm:s,onSkip:r,onClose:a,isNameUpdate:o=!1}=t;const[c,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(i){l(!0),u(!1);const e=setTimeout(()=>{l(!1)},600);return()=>clearTimeout(e)}},[i]),(0,e.useEffect)(()=>{if(!i)return;const e=e=>{"Enter"===e.key?(e.preventDefault(),u(!0),setTimeout(()=>{s()},300)):"Escape"===e.key&&(e.preventDefault(),u(!0),setTimeout(()=>{r()},300))},t=e=>{if("Tab"===e.key){const t=document.querySelectorAll(".".concat(GS," button, .").concat(GS,' [tabindex]:not([tabindex="-1"])')),n=t[0],i=t[t.length-1];e.shiftKey&&document.activeElement===n?(e.preventDefault(),null===i||void 0===i||i.focus()):e.shiftKey||document.activeElement!==i||(e.preventDefault(),null===n||void 0===n||n.focus())}};document.addEventListener("keydown",e),document.addEventListener("keydown",t),document.body.style.overflow="hidden";const n=setTimeout(()=>{const e=document.querySelector(".".concat(_w));null===e||void 0===e||e.focus()},100);return()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",t),document.body.style.overflow="",clearTimeout(n)}},[i,s,r]);const h=n.length>20?"".concat(n.substring(0,20),"..."):n;if(!i)return null;const p=(0,Sv.jsx)("div",{className:"".concat(HS," ").concat(c?US:""," ").concat(d?VS:""),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,Sv.jsxs)("div",{className:"".concat(GS," ").concat(c?YS:""," ").concat(d?KS:""),children:[(0,Sv.jsxs)("div",{className:QS,children:[(0,Sv.jsx)("div",{className:ZS,children:(0,Sv.jsx)("span",{className:"".concat(JS," ").concat(c?XS:""),children:"\ud83d\udc4b"})}),(0,Sv.jsx)("h2",{id:"modal-title",className:$S,children:o?"Updated! We'll now call you ".concat(h):"Welcome, ".concat(h,"!")}),(0,Sv.jsx)("div",{className:ew})]}),(0,Sv.jsxs)("div",{className:tw,children:[(0,Sv.jsx)("p",{id:"modal-description",className:nw,children:o?"Perfect! We've updated your name to ".concat(h," throughout your journey with Armora."):"Perfect! We'll call you ".concat(h," throughout your journey with Armora.")}),(0,Sv.jsxs)("div",{className:iw,children:[(0,Sv.jsxs)("div",{className:sw,children:[(0,Sv.jsx)("span",{className:rw,children:"\ud83d\udccb"}),(0,Sv.jsx)("span",{children:"Your Security Assessment"})]}),(0,Sv.jsxs)("div",{className:aw,children:[(0,Sv.jsxs)("div",{className:ow,children:[(0,Sv.jsx)("span",{className:cw,children:"\u23f1\ufe0f"}),(0,Sv.jsx)("span",{children:"Time Required: 10 minutes"})]}),(0,Sv.jsxs)("div",{className:ow,children:[(0,Sv.jsx)("span",{className:cw,children:"\ud83c\udfaf"}),(0,Sv.jsx)("span",{children:"Purpose: Create your personalized security profile"})]})]})]}),(0,Sv.jsxs)("div",{className:lw,children:[(0,Sv.jsx)("h3",{className:dw,children:"Your responses help us:"}),(0,Sv.jsxs)("ul",{className:uw,children:[(0,Sv.jsxs)("li",{className:hw,children:[(0,Sv.jsx)("span",{className:pw,children:"\u2022"}),(0,Sv.jsx)("span",{children:"Match you with qualified SIA officers"})]}),(0,Sv.jsxs)("li",{className:hw,children:[(0,Sv.jsx)("span",{className:pw,children:"\u2022"}),(0,Sv.jsx)("span",{children:"Understand your specific security needs"})]}),(0,Sv.jsxs)("li",{className:hw,children:[(0,Sv.jsx)("span",{className:pw,children:"\u2022"}),(0,Sv.jsx)("span",{children:"Provide tailored protection services"})]}),(0,Sv.jsxs)("li",{className:hw,children:[(0,Sv.jsx)("span",{className:pw,children:"\u2022"}),(0,Sv.jsx)("span",{children:"Save your preferences for future bookings"})]})]})]}),(0,Sv.jsx)("div",{className:mw,children:(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"This one-time setup ensures every journey is perfectly protected based on YOUR specific requirements."})})})]}),(0,Sv.jsxs)("div",{className:fw,children:[(0,Sv.jsx)("button",{className:_w,onClick:()=>{u(!0),setTimeout(()=>{s()},300)},type:"button","aria-label":"Continue with personalized assessment as ".concat(h),children:"Let's Build Your Profile \u2192"}),(0,Sv.jsx)("button",{className:gw,onClick:()=>{u(!0),setTimeout(()=>{r()},300)},type:"button","aria-label":"Skip personalization and continue anonymously",children:"Skip for Now"})]})]})});return(0,WS.createPortal)(p,document.body)}const yw={userName:null,userId:null,assessmentComplete:!1,assessmentStep:0,assessmentAnswers:null,assessmentStartDate:null,assessmentCompleteDate:null,firstVisit:null,lastVisit:null,visitCount:0,bookingCount:0,lastBookingDate:null,membershipTier:"Standard",skipNamePrompt:!1,preferredLanguage:"en"},xw=()=>{try{const e=localStorage.getItem("armora_user_data");if(e){const t=JSON.parse(e);return o(o({},yw),t)}}catch(O){console.error("Failed to parse user data:",O)}return yw},bw=e=>{try{const t=o(o({},xw()),e);localStorage.setItem("armora_user_data",JSON.stringify(t))}catch(O){console.error("Failed to save user data:",O)}},Sw=()=>{const e=xw();return e.userName||e.lastVisit?e.assessmentComplete&&e.bookingCount>0?"EXISTING_CUSTOMER":e.assessmentComplete?"ASSESSMENT_COMPLETE":e.userName&&e.assessmentStep>0?"RETURNING_INCOMPLETE":e.userName?"RETURNING_NEW":"NEW_USER":"NEW_USER"},ww=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=xw();bw({assessmentStep:e,assessmentStartDate:t.assessmentStartDate||(new Date).toISOString()})},Nw="NameCollection_nameCollectionSection__uu5Di",jw="NameCollection_welcomeHeader__hLQvR",Cw="NameCollection_nameInputContainer__wim9Q",kw="NameCollection_nameInput__Kr2uu",Pw="NameCollection_privacyNote__g21Ra",Tw="NameCollection_confirmButton__PBAfQ",Ew="NameCollection_welcomeTitle__ZEEXP",Aw="NameCollection_welcomeSubtitle__qJyhe";function Iw(t){let{userName:n,onNameChange:i,className:s=""}=t;const{state:r,updateQuestionnaireData:a}=kv(),[c,l]=(0,e.useState)(n),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(""),[m,f]=(0,e.useState)(!1),[_,g]=(0,e.useState)("NEW_USER"),[,v]=(0,e.useState)(xw()),y=(0,e.useRef)(null),x=()=>{const e=navigator.userAgent||"",t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile/i.test(e),n=navigator.maxTouchPoints>1&&/Mobi|Android|iPhone|iPad|iPod/i.test(e);return t||n};(0,e.useEffect)(()=>{(()=>{const e=xw(),t=(new Date).toISOString();bw({firstVisit:e.firstVisit||t,lastVisit:t,visitCount:e.visitCount+1,userId:e.userId||"user_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()})})();const e=Sw(),t=xw();g(e),v(t),t.userName&&!c&&(l(t.userName),p(t.userName))},[c]),(0,e.useEffect)(()=>{const e=()=>{if(y.current&&!x()&&"NEW_USER"===_)try{y.current.focus({preventScroll:!0});const e=y.current.value.length;y.current.setSelectionRange(e,e)}catch(O){}};e();const t=setTimeout(e,150);return()=>clearTimeout(t)},[_]);const b=()=>{const e=c.trim();e.length<2?alert("Name must be at least 2 characters"):e.length>50?alert("Name must be no more than 50 characters"):(f(h.length>0),p(e),u(!0))};return(0,Sv.jsxs)("div",{className:"".concat(Nw," ").concat(s),children:[(0,Sv.jsxs)("div",{className:jw,children:[(0,Sv.jsx)("h2",{className:Ew,children:"NEW_USER"===_?"Welcome to Armora!":"Welcome back!"}),(0,Sv.jsx)("p",{className:Aw,children:"Let's get started with your personalized security assessment"})]}),(0,Sv.jsxs)("div",{className:Cw,children:[(0,Sv.jsx)("input",{ref:y,type:"text",placeholder:"Your preferred name (optional)",value:c,onChange:e=>{const t=e.target.value;l(t)},onKeyDown:e=>{"Enter"===e.key&&b()},onClick:()=>{y.current&&(x()||y.current.focus({preventScroll:!0}),setTimeout(()=>{if(y.current){const e=y.current.value.length;y.current.setSelectionRange(e,e)}},0))},className:kw,maxLength:50,autoComplete:"given-name","aria-label":"Your preferred name for personalization",autoFocus:!x()}),(0,Sv.jsx)("div",{children:(0,Sv.jsx)("button",{type:"button",className:Tw,onClick:b,disabled:!c.trim()||c.trim().length<2,children:"Confirm"})}),(0,Sv.jsx)("div",{className:Pw,children:(0,Sv.jsx)("small",{children:"This helps us personalize your questionnaire. You can skip this if you prefer maximum privacy."})})]}),(0,Sv.jsx)(vw,{name:h,isOpen:d,onConfirm:()=>{u(!1),i(h);const e=o(o({},r.questionnaireData),{},{firstName:h,nameConfirmed:!0,nameConfirmationTimestamp:(new Date).toISOString(),skippedNameEntry:!1});a(e),bw({userName:h,skipNamePrompt:!1}),ww(1),v(xw()),g(Sw()),localStorage.setItem("armora_user_name",h),localStorage.setItem("armora_name_confirmed","true"),localStorage.setItem("armora_name_confirmation_timestamp",(new Date).toISOString()),setTimeout(()=>{const e=document.createElement("div");e.id="armora-name-notification",e.style.cssText="\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        width: 320px;\n        background: linear-gradient(135deg, #FFD700 0%, #e6c200 100%);\n        color: #1a1a2e;\n        border-radius: 12px;\n        border: 2px solid #FFD700;\n        z-index: 10000;\n        font-family: system-ui, -apple-system, sans-serif;\n        box-shadow: 0 8px 32px rgba(255, 215, 0, 0.4), 0 4px 16px rgba(0, 0, 0, 0.2);\n        animation: slideInRightGold 0.5s ease-out;\n        transition: all 0.3s ease;\n      ",e.innerHTML='\n        <div style="padding: 16px 20px 12px 20px;">\n          <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">\n            <div style="display: flex; align-items: center; gap: 8px;">\n              <span style="font-size: 18px;">\u2713</span>\n              <span style="font-weight: 700; font-size: 16px;">Name Saved Successfully</span>\n            </div>\n            <div style="display: flex; gap: 4px;">\n              <button id="minimize-btn" style="\n                background: rgba(26, 26, 46, 0.2);\n                border: none;\n                border-radius: 4px;\n                color: #1a1a2e;\n                cursor: pointer;\n                font-size: 14px;\n                padding: 4px 8px;\n                font-weight: 600;\n              " title="Minimize">\u2212</button>\n              <button id="close-btn" style="\n                background: rgba(26, 26, 46, 0.2);\n                border: none;\n                border-radius: 4px;\n                color: #1a1a2e;\n                cursor: pointer;\n                font-size: 14px;\n                padding: 4px 8px;\n                font-weight: 600;\n              " title="Close">\xd7</button>\n            </div>\n          </div>\n          <div style="font-size: 14px; color: rgba(26, 26, 46, 0.85); margin-bottom: 12px; line-height: 1.4;">\n            Your name "'.concat(h,'" has been saved and will be used throughout your security assessment.\n          </div>\n          <div style="display: flex; gap: 8px; margin-top: 12px;">\n            <button id="ok-btn" style="\n              flex: 1;\n              background: #1a1a2e;\n              color: #FFD700;\n              border: 2px solid rgba(255, 215, 0, 0.3);\n              border-radius: 8px;\n              padding: 10px 16px;\n              font-weight: 700;\n              cursor: pointer;\n              font-size: 14px;\n              transition: all 0.25s ease-out;\n            ">Got it!</button>\n          </div>\n          <div id="auto-dismiss" style="\n            font-size: 11px; \n            color: rgba(26, 26, 46, 0.65); \n            text-align: center; \n            margin-top: 8px;\n            font-weight: 600;\n          ">Auto-closes in <span id="countdown">15</span>s</div>\n        </div>\n      ');const t=document.createElement("style");t.textContent="\n        @keyframes slideInRightGold {\n          from { \n            transform: translateX(100%) scale(0.9); \n            opacity: 0;\n            filter: blur(2px);\n          }\n          to { \n            transform: translateX(0) scale(1); \n            opacity: 1;\n            filter: blur(0);\n          }\n        }\n        @keyframes minimizeNotification {\n          from { \n            height: auto;\n            width: 320px;\n          }\n          to { \n            height: 60px;\n            width: 280px;\n          }\n        }\n        @keyframes fadeOutGold {\n          from { opacity: 1; transform: translateX(0) scale(1); }\n          to { opacity: 0; transform: translateX(20px) scale(0.95); }\n        }\n        #armora-name-notification button:hover {\n          transform: translateY(-1px);\n          opacity: 0.9;\n        }\n        #ok-btn:hover {\n          background: #252544 !important;\n          border-color: #FFD700 !important;\n          color: #e6c200 !important;\n          transform: translateY(-2px);\n          box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);\n        }\n      ",document.head.appendChild(t),document.body.appendChild(e);let n,i=!1,s=15;const r=()=>{n&&clearInterval(n),e.style.animation="fadeOutGold 0.4s ease-in",setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e),document.head.contains(t)&&document.head.removeChild(t)},400)},a=e.querySelector("#minimize-btn"),o=e.querySelector("#close-btn"),c=e.querySelector("#ok-btn"),l=e.querySelector("#countdown");a.addEventListener("click",()=>{if(i=!i,i){e.style.animation="minimizeNotification 0.3s ease-out forwards",e.innerHTML='\n            <div style="padding: 16px 20px; display: flex; align-items: center; justify-content: space-between;">\n              <div style="display: flex; align-items: center; gap: 8px;">\n                <span style="font-size: 16px;">\u2713</span>\n                <span style="font-weight: 600; font-size: 14px;">Name saved</span>\n              </div>\n              <button id="restore-btn" style="\n                background: rgba(26, 26, 46, 0.2);\n                border: none;\n                border-radius: 4px;\n                color: #1a1a2e;\n                cursor: pointer;\n                font-size: 14px;\n                padding: 4px 8px;\n                font-weight: 600;\n              " title="Restore">+</button>\n            </div>\n          ';e.querySelector("#restore-btn").addEventListener("click",()=>window.location.reload())}}),o.addEventListener("click",r),c.addEventListener("click",r),n=setInterval(()=>{s--,l&&(l.textContent=s.toString()),s<=0&&r()},1e3),e.addEventListener("mouseenter",()=>{n&&clearInterval(n)}),e.addEventListener("mouseleave",()=>{s>0&&(n=setInterval(()=>{s--,l&&(l.textContent=s.toString()),s<=0&&r()},1e3))})},500)},onSkip:()=>{u(!1),l(""),p("");const e=o(o({},r.questionnaireData),{},{firstName:void 0,nameConfirmed:!1,nameConfirmationTimestamp:void 0,skippedNameEntry:!0});a(e),bw({userName:null,skipNamePrompt:!0}),ww(1),localStorage.removeItem("armora_user_name"),localStorage.setItem("armora_name_confirmed","false"),localStorage.setItem("armora_name_skipped","true")},isNameUpdate:m})]})}const Lw="ProfileSummary_profileSummaryContainer__O7yrH",Rw="ProfileSummary_profileSection__zcxzU",Mw="ProfileSummary_sectionHeader__SIav5",Ow="ProfileSummary_sectionIcon__O2CQY",Dw="ProfileSummary_sectionContent__6pJBs",Fw="ProfileSummary_recommendationSection__pT3ve",Bw="ProfileSummary_recommendationContent__5x-J7",qw="ProfileSummary_recommendationText__SQH6q",zw="ProfileSummary_serviceDetails__gdB1L",Ww="ProfileSummary_servicePrice__EZV6v",Hw="ProfileSummary_confidenceIndicator__b0Blx",Uw="ProfileSummary_priceLabel__TK2fF",Vw="ProfileSummary_confidenceLabel__+bdhm",Gw="ProfileSummary_priceValue__twq5T",Yw="ProfileSummary_confidenceValue__0kejR";function Kw(e){let{userResponses:t,userName:n}=e;const i=(null===t||void 0===t?void 0:t.step1_transportProfile)||(null===t||void 0===t?void 0:t.step1)||"",s=(null===t||void 0===t?void 0:t.step2)||"",r=(null===t||void 0===t?void 0:t.step3)||[],a=(null===t||void 0===t?void 0:t.step4)||[],o=(null===t||void 0===t?void 0:t.step5)||[],c=(null===t||void 0===t?void 0:t.step6)||[],l=(null===t||void 0===t?void 0:t.step7)||[],d={executive:"Executive/C-Suite professional requiring high-level security protocols",entrepreneur:"Entrepreneur/Business Owner requiring flexible, reliable transport solutions",celebrity:"Public Figure/Celebrity requiring maximum privacy and discretion",athlete:"Professional Athlete requiring specialized transport for training and competitions",government:"Government Official requiring secure transport with enhanced protocols",diplomat:"Diplomatic Representative requiring protocol-compliant secure transport",medical:"Medical Professional requiring urgent and dependable transport services",legal:"Legal Professional requiring confidential and punctual transport",creative:"Creative Professional requiring flexible transport for industry activities",academic:"Academic Professional requiring reliable transport for educational commitments",student:"Student requiring safe and affordable transport for academic activities",international_visitor:"International Visitor requiring specialized guidance and secure transport",prefer_not_to_say:"Professional requiring customized security transport services"}[i]||"Professional requiring customized security transport services";const u={daily:{package:"Executive Priority Package",description:"daily commuting usage with same-day protection assignment capabilities and priority Protection Officer assignment"},weekly:{package:"Professional Regular Package",description:"weekly business usage with advance protection assignment benefits and consistent service standards"},monthly:{package:"VIP Occasions Package",description:"monthly special events with premium vehicle selection and enhanced service protocols"},project_based:{package:"Project Intensive Package",description:"project-based intensive periods with flexible scheduling and dedicated support"},priority:{package:"Priority Response Package",description:"on-call priority transport with immediate response capabilities and 24/7 availability"},special_events:{package:"VIP Events Package",description:"special occasion transport with premium vehicles and specialized event protocols"},seasonal:{package:"Seasonal Flexibility Package",description:"seasonal usage patterns with adaptable service levels and holiday scheduling"}}[s]||{package:"Customized Service Package",description:"flexible usage patterns with personalized service recommendations"};const h=(e=>{if(!Array.isArray(e)||0===e.length)return"standard security protocols and professional service delivery";const t={privacy_discretion:"discrete protection and confidential transport",security_awareness:"enhanced security protocols and threat awareness",premium_comfort:"premium comfort and executive amenities",professional_service:"professional etiquette and executive service standards",reliability_tracking:"punctual service and real-time coordination",flexibility_coverage:"flexible scheduling and comprehensive coverage",specialized_needs:"specialized accommodations and custom requirements"},n=e.filter(e=>t[e]).map(e=>t[e]).slice(0,3);return 0===n.length?"professional service delivery and standard security protocols":1===n.length?n[0]:2===n.length?"".concat(n[0]," and ").concat(n[1]):"".concat(n.slice(0,-1).join(", "),", and ").concat(n[n.length-1])})(r),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n={central_london:"Central London",financial_district:"Financial District",government_quarter:"Government Quarter",west_end:"West End",greater_london:"Greater London",airport_transfers:"Airport Transfers",tourist_destinations:"Tourist Destinations",entertainment_events:"Entertainment & Events",premium_shopping:"Premium Shopping",healthcare_professional:"Healthcare & Professional Services",major_uk_cities:"Major UK Cities",university_business_towns:"University & Business Towns",scotland_wales:"Scotland & Wales",international_specialized:"International & Specialized Venues"},i=Array.isArray(e)?e.map(e=>n[e]||e).filter(Boolean).slice(0,3):[],s=Array.isArray(t)?t.map(e=>n[e]||e).filter(Boolean).slice(0,2):[];let r="";return i.length>0?(r=i.join(", "),s.length>0&&(r+=" with specialized capabilities for ".concat(s.join(" and ")))):r="flexible coverage across your preferred locations",r}(a,o),m=(()=>{const e=["executive","celebrity","diplomat","government"],t=Array.isArray(r)?r:[],n=t.includes("privacy_discretion")||t.includes("security_awareness"),a=t.includes("premium_comfort"),o="daily"===s||"weekly"===s;return e.includes(i)&&n?{name:"Armora Shadow",tier:"Discrete Security Escort",features:"unmarked vehicles, SIA Close Protection officers, and counter-surveillance awareness",price:"\xa365/hour",confidence:"highly recommended"}:e.includes(i)||a||o?{name:"Armora Executive",tier:"Premium Security Transport",features:"executive chauffeur service, premium vehicles, and enhanced security protocols",price:"\xa375/hour",confidence:"recommended"}:{name:"Armora Standard",tier:"Professional Security Transport",features:"professional SIA-licensed Protection Officers, premium vehicles, and standard security protocols",price:"\xa350/hour",confidence:"suitable"}})(),f=n?"".concat(n,", "):"";return(0,Sv.jsxs)("div",{className:Lw,children:[(0,Sv.jsxs)("section",{className:Rw,children:[(0,Sv.jsxs)("div",{className:Mw,children:[(0,Sv.jsx)("span",{className:Ow,children:"\ud83d\udc64"}),(0,Sv.jsx)("h3",{children:"Professional Profile"})]}),(0,Sv.jsxs)("p",{className:Dw,children:[f,"based on your responses, we've identified you as a ",d," for your transport needs."]})]}),(0,Sv.jsxs)("section",{className:Rw,children:[(0,Sv.jsxs)("div",{className:Mw,children:[(0,Sv.jsx)("span",{className:Ow,children:"\ud83d\udcc5"}),(0,Sv.jsx)("h3",{children:"Service Frequency"})]}),(0,Sv.jsxs)("p",{className:Dw,children:["You anticipate ",u.description,", which qualifies you for our ",u.package,"."]})]}),(0,Sv.jsxs)("section",{className:Rw,children:[(0,Sv.jsxs)("div",{className:Mw,children:[(0,Sv.jsx)("span",{className:Ow,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("h3",{children:"Security Requirements"})]}),(0,Sv.jsxs)("p",{className:Dw,children:["Your security priorities include ",h,", and we recommend our ",m.tier," to meet these requirements."]})]}),(0,Sv.jsxs)("section",{className:Rw,children:[(0,Sv.jsxs)("div",{className:Mw,children:[(0,Sv.jsx)("span",{className:Ow,children:"\ud83d\udccd"}),(0,Sv.jsx)("h3",{children:"Coverage Areas"})]}),(0,Sv.jsxs)("p",{className:Dw,children:["Primary service coverage includes ",p,"."]})]}),(0,Sv.jsxs)("section",{className:Fw,children:[(0,Sv.jsxs)("div",{className:Mw,children:[(0,Sv.jsx)("span",{className:Ow,children:"\u2728"}),(0,Sv.jsx)("h3",{children:"Recommended Service"})]}),(0,Sv.jsxs)("div",{className:Bw,children:[(0,Sv.jsxs)("p",{className:qw,children:["Based on your profile, we recommend ",(0,Sv.jsx)("strong",{children:m.name})," which provides ",m.features," tailored to your specific requirements."]}),(0,Sv.jsxs)("div",{className:zw,children:[(0,Sv.jsxs)("div",{className:Ww,children:[(0,Sv.jsx)("span",{className:Uw,children:"Starting from:"}),(0,Sv.jsx)("span",{className:Gw,children:m.price})]}),(0,Sv.jsxs)("div",{className:Hw,children:[(0,Sv.jsx)("span",{className:Vw,children:"Match confidence:"}),(0,Sv.jsx)("span",{className:Yw,children:m.confidence})]})]})]})]}),(c.length>0||l.length>0)&&(0,Sv.jsxs)("section",{className:Rw,children:[(0,Sv.jsxs)("div",{className:Mw,children:[(0,Sv.jsx)("span",{className:Ow,children:"\u2699\ufe0f"}),(0,Sv.jsx)("h3",{children:"Additional Requirements"})]}),(0,Sv.jsx)("p",{className:Dw,children:"We've noted your specific requirements for safety coordination and specialized accommodations to ensure optimal service delivery."})]})]})}const Qw="YesNoToggle_toggleContainer__v7VPw",Zw="YesNoToggle_label__jpBnV",Jw="YesNoToggle_toggle__nX5FS",Xw="YesNoToggle_disabled__TdMaS",$w="YesNoToggle_track__B79k3",eN="YesNoToggle_textLabel__7iYH9",tN="YesNoToggle_noText__eDpGD",nN="YesNoToggle_yesText__QDDN5",iN="YesNoToggle_indicator__6haH7",sN="YesNoToggle_no__dtI3-",rN="YesNoToggle_yes__WlLFW",aN=e=>{let{value:t,onChange:n,disabled:i=!1,label:s,className:r=""}=e;const a=()=>{i||n(!t)};return(0,Sv.jsxs)("div",{className:"".concat(Qw," ").concat(r),children:[s&&(0,Sv.jsx)("span",{className:Zw,children:s}),(0,Sv.jsx)("div",{className:"".concat(Jw," ").concat(t?rN:sN," ").concat(i?Xw:""),onClick:a,onKeyPress:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),a())},role:"switch","aria-checked":t,"aria-label":s||"Toggle: currently ".concat(t?"Yes":"No"),tabIndex:i?-1:0,children:(0,Sv.jsxs)("div",{className:$w,children:[(0,Sv.jsx)("span",{className:"".concat(eN," ").concat(tN),children:"No"}),(0,Sv.jsx)("span",{className:"".concat(eN," ").concat(nN),children:"Yes"}),(0,Sv.jsx)("div",{className:iN})]})})]})},oN="FloatingCTA_container__7v6rZ",cN="FloatingCTA_visible__6WitL",lN="FloatingCTA_floatingCTA__bF2t+",dN="FloatingCTA_loading__OcoQl",uN="FloatingCTA_content__0DcYC",hN="FloatingCTA_messageText__py2ur",pN="FloatingCTA_spinner__lZC7W",mN="FloatingCTA_progressContainer__gk1o+",fN="FloatingCTA_progressBar__QhwMq",_N="FloatingCTA_shimmer__Yuoht",gN="FloatingCTA_closeButton__Ippih",vN="FloatingCTA_expandablePanel__9uqK5",yN="FloatingCTA_expanded__TxE3Q",xN="FloatingCTA_backgroundOverlay__2gpcF",bN="FloatingCTA_panelContent__YZBnO",SN="FloatingCTA_panelHeader__YO1Dg",wN="FloatingCTA_stepSection__HBCHG",NN="FloatingCTA_stepProgress__z5Iyd",jN="FloatingCTA_progressInfo__PZmSH",CN="FloatingCTA_progressTrack__L-lG2",kN="FloatingCTA_progressFill__67f7y",PN="FloatingCTA_stepDescription__8ONqd",TN="FloatingCTA_companySection__eB47w",EN="FloatingCTA_divider__R+AML",AN="FloatingCTA_feature__1pLdI",IN="FloatingCTA_stepExample__rGIaY",LN="FloatingCTA_exampleTitle__JqGCy",RN="FloatingCTA_exampleText__VyB29",MN="FloatingCTA_securityBenefit__nQZbu",ON="FloatingCTA_benefitTitle__AErnq",DN="FloatingCTA_benefitText__J7FIb",FN="FloatingCTA_stepFeatures__Jys07",BN="FloatingCTA_expandIndicator__e-PT2",qN="FloatingCTA_attentionBounce__ekAQZ",zN="FloatingCTA_expandIcon__Uklhp",WN="FloatingCTA_iconPath__juM+i",HN="FloatingCTA_collapsed__0xDZo",UN="FloatingCTA_desktop__0qX-m",VN="FloatingCTA_desktopContent__+tz46",GN="FloatingCTA_desktopLeft__XmVVN",YN="FloatingCTA_stepCounter__btlo4",KN="FloatingCTA_separator__2IpCZ",QN="FloatingCTA_progressPercent__19CC5",ZN="FloatingCTA_desktopCenter__R-Pke",JN="FloatingCTA_stepBrief__PyZeD",XN="FloatingCTA_desktopRight__Vo6Jf",$N="FloatingCTA_timeRemaining__+xyJH",ej="FloatingCTA_expandHint__EWBHr",tj="FloatingCTA_desktopPanel__MKlyM",nj="FloatingCTA_desktopPanelContent__W0Pob",ij="FloatingCTA_desktopPanelGrid__4Xd7b",sj="FloatingCTA_desktopPanelLeft__aLPYC",rj="FloatingCTA_desktopPanelRight__POTPr",aj="FloatingCTA_desktopFeatures__xPxBr",oj="FloatingCTA_featureRow__1qv7m";function cj(e,t){const n=Math.max(0,e-t+1);return Math.max(1,Math.round(1.1*n))}function lj(e){return 1===e?"1 minute left":"".concat(e," minutes left")}const dj={executive:"executive",entrepreneur:"entrepreneur",celebrity:"entertainment",athlete:"sports",government:"government",diplomat:"delegation",medical:"healthcare",legal:"legal",creative:"creative",academic:"academic",student:"student",international_visitor:"tourist",finance:"financial",security:"security",family:"family",general:"general",high_profile:"vip",prefer_not_to_say:"default","Executive/Business Professional":"executive","Corporate Management":"corporate","Government/Public Sector Official":"government","Legal Professional":"legal","Healthcare Professional":"healthcare","Financial Services Professional":"financial","Entertainment/Media Professional":"entertainment","Academic/Educational Professional":"academic","Business Owner/Entrepreneur":"entrepreneur","Security/Law Enforcement Professional":"security","Family/Personal Use":"family","Tourist/Visitor to UK":"tourist","Student (University/College)":"student","High-Profile Individual":"vip","Private Household Staff":"household","Journalist/Media Personnel":"journalist","Event Organizer/Promoter":"events","Special Occasion (Wedding, etc)":"special","Sports Professional/Athlete":"sports","Creative Professional":"creative","International Delegation":"delegation","Other/General":"general","Prefer not to say":"default"},uj={executive:{step2:{title:"Executive Protection Benefits",example:"Board members using our service get consistent security teams who understand corporate protocols. One FTSE 100 CEO's regular team now predicts security needs for shareholder meetings 30 minutes in advance and knows all secure entrances at major corporate offices.",withName:"[Name], as an executive, your regular team will learn your meeting patterns, preferred routes to the City, and establish relationships with security at your frequent destinations.",benefits:["Dedicated teams","Corporate protocol expertise","Predictive security planning"]},step3:{title:"Executive Service Excellence",example:"Our executive protection teams master boardroom entrances, shareholder meeting logistics, and discrete communication during sensitive negotiations.",withName:"[Name], your security detail will seamlessly integrate with your corporate security team and maintain appropriate protocols during high-stakes meetings.",benefits:["Boardroom access expertise","Merger & acquisition discretion","C-suite coordination"]},step4:{title:"Executive Coverage Network",example:"From Canary Wharf to Mayfair boardrooms, our teams know every corporate HQ's security procedures and private entrance locations across London.",withName:"[Name], we'll map your regular routes between offices, ensuring swift access through security at all your business locations.",benefits:["City & Canary Wharf expertise","Private entrance access","Multi-site coordination"]},step5:{title:"Executive Special Requirements",example:"Our teams handle confidential document transport, coordinate with corporate aviation, and manage secure communication protocols during sensitive periods.",withName:"[Name], we'll establish protocols for earnings seasons, board meetings, and other sensitive corporate events requiring enhanced security.",benefits:["Document security","Aviation coordination","Blackout period protocols"]},step6:{title:"Executive Priority Response",example:"Immediate response protocols for corporate crises, with teams trained in evacuation procedures and coordination with corporate security departments.",withName:"[Name], your priority protocols will integrate with your company's crisis management plan and security team.",benefits:["Crisis response integration","Evacuation expertise","24/7 command center"]},step7:{title:"Executive Accessibility",example:"Discrete accommodations for any requirements, from mobility assistance to dietary restrictions during business travel.",withName:"[Name], we'll ensure all your specific requirements are met discretely and professionally across all venues.",benefits:["Discrete accommodations","Business travel support","Venue accessibility"]},step8:{title:"Executive Communication",example:"Secure communication channels with end-to-end encryption, direct lines to management, and integration with executive assistants.",withName:"[Name], your EA will have direct coordination with our dispatch, ensuring seamless schedule management.",benefits:["EA integration","Encrypted communications","Executive scheduling"]},step9:{title:"Executive Protection Summary",example:"Complete executive protection service with corporate protocol expertise, predictive security, and seamless integration with your business operations.",withName:"[Name], your personalized executive protection plan is ready, tailored to your corporate responsibilities and security requirements.",benefits:["Full executive coverage","Corporate integration","Predictive security"]}},corporate:{step2:{title:"Corporate Leadership Benefits",example:"Senior managers receive officers familiar with business districts and client entertainment venues. One Fortune 500 director's team seamlessly handles transitions between office, client dinners, and airport runs.",withName:"[Name], your security team will adapt to your corporate schedule, managing both office commutes and client entertainment with equal professionalism.",benefits:["Business district expertise","Client meeting protocols","Flexible scheduling"]},step3:{title:"Corporate Service Features",example:"Teams trained in business etiquette, client relationship management, and discrete presence during important negotiations.",withName:"[Name], your officers will maintain professional appearance standards and understand the importance of client impressions.",benefits:["Business etiquette","Client management","Professional presentation"]},step4:{title:"Corporate Coverage Areas",example:"Coverage across all major business districts, from traditional City locations to emerging tech hubs in Shoreditch and King's Cross.",withName:"[Name], we'll establish efficient routes between your office and key client locations across London's business districts.",benefits:["Business district coverage","Client venue knowledge","Tech hub access"]},step5:{title:"Corporate Special Services",example:"Late-night client entertainment, international visitor coordination, and seamless airport transfers for business travel.",withName:"[Name], we'll handle your client entertainment needs, from Michelin-starred restaurants to private member clubs.",benefits:["Client entertainment","Airport transfers","International coordination"]},step6:{title:"Corporate Priority Protocols",example:"Rapid response for urgent client meetings, backup vehicles for critical presentations, and coordination with office security.",withName:"[Name], your priority protocols include priority response for time-sensitive business matters.",benefits:["Priority response","Backup vehicles","Office coordination"]},step7:{title:"Corporate Accessibility",example:"Professional accommodations for any requirements, ensuring comfort and dignity in all business settings.",withName:"[Name], we'll ensure all your needs are met professionally across corporate venues and client locations.",benefits:["Professional accommodations","Venue assistance","Discrete support"]},step8:{title:"Corporate Communication",example:"Direct lines for executive assistants, calendar integration, and professional communication protocols.",withName:"[Name], your team will coordinate directly with your office for seamless schedule management.",benefits:["Office integration","Calendar sync","Professional protocols"]},step9:{title:"Corporate Protection Summary",example:"Comprehensive corporate security service with business district expertise and client relationship awareness.",withName:"[Name], your corporate protection plan combines security excellence with business professionalism.",benefits:["Complete coverage","Business focus","Client awareness"]}},government:{step2:{title:"Government Security Benefits",example:"Civil servants get vetted officers with security clearance understanding. One Whitehall department head's team manages Westminster protocols, knows all government building entrances, and handles sensitive document transport.",withName:"[Name], as a government official, you'll have officers trained in official protocols, secure building access, and appropriate discretion levels.",benefits:["Security clearance awareness","Government building access","Protocol expertise"]},step3:{title:"Government Service Standards",example:"Officers with enhanced vetting, understanding of official protocols, and experience with government security procedures.",withName:"[Name], your team will be familiar with parliamentary procedures, departmental protocols, and official security requirements.",benefits:["Enhanced vetting","Parliamentary knowledge","Departmental protocols"]},step4:{title:"Government Coverage Network",example:"Complete coverage of Westminster, Whitehall, and all government facilities across Greater London and beyond.",withName:"[Name], we'll ensure swift access through security at all government buildings on your regular routes.",benefits:["Westminster expertise","Whitehall coverage","Government facility access"]},step5:{title:"Government Special Requirements",example:"Secure document transport, red box handling procedures, and coordination with departmental security teams.",withName:"[Name], we'll establish protocols for handling official documents and coordinating with your departmental security.",benefits:["Document security","Red box protocols","Security coordination"]},step6:{title:"Government Priority Response",example:"COBRA-level response protocols, coordination with Met Police, and established procedures for security incidents.",withName:"[Name], your priority protocols align with government security procedures and threat response levels.",benefits:["COBRA protocols","Met Police coordination","Threat response"]},step7:{title:"Government Accessibility",example:"Full accessibility support across all government buildings and official venues, with discrete assistance.",withName:"[Name], we'll ensure appropriate support at all official venues while maintaining professional standards.",benefits:["Building accessibility","Official venue support","Discrete assistance"]},step8:{title:"Government Communication",example:"Secure government-approved communication channels with appropriate encryption and protocol compliance.",withName:"[Name], all communications will meet government security standards and protocol requirements.",benefits:["Secure channels","Protocol compliance","Government standards"]},step9:{title:"Government Protection Summary",example:"Complete government-grade protection with vetted officers, protocol expertise, and secure procedures.",withName:"[Name], your government protection plan meets all official requirements with appropriate security levels.",benefits:["Government-grade security","Full compliance","Protocol expertise"]}},legal:{step2:{title:"Legal Professional Benefits",example:"Barristers get officers familiar with all London court locations and security procedures. One QC's regular team knows Royal Courts of Justice protocols, manages wig and gown transport, and ensures timely arrival for hearings.",withName:"[Name], in your legal practice, you'll have officers who understand court schedules, client confidentiality, and the importance of punctual court appearances.",benefits:["Court protocol knowledge","Document security","Client confidentiality"]},step3:{title:"Legal Service Excellence",example:"Teams trained in court procedures, document handling, and maintaining absolute client confidentiality during sensitive cases.",withName:"[Name], your officers will understand the gravity of legal proceedings and maintain appropriate decorum at all venues.",benefits:["Court expertise","Case confidentiality","Document handling"]},step4:{title:"Legal Coverage Network",example:"Coverage of all London courts, from the Royal Courts of Justice to specialist tribunals and arbitration centers.",withName:"[Name], we know every court entrance, chambers location, and legal venue across London's legal district.",benefits:["Court locations","Chambers access","Tribunal expertise"]},step5:{title:"Legal Special Services",example:"Secure document transport between chambers and courts, client meeting discretion, and coordination with court security.",withName:"[Name], we'll handle sensitive case materials, ensure client meeting privacy, and manage court document logistics.",benefits:["Document transport","Client privacy","Court coordination"]},step6:{title:"Legal Priority Protocols",example:"Priority response for urgent injunctions, last-minute hearings, and time-critical legal proceedings.",withName:"[Name], your priority protocols include immediate response for urgent court matters and injunction services.",benefits:["Urgent hearing response","Injunction support","24/7 availability"]},step7:{title:"Legal Accessibility",example:"Full support across all court buildings, including assistance with legal materials and court dress.",withName:"[Name], we'll ensure you have appropriate support at all legal venues while maintaining professional standards.",benefits:["Court accessibility","Material assistance","Professional support"]},step8:{title:"Legal Communication",example:"Confidential communication channels with chambers integration and appropriate client confidentiality protocols.",withName:"[Name], your clerks will have direct coordination with our dispatch for seamless diary management.",benefits:["Chambers integration","Confidential channels","Clerk coordination"]},step9:{title:"Legal Protection Summary",example:"Complete legal professional protection with court expertise, document security, and absolute confidentiality.",withName:"[Name], your legal protection plan ensures punctual court attendance with complete confidentiality.",benefits:["Full legal coverage","Court expertise","Complete confidentiality"]}},healthcare:{step2:{title:"Medical Professional Benefits",example:"Senior consultants get Protection Officers who understand on-call schedules and hospital protocols. One neurosurgeon's team manages urgent callouts, knows every London hospital's staff entrance, and handles equipment transport.",withName:"[Name], as a healthcare professional, your team will adapt to on-call schedules, know hospital protocols, and manage urgent medical callouts.",benefits:["Hospital access knowledge","On-call flexibility","Medical priority understanding"]},step3:{title:"Healthcare Service Features",example:"Teams experienced with medical schedules, priority response, and discrete presence during patient consultations.",withName:"[Name], your officers understand medical urgency, patient confidentiality, and the unique demands of healthcare.",benefits:["Medical urgency","Patient confidentiality","Healthcare protocols"]},step4:{title:"Healthcare Coverage Network",example:"Coverage of all major hospitals, private clinics, and medical facilities across London and home counties.",withName:"[Name], we know every hospital entrance, consultant parking area, and urgent care department across your practice locations.",benefits:["Hospital coverage","Clinic access","Priority routes"]},step5:{title:"Healthcare Special Services",example:"Medical equipment transport, on-call response, and coordination with hospital security teams.",withName:"[Name], we'll handle medical equipment, respond to urgent calls, and coordinate with hospital security.",benefits:["Equipment transport","Priority response","Hospital coordination"]},step6:{title:"Healthcare Priority Protocols",example:"Immediate response for medical priorities, with Protection Officers trained in priority blue-light cooperation.",withName:"[Name], your priority protocols include priority response for medical callouts and patient emergencies.",benefits:["Medical priority response","Blue-light cooperation","Priority dispatch"]},step7:{title:"Healthcare Accessibility",example:"Full support for any requirements, with understanding of medical conditions and appropriate assistance.",withName:"[Name], we'll provide appropriate support with full understanding of medical needs and sensitivities.",benefits:["Medical understanding","Sensitive support","Full accessibility"]},step8:{title:"Healthcare Communication",example:"Direct lines for on-call coordination, integration with hospital switchboards, and priority contact protocols.",withName:"[Name], your on-call coordinator will have direct access to our priority dispatch system.",benefits:["On-call integration","Hospital coordination","Priority contacts"]},step9:{title:"Healthcare Protection Summary",example:"Complete medical professional protection with hospital expertise, priority response, and on-call flexibility.",withName:"[Name], your healthcare protection plan ensures reliable support for all medical responsibilities.",benefits:["Medical coverage","Priority ready","Hospital expertise"]}},financial:{step2:{title:"Financial Services Benefits",example:"Investment bankers get teams familiar with trading hours and City protocols. One hedge fund manager's officers handle 4 AM market opening arrivals and know all Canary Wharf security procedures.",withName:"[Name], in financial services, your team will understand market hours, handle early starts, and navigate City security efficiently.",benefits:["Trading hours adaptation","Financial district expertise","Corporate security protocols"]},step3:{title:"Financial Service Excellence",example:"Teams adapted to market hours, understanding of deal sensitivity, and experience with financial district protocols.",withName:"[Name], your officers understand deal confidentiality, market timing, and the pace of financial services.",benefits:["Market timing","Deal confidentiality","Financial protocols"]},step4:{title:"Financial Coverage Network",example:"Complete coverage of the Square Mile, Canary Wharf, and emerging fintech hubs across London.",withName:"[Name], we know every trading floor entrance, dealing room location, and financial venue in the City.",benefits:["City coverage","Canary Wharf expertise","Fintech hub access"]},step5:{title:"Financial Special Services",example:"Pre-market arrivals, late-night deal closings, and secure transport during sensitive transaction periods.",withName:"[Name], we'll accommodate market hours, handle deal roadshows, and maintain security during transactions.",benefits:["Market hours","Deal roadshows","Transaction security"]},step6:{title:"Financial Priority Protocols",example:"Immediate response for market events, with backup vehicles for critical trading days and deal closings.",withName:"[Name], your priority protocols include priority response for market-critical situations.",benefits:["Market event response","Trading day priority","Deal closing support"]},step7:{title:"Financial Accessibility",example:"Professional support across all financial venues, maintaining the pace and standards of the City.",withName:"[Name], we'll ensure seamless support at all financial venues while maintaining professional standards.",benefits:["Venue support","Professional standards","City pace"]},step8:{title:"Financial Communication",example:"Secure channels for sensitive periods, integration with trading assistants, and compliance with financial regulations.",withName:"[Name], communications will meet financial regulatory standards with appropriate confidentiality.",benefits:["Regulatory compliance","Secure channels","Assistant integration"]},step9:{title:"Financial Protection Summary",example:"Complete financial services protection with market hours flexibility and transaction confidentiality.",withName:"[Name], your financial protection plan accommodates market demands with complete security.",benefits:["Market flexibility","Complete security","Transaction confidentiality"]}},entertainment:{step2:{title:"Entertainment Industry Benefits",example:"Performers get teams trained in venue protocols and crowd management. One West End star's regular Protection Officers know every stage door, handle paparazzi situations, and coordinate with venue security teams.",withName:"[Name], as an entertainer, your security team will be trained in discrete crowd management, venue protocols, and media interaction handling.",benefits:["Venue expertise","Paparazzi management","Fan interaction protocols"]},step3:{title:"Entertainment Service Features",example:"Teams experienced with red carpets, stage doors, and discrete celebrity protection protocols.",withName:"[Name], your officers understand show business demands, fan dynamics, and media presence management.",benefits:["Red carpet expertise","Stage door protocols","Celebrity protection"]},step4:{title:"Entertainment Coverage Network",example:"Coverage of all major venues, from West End theatres to O2 Arena, including studios and production facilities.",withName:"[Name], we know every venue entrance, VIP area, and backstage route across London's entertainment scene.",benefits:["Venue coverage","VIP access","Backstage routes"]},step5:{title:"Entertainment Special Services",example:"Award ceremony logistics, tour management support, and coordination with venue and production security.",withName:"[Name], we'll handle premiere logistics, tour schedules, and coordinate with production security teams.",benefits:["Premiere logistics","Tour support","Production coordination"]},step6:{title:"Entertainment Priority Protocols",example:"Rapid extraction from crowded venues, paparazzi evasion techniques, and fan incident management.",withName:"[Name], your priority protocols include crowd extraction, media evasion, and venue evacuation procedures.",benefits:["Crowd extraction","Media evasion","Venue evacuation"]},step7:{title:"Entertainment Accessibility",example:"Discrete support at all venues, maintaining image while ensuring comfort and accessibility.",withName:"[Name], we'll provide discrete support at all venues while maintaining your public image.",benefits:["Discrete support","Image maintenance","Venue accessibility"]},step8:{title:"Entertainment Communication",example:"Coordination with management, publicists, and venue security for seamless event execution.",withName:"[Name], your management team will have direct coordination with our specialized entertainment division.",benefits:["Management coordination","Publicist integration","Venue liaison"]},step9:{title:"Entertainment Protection Summary",example:"Complete entertainment industry protection with venue expertise and media management capabilities.",withName:"[Name], your entertainment protection plan ensures safe, discrete coverage at all venues and events.",benefits:["Industry expertise","Complete coverage","Media management"]}},academic:{step2:{title:"Academic Security Benefits",example:"University professors get officers familiar with campus layouts and academic schedules. One Oxford don's team knows college protocols, manages lecture tours, and handles conference travel.",withName:"[Name], in academia, your team will understand university protocols, manage conference schedules, and handle research-related travel.",benefits:["Campus navigation","Academic calendar awareness","Conference logistics"]},step3:{title:"Academic Service Features",example:"Teams understanding academic schedules, research requirements, and the unique culture of university life.",withName:"[Name], your officers appreciate academic traditions, understand term schedules, and respect scholarly pursuits.",benefits:["Academic understanding","Term awareness","Research respect"]},step4:{title:"Academic Coverage Network",example:"Coverage of all London universities, research facilities, and academic venues including conference centers.",withName:"[Name], we know every campus entrance, lecture hall location, and academic venue across London.",benefits:["University coverage","Research facilities","Conference venues"]},step5:{title:"Academic Special Services",example:"Late library sessions, conference travel, research facility access, and visiting scholar coordination.",withName:"[Name], we'll accommodate late research hours, handle conference logistics, and coordinate visiting academic transport.",benefits:["Research hours","Conference travel","Scholar coordination"]},step6:{title:"Academic Priority Protocols",example:"Response protocols for campus emergencies, with understanding of university security procedures.",withName:"[Name], your priority protocols integrate with campus security and university priority procedures.",benefits:["Campus integration","University protocols","Priority coordination"]},step7:{title:"Academic Accessibility",example:"Support across all academic venues, from ancient college buildings to modern research facilities.",withName:"[Name], we'll ensure appropriate support at all academic venues, respecting institutional traditions.",benefits:["Venue accessibility","Traditional respect","Modern facilities"]},step8:{title:"Academic Communication",example:"Coordination with departmental administrators, integration with academic calendars, and conference planning.",withName:"[Name], your department will have direct coordination for seamless academic schedule management.",benefits:["Department integration","Calendar coordination","Conference planning"]},step9:{title:"Academic Protection Summary",example:"Complete academic protection with campus expertise and conference travel management.",withName:"[Name], your academic protection plan supports all scholarly activities with appropriate security.",benefits:["Campus expertise","Research support","Conference coverage"]}},entrepreneur:{step2:{title:"Entrepreneur Protection Benefits",example:"Startup founders get flexible teams adapting to unpredictable schedules. One tech CEO's officers handle everything from investor meetings in Shoreditch to international airport runs at odd hours.",withName:"[Name], as a business owner, your security adapts to startup life - irregular hours, multiple meeting locations, and rapid schedule changes.",benefits:["Schedule flexibility","Multi-location coordination","Investor meeting protocols"]},step3:{title:"Entrepreneur Service Features",example:"Teams adapted to startup pace, understanding of investor relations, and flexibility for rapid pivots.",withName:"[Name], your officers understand startup dynamics, pitch meeting importance, and the need for agility.",benefits:["Startup flexibility","Pitch support","Agile response"]},step4:{title:"Entrepreneur Coverage Network",example:"Coverage from tech hubs in Shoreditch to investor offices in Mayfair, plus all London airports.",withName:"[Name], we cover all your business locations, from co-working spaces to investor offices across London.",benefits:["Tech hub coverage","Investor locations","Airport access"]},step5:{title:"Entrepreneur Special Services",example:"Last-minute investor meetings, product launch events, and international business travel coordination.",withName:"[Name], we'll handle urgent investor calls, support product launches, and manage startup event logistics.",benefits:["Investor meetings","Launch events","Travel coordination"]},step6:{title:"Entrepreneur Priority Protocols",example:"Immediate response for business-critical situations, with understanding of startup urgency.",withName:"[Name], your priority protocols prioritize business-critical meetings and time-sensitive opportunities.",benefits:["Business priority","Opportunity response","Startup urgency"]},step7:{title:"Entrepreneur Accessibility",example:"Support at all business venues, from casual co-working spaces to formal boardrooms.",withName:"[Name], we'll provide appropriate support across all your diverse business environments.",benefits:["Venue flexibility","Environment adaptation","Professional support"]},step8:{title:"Entrepreneur Communication",example:"Flexible communication adapting to startup pace, with integration options for various scheduling tools.",withName:"[Name], we'll integrate with your preferred scheduling tools and adapt to rapid changes.",benefits:["Tool integration","Flexible communication","Rapid adaptation"]},step9:{title:"Entrepreneur Protection Summary",example:"Complete entrepreneur protection with maximum flexibility and business-focused security.",withName:"[Name], your entrepreneur protection plan provides agile security for all business ventures.",benefits:["Maximum flexibility","Business focus","Agile security"]}},security:{step2:{title:"Security Professional Benefits",example:"Off-duty officers get peer-level protection from experienced colleagues. One Met police inspector uses our service for family transport, appreciating the professional understanding of threat assessment.",withName:"[Name], as a security professional, you'll work with peer-level officers who understand operational security and professional courtesy.",benefits:["Peer-level expertise","Operational security","Professional protocols"]},step3:{title:"Security Service Standards",example:"Teams of experienced officers providing peer-level protection with full operational understanding.",withName:"[Name], your fellow professionals provide protection with complete understanding of security protocols.",benefits:["Peer expertise","Protocol knowledge","Operational understanding"]},step4:{title:"Security Coverage Network",example:"Coverage across all areas with particular attention to threat assessment and route planning.",withName:"[Name], we provide coverage with professional-level threat assessment and tactical awareness.",benefits:["Threat assessment","Tactical planning","Professional coverage"]},step5:{title:"Security Special Services",example:"Family protection, off-duty transport, and coordination with professional security networks.",withName:"[Name], we'll provide family protection and off-duty support with professional understanding.",benefits:["Family protection","Off-duty support","Network coordination"]},step6:{title:"Security Priority Protocols",example:"Professional-level priority response with full understanding of threat escalation and procedures.",withName:"[Name], your priority protocols reflect professional standards and operational procedures.",benefits:["Professional response","Threat escalation","Operational procedures"]},step7:{title:"Security Accessibility",example:"Support with full understanding of professional requirements and operational considerations.",withName:"[Name], we'll provide support with complete professional understanding and discretion.",benefits:["Professional support","Operational awareness","Complete discretion"]},step8:{title:"Security Communication",example:"Secure professional channels with appropriate operational security and protocol compliance.",withName:"[Name], communications meet professional security standards with operational protocols.",benefits:["Secure channels","Professional standards","Protocol compliance"]},step9:{title:"Security Protection Summary",example:"Peer-level protection from experienced professionals with complete operational understanding.",withName:"[Name], your security protection provides professional-grade coverage from fellow experts.",benefits:["Peer-level service","Professional expertise","Operational excellence"]}},family:{step2:{title:"Family Protection Benefits",example:"Families get consistent teams trained in child safety protocols. One Kensington family's regular officers handle school runs, know car seat regulations, and manage children's activity schedules.",withName:"[Name], your family's security team will be trained in child protection, school run efficiency, and family logistics management.",benefits:["Child safety expertise","School run coordination","Family-friendly officers"]},step3:{title:"Family Service Features",example:"Teams trained in child safety, family dynamics, and maintaining a friendly yet professional presence.",withName:"[Name], your officers understand family needs, child safety requirements, and activity scheduling.",benefits:["Child safety","Family dynamics","Friendly presence"]},step4:{title:"Family Coverage Areas",example:"Coverage of all family destinations - schools, activities, shopping areas, and entertainment venues.",withName:"[Name], we cover all your family's regular routes, from school gates to activity centers across London.",benefits:["School coverage","Activity venues","Family destinations"]},step5:{title:"Family Special Services",example:"School run management, activity coordination, and safe transport for children's friends.",withName:"[Name], we'll manage complex school runs, coordinate activities, and safely transport young Principals.",benefits:["School runs","Activity transport","Friend inclusion"]},step6:{title:"Family Priority Protocols",example:"Child-focused priority procedures with immediate family notification and coordination.",withName:"[Name], your priority protocols prioritize child safety with immediate family coordination.",benefits:["Child safety priority","Family notification","Coordinated response"]},step7:{title:"Family Accessibility",example:"Full support for all family members, including assistance with prams, car seats, and equipment.",withName:"[Name], we'll provide appropriate support for all family members and their equipment needs.",benefits:["Family support","Equipment assistance","Child-friendly help"]},step8:{title:"Family Communication",example:"Family-friendly communication with parent coordination and appropriate child interaction.",withName:"[Name], we'll coordinate with all family members appropriately, maintaining clear communication.",benefits:["Parent coordination","Family updates","Appropriate interaction"]},step9:{title:"Family Protection Summary",example:"Complete family protection with child safety expertise and family logistics management.",withName:"[Name], your family protection plan ensures safe, reliable transport for all family members.",benefits:["Complete family coverage","Child safety","Reliable service"]}},tourist:{step2:{title:"Visitor Protection Benefits",example:"International visitors get officers knowledgeable about tourist areas and cultural considerations. One diplomatic family's team provides local insights while maintaining security awareness.",withName:"[Name], as a visitor to the UK, your officers will combine security expertise with local knowledge and cultural sensitivity.",benefits:["Tourist area knowledge","Cultural awareness","Embassy location familiarity"]},step3:{title:"Visitor Service Features",example:"Teams providing local expertise, cultural awareness, and tourist secureDestination knowledge.",withName:"[Name], your officers offer local insights, tourist guidance, and cultural bridge-building.",benefits:["Local expertise","Tourist guidance","Cultural bridging"]},step4:{title:"Visitor Coverage Network",example:"Coverage of all major tourist destinations, hotels, airports, and embassy districts.",withName:"[Name], we cover all visitor hotspots from Westminster to Windsor, plus all London airports.",benefits:["Tourist destinations","Hotel coverage","Airport transfers"]},step5:{title:"Visitor Special Services",example:"Tourist itinerary support, shopping district navigation, and cultural site access assistance.",withName:"[Name], we'll support your UK visit with local knowledge, shopping assistance, and cultural insights.",benefits:["Itinerary support","Shopping assistance","Cultural access"]},step6:{title:"Visitor Priority Protocols",example:"Multi-lingual support, embassy coordination, and international priority procedures.",withName:"[Name], your priority protocols include embassy liaison and international support coordination.",benefits:["Embassy coordination","Multi-lingual support","International procedures"]},step7:{title:"Visitor Accessibility",example:"Support navigating UK systems and venues with cultural sensitivity and patience.",withName:"[Name], we'll help navigate UK venues and systems with patient, culturally-aware assistance.",benefits:["Navigation support","Cultural sensitivity","Patient assistance"]},step8:{title:"Visitor Communication",example:"Multi-lingual options, international calling support, and time zone awareness.",withName:"[Name], we offer communication options suited to international visitors and time zones.",benefits:["Language options","International support","Time zone flexibility"]},step9:{title:"Visitor Protection Summary",example:"Complete visitor protection combining security with local expertise and cultural awareness.",withName:"[Name], your UK visitor protection ensures safe, informed exploration of Britain.",benefits:["Visitor security","Local knowledge","Cultural support"]}},student:{step2:{title:"Student Safety Benefits",example:"University students get affordable protection for late study sessions and social events. One LSE student's regular Protection Officer knows all campus buildings and provides safe late-night library returns.",withName:"[Name], as a student, you'll have officers who understand university life, exam pressures, and the need for safe, affordable transport.",benefits:["Campus expertise","Student budget consideration","Late-night availability"]},step3:{title:"Student Service Features",example:"Budget-conscious service with understanding of student life, exam schedules, and social patterns.",withName:"[Name], your officers understand student budgets, exam stress, and the importance of reliable transport.",benefits:["Budget awareness","Exam understanding","Social life balance"]},step4:{title:"Student Coverage Areas",example:"Coverage of all London universities, student areas, libraries, and popular social venues.",withName:"[Name], we cover all student areas from campus to Camden, libraries to late-night venues.",benefits:["University coverage","Student areas","Social venues"]},step5:{title:"Student Special Services",example:"Late library runs, exam period support, and safe transport from social events.",withName:"[Name], we'll support your studies with late library runs, exam transport, and safe social returns.",benefits:["Library runs","Exam support","Social safety"]},step6:{title:"Student Priority Protocols",example:"Rapid response for student emergencies with understanding of university support systems.",withName:"[Name], your priority protocols include campus security coordination and student support awareness.",benefits:["Campus coordination","Student support","Rapid response"]},step7:{title:"Student Accessibility",example:"Affordable, accessible support understanding student needs and budget constraints.",withName:"[Name], we'll provide appropriate support within student budget considerations.",benefits:["Affordable support","Student understanding","Budget respect"]},step8:{title:"Student Communication",example:"Flexible communication via preferred student channels with budget transparency.",withName:"[Name], we'll communicate via your preferred channels with clear, upfront pricing.",benefits:["Flexible channels","Price transparency","Student-friendly"]},step9:{title:"Student Protection Summary",example:"Affordable student protection with campus expertise and social safety focus.",withName:"[Name], your student protection plan balances safety with budget for complete university coverage.",benefits:["Student safety","Budget balance","Campus coverage"]}},vip:{step2:{title:"VIP Protection Benefits",example:"Public figures get teams trained in advanced protection and media management. One FTSE CEO's team coordinates with corporate security, manages public appearances, and maintains absolute discretion.",withName:"[Name], as a high-profile individual, your team will provide discrete, professional protection with media awareness and public appearance expertise.",benefits:["Advanced protection protocols","Media management","Absolute discretion"]},step3:{title:"VIP Service Excellence",example:"Elite teams providing celebrity-level protection with media management and public appearance expertise.",withName:"[Name], your elite officers deliver red-carpet ready protection with complete discretion.",benefits:["Elite protection","Media expertise","Public appearance support"]},step4:{title:"VIP Coverage Network",example:"Global coverage capabilities with primary focus on high-end London venues and private locations.",withName:"[Name], we provide coverage from Mayfair to Monaco, with expertise in exclusive venues worldwide.",benefits:["Global capability","Exclusive venues","Private locations"]},step5:{title:"VIP Special Services",example:"Red carpet events, private jet coordination, and liaison with existing security details.",withName:"[Name], we'll coordinate private aviation, manage red carpet events, and integrate with your security team.",benefits:["Aviation coordination","Event management","Security integration"]},step6:{title:"VIP Priority Protocols",example:"Advanced threat response with immediate extraction capabilities and media management.",withName:"[Name], your priority protocols include advanced threat response and discrete extraction procedures.",benefits:["Advanced response","Extraction capability","Media control"]},step7:{title:"VIP Accessibility",example:"Discrete, dignified support maintaining image while ensuring comfort and accessibility.",withName:"[Name], we'll provide invisible support that maintains your public image perfectly.",benefits:["Discrete support","Image maintenance","Dignified assistance"]},step8:{title:"VIP Communication",example:"Dedicated account management with 24/7 concierge-level service and encrypted communications.",withName:"[Name], you'll have dedicated management with encrypted channels and concierge service.",benefits:["Dedicated management","Encrypted channels","Concierge service"]},step9:{title:"VIP Protection Summary",example:"Elite VIP protection with advanced protocols, media management, and absolute discretion.",withName:"[Name], your VIP protection delivers celebrity-level security with complete confidentiality.",benefits:["Elite service","Complete discretion","Advanced protection"]}},household:{step2:{title:"Household Staff Benefits",example:"Estate staff get reliable transport between properties and for employer errands. One Belgravia butler's regular Protection Officer manages household logistics, supplier runs, and maintains employer confidentiality.",withName:"[Name], in household service, your transport will support estate logistics, maintain employer confidentiality, and adapt to household schedules.",benefits:["Estate navigation","Employer confidentiality","Flexible scheduling"]},step3:{title:"Household Service Features",example:"Teams understanding household protocols, employer requirements, and the importance of discretion.",withName:"[Name], your officers understand household service standards, employer expectations, and estate protocols.",benefits:["Service standards","Employer awareness","Estate protocols"]},step4:{title:"Household Coverage Network",example:"Coverage between London properties, country estates, and supplier locations across the UK.",withName:"[Name], we cover all estate locations from Mayfair to country properties and key suppliers.",benefits:["Estate coverage","Country properties","Supplier routes"]},step5:{title:"Household Special Services",example:"Supplier collections, estate errands, staff transport, and employer family support.",withName:"[Name], we'll handle supplier runs, staff coordination, and support employer family needs.",benefits:["Supplier runs","Staff transport","Family support"]},step6:{title:"Household Priority Protocols",example:"Immediate response for employer emergencies with appropriate household protocol awareness.",withName:"[Name], your priority protocols align with household procedures and employer requirements.",benefits:["Employer priority","Household alignment","Protocol awareness"]},step7:{title:"Household Accessibility",example:"Support for all household duties with understanding of service standards and estate requirements.",withName:"[Name], we'll support all household needs with appropriate service standard awareness.",benefits:["Service support","Estate understanding","Duty assistance"]},step8:{title:"Household Communication",example:"Coordination with estate management, butler's pantry, and household administration.",withName:"[Name], we'll coordinate with household management maintaining appropriate service protocols.",benefits:["Estate coordination","Management integration","Service protocols"]},step9:{title:"Household Protection Summary",example:"Complete household staff support with estate expertise and employer confidentiality.",withName:"[Name], your household service plan ensures reliable support for all estate duties.",benefits:["Estate support","Complete confidentiality","Reliable service"]}},journalist:{step2:{title:"Media Professional Benefits",example:"Journalists get officers who understand deadline pressures and assignment unpredictability. One BBC correspondent's team handles breaking news callouts and knows all London media venues.",withName:"[Name], as a media professional, your team will adapt to breaking news, manage equipment transport, and understand deadline pressures.",benefits:["Deadline awareness","Equipment handling","News venue knowledge"]},step3:{title:"Media Service Features",example:"Teams adapted to news cycles, understanding of editorial deadlines, and equipment security.",withName:"[Name], your officers understand news urgency, editorial deadlines, and the importance of source protection.",benefits:["News cycle adaptation","Deadline respect","Source confidentiality"]},step4:{title:"Media Coverage Network",example:"Coverage of all media venues, from Broadcasting House to press conference locations citywide.",withName:"[Name], we know every newsroom, broadcast studio, and press venue across London.",benefits:["Media venue coverage","Studio locations","Press venues"]},step5:{title:"Media Special Services",example:"Breaking news response, equipment transport, and coordination with news desk schedules.",withName:"[Name], we'll respond to breaking news, handle broadcast equipment, and adapt to editorial changes.",benefits:["Breaking news","Equipment transport","Editorial flexibility"]},step6:{title:"Media Priority Protocols",example:"Immediate response for breaking stories with understanding of news priority and deadlines.",withName:"[Name], your priority protocols prioritize breaking news and editorial deadlines.",benefits:["News priority","Breaking story response","Deadline focus"]},step7:{title:"Media Accessibility",example:"Support at all news venues with equipment assistance and deadline awareness.",withName:"[Name], we'll provide support at all media venues with full equipment assistance.",benefits:["Venue support","Equipment help","Deadline understanding"]},step8:{title:"Media Communication",example:"Integration with news desks, editorial coordination, and deadline-aware scheduling.",withName:"[Name], your news desk will have direct coordination for breaking story response.",benefits:["News desk integration","Editorial coordination","Breaking news alerts"]},step9:{title:"Media Protection Summary",example:"Complete media professional support with deadline awareness and news venue expertise.",withName:"[Name], your media protection ensures you never miss a story with reliable, responsive transport.",benefits:["Media coverage","Deadline reliability","News expertise"]}},events:{step2:{title:"Event Professional Benefits",example:"Event organizers get teams familiar with venue logistics and supplier coordination. One wedding planner's regular officers handle multiple venue visits, supplier collections, and client meetings.",withName:"[Name], as an event organizer, your team will understand venue logistics, handle supplier coordination, and manage event day pressures.",benefits:["Venue expertise","Supplier coordination","Event timeline management"]},step3:{title:"Event Service Excellence",example:"Teams experienced with event timelines, vendor coordination, and high-pressure event days.",withName:"[Name], your officers understand event dynamics, vendor relationships, and timeline criticality.",benefits:["Timeline expertise","Vendor relations","Event day focus"]},step4:{title:"Event Coverage Network",example:"Coverage of all London venues, supplier locations, and client meeting points.",withName:"[Name], we know every event venue, supplier warehouse, and client location across London.",benefits:["Venue coverage","Supplier locations","Client venues"]},step5:{title:"Event Special Services",example:"Multi-venue coordination, supplier runs, client transport, and event day logistics.",withName:"[Name], we'll coordinate multiple venues, manage supplier collections, and handle event day transport.",benefits:["Multi-venue support","Supplier logistics","Event transport"]},step6:{title:"Event Priority Protocols",example:"Rapid response for event emergencies with backup vehicle availability for critical moments.",withName:"[Name], your priority protocols include event day priority and backup vehicle availability.",benefits:["Event priority","Backup vehicles","Crisis management"]},step7:{title:"Event Accessibility",example:"Support at all venues with equipment handling and guest assistance capabilities.",withName:"[Name], we'll provide venue support with full equipment and guest assistance.",benefits:["Venue assistance","Equipment handling","Guest support"]},step8:{title:"Event Communication",example:"Coordination with event teams, vendor liaison, and real-time event day updates.",withName:"[Name], your event team will have direct coordination for seamless event execution.",benefits:["Team coordination","Vendor liaison","Real-time updates"]},step9:{title:"Event Protection Summary",example:"Complete event professional support with venue expertise and supplier coordination.",withName:"[Name], your event protection ensures flawless execution with reliable logistics support.",benefits:["Event expertise","Flawless execution","Logistics support"]}},special:{step2:{title:"Special Event Benefits",example:"Special events receive dedicated coordination and attention to detail. One couple's wedding team managed guest transport, venue coordination, and ensured perfect timing throughout the day.",withName:"[Name], for your special occasion, we'll provide meticulous planning, guest coordination, and ensure every detail is perfect.",benefits:["Event coordination","Guest management","Special attention to detail"]},step3:{title:"Special Occasion Excellence",example:"Dedicated teams providing white-glove service for life's most important moments.",withName:"[Name], your special day receives our best officers providing impeccable service.",benefits:["White-glove service","Special attention","Memorable moments"]},step4:{title:"Special Event Coverage",example:"Coverage for all event locations, from ceremonies to receptions and guest accommodations.",withName:"[Name], we'll cover all your event locations ensuring seamless transitions throughout your day.",benefits:["Complete coverage","Seamless transitions","Guest coordination"]},step5:{title:"Special Event Services",example:"Guest shuttle services, VIP transport, photography location visits, and timeline management.",withName:"[Name], we'll manage guest transport, coordinate photo locations, and maintain your timeline.",benefits:["Guest shuttles","Photo coordination","Timeline management"]},step6:{title:"Special Event Priority",example:"Contingency planning for weather, delays, and any unexpected situations on your special day.",withName:"[Name], your special day includes full contingency planning for any situation.",benefits:["Contingency planning","Weather backup","Problem solving"]},step7:{title:"Special Event Accessibility",example:"Ensuring all guests, regardless of needs, can fully participate in your celebration.",withName:"[Name], we'll ensure every guest can comfortably enjoy your special occasion.",benefits:["Guest inclusion","Full accessibility","Comfort assurance"]},step8:{title:"Special Event Communication",example:"Dedicated event coordinator with real-time updates and guest coordination.",withName:"[Name], you'll have a dedicated coordinator managing all transport details for your event.",benefits:["Dedicated coordinator","Guest updates","Event management"]},step9:{title:"Special Event Summary",example:"Complete special occasion management ensuring your day is perfect in every detail.",withName:"[Name], your special event protection ensures a perfect, stress-free celebration.",benefits:["Perfect execution","Stress-free day","Complete management"]}},sports:{step2:{title:"Athletic Professional Benefits",example:"Athletes get teams understanding training schedules and competition logistics. One Premier League player's officers handle training ground runs, match day logistics, and fan interaction management.",withName:"[Name], as an athlete, your team will adapt to training schedules, manage competition logistics, and handle fan interactions professionally.",benefits:["Training schedule adaptation","Venue expertise","Fan management"]},step3:{title:"Athletic Service Features",example:"Teams adapted to training regimens, competition schedules, and sports venue protocols.",withName:"[Name], your officers understand athletic demands, recovery needs, and competition pressures.",benefits:["Training awareness","Recovery respect","Competition focus"]},step4:{title:"Athletic Coverage Network",example:"Coverage of all training facilities, competition venues, and sports medicine centers.",withName:"[Name], we cover all sporting venues from training grounds to stadiums across the UK.",benefits:["Training facilities","Competition venues","Medical centers"]},step5:{title:"Athletic Special Services",example:"Early morning training runs, competition day logistics, and equipment transport.",withName:"[Name], we'll handle early training sessions, manage competition days, and transport equipment safely.",benefits:["Training support","Competition logistics","Equipment transport"]},step6:{title:"Athletic Priority Protocols",example:"Immediate response for sports injuries with direct routes to sports medicine facilities.",withName:"[Name], your priority protocols include sports injury response and medical facility access.",benefits:["Injury response","Medical access","Rapid transport"]},step7:{title:"Athletic Accessibility",example:"Support for any physical requirements with understanding of athletic recovery needs.",withName:"[Name], we'll support your physical needs with full understanding of athletic requirements.",benefits:["Physical support","Recovery awareness","Athletic understanding"]},step8:{title:"Athletic Communication",example:"Coordination with coaching staff, integration with training schedules, and competition planning.",withName:"[Name], your coaching team will have direct coordination for training and competition.",benefits:["Coach coordination","Schedule integration","Competition planning"]},step9:{title:"Athletic Protection Summary",example:"Complete athletic support with training flexibility and competition expertise.",withName:"[Name], your athletic protection supports peak performance with reliable transport.",benefits:["Performance support","Training flexibility","Competition ready"]}},creative:{step2:{title:"Creative Industry Benefits",example:"Artists and designers get officers who understand studio schedules and gallery events. One Shoreditch artist's team handles art transport, gallery openings, and maintains creative industry discretion.",withName:"[Name], as a creative professional, your team will understand unconventional schedules, handle valuable works, and respect creative processes.",benefits:["Flexible scheduling","Artwork handling","Gallery venue knowledge"]},step3:{title:"Creative Service Features",example:"Teams respecting creative processes, understanding unconventional schedules, and artwork value.",withName:"[Name], your officers appreciate creative work, respect studio time, and understand art world dynamics.",benefits:["Creative respect","Studio awareness","Art world understanding"]},step4:{title:"Creative Coverage Network",example:"Coverage of studios, galleries, creative spaces, and cultural venues across London.",withName:"[Name], we cover all creative spaces from East London studios to West End galleries.",benefits:["Studio coverage","Gallery access","Cultural venues"]},step5:{title:"Creative Special Services",example:"Artwork transport, late studio sessions, gallery opening logistics, and supplier runs.",withName:"[Name], we'll transport artworks safely, support late creative sessions, and manage opening nights.",benefits:["Art transport","Late sessions","Opening logistics"]},step6:{title:"Creative Priority Protocols",example:"Careful handling procedures for valuable works with understanding of creative deadlines.",withName:"[Name], your priority protocols include artwork protection and exhibition deadline priority.",benefits:["Artwork protection","Deadline priority","Careful handling"]},step7:{title:"Creative Accessibility",example:"Support at all creative venues with equipment assistance and material handling.",withName:"[Name], we'll provide support at all creative spaces with appropriate material handling.",benefits:["Venue support","Material handling","Equipment assistance"]},step8:{title:"Creative Communication",example:"Flexible communication respecting creative flow with gallery and studio coordination.",withName:"[Name], we'll respect your creative process while maintaining reliable communication.",benefits:["Creative respect","Gallery coordination","Flexible contact"]},step9:{title:"Creative Protection Summary",example:"Complete creative professional support with artwork security and venue expertise.",withName:"[Name], your creative protection ensures safe transport for you and your valuable works.",benefits:["Creative support","Artwork security","Venue expertise"]}},delegation:{step2:{title:"Diplomatic Protection Benefits",example:"Diplomatic groups receive protocol-aware teams with language capabilities. One UN delegation's security team coordinated multi-vehicle convoys, embassy visits, and maintained diplomatic protocols.",withName:"[Name], your delegation will receive protocol-trained officers, multi-vehicle coordination, and appropriate diplomatic considerations.",benefits:["Diplomatic protocols","Language capabilities","Convoy coordination"]},step3:{title:"Delegation Service Standards",example:"Teams providing diplomatic-level service with protocol awareness and multi-vehicle coordination.",withName:"[Name], your delegation receives diplomatic-standard protection with full protocol compliance.",benefits:["Diplomatic standards","Protocol compliance","Delegation management"]},step4:{title:"Delegation Coverage Network",example:"Coverage of embassies, international organizations, conference centers, and official residences.",withName:"[Name], we cover all diplomatic locations from embassy districts to UN facilities.",benefits:["Embassy coverage","International venues","Official locations"]},step5:{title:"Delegation Special Services",example:"Multi-vehicle convoys, interpreter coordination, and diplomatic pouch handling procedures.",withName:"[Name], we'll coordinate convoy movements, manage interpreters, and handle diplomatic materials.",benefits:["Convoy management","Interpreter support","Diplomatic handling"]},step6:{title:"Delegation Priority Protocols",example:"Diplomatic priority procedures with embassy coordination and international protocols.",withName:"[Name], your priority protocols include embassy liaison and diplomatic immunity awareness.",benefits:["Embassy coordination","Diplomatic procedures","International protocols"]},step7:{title:"Delegation Accessibility",example:"Multi-lingual support with cultural awareness and international accessibility standards.",withName:"[Name], we provide culturally-sensitive support meeting international accessibility standards.",benefits:["Multi-lingual support","Cultural sensitivity","International standards"]},step8:{title:"Delegation Communication",example:"Diplomatic communication channels with embassy integration and protocol compliance.",withName:"[Name], communications will meet diplomatic standards with appropriate protocol channels.",benefits:["Diplomatic channels","Embassy integration","Protocol compliance"]},step9:{title:"Delegation Protection Summary",example:"Complete diplomatic protection with protocol expertise and international coordination.",withName:"[Name], your delegation protection ensures diplomatic-level service with full protocol compliance.",benefits:["Diplomatic service","Protocol expertise","International coordination"]}},general:{step2:{title:"Personalized Security Benefits",example:"All clients receive customized security matching their unique needs. Regular users report their teams anticipate requirements and provide seamless protection.",withName:"[Name], we'll customize your security service to match your specific requirements and preferences.",benefits:["Customized approach","Adaptive service","Personal preferences"]},step3:{title:"Comprehensive Service Features",example:"Professional teams adapting to your specific needs with flexible, reliable protection.",withName:"[Name], your officers will adapt to your unique requirements with professional flexibility.",benefits:["Professional adaptation","Flexible service","Reliable protection"]},step4:{title:"Full Coverage Network",example:"Complete coverage across London and beyond, tailored to your specific travel patterns.",withName:"[Name], we'll provide coverage wherever you need to go, learning your preferred routes.",benefits:["Complete coverage","Route optimization","Location flexibility"]},step5:{title:"Tailored Special Services",example:"Services customized to your specific needs, from business to personal requirements.",withName:"[Name], we'll tailor our services to match your exact requirements and preferences.",benefits:["Customized services","Personal adaptation","Flexible support"]},step6:{title:"Responsive Priority Protocols",example:"Immediate response with protocols adapted to your specific concerns and requirements.",withName:"[Name], your priority protocols will be customized to address your specific concerns.",benefits:["Immediate response","Customized protocols","Personal focus"]},step7:{title:"Universal Accessibility",example:"Full support for any requirements with professional, dignified assistance.",withName:"[Name], we'll provide appropriate support for all your accessibility needs.",benefits:["Full support","Professional assistance","Dignified service"]},step8:{title:"Flexible Communication",example:"Communication options tailored to your preferences with convenient scheduling.",withName:"[Name], we'll communicate according to your preferences with maximum convenience.",benefits:["Flexible options","Convenient scheduling","Personal preferences"]},step9:{title:"Complete Protection Summary",example:"Comprehensive protection service customized to your unique requirements and preferences.",withName:"[Name], your protection plan is fully customized to meet all your security needs.",benefits:["Complete protection","Full customization","Personal service"]}},default:{step2:{title:"Professional Security Benefits",example:"Regular clients report their security teams learn their routines, anticipate needs, and provide seamless protection across all London venues.",withName:"[Name], your dedicated security team will learn your preferences and provide consistent, reliable protection.",benefits:["Consistent teams","Learned preferences","Seamless protection"]},step3:{title:"Premium Service Features",example:"Professional teams providing discrete, reliable protection with attention to detail.",withName:"[Name], your officers provide premium service with complete professionalism.",benefits:["Premium service","Professional teams","Attention to detail"]},step4:{title:"Comprehensive Coverage",example:"Full coverage across Greater London with expertise in all major districts and venues.",withName:"[Name], we provide comprehensive coverage across all your regular destinations.",benefits:["Full coverage","District expertise","Venue knowledge"]},step5:{title:"Enhanced Services",example:"Additional services tailored to your specific security and convenience needs.",withName:"[Name], we'll provide enhanced services matching your specific requirements.",benefits:["Enhanced options","Tailored services","Specific solutions"]},step6:{title:"Priority Response",example:"24/7 priority response with immediate dispatch and crisis management capabilities.",withName:"[Name], your priority protocols ensure immediate response whenever needed.",benefits:["24/7 response","Immediate dispatch","Crisis management"]},step7:{title:"Full Accessibility",example:"Complete accessibility support with professional, respectful assistance.",withName:"[Name], we provide full accessibility support with dignity and professionalism.",benefits:["Complete support","Professional assistance","Respectful service"]},step8:{title:"Professional Communication",example:"Clear, professional communication with flexible contact options.",withName:"[Name], we maintain professional communication through your preferred channels.",benefits:["Clear communication","Flexible options","Professional standards"]},step9:{title:"Protection Summary",example:"Complete professional protection service with reliability and discretion.",withName:"[Name], your protection plan provides comprehensive security with professional excellence.",benefits:["Complete protection","Professional service","Reliable security"]}}};function hj(e,t,n){const i=e&&dj[e]||"default";console.log("getPersonalizedContent:",{profileSelection:e,mappedProfileKey:i,currentStep:t,hasUserName:!!n,availableProfiles:Object.keys(uj)});const s=uj[i]||uj.default,r=s[t]||s.step2;return console.log("Content resolution:",{profileKey:i,stepKey:t,contentTitle:r.title,fallbackUsed:"default"===i&&"prefer_not_to_say"!==e}),n&&n.trim()?o(o({},r),{},{withName:r.withName.replace("[Name]",n)}):r}function pj(t){let{currentStep:n,totalSteps:i,onContinue:s,isLoading:r=!1,canProceed:a=!0}=t;const{state:o}=kv(),[c,l]=(0,e.useState)(!1),d=(0,e.useRef)(!1),[u,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),f=(0,e.useRef)(null),_=(0,e.useRef)(0),g=(0,e.useRef)(0),[v,y]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=()=>{y(window.innerWidth>=1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,e.useEffect)(()=>{const e=setTimeout(()=>h(!0),300);return()=>clearTimeout(e)},[]),(0,e.useEffect)(()=>{if(c||!u)return;const e=setInterval(()=>{c||(m(!0),setTimeout(()=>m(!1),600))},15e3);return()=>clearInterval(e)},[c,u]);const x=()=>{var e;const t=lj(cj(i,n)),s=null===(e=o.questionnaireData)||void 0===e?void 0:e.firstName,r=(e,t)=>s&&(3===e||6===e||9===e)?"".concat(s,"'s ").concat(t):t,a=Object.fromEntries(Object.entries({1:"Security Assessment",2:"Frequency Planning",3:"Service Matching",4:"Coverage Planning",5:"Special Locations",6:"Priority Protocols",7:"Custom Requirements",8:"Communication Setup",9:"Profile Completion"}).map(e=>{let[t,n]=e;return[t,r(parseInt(t),n)]})),c=e=>{const t={1:"We assess your security requirements to match you with qualified SIA licensed close protection officers and appropriate security cab services. This helps us understand your protection needs and recommend suitable security officers for your transport requirements.",2:"Understanding your travel patterns helps us optimize our security cab service delivery. Regular users benefit from consistent SIA security officers and route planning, while occasional users receive flexible on-demand close protection services.",3:"These preferences help us match you with the appropriate service level and qualified security officers. We analyze your selections to recommend whether our Standard, Executive, or Shadow protection with personal bodyguards best meets your specific transport security needs.",4:"Knowing your primary locations helps us ensure appropriate SIA licensed security officers and security cab coverage. We pre-position qualified close protection officers and establish secure cab routes in your key areas.",5:"Additional coverage areas help us provide comprehensive protection services. Airport transfers, government buildings, and entertainment venues each require specialized SIA security officers and trained personal bodyguards with our professional security cab services.",6:"Priority contacts and communication preferences ensure rapid response coordination with our SIA licensed close protection officers. This follows security industry best practices for duty of care and incident management with professional security cab services.",7:"Special requirements ensure our qualified security officers and security cab Protection Officers are prepared to provide appropriate professional services. Accessibility, medical, and private security accommodations are configured in advance with our SIA licensed personnel.",8:"Communication preferences ensure seamless coordination between you, your team, and our close protection officers. Clear communication is essential for effective security transport operations with our professional security cab services.",9:"Final review ensures your security profile is complete and accurate. This comprehensive assessment enables us to deliver the most appropriate protection service with qualified SIA security officers and professional security cab transport for your specific requirements."}[e];if(s){if(2===e)return"Hi ".concat(s,", understanding your travel patterns helps us optimize our security cab service delivery. Regular users benefit from consistent SIA security officers and route planning, while occasional users receive flexible on-demand close protection services.");if(3===e)return"Hi ".concat(s,", your service priorities help us match you with the right security officers and qualified personnel. We analyze your selections to recommend whether our Standard, Executive, or Shadow protection with personal bodyguards best meets your specific transport security needs.");if(6===e)return"Hi ".concat(s,", priority response is crucial for your safety. Priority contacts and communication preferences ensure rapid response coordination with our SIA licensed close protection officers. This follows security industry best practices for duty of care and incident management.");if(9===e)return"".concat(s,", you're almost done! ").concat(t)}return t},l=Object.fromEntries(Object.entries({1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""}).map(e=>{let[t]=e;return[t,c(parseInt(t))]})),d=a[n]||"Assessment",u=l[n]||"Completing your security profile for professional transport services with qualified SIA licensed officers...",h=(e=>{var t;const n=hj(o.userProfileSelection||(null===(t=o.questionnaireData)||void 0===t?void 0:t.profileSelection),"step".concat(e),s);return{title:n.title,example:s?n.withName:n.example,benefit:n.benefits.join(", ")}})(n);return{name:d,timeLeft:t,description:u,stepExample:h}},b=Math.round(n/i*100),S=(0,e.useRef)(!1),w=(0,e.useRef)(0),N=e=>{_.current=e.touches[0].clientY,g.current=_.current,S.current=!0,w.current=Date.now()},j=e=>{g.current=e.touches[0].clientY,Math.abs(g.current-_.current)>10&&(S.current=!1)},C=e=>{const t=_.current-g.current,n=Date.now()-w.current;if(S.current&&Math.abs(t)<10&&n<300)return e.preventDefault(),d.current=!0,void l(e=>!e);t>30&&!c?l(!0):t<-30&&c&&l(!1)},k=()=>{l(!1)},P=x();return(0,Sv.jsxs)("div",{className:"".concat(oN," ").concat(u?cN:""," ").concat(c?yN:""),children:[c&&(0,Sv.jsx)("div",{className:xN,onClick:k}),c&&(0,Sv.jsx)("div",{className:"".concat(vN," ").concat(v?tj:""),ref:f,onTouchStart:N,onTouchMove:j,onTouchEnd:C,children:(0,Sv.jsx)("div",{className:"".concat(bN," ").concat(v?nj:""),children:v?(0,Sv.jsxs)("div",{className:ij,children:[(0,Sv.jsx)("div",{className:sj,children:(0,Sv.jsxs)("div",{className:wN,children:[(0,Sv.jsxs)("div",{className:SN,children:[(0,Sv.jsx)("h3",{children:P.name}),(0,Sv.jsx)("button",{className:gN,onClick:k,children:"\u2715"})]}),(0,Sv.jsxs)("div",{className:NN,children:[(0,Sv.jsxs)("div",{className:jN,children:["Step ",n," of ",i," \u2022 ",P.timeLeft]}),(0,Sv.jsx)("div",{className:CN,children:(0,Sv.jsx)("div",{className:kN,style:{width:"".concat(b,"%")}})})]}),(0,Sv.jsx)("p",{className:PN,children:P.description}),(0,Sv.jsxs)("div",{className:IN,children:[(0,Sv.jsx)("div",{className:LN,children:"Real Example:"}),(0,Sv.jsx)("p",{className:RN,children:P.stepExample.example})]})]})}),(0,Sv.jsx)("div",{className:rj,children:(0,Sv.jsxs)("div",{className:TN,children:[(0,Sv.jsx)("h4",{children:P.stepExample.title}),(0,Sv.jsxs)("div",{className:MN,children:[(0,Sv.jsx)("div",{className:ON,children:"How This Shapes Your Protection:"}),(0,Sv.jsx)("p",{className:DN,children:P.stepExample.benefit})]}),(0,Sv.jsxs)("div",{className:aj,children:[(0,Sv.jsxs)("div",{className:oj,children:[(0,Sv.jsx)("div",{className:AN,children:"\u2705 Personalized Security Profile"}),(0,Sv.jsx)("div",{className:AN,children:"\ud83c\udfaf Matched Officer Expertise"})]}),(0,Sv.jsxs)("div",{className:oj,children:[(0,Sv.jsx)("div",{className:AN,children:"\ud83d\udee1\ufe0f SIA Licensed Professionals"}),(0,Sv.jsx)("div",{className:AN,children:"\ud83d\udccb Tailored Protocols"})]})]})]})})]}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{className:wN,children:[(0,Sv.jsxs)("div",{className:SN,children:[(0,Sv.jsx)("h3",{children:P.name}),(0,Sv.jsx)("button",{className:gN,onClick:k,children:"\u2715"})]}),(0,Sv.jsxs)("div",{className:NN,children:[(0,Sv.jsxs)("div",{className:jN,children:["Step ",n," of ",i," \u2022 ",P.timeLeft]}),(0,Sv.jsx)("div",{className:CN,children:(0,Sv.jsx)("div",{className:kN,style:{width:"".concat(b,"%")}})})]}),(0,Sv.jsx)("p",{className:PN,children:P.description})]}),(0,Sv.jsxs)("div",{className:TN,children:[(0,Sv.jsx)("div",{className:EN}),(0,Sv.jsx)("h4",{children:P.stepExample.title}),(0,Sv.jsxs)("div",{className:IN,children:[(0,Sv.jsx)("div",{className:LN,children:"Real Example:"}),(0,Sv.jsx)("p",{className:RN,children:P.stepExample.example})]}),(0,Sv.jsxs)("div",{className:MN,children:[(0,Sv.jsx)("div",{className:ON,children:"How This Shapes Your Protection:"}),(0,Sv.jsx)("p",{className:DN,children:P.stepExample.benefit})]}),(0,Sv.jsxs)("div",{className:FN,children:[(0,Sv.jsx)("div",{className:AN,children:"\u2705 Personalized Security Profile"}),(0,Sv.jsx)("div",{className:AN,children:"\ud83c\udfaf Matched Officer Expertise"}),(0,Sv.jsx)("div",{className:AN,children:"\ud83d\udee1\ufe0f SIA Licensed Professionals"}),(0,Sv.jsx)("div",{className:AN,children:"\ud83d\udccb Tailored Protocols"})]})]})]})})}),(0,Sv.jsxs)("button",{className:"".concat(lN," ").concat(r?dN:""," ").concat(c?yN:""," ").concat(p?qN:""," ").concat(v?UN:""),onClick:()=>{d.current?d.current=!1:("vibrate"in navigator&&navigator.vibrate(50),l(!c))},onTouchStart:N,onTouchMove:j,onTouchEnd:C,children:[(0,Sv.jsxs)("div",{className:uN,children:[v?(0,Sv.jsxs)("div",{className:VN,children:[(0,Sv.jsxs)("div",{className:GN,children:[(0,Sv.jsxs)("span",{className:YN,children:["Step ",n," of ",i]}),(0,Sv.jsx)("span",{className:KN,children:"\u2022"}),(0,Sv.jsxs)("span",{className:QN,children:[b,"%"]})]}),(0,Sv.jsx)("div",{className:ZN,children:(0,Sv.jsx)("span",{className:JN,children:{1:"Select your professional profile",2:"Define travel frequency",3:"Choose service requirements",4:"Select primary coverage areas",5:"Add special locations",6:"Set priority contacts",7:"Specify custom requirements",8:"Configure communication",9:"Review complete profile"}[n]||"Complete your assessment"})}),(0,Sv.jsxs)("div",{className:XN,children:[(0,Sv.jsx)("span",{className:$N,children:P.timeLeft}),(0,Sv.jsxs)("div",{className:"".concat(BN," ").concat(c?yN:HN),children:[(0,Sv.jsx)("span",{className:ej,children:c?"Close":"Details"}),(0,Sv.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:zN,children:(0,Sv.jsx)("path",{d:"M7 1L13 9H1L7 1Z",fill:"currentColor",className:WN})})]})]})]}):(0,Sv.jsxs)("div",{className:hN,children:[r&&(0,Sv.jsx)("div",{className:pN}),(()=>{if(r)return"Loading...";const e=x();return"".concat(e.name," - ").concat(e.timeLeft)})(),(0,Sv.jsx)("div",{className:"".concat(BN," ").concat(c?yN:HN),children:(0,Sv.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:zN,children:(0,Sv.jsx)("path",{d:"M7 1L13 9H1L7 1Z",fill:"currentColor",className:WN})})})]}),(0,Sv.jsx)("div",{className:mN,children:(0,Sv.jsx)("div",{className:fN,style:{width:"".concat(b,"%")}})})]}),(0,Sv.jsx)("div",{className:_N})]})]})}const mj="CustomAnswer_container__N1Mrm",fj="CustomAnswer_separator__HjI2g",_j="CustomAnswer_separatorLine__kn0tX",gj="CustomAnswer_separatorText__2fHK7",vj="CustomAnswer_customOption__VNCVO",yj="CustomAnswer_selected__39T+w",xj="CustomAnswer_disabled__tYKdH",bj="CustomAnswer_toggleContainer__KUqJB",Sj="CustomAnswer_toggle__DMaCX",wj="CustomAnswer_toggleActive__bQARd",Nj="CustomAnswer_toggleSlider__ZodJF",jj="CustomAnswer_sliderActive__ZLkAq",Cj="CustomAnswer_textContainer__wo8VQ",kj="CustomAnswer_mainText__6fxfF",Pj="CustomAnswer_helperText__wngV5",Tj="CustomAnswer_confirmationMessage__driIU",Ej="CustomAnswer_confirmationIcon__TcPce",Aj="CustomAnswer_inputSection__h+KZk",Ij="CustomAnswer_textArea__ozZ+M",Lj="CustomAnswer_inputFooter__M4WyO",Rj="CustomAnswer_characterCount__7+to9",Mj="CustomAnswer_clearButton__WphAy";function Oj(t){let{value:n,onChange:i,isSelected:s,onToggle:r,disabled:a=!1,className:o="",stepId:c=1}=t;const[l,d]=(0,e.useState)(s),u=()=>{if(!a){const e=!s;r(e),d(e),e||i("")}};return(0,Sv.jsxs)("div",{className:"".concat(mj," ").concat(o),children:[(0,Sv.jsxs)("div",{className:fj,children:[(0,Sv.jsx)("div",{className:_j}),(0,Sv.jsx)("span",{className:gj,children:"or"}),(0,Sv.jsx)("div",{className:_j})]}),(0,Sv.jsxs)("div",{className:"".concat(vj," ").concat(s?yj:""," ").concat(a?xj:""),onClick:l?void 0:u,role:"button",tabIndex:a?-1:0,onKeyPress:e=>{" "!==e.key&&"Enter"!==e.key||a||l||(e.preventDefault(),u())},children:[(0,Sv.jsxs)("div",{className:bj,children:[(0,Sv.jsx)("div",{className:"".concat(Sj," ").concat(s?wj:""),onClick:u,children:(0,Sv.jsx)("div",{className:"".concat(Nj," ").concat(s?jj:"")})}),(0,Sv.jsxs)("div",{className:Cj,children:[(0,Sv.jsx)("span",{className:kj,children:"\u270f\ufe0f Custom Answer"}),(0,Sv.jsx)("span",{className:Pj,children:"Have a different answer? Tell us more"})]})]}),l&&(0,Sv.jsxs)("div",{className:Aj,children:[(0,Sv.jsx)("textarea",{value:n,onChange:e=>{const t=e.target.value;t.length<=200&&(i(t),!s&&t.trim()&&r(!0))},placeholder:(e=>({1:"Describe your professional role or situation...",2:"Explain your travel frequency or pattern...",3:"Share your specific service requirements...",4:"Tell us about your coverage area needs...",5:"Describe your secondary location requirements...",6:"Share your safety contact preferences...",7:"Explain any special requirements you have...",8:"Add any communication preferences...",9:"Share any final thoughts or requirements..."}[e]||"Share your thoughts or specific requirements..."))(c),className:Ij,rows:3,maxLength:200,autoFocus:!0,onClick:e=>e.stopPropagation()}),(0,Sv.jsxs)("div",{className:Lj,children:[(0,Sv.jsxs)("div",{className:Rj,children:[n.length,"/200 characters"]}),n.trim()&&(0,Sv.jsx)("button",{type:"button",className:Mj,onClick:()=>{i(""),r(!1),d(!1)},children:"Clear"})]})]}),s&&n.trim()&&(0,Sv.jsxs)("div",{className:Tj,children:[(0,Sv.jsx)("span",{className:Ej,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Custom answer provided"})]})]})]})}const Dj="SelectionFeedback_container__2AbAR",Fj="SelectionFeedback_visible__T-gT7",Bj="SelectionFeedback_content__2bnaD",qj="SelectionFeedback_header__NXlJ9",zj="SelectionFeedback_icon__pQTQD",Wj="SelectionFeedback_title__S04Tv",Hj="SelectionFeedback_description__M9wLh",Uj="SelectionFeedback_benefitsSection__WNFYP",Vj="SelectionFeedback_benefitsTitle__8c8Tq",Gj="SelectionFeedback_benefitsIcon__UDof0",Yj="SelectionFeedback_benefitsList__G+kZ2",Kj="SelectionFeedback_benefitItem__XxagE",Qj="SelectionFeedback_checkmark__q2ySu",Zj="SelectionFeedback_benefitText__9xl3I",Jj="SelectionFeedback_securityBadge__caNDY",Xj="SelectionFeedback_securityIcon__iDFff",$j="SelectionFeedback_securityText__EM4ck",eC="SelectionFeedback_decorativeGlow__5ob0U";function tC(t){let{feedback:n,isVisible:i,className:s}=t;const[r,a]=(0,e.useState)(!1),[o,c]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{if(i&&n){a(!0);const e=setTimeout(()=>c(!0),50);return()=>clearTimeout(e)}{c(!1);const e=setTimeout(()=>a(!1),300);return()=>clearTimeout(e)}},[i,n]),r&&n?(0,Sv.jsxs)("div",{className:"".concat(Dj," ").concat(o?Fj:""," ").concat(s||""),id:"selection-feedback",children:[(0,Sv.jsxs)("div",{className:Bj,children:[(0,Sv.jsxs)("div",{className:qj,children:[(0,Sv.jsx)("span",{className:zj,role:"img","aria-label":"Selection icon",children:n.icon}),(0,Sv.jsx)("h3",{className:Wj,children:n.title})]}),(0,Sv.jsx)("p",{className:Hj,children:n.description}),(0,Sv.jsxs)("div",{className:Uj,children:[(0,Sv.jsxs)("h4",{className:Vj,children:[(0,Sv.jsx)("span",{className:Gj,children:"\u2728"}),(0,Sv.jsx)("span",{children:"What This Includes:"})]}),(0,Sv.jsx)("ul",{className:Yj,children:n.benefits.map((e,t)=>(0,Sv.jsxs)("li",{className:Kj,children:[(0,Sv.jsx)("span",{className:Qj,children:"\u2713"}),(0,Sv.jsx)("span",{className:Zj,children:e})]},t))})]}),(0,Sv.jsxs)("div",{className:Jj,children:[(0,Sv.jsx)("span",{className:Xj,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:$j,children:"SIA Licensed \u2022 Government Approved \u2022 Fully Insured"})]})]}),(0,Sv.jsx)("div",{className:eC})]}):null}const nC={step1:{executive:{title:"Executive Protection Selected",description:"Perfect for C-suite executives requiring discretion and corporate protocol expertise.",benefits:["Board meeting security protocols","Corporate venue access expertise","Executive assistant coordination","Crisis management procedures"],icon:"\ud83c\udfe2"},entrepreneur:{title:"Entrepreneur Service Selected",description:"Flexible protection for business owners with dynamic schedules and investor meetings.",benefits:["Startup hub navigation (Shoreditch, Old St)","Investor meeting coordination","Flexible scheduling for rapid pivots","Tech venue and co-working access"],icon:"\ud83d\udcbc"},celebrity:{title:"Entertainment Professional Service",description:"Specialized protection for media personalities requiring crowd management and discrete presence.",benefits:["Paparazzi evasion techniques","Stage door and venue protocols","Fan interaction management","Red carpet event coordination"],icon:"\ud83c\udfad"},athlete:{title:"Athletic Professional Protection",description:"Tailored for sports professionals with training schedules and competition logistics.",benefits:["Training facility access knowledge","Competition day coordination","Sports medicine center routes","Recovery period discretion"],icon:"\u26bd"},government:{title:"Government Official Security",description:"Enhanced vetting and protocols for civil servants and officials requiring security clearance awareness.",benefits:["Westminster and Whitehall expertise","Security clearance understanding","Official protocol compliance","Government building access"],icon:"\ud83c\udfdb\ufe0f"},diplomat:{title:"Diplomatic Protection Service",description:"International protocol expertise for delegation members and diplomatic personnel.",benefits:["Embassy district navigation","Diplomatic immunity awareness","Multi-vehicle convoy coordination","International protocol compliance"],icon:"\ud83c\udf0d"},medical:{title:"Healthcare Professional Service",description:"Medical transport with understanding of on-call schedules and hospital protocols.",benefits:["Hospital access and parking knowledge","On-call schedule flexibility","Medical equipment transport","Priority response for emergencies"],icon:"\ud83c\udfe5"},legal:{title:"Legal Professional Protection",description:"Court-focused service with understanding of legal schedules and client confidentiality.",benefits:["All London court location knowledge","Legal document security protocols","Client confidentiality procedures","Chambers and tribunal access"],icon:"\u2696\ufe0f"},creative:{title:"Creative Professional Service",description:"Flexible service for artists and designers with unconventional schedules and valuable works.",benefits:["Studio and gallery venue knowledge","Artwork transport capabilities","Creative industry event familiarity","Late session accommodation"],icon:"\ud83c\udfa8"},academic:{title:"Academic Professional Service",description:"University-focused transport with understanding of academic schedules and research requirements.",benefits:["London university campus navigation","Academic calendar awareness","Conference and research travel","Late library session support"],icon:"\ud83c\udf93"},student:{title:"Student Safety Service",description:"Budget-conscious protection for university students with late study sessions and social safety needs.",benefits:["Campus security coordination","Late library Commencement Point service","Student area coverage","Budget-friendly pricing"],icon:"\ud83d\udcda"},international_visitor:{title:"International Visitor Service",description:"Tourist-focused protection with local knowledge and cultural sensitivity for UK visitors.",benefits:["Tourist secureDestination expertise","Airport transfer coordination","Embassy liaison capabilities","Multi-lingual Protection Officer options"],icon:"\u2708\ufe0f"},finance:{title:"Financial Services Protection",description:"City-focused service understanding market hours and trading floor protocols.",benefits:["Square Mile and Canary Wharf expertise","Pre-market hour availability","Deal confidentiality procedures","Trading floor access knowledge"],icon:"\ud83d\udcca"},security:{title:"Security Professional Service",description:"Peer-level protection from fellow security professionals with operational understanding.",benefits:["Professional courtesy protocols","Operational security awareness","Family protection services","Off-duty transport coordination"],icon:"\ud83d\udee1\ufe0f"},family:{title:"Family Protection Service",description:"Family-focused transport with child safety expertise and school run coordination.",benefits:["Child safety protocols","School run optimization","Family activity coordination","Multi-Principal accommodation"],icon:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66"},general:{title:"Premium Transport Service",description:"Professional transport service customized to your specific requirements and preferences.",benefits:["Personalized service approach","Flexible scheduling options","Complete London coverage","Professional Protection Officer standards"],icon:"\ud83d\ude97"},high_profile:{title:"VIP Protection Service",description:"Elite protection for high-profile individuals requiring advanced security and media management.",benefits:["Advanced threat assessment","Media management protocols","Discrete extraction procedures","Celebrity-level security standards"],icon:"\ud83d\udd12"}},step2:{daily:{title:"Daily Service Confirmed",description:"Regular daily transport builds familiarity and enables predictive security planning.",benefits:["Consistent security team assignment","Route optimization and planning","Predictive security measures","Priority protection assignment guarantees"],icon:"\ud83d\udcc5"},weekly:{title:"Weekly Service Selected",description:"Regular weekly patterns allow for consistent team assignment and route planning.",benefits:["Familiar Protection Officer team rotation","Weekly schedule coordination","Preferred route establishment","Regular security assessment"],icon:"\ud83d\udcca"},monthly:{title:"Monthly Service Confirmed",description:"Monthly requirements provide flexibility while maintaining service quality.",benefits:["Flexible scheduling options","Monthly planning coordination","Priority protection assignment access","Consistent service standards"],icon:"\ud83d\udcc5"},occasional:{title:"On-Demand Service Selected",description:"Flexible on-demand service for irregular transport needs with priority access.",benefits:["No commitment required","Same-day protection assignment available","Flexible timing options","Premium service when needed"],icon:"\u26a1"}},step3:{secure_transport:{title:"Secure Transport Priority",description:"Enhanced security protocols with trained officers and secure route planning.",benefits:["SIA licensed security officers","Threat assessment procedures","Secure route planning","Emergency response protocols"],icon:"\ud83d\udd12"},professional_service:{title:"Professional Service Focus",description:"Premium professional service with attention to business requirements and protocols.",benefits:["Business protocol expertise","Professional presentation standards","Corporate venue knowledge","Executive service training"],icon:"\ud83d\udcbc"},privacy_discretion:{title:"Privacy & Discretion Priority",description:"Maximum discretion with confidentiality protocols and low-profile operations.",benefits:["Confidentiality agreements","Discrete vehicle options","Privacy protection measures","Low-profile operations"],icon:"\ud83e\udd10"},convenience:{title:"Convenience & Comfort Focus",description:"Comfort-focused service with premium vehicles and convenience features.",benefits:["Premium vehicle standards","Comfort-focused amenities","Convenient protection start points","Flexible service options"],icon:"\u2b50"}},step4:{central_london:{title:"Central London Coverage",description:"Comprehensive coverage of central London business and cultural districts.",benefits:["City and Westminster expertise","Cultural venue knowledge","Business district optimization","Tourist secureDestination access"],icon:"\ud83c\udfd9\ufe0f"},canary_wharf:{title:"Canary Wharf Expertise",description:"Financial district specialization with trading floor and corporate venue knowledge.",benefits:["Financial district navigation","Corporate building access","Trading hour understanding","Banking venue protocols"],icon:"\ud83c\udfe2"},heathrow_area:{title:"Heathrow Corridor Coverage",description:"Airport and western London coverage with international travel coordination.",benefits:["Airport transfer expertise","International arrival coordination","West London venue knowledge","Flight tracking services"],icon:"\u2708\ufe0f"},north_london:{title:"North London Coverage",description:"Comprehensive north London coverage including residential and business areas.",benefits:["Residential area expertise","North London venue knowledge","Community familiarity","Local route optimization"],icon:"\ud83c\udfe0"},south_london:{title:"South London Coverage",description:"South London specialization with knowledge of diverse communities and venues.",benefits:["South London expertise","Community venue knowledge","Diverse area familiarity","Cross-river coordination"],icon:"\ud83c\udf09"},greater_london:{title:"Greater London Coverage",description:"Complete Greater London coverage extending to outer boroughs and surrounding areas.",benefits:["Complete London coverage","Outer borough expertise","Extended area knowledge","Comprehensive service area"],icon:"\ud83d\uddfa\ufe0f"}},step5:{airports:{title:"Airport Transfer Specialist",description:"Enhanced airport services with flight tracking and international arrival coordination.",benefits:["All London airport coverage","Flight delay monitoring","Meet & greet services","International protocol support"],icon:"\ud83d\udeeb"},hotels:{title:"Hotel & Hospitality Focus",description:"Premium hotel and hospitality venue expertise with concierge coordination.",benefits:["Five-star hotel protocols","Concierge coordination","Guest service standards","Hospitality venue knowledge"],icon:"\ud83c\udfe8"},government_buildings:{title:"Government Facility Access",description:"Specialized government building access with security clearance understanding.",benefits:["Government building protocols","Security clearance awareness","Official venue procedures","Westminster area expertise"],icon:"\ud83c\udfdb\ufe0f"},entertainment_venues:{title:"Entertainment Venue Specialist",description:"Entertainment and cultural venue expertise with event coordination capabilities.",benefits:["West End and venue knowledge","Event coordination experience","Cultural venue protocols","Entertainment industry familiarity"],icon:"\ud83c\udfad"},private_residences:{title:"Private Residence Service",description:"Discrete private residence service with residential area expertise.",benefits:["Residential area knowledge","Privacy protection measures","Neighborhood familiarity","Discrete service protocols"],icon:"\ud83c\udfe0"}},step6:{family_member:{title:"Family Emergency Contact",description:"Family member designated as primary contact for rapid response coordination.",benefits:["Immediate family notification","Emergency response protocols","Family-friendly procedures","Priority contact system"],icon:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66"},personal_assistant:{title:"Assistant Coordination",description:"Personal assistant integration for seamless schedule and logistics management.",benefits:["Schedule coordination","Logistics management","Professional integration","Administrative efficiency"],icon:"\ud83d\udccb"},security_team:{title:"Security Team Integration",description:"Integration with existing security team for comprehensive protection coordination.",benefits:["Security team coordination","Threat assessment sharing","Comprehensive protection","Professional integration"],icon:"\ud83d\udee1\ufe0f"},workplace:{title:"Workplace Coordination",description:"Workplace security and management integration for business continuity.",benefits:["Workplace integration","Business continuity","Corporate coordination","Professional protocols"],icon:"\ud83c\udfe2"}},step7:{mobility_assistance:{title:"Mobility Support Services",description:"Specialized mobility assistance with accessible vehicles and trained support staff.",benefits:["Wheelchair accessible vehicles","Mobility assistance training","Accessible venue knowledge","Dignified support services"],icon:"\u267f"},medical_support:{title:"Medical Assistance Ready",description:"Medical support capabilities with trained staff and emergency response procedures.",benefits:["First aid trained Protection Officers","Medical equipment transport","Hospital coordination","Emergency response procedures"],icon:"\ud83c\udfe5"},language_interpretation:{title:"Language Support Services",description:"Multi-lingual Protection Officers and interpretation services for international clients.",benefits:["Multi-lingual Protection Officer options","Cultural sensitivity training","International protocol understanding","Communication assistance"],icon:"\ud83c\udf0d"},child_safety:{title:"Child Safety Specialist",description:"Child safety protocols with appropriate safety equipment and family-trained Protection Officers.",benefits:["Child safety seat provision","Family-friendly Protection Officers","Child protection protocols","School coordination services"],icon:"\ud83d\udc76"},privacy_requirements:{title:"Enhanced Privacy Measures",description:"Maximum privacy protection with confidentiality agreements and discrete operations.",benefits:["Enhanced confidentiality protocols","Privacy protection measures","Discrete service delivery","Confidentiality agreements"],icon:"\ud83d\udd10"}},step8:{mobile_app:{title:"Mobile App Communications",description:"Real-time mobile app coordination with live tracking and instant messaging.",benefits:["Real-time vehicle tracking","Instant messaging capability","Push notification updates","Digital coordination tools"],icon:"\ud83d\udcf1"},phone_calls:{title:"Direct Phone Coordination",description:"Traditional phone-based coordination with dedicated contact lines.",benefits:["Direct phone access","Personal coordinator assignment","Voice communication priority","24/7 phone support"],icon:"\ud83d\udcde"},email_updates:{title:"Email Communication System",description:"Email-based coordination with detailed updates and confirmation systems.",benefits:["Detailed email confirmations","Written communication records","Schedule update notifications","Professional correspondence"],icon:"\ud83d\udce7"},assistant_coordination:{title:"Assistant Integration",description:"Full integration with personal or executive assistants for seamless coordination.",benefits:["Assistant access privileges","Schedule synchronization","Third-party coordination","Professional integration"],icon:"\ud83d\udcbc"}},step9:{profile_reviewed:{title:"Security Profile Complete",description:"Your comprehensive security profile has been created and optimized for your specific needs.",benefits:["Personalized protection plan","Optimized service matching","Professional recommendation ready","Enhanced security protocols"],icon:"\u2705"}}},iC={title:"Custom Selection Recorded",description:"Your specific requirements have been noted and will be incorporated into your personalized service plan.",benefits:["Customized service approach","Flexible accommodation","Personalized attention","Specific needs addressed"],icon:"\ud83d\udcdd"};function sC(e,t){const n="step".concat(e),i=nC[n];return i&&i[t]?i[t]:iC}const rC="ThreatIndicators_container__V6nG8",aC="ThreatIndicators_questionContainer__Ipfym",oC="ThreatIndicators_progressSection__LButV",cC="ThreatIndicators_progressHeader__y-Dno",lC="ThreatIndicators_stepIndicator__4tDAM",dC="ThreatIndicators_currentRiskBadge__LOnCk",uC="ThreatIndicators_progressBar__s+FM4",hC="ThreatIndicators_progressFill__gh5GS",pC="ThreatIndicators_questionCard__ykpfp",mC="ThreatIndicators_animating__S19C3",fC="ThreatIndicators_questionHeader__lo90J",_C="ThreatIndicators_questionIcon__M30jH",gC="ThreatIndicators_questionTitle__JTZw4",vC="ThreatIndicators_questionContent__VFpfi",yC="ThreatIndicators_questionText__AEVI6",xC="ThreatIndicators_questionDescription__GADcx",bC="ThreatIndicators_answerSection__xIrcG",SC="ThreatIndicators_answerButtons__lJwld",wC="ThreatIndicators_answerButton__fLw1W",NC="ThreatIndicators_selected__QAdv9",jC="ThreatIndicators_yesButton__CRLQ2",CC="ThreatIndicators_noButton__kNnP6",kC="ThreatIndicators_answerIcon__GXVXX",PC="ThreatIndicators_answerText__N6zmT",TC="ThreatIndicators_navigationSection__rw9yq",EC="ThreatIndicators_navButton__DezrF",AC="ThreatIndicators_confidentialityNote__j2-ns",IC="ThreatIndicators_lockIcon__7ENPO",LC="ThreatIndicators_assessmentContainer__2ikLk",RC="ThreatIndicators_assessmentHeader__FK8Hj",MC="ThreatIndicators_assessmentTitle__Qeggk",OC="ThreatIndicators_riskBadge__cZMKk",DC="ThreatIndicators_assessmentDetails__w7ANQ",FC="ThreatIndicators_assessmentDescription__9wvJf",BC="ThreatIndicators_recommendedService__m1qvZ",qC="ThreatIndicators_nextSteps__pe89-",zC="ThreatIndicators_serviceRecommendation__u6TxW",WC="ThreatIndicators_serviceIcon__BHDUb",HC="ThreatIndicators_serviceName__mI8gs",UC="ThreatIndicators_stepsList__YM7d3",VC="ThreatIndicators_assessmentActions__3F1mB",GC="ThreatIndicators_primaryButton__aouyC",YC="ThreatIndicators_secondaryButton__iMWiz",KC="ThreatIndicators_riskGreen__vn5vi",QC="ThreatIndicators_riskYellow__7L+dn",ZC="ThreatIndicators_riskOrange__9wIy0",JC="ThreatIndicators_riskRed__9P1Vw",XC="ThreatIndicators_riskLevel__eLngL",$C="ThreatIndicators_riskScore__C7x3d",ek=[{id:"hasReceivedThreats",question:"Have you received any threats in the past 12 months?",description:"This includes verbal, written, digital threats, or any concerning communications directed at you personally or professionally.",riskWeight:5,icon:"\u26a0\ufe0f"},{id:"hasLegalProceedings",question:"Are you involved in any legal proceedings?",description:"Current litigation, court cases, disputes, or legal matters that could affect your security profile.",riskWeight:4,icon:"\u2696\ufe0f"},{id:"hasPreviousIncidents",question:"Have you experienced security incidents before?",description:"Any previous security breaches, stalking, harassment, or situations requiring security intervention.",riskWeight:4,icon:"\ud83d\udea8"},{id:"hasPublicProfile",question:"Do you have a public profile (media, social, professional)?",description:"Public visibility through media appearances, social media presence, professional recognition, or industry prominence.",riskWeight:3,icon:"\ud83d\udcfa"},{id:"requiresInternationalProtection",question:"Do you travel internationally for work?",description:"Regular international business travel, particularly to regions with varying security considerations.",riskWeight:3,icon:"\u2708\ufe0f"},{id:"hasControversialWork",question:"Does your work involve controversial decisions?",description:"Professional responsibilities involving public policy, judicial decisions, corporate restructuring, or contentious business matters.",riskWeight:3,icon:"\ud83c\udfaf"},{id:"hasHighValueAssets",question:"Do you manage high-value assets or information?",description:"Responsibility for significant financial assets, confidential information, or high-value intellectual property.",riskWeight:2,icon:"\ud83d\udc8e"}];const tk=function(t){let{onComplete:n,initialData:i={},className:s=""}=t;const[r,a]=(0,e.useState)(o({hasReceivedThreats:!1,hasPublicProfile:!1,hasLegalProceedings:!1,hasPreviousIncidents:!1,requiresInternationalProtection:!1,hasControversialWork:!1,hasHighValueAssets:!1},i)),[c,l]=(0,e.useState)(0),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),m=e=>{let t,n,i,s,r=0;return ek.forEach(t=>{e[t.id]&&(r+=t.riskWeight)}),0===r?(t="GREEN",n="Low Risk Profile - Standard security protocols appropriate",i="Essential Protection Service",s="standard"):r<=4?(t="GREEN",n="Low-Moderate Risk Profile - Standard assessment with basic security measures",i="Essential Protection Service with enhanced awareness",s="standard"):r<=9?(t="YELLOW",n="Moderate Risk Profile - Enhanced assessment and security protocols recommended",i="Executive Shield Protection Service",s="enhanced"):r<=16?(t="ORANGE",n="Significant Risk Profile - Comprehensive security assessment and elevated protection protocols",i="Shadow Protocol Protection Service",s="significant"):(t="RED",n="Critical Risk Profile - Immediate comprehensive assessment and maximum security protocols",i="Shadow Protocol with specialized security team",s="critical"),{level:t,score:r,description:n,recommendedProtection:i,assessmentPath:s}},f=ek[c],_=c===ek.length-1,g=m(r),v=(e,t)=>{u(!0);const n=o(o({},r),{},{[e]:t});a(n),setTimeout(()=>{_?p(!0):l(e=>e+1),u(!1)},300)},y=()=>{const e=m(r);n(r,e)},x=()=>{h?p(!1):c>0&&(u(!0),setTimeout(()=>{l(e=>e-1),u(!1)},300))},b=e=>{switch(e){case"GREEN":default:return KC;case"YELLOW":return QC;case"ORANGE":return ZC;case"RED":return JC}};return h?(0,Sv.jsx)("div",{className:"".concat(rC," ").concat(s),children:(0,Sv.jsxs)("div",{className:LC,children:[(0,Sv.jsxs)("div",{className:RC,children:[(0,Sv.jsx)("h2",{className:MC,children:"Security Risk Assessment Complete"}),(0,Sv.jsxs)("div",{className:"".concat(OC," ").concat(b(g.level)),children:[(0,Sv.jsxs)("span",{className:XC,children:[g.level," RISK"]}),(0,Sv.jsxs)("span",{className:$C,children:["Score: ",g.score,"/24"]})]})]}),(0,Sv.jsxs)("div",{className:DC,children:[(0,Sv.jsxs)("div",{className:FC,children:[(0,Sv.jsx)("h3",{children:"Assessment Summary"}),(0,Sv.jsx)("p",{children:g.description})]}),(0,Sv.jsxs)("div",{className:BC,children:[(0,Sv.jsx)("h3",{children:"Recommended Protection Level"}),(0,Sv.jsxs)("div",{className:zC,children:[(0,Sv.jsx)("span",{className:WC,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:HC,children:g.recommendedProtection})]})]}),(0,Sv.jsxs)("div",{className:qC,children:[(0,Sv.jsx)("h3",{children:"Next Steps"}),(0,Sv.jsxs)("ul",{className:UC,children:[(0,Sv.jsx)("li",{children:"Personalized protection officer assignment based on risk profile"}),(0,Sv.jsx)("li",{children:"Enhanced security protocols tailored to your assessment level"}),(0,Sv.jsx)("li",{children:"Specialized route planning and venue security coordination"}),(0,Sv.jsxs)("li",{children:["Priority response protocols for ",g.level.toLowerCase()," risk clients"]})]})]})]}),(0,Sv.jsxs)("div",{className:VC,children:[(0,Sv.jsx)("button",{type:"button",onClick:x,className:YC,children:"Review Responses"}),(0,Sv.jsx)("button",{type:"button",onClick:y,className:GC,children:"Continue Assessment"})]})]})}):(0,Sv.jsx)("div",{className:"".concat(rC," ").concat(s),children:(0,Sv.jsxs)("div",{className:aC,children:[(0,Sv.jsxs)("div",{className:oC,children:[(0,Sv.jsxs)("div",{className:cC,children:[(0,Sv.jsxs)("span",{className:lC,children:["Question ",c+1," of ",ek.length]}),(0,Sv.jsxs)("div",{className:"".concat(dC," ").concat(b(g.level)),children:[(0,Sv.jsx)("span",{className:XC,children:g.level}),(0,Sv.jsx)("span",{className:$C,children:g.score})]})]}),(0,Sv.jsx)("div",{className:uC,children:(0,Sv.jsx)("div",{className:hC,style:{width:"".concat((c+1)/ek.length*100,"%")}})})]}),(0,Sv.jsxs)("div",{className:"".concat(pC," ").concat(d?mC:""),children:[(0,Sv.jsxs)("div",{className:fC,children:[(0,Sv.jsx)("span",{className:_C,children:f.icon}),(0,Sv.jsx)("h2",{className:gC,children:"Security Assessment"})]}),(0,Sv.jsxs)("div",{className:vC,children:[(0,Sv.jsx)("h3",{className:yC,children:f.question}),(0,Sv.jsx)("p",{className:xC,children:f.description})]}),(0,Sv.jsx)("div",{className:bC,children:(0,Sv.jsxs)("div",{className:SC,children:[(0,Sv.jsxs)("button",{type:"button",onClick:()=>v(f.id,!0),className:"".concat(wC," ").concat(jC," ").concat(!0===r[f.id]?NC:""),children:[(0,Sv.jsx)("span",{className:kC,children:"\u2713"}),(0,Sv.jsx)("span",{className:PC,children:"Yes"})]}),(0,Sv.jsxs)("button",{type:"button",onClick:()=>v(f.id,!1),className:"".concat(wC," ").concat(CC," ").concat(!1===r[f.id]?NC:""),children:[(0,Sv.jsx)("span",{className:kC,children:"\u2717"}),(0,Sv.jsx)("span",{className:PC,children:"No"})]})]})}),(0,Sv.jsxs)("div",{className:TC,children:[c>0&&(0,Sv.jsx)("button",{type:"button",onClick:x,className:EC,children:"\u2190 Previous"}),(0,Sv.jsxs)("div",{className:AC,children:[(0,Sv.jsx)("span",{className:IC,children:"\ud83d\udd12"}),(0,Sv.jsx)("span",{children:"Confidential Assessment - Complete Privacy Guaranteed"})]})]})]})]})})},nk="EnhancedEmergencyContacts_container__RXfgC",ik="EnhancedEmergencyContacts_header__0Yef2",sk="EnhancedEmergencyContacts_title__Q1XYd",rk="EnhancedEmergencyContacts_icon__zSReZ",ak="EnhancedEmergencyContacts_subtitle__svQ4-",ok="EnhancedEmergencyContacts_dataProtectionNotice__pm0HA",ck="EnhancedEmergencyContacts_noticeHeader__wRmoO",lk="EnhancedEmergencyContacts_lockIcon__zHC+n",dk="EnhancedEmergencyContacts_section__iGJMi",uk="EnhancedEmergencyContacts_sectionTitle__fMDsc",hk="EnhancedEmergencyContacts_sectionIcon__MLhJl",pk="EnhancedEmergencyContacts_fieldGroup__1Q00X",mk="EnhancedEmergencyContacts_label__8wQhK",fk="EnhancedEmergencyContacts_required__TGQ13",_k="EnhancedEmergencyContacts_input__FoYrN",gk="EnhancedEmergencyContacts_select__QY13h",vk="EnhancedEmergencyContacts_textarea__sYWVd",yk="EnhancedEmergencyContacts_inputError__Q6zgW",xk="EnhancedEmergencyContacts_errorMessage__DKpSP",bk="EnhancedEmergencyContacts_phoneRow__1uUdy",Sk="EnhancedEmergencyContacts_checkboxGroup__jLfE4",wk="EnhancedEmergencyContacts_checkboxLabel__aErix",Nk="EnhancedEmergencyContacts_checkbox__kKbnh",jk="EnhancedEmergencyContacts_checkboxText__CCpdy",Ck="EnhancedEmergencyContacts_medicalToggle__dCNId",kk="EnhancedEmergencyContacts_toggleButton__St5Yh",Pk="EnhancedEmergencyContacts_medicalIcon__Rhg0v",Tk="EnhancedEmergencyContacts_toggleIcon__vdio1",Ek="EnhancedEmergencyContacts_toggleDescription__Er2Sm",Ak="EnhancedEmergencyContacts_medicalSection__rAUIj",Ik="EnhancedEmergencyContacts_bloodTypeGrid__nn3wx",Lk="EnhancedEmergencyContacts_bloodTypeButton__qBJ2w",Rk="EnhancedEmergencyContacts_selected__B4jo7",Mk="EnhancedEmergencyContacts_bloodTypeIcon__2G+NO",Ok="EnhancedEmergencyContacts_bloodTypeLabel__p9heq",Dk="EnhancedEmergencyContacts_addItemContainer__0Q+wV",Fk="EnhancedEmergencyContacts_addButton__e+x6e",Bk="EnhancedEmergencyContacts_itemList__dSpiy",qk="EnhancedEmergencyContacts_listItem__nLk7D",zk="EnhancedEmergencyContacts_removeButton__IyYqF",Wk="EnhancedEmergencyContacts_physicianToggle__LQ13z",Hk="EnhancedEmergencyContacts_physicianDetails__4fMyK",Uk="EnhancedEmergencyContacts_phoneRoleRow__NO8Lt",Vk="EnhancedEmergencyContacts_consentSection__3pMEQ",Gk="EnhancedEmergencyContacts_consentGroup__XDNT4",Yk="EnhancedEmergencyContacts_consentLabel__UkV3v",Kk="EnhancedEmergencyContacts_consentText__jXAAf",Qk="EnhancedEmergencyContacts_privacyOptions__YTG3W",Zk="EnhancedEmergencyContacts_privacyOption__Tp+kj",Jk="EnhancedEmergencyContacts_radio__h+-Nb",Xk="EnhancedEmergencyContacts_privacyContent__EUOBj",$k="EnhancedEmergencyContacts_submitSection__labn-",eP="EnhancedEmergencyContacts_submitButton__8XJJW",tP="EnhancedEmergencyContacts_submitNote__iEWPf",nP=[{value:"A+",label:"A+",icon:"\ud83c\udd70\ufe0f"},{value:"A-",label:"A-",icon:"\ud83c\udd70\ufe0f"},{value:"B+",label:"B+",icon:"\ud83c\udd71\ufe0f"},{value:"B-",label:"B-",icon:"\ud83c\udd71\ufe0f"},{value:"AB+",label:"AB+",icon:"\ud83c\udd8e"},{value:"AB-",label:"AB-",icon:"\ud83c\udd8e"},{value:"O+",label:"O+",icon:"\u2b55"},{value:"O-",label:"O-",icon:"\u2b55"},{value:"Unknown",label:"Unknown",icon:"\u2753"}],iP=["Spouse/Partner","Parent","Sibling","Child","Family Member","Business Partner","Assistant/PA","Legal Representative","Friend","Colleague","Other"];function sP(t){var n,i,s,r,a,c,l;let{value:d,onChange:u,isVisible:h,onComplete:p}=t;const[m,f]=(0,e.useState)({nextOfKin:{name:"",relationship:"",primaryPhone:"",secondaryPhone:"",address:"",canMakeDecisions:!1},medicalEmergency:{bloodType:void 0,criticalAllergies:[],currentMedications:[],medicalConditions:[],emergencyProcedures:[],primaryPhysician:void 0},secondaryContact:{name:"",relationship:"",phone:"",role:"backup"},dataConsent:{medicalDataConsent:!1,emergencyContactConsent:!1,dataProcessingConsent:!1,consentTimestamp:(new Date).toISOString()},privacyLevel:"standard",encryptionLevel:"standard"}),[_,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!1),[x,b]=(0,e.useState)(""),[S,w]=(0,e.useState)(""),[N,j]=(0,e.useState)(""),[C,k]=(0,e.useState)(""),[P,T]=(0,e.useState)({});(0,e.useEffect)(()=>{var e,t,n;d&&(f(d),g(!!d.medicalEmergency.bloodType||(null===(e=d.medicalEmergency.criticalAllergies)||void 0===e?void 0:e.length)>0||(null===(t=d.medicalEmergency.currentMedications)||void 0===t?void 0:t.length)>0||(null===(n=d.medicalEmergency.medicalConditions)||void 0===n?void 0:n.length)>0),y(!!d.medicalEmergency.primaryPhysician))},[d]),(0,e.useEffect)(()=>{u(m)},[m,u]);const E=(e,t)=>{switch(e){case"nextOfKin.name":return t.trim().length<2?"Name must be at least 2 characters":"";case"nextOfKin.primaryPhone":return/^(\+44\s?7\d{3}\s?\d{6}|07\d{3}\s?\d{6}|\+44\s?\d{2,4}\s?\d{6,8})$/.test(t.replace(/\s/g,""))?"":"Please enter a valid UK phone number";case"nextOfKin.address":return t.trim().length<10?"Please provide a complete address":"";default:return""}},A=(e,t)=>{const n=e.split(".");f(e=>{const i=o({},e);let s=i;for(let t=0;t<n.length-1;t++)s=s[n[t]];return s[n[n.length-1]]=t,i}),P[e]&&T(t=>o(o({},t),{},{[e]:""}))},I=(e,t,n)=>{if(t.trim()){const i=e.split(".");f(e=>{const n=o({},e);let s=n;for(let t=0;t<i.length-1;t++)s=s[i[t]];const r=s[i[i.length-1]]||[];return s[i[i.length-1]]=[...r,t.trim()],n}),n("")}},L=(e,t)=>{const n=e.split(".");f(e=>{const i=o({},e);let s=i;for(let t=0;t<n.length-1;t++)s=s[n[t]];const r=s[n[n.length-1]]||[];return s[n[n.length-1]]=r.filter((e,n)=>n!==t),i})};return h?(0,Sv.jsxs)("div",{className:nk,children:[(0,Sv.jsxs)("div",{className:ik,children:[(0,Sv.jsxs)("h3",{className:sk,children:[(0,Sv.jsx)("span",{className:rk,children:"\ud83d\udea8"}),"Enhanced Emergency Contact Information"]}),(0,Sv.jsx)("p",{className:ak,children:"Comprehensive emergency contact and medical information for your safety"})]}),(0,Sv.jsxs)("div",{className:ok,children:[(0,Sv.jsxs)("div",{className:ck,children:[(0,Sv.jsx)("span",{className:lk,children:"\ud83d\udd12"}),(0,Sv.jsx)("h4",{children:"Data Protection & Privacy"})]}),(0,Sv.jsx)("p",{children:"This information is classified as special category personal data under GDPR. We use field-level encryption and strict access controls to protect your privacy."})]}),(0,Sv.jsxs)("section",{className:dk,children:[(0,Sv.jsxs)("h4",{className:uk,children:[(0,Sv.jsx)("span",{className:hk,children:"\ud83d\udc64"}),"Primary Emergency Contact (Next of Kin)"]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsxs)("label",{className:mk,children:["Full Name ",(0,Sv.jsx)("span",{className:fk,children:"*"})]}),(0,Sv.jsx)("input",{type:"text",value:m.nextOfKin.name,onChange:e=>A("nextOfKin.name",e.target.value),onBlur:e=>{const t=E("nextOfKin.name",e.target.value);t&&T(e=>o(o({},e),{},{"nextOfKin.name":t}))},className:"".concat(_k," ").concat(P["nextOfKin.name"]?yk:""),placeholder:"Enter full legal name"}),P["nextOfKin.name"]&&(0,Sv.jsx)("span",{className:xk,children:P["nextOfKin.name"]})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsxs)("label",{className:mk,children:["Relationship ",(0,Sv.jsx)("span",{className:fk,children:"*"})]}),(0,Sv.jsxs)("select",{value:m.nextOfKin.relationship,onChange:e=>A("nextOfKin.relationship",e.target.value),className:"".concat(gk," ").concat(P["nextOfKin.relationship"]?yk:""),children:[(0,Sv.jsx)("option",{value:"",children:"Select relationship"}),iP.map(e=>(0,Sv.jsx)("option",{value:e,children:e},e))]}),P["nextOfKin.relationship"]&&(0,Sv.jsx)("span",{className:xk,children:P["nextOfKin.relationship"]})]}),(0,Sv.jsxs)("div",{className:bk,children:[(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsxs)("label",{className:mk,children:["Primary Phone ",(0,Sv.jsx)("span",{className:fk,children:"*"})]}),(0,Sv.jsx)("input",{type:"tel",value:m.nextOfKin.primaryPhone,onChange:e=>A("nextOfKin.primaryPhone",e.target.value),onBlur:e=>{const t=E("nextOfKin.primaryPhone",e.target.value);t&&T(e=>o(o({},e),{},{"nextOfKin.primaryPhone":t}))},className:"".concat(_k," ").concat(P["nextOfKin.primaryPhone"]?yk:""),placeholder:"+44 7XXX XXXXXX"}),P["nextOfKin.primaryPhone"]&&(0,Sv.jsx)("span",{className:xk,children:P["nextOfKin.primaryPhone"]})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Secondary Phone"}),(0,Sv.jsx)("input",{type:"tel",value:m.nextOfKin.secondaryPhone,onChange:e=>A("nextOfKin.secondaryPhone",e.target.value),className:_k,placeholder:"+44 20 XXXX XXXX"})]})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Address"}),(0,Sv.jsx)("textarea",{value:m.nextOfKin.address,onChange:e=>A("nextOfKin.address",e.target.value),className:vk,placeholder:"Full address including postcode",rows:3})]}),(0,Sv.jsx)("div",{className:Sk,children:(0,Sv.jsxs)("label",{className:wk,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:m.nextOfKin.canMakeDecisions,onChange:e=>A("nextOfKin.canMakeDecisions",e.target.checked),className:Nk}),(0,Sv.jsx)("span",{className:jk,children:"Authorized to make medical and legal decisions on my behalf"})]})})]}),(0,Sv.jsxs)("section",{className:dk,children:[(0,Sv.jsxs)("div",{className:Ck,children:[(0,Sv.jsxs)("button",{type:"button",onClick:()=>g(!_),className:kk,children:[(0,Sv.jsx)("span",{className:Pk,children:"\ud83c\udfe5"}),"Medical Emergency Information (Optional)",(0,Sv.jsx)("span",{className:Tk,children:_?"\u25bc":"\u25b6"})]}),(0,Sv.jsx)("p",{className:Ek,children:"Provide critical medical information for emergency situations"})]}),_&&(0,Sv.jsxs)("div",{className:Ak,children:[(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Blood Type"}),(0,Sv.jsx)("div",{className:Ik,children:nP.map(e=>(0,Sv.jsxs)("button",{type:"button",onClick:()=>A("medicalEmergency.bloodType",e.value),className:"".concat(Lk," ").concat(m.medicalEmergency.bloodType===e.value?Rk:""),children:[(0,Sv.jsx)("span",{className:Mk,children:e.icon}),(0,Sv.jsx)("span",{className:Ok,children:e.label})]},e.value))})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Critical Allergies"}),(0,Sv.jsxs)("div",{className:Dk,children:[(0,Sv.jsx)("input",{type:"text",value:x,onChange:e=>b(e.target.value),className:_k,placeholder:"Enter allergy (e.g., Penicillin, Nuts)",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),I("medicalEmergency.criticalAllergies",x,b))}}),(0,Sv.jsx)("button",{type:"button",onClick:()=>I("medicalEmergency.criticalAllergies",x,b),className:Fk,disabled:!x.trim(),children:"Add"})]}),(0,Sv.jsx)("div",{className:Bk,children:null===(n=m.medicalEmergency.criticalAllergies)||void 0===n?void 0:n.map((e,t)=>(0,Sv.jsxs)("div",{className:qk,children:[(0,Sv.jsx)("span",{children:e}),(0,Sv.jsx)("button",{type:"button",onClick:()=>L("medicalEmergency.criticalAllergies",t),className:zk,children:"\xd7"})]},t))})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Current Medications"}),(0,Sv.jsxs)("div",{className:Dk,children:[(0,Sv.jsx)("input",{type:"text",value:S,onChange:e=>w(e.target.value),className:_k,placeholder:"Enter medication name and dosage",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),I("medicalEmergency.currentMedications",S,w))}}),(0,Sv.jsx)("button",{type:"button",onClick:()=>I("medicalEmergency.currentMedications",S,w),className:Fk,disabled:!S.trim(),children:"Add"})]}),(0,Sv.jsx)("div",{className:Bk,children:null===(i=m.medicalEmergency.currentMedications)||void 0===i?void 0:i.map((e,t)=>(0,Sv.jsxs)("div",{className:qk,children:[(0,Sv.jsx)("span",{children:e}),(0,Sv.jsx)("button",{type:"button",onClick:()=>L("medicalEmergency.currentMedications",t),className:zk,children:"\xd7"})]},t))})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Relevant Medical Conditions"}),(0,Sv.jsxs)("div",{className:Dk,children:[(0,Sv.jsx)("input",{type:"text",value:N,onChange:e=>j(e.target.value),className:_k,placeholder:"Enter medical condition",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),I("medicalEmergency.medicalConditions",N,j))}}),(0,Sv.jsx)("button",{type:"button",onClick:()=>I("medicalEmergency.medicalConditions",N,j),className:Fk,disabled:!N.trim(),children:"Add"})]}),(0,Sv.jsx)("div",{className:Bk,children:null===(s=m.medicalEmergency.medicalConditions)||void 0===s?void 0:s.map((e,t)=>(0,Sv.jsxs)("div",{className:qk,children:[(0,Sv.jsx)("span",{children:e}),(0,Sv.jsx)("button",{type:"button",onClick:()=>L("medicalEmergency.medicalConditions",t),className:zk,children:"\xd7"})]},t))})]}),(0,Sv.jsx)("div",{className:Wk,children:(0,Sv.jsxs)("button",{type:"button",onClick:()=>y(!v),className:kk,children:["Primary Physician Details (Optional)",(0,Sv.jsx)("span",{className:Tk,children:v?"\u25bc":"\u25b6"})]})}),v&&(0,Sv.jsxs)("div",{className:Hk,children:[(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Physician Name"}),(0,Sv.jsx)("input",{type:"text",value:(null===(r=m.medicalEmergency.primaryPhysician)||void 0===r?void 0:r.name)||"",onChange:e=>A("medicalEmergency.primaryPhysician",o(o({},m.medicalEmergency.primaryPhysician),{},{name:e.target.value})),className:_k,placeholder:"Dr. Jane Smith"})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Physician Phone"}),(0,Sv.jsx)("input",{type:"tel",value:(null===(a=m.medicalEmergency.primaryPhysician)||void 0===a?void 0:a.phone)||"",onChange:e=>A("medicalEmergency.primaryPhysician",o(o({},m.medicalEmergency.primaryPhysician),{},{phone:e.target.value})),className:_k,placeholder:"+44 20 XXXX XXXX"})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Hospital/Practice"}),(0,Sv.jsx)("input",{type:"text",value:(null===(c=m.medicalEmergency.primaryPhysician)||void 0===c?void 0:c.hospital)||"",onChange:e=>A("medicalEmergency.primaryPhysician",o(o({},m.medicalEmergency.primaryPhysician),{},{hospital:e.target.value})),className:_k,placeholder:"Hospital or practice name"})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Special Notes"}),(0,Sv.jsx)("textarea",{value:(null===(l=m.medicalEmergency.primaryPhysician)||void 0===l?void 0:l.specialNotes)||"",onChange:e=>A("medicalEmergency.primaryPhysician",o(o({},m.medicalEmergency.primaryPhysician),{},{specialNotes:e.target.value})),className:vk,placeholder:"Any special instructions or notes",rows:2})]})]})]})]}),(0,Sv.jsxs)("section",{className:dk,children:[(0,Sv.jsxs)("h4",{className:uk,children:[(0,Sv.jsx)("span",{className:hk,children:"\ud83d\udc65"}),"Secondary Contact (Optional)"]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Name"}),(0,Sv.jsx)("input",{type:"text",value:m.secondaryContact.name,onChange:e=>A("secondaryContact.name",e.target.value),className:_k,placeholder:"Secondary contact name"})]}),(0,Sv.jsxs)("div",{className:Uk,children:[(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Phone"}),(0,Sv.jsx)("input",{type:"tel",value:m.secondaryContact.phone,onChange:e=>A("secondaryContact.phone",e.target.value),className:_k,placeholder:"+44 XXXX XXXXXX"})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Role"}),(0,Sv.jsxs)("select",{value:m.secondaryContact.role,onChange:e=>A("secondaryContact.role",e.target.value),className:gk,children:[(0,Sv.jsx)("option",{value:"backup",children:"Backup Contact"}),(0,Sv.jsx)("option",{value:"business",children:"Business Contact"}),(0,Sv.jsx)("option",{value:"family",children:"Family Contact"}),(0,Sv.jsx)("option",{value:"legal",children:"Legal Contact"})]})]})]}),(0,Sv.jsxs)("div",{className:pk,children:[(0,Sv.jsx)("label",{className:mk,children:"Relationship"}),(0,Sv.jsx)("input",{type:"text",value:m.secondaryContact.relationship,onChange:e=>A("secondaryContact.relationship",e.target.value),className:_k,placeholder:"Relationship to you"})]})]}),(0,Sv.jsxs)("section",{className:Vk,children:[(0,Sv.jsxs)("h4",{className:uk,children:[(0,Sv.jsx)("span",{className:hk,children:"\ud83d\udccb"}),"Data Processing Consent"]}),(0,Sv.jsxs)("div",{className:Gk,children:[(0,Sv.jsxs)("label",{className:Yk,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:m.dataConsent.emergencyContactConsent,onChange:e=>A("dataConsent.emergencyContactConsent",e.target.checked),className:Nk}),(0,Sv.jsxs)("span",{className:Kk,children:[(0,Sv.jsx)("strong",{children:"Emergency Contact Consent"})," ",(0,Sv.jsx)("span",{className:fk,children:"*"}),(0,Sv.jsx)("br",{}),"I consent to Armora storing and processing my emergency contact information for safety purposes."]})]}),P["dataConsent.emergencyContactConsent"]&&(0,Sv.jsx)("span",{className:xk,children:P["dataConsent.emergencyContactConsent"]})]}),_&&(0,Sv.jsxs)("div",{className:Gk,children:[(0,Sv.jsxs)("label",{className:Yk,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:m.dataConsent.medicalDataConsent,onChange:e=>A("dataConsent.medicalDataConsent",e.target.checked),className:Nk}),(0,Sv.jsxs)("span",{className:Kk,children:[(0,Sv.jsx)("strong",{children:"Medical Data Consent"})," ",(0,Sv.jsx)("span",{className:fk,children:"*"}),(0,Sv.jsx)("br",{}),"I consent to Armora processing my medical information as special category personal data under GDPR for emergency purposes only."]})]}),P["dataConsent.medicalDataConsent"]&&(0,Sv.jsx)("span",{className:xk,children:P["dataConsent.medicalDataConsent"]})]}),(0,Sv.jsx)("div",{className:Gk,children:(0,Sv.jsxs)("label",{className:Yk,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:m.dataConsent.dataProcessingConsent,onChange:e=>A("dataConsent.dataProcessingConsent",e.target.checked),className:Nk}),(0,Sv.jsxs)("span",{className:Kk,children:[(0,Sv.jsx)("strong",{children:"Enhanced Security Processing"}),(0,Sv.jsx)("br",{}),"I consent to enhanced encryption and security measures for this information."]})]})})]}),(0,Sv.jsxs)("section",{className:dk,children:[(0,Sv.jsxs)("h4",{className:uk,children:[(0,Sv.jsx)("span",{className:hk,children:"\ud83d\udee1\ufe0f"}),"Privacy & Security Level"]}),(0,Sv.jsxs)("div",{className:Qk,children:[(0,Sv.jsxs)("label",{className:Zk,children:[(0,Sv.jsx)("input",{type:"radio",name:"privacyLevel",value:"minimal",checked:"minimal"===m.privacyLevel,onChange:e=>A("privacyLevel",e.target.value),className:Jk}),(0,Sv.jsxs)("div",{className:Xk,children:[(0,Sv.jsx)("strong",{children:"Minimal"}),(0,Sv.jsx)("span",{children:"Basic emergency contact only"})]})]}),(0,Sv.jsxs)("label",{className:Zk,children:[(0,Sv.jsx)("input",{type:"radio",name:"privacyLevel",value:"standard",checked:"standard"===m.privacyLevel,onChange:e=>A("privacyLevel",e.target.value),className:Jk}),(0,Sv.jsxs)("div",{className:Xk,children:[(0,Sv.jsx)("strong",{children:"Standard"}),(0,Sv.jsx)("span",{children:"Emergency contacts with optional medical information"})]})]}),(0,Sv.jsxs)("label",{className:Zk,children:[(0,Sv.jsx)("input",{type:"radio",name:"privacyLevel",value:"comprehensive",checked:"comprehensive"===m.privacyLevel,onChange:e=>A("privacyLevel",e.target.value),className:Jk}),(0,Sv.jsxs)("div",{className:Xk,children:[(0,Sv.jsx)("strong",{children:"Comprehensive"}),(0,Sv.jsx)("span",{children:"Full emergency contact and medical information"})]})]})]})]}),(0,Sv.jsxs)("div",{className:$k,children:[(0,Sv.jsx)("button",{type:"button",onClick:()=>{(()=>{const e={};if(m.nextOfKin.name.trim()){const t=E("nextOfKin.name",m.nextOfKin.name);t&&(e["nextOfKin.name"]=t)}else e["nextOfKin.name"]="Next of kin name is required";if(m.nextOfKin.primaryPhone.trim()){const t=E("nextOfKin.primaryPhone",m.nextOfKin.primaryPhone);t&&(e["nextOfKin.primaryPhone"]=t)}else e["nextOfKin.primaryPhone"]="Primary phone number is required";return m.nextOfKin.relationship||(e["nextOfKin.relationship"]="Relationship is required"),m.dataConsent.emergencyContactConsent||(e["dataConsent.emergencyContactConsent"]="Emergency contact consent is required"),_&&!m.dataConsent.medicalDataConsent&&(e["dataConsent.medicalDataConsent"]="Medical data consent is required when providing medical information"),T(e),0===Object.keys(e).length})()&&(A("dataConsent.consentTimestamp",(new Date).toISOString()),p())},className:eP,disabled:!m.dataConsent.emergencyContactConsent,children:"Save Emergency Contact Information"}),(0,Sv.jsxs)("p",{className:tP,children:[(0,Sv.jsx)("span",{className:lk,children:"\ud83d\udd12"}),"All information is encrypted using AES-256 encryption and stored securely in compliance with GDPR regulations."]})]})]}):null}const rP={container:"SevenPsAssessment_container__CV8ic",progressHeader:"SevenPsAssessment_progressHeader__zM0yG",progressBar:"SevenPsAssessment_progressBar__6G3JL",progressFill:"SevenPsAssessment_progressFill__9avVq",moduleIndicators:"SevenPsAssessment_moduleIndicators__+9hZ0",moduleIndicator:"SevenPsAssessment_moduleIndicator__N6NjM",active:"SevenPsAssessment_active__Dl1iJ",completed:"SevenPsAssessment_completed__n4h46",pending:"SevenPsAssessment_pending__FQQN3",moduleContainer:"SevenPsAssessment_moduleContainer__Sp6HR",slideInUp:"SevenPsAssessment_slideInUp__Um-YI",moduleContent:"SevenPsAssessment_moduleContent__bS6FD",moduleHeader:"SevenPsAssessment_moduleHeader__twJxz",section:"SevenPsAssessment_section__cNI0Y",fieldGroup:"SevenPsAssessment_fieldGroup__8bVE7",required:"SevenPsAssessment_required__IQLwK",textarea:"SevenPsAssessment_textarea__n6v9V",radioGroup:"SevenPsAssessment_radioGroup__TCKKH",radioLabel:"SevenPsAssessment_radioLabel__o3lvj",selected:"SevenPsAssessment_selected__kEa+9",checkboxLabel:"SevenPsAssessment_checkboxLabel__J2q1B",checked:"SevenPsAssessment_checked__9q1aQ",navigation:"SevenPsAssessment_navigation__K5l71",moduleActions:"SevenPsAssessment_moduleActions__qOuKt",backButton:"SevenPsAssessment_backButton__zbnkr",continueButton:"SevenPsAssessment_continueButton__VUcJG",loading:"SevenPsAssessment_loading__Vr1Vq",spin:"SevenPsAssessment_spin__cz68C",error:"SevenPsAssessment_error__ot7Ac",errorMessage:"SevenPsAssessment_errorMessage__ZRhCc",success:"SevenPsAssessment_success__aZxvD",successMessage:"SevenPsAssessment_successMessage__C36sy"},aP={basic:["people","places","personality"],standard:["people","places","personality","personalHistory","political"],comprehensive:["people","places","personality","prejudices","personalHistory","political","privateLifestyle"]};function oP(t){let{initialData:n,assessmentLevel:i,onComplete:s,onProgressUpdate:r}=t;const[a,c]=(0,e.useState)(0),[l,d]=(0,e.useState)(o({completionLevel:i,assessmentDate:(new Date).toISOString()},n)),u=aP[i],h=u.length;(0,e.useEffect)(()=>{r&&r(a/h*100)},[a,h,r]);const p=e=>{const t=u[a],n=o(o({},l),{},{[t]:e});d(n),a<h-1?c(a+1):s(n)};return(0,Sv.jsxs)("div",{className:rP.container,children:[(0,Sv.jsxs)("div",{className:rP.progressHeader,children:[(0,Sv.jsx)("h2",{className:rP.title,children:"Professional Security Assessment"}),(0,Sv.jsxs)("div",{className:rP.progressInfo,children:[(0,Sv.jsxs)("span",{className:rP.moduleProgress,children:[{people:"People & Relationships",places:"Places & Locations",personality:"Personality & Behavior",prejudices:"Potential Conflicts",personalHistory:"Personal History",political:"Political & Religious Views",privateLifestyle:"Private Lifestyle"}[u[a]]||""," (",a+1," of ",h,")"]}),(0,Sv.jsx)("div",{className:rP.progressBar,children:(0,Sv.jsx)("div",{className:rP.progressFill,style:{width:"".concat((a+1)/h*100,"%")}})})]})]}),(0,Sv.jsx)("div",{className:rP.moduleContainer,children:(()=>{switch(u[a]){case"people":return(0,Sv.jsx)(cP,{data:l.people,onComplete:p,assessmentLevel:i});case"places":return(0,Sv.jsx)(lP,{data:l.places,onComplete:p,assessmentLevel:i});case"personality":return(0,Sv.jsx)(dP,{data:l.personality,onComplete:p,assessmentLevel:i});case"prejudices":return(0,Sv.jsx)(uP,{data:l.prejudices,onComplete:p,assessmentLevel:i});case"personalHistory":return(0,Sv.jsx)(hP,{data:l.personalHistory,onComplete:p,assessmentLevel:i});case"political":return(0,Sv.jsx)(pP,{data:l.political,onComplete:p,assessmentLevel:i});case"privateLifestyle":return(0,Sv.jsx)(mP,{data:l.privateLifestyle,onComplete:p,assessmentLevel:i});default:return(0,Sv.jsx)("div",{children:"Unknown module"})}})()}),(0,Sv.jsxs)("div",{className:rP.navigation,children:[a>0&&(0,Sv.jsx)("button",{type:"button",onClick:()=>{a>0&&c(a-1)},className:rP.backButton,children:"\u2190 Previous"}),(0,Sv.jsx)("div",{className:rP.moduleIndicators,children:u.map((e,t)=>(0,Sv.jsx)("div",{className:"".concat(rP.moduleIndicator," ").concat(t===a?rP.active:t<a?rP.completed:rP.pending)},e))})]})]})}function cP(t){let{data:n,onComplete:i,assessmentLevel:s}=t;const[r,a]=(0,e.useState)(n||{family:{requiredFamilyProtection:!1},associates:{businessPartners:[],householdStaff:[],regularContacts:[]},threats:{knownAdversaries:[],disgruntledAssociates:[],stalkers:[],specificThreats:[]}});return(0,Sv.jsxs)("div",{className:rP.moduleContent,children:[(0,Sv.jsxs)("div",{className:rP.moduleHeader,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udc65 People & Relationships Assessment"}),(0,Sv.jsx)("p",{children:"Understanding your personal and professional relationships helps identify potential vulnerabilities and protection requirements."})]}),(0,Sv.jsxs)("section",{className:rP.section,children:[(0,Sv.jsx)("h4",{children:"Family Considerations"}),(0,Sv.jsx)("div",{className:rP.fieldGroup,children:(0,Sv.jsxs)("label",{className:rP.checkboxLabel,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:r.family.requiredFamilyProtection,onChange:e=>a(o(o({},r),{},{family:o(o({},r.family),{},{requiredFamilyProtection:e.target.checked})}))}),(0,Sv.jsx)("span",{children:"Family members require protection coordination"})]})}),"basic"!==s&&(0,Sv.jsxs)("div",{className:rP.fieldGroup,children:[(0,Sv.jsx)("label",{children:"Business Associates (Optional)"}),(0,Sv.jsx)("textarea",{placeholder:"List key business partners, colleagues, or associates who may be relevant to your security",rows:3,className:rP.textarea})]})]}),(0,Sv.jsx)("div",{className:rP.moduleActions,children:(0,Sv.jsx)("button",{type:"button",onClick:()=>i(r),className:rP.continueButton,children:"Continue to Places Assessment"})})]})}function lP(t){let{data:n,onComplete:i,assessmentLevel:s}=t;const[r,a]=(0,e.useState)(n||{residence:{type:"house",securityFeatures:[],vulnerabilities:[]},workplace:{address:"",accessControl:!1,securityTeam:!1,threatLevel:"low"},frequentLocations:[],travelPatterns:{domestic:[],international:[],highRiskAreas:[],predictability:"somewhat_predictable"}});return(0,Sv.jsxs)("div",{className:rP.moduleContent,children:[(0,Sv.jsxs)("div",{className:rP.moduleHeader,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udccd Places & Locations Assessment"}),(0,Sv.jsx)("p",{children:"Understanding your regular locations and travel patterns helps plan secure routes and identify potential risks."})]}),(0,Sv.jsxs)("section",{className:rP.section,children:[(0,Sv.jsx)("h4",{children:"Workplace Security"}),(0,Sv.jsx)("div",{className:rP.fieldGroup,children:(0,Sv.jsxs)("label",{children:[(0,Sv.jsx)("input",{type:"checkbox",checked:r.workplace.accessControl,onChange:e=>a(o(o({},r),{},{workplace:o(o({},r.workplace),{},{accessControl:e.target.checked})}))}),(0,Sv.jsx)("span",{children:"Workplace has access control systems"})]})}),(0,Sv.jsx)("div",{className:rP.fieldGroup,children:(0,Sv.jsxs)("label",{children:[(0,Sv.jsx)("input",{type:"checkbox",checked:r.workplace.securityTeam,onChange:e=>a(o(o({},r),{},{workplace:o(o({},r.workplace),{},{securityTeam:e.target.checked})}))}),(0,Sv.jsx)("span",{children:"Workplace has security team/personnel"})]})})]}),(0,Sv.jsxs)("section",{className:rP.section,children:[(0,Sv.jsx)("h4",{children:"Travel Predictability"}),(0,Sv.jsx)("div",{className:rP.radioGroup,children:[{value:"highly_predictable",label:"Highly Predictable - Same routes/times daily"},{value:"somewhat_predictable",label:"Somewhat Predictable - Regular patterns with variations"},{value:"unpredictable",label:"Unpredictable - Frequently changing routes and schedules"}].map(e=>(0,Sv.jsxs)("label",{className:rP.radioLabel,children:[(0,Sv.jsx)("input",{type:"radio",name:"predictability",value:e.value,checked:r.travelPatterns.predictability===e.value,onChange:e=>a(o(o({},r),{},{travelPatterns:o(o({},r.travelPatterns),{},{predictability:e.target.value})}))}),(0,Sv.jsx)("span",{children:e.label})]},e.value))})]}),(0,Sv.jsx)("div",{className:rP.moduleActions,children:(0,Sv.jsx)("button",{type:"button",onClick:()=>i(r),className:rP.continueButton,children:"Continue to Personality Assessment"})})]})}function dP(t){let{data:n,onComplete:i,assessmentLevel:s}=t;const[r,a]=(0,e.useState)(n||{riskTolerance:"medium",complianceLevel:"good",publicInteraction:"controlled",socialMedia:{platforms:[],activityLevel:"low",controversial:!1,locationSharing:!1},communicationStyle:"diplomatic"});return(0,Sv.jsxs)("div",{className:rP.moduleContent,children:[(0,Sv.jsxs)("div",{className:rP.moduleHeader,children:[(0,Sv.jsx)("h3",{children:"\ud83c\udfad Personality & Behavior Assessment"}),(0,Sv.jsx)("p",{children:"Understanding your behavioral preferences helps match you with compatible protection officers and security protocols."})]}),(0,Sv.jsxs)("section",{className:rP.section,children:[(0,Sv.jsx)("h4",{children:"Risk Tolerance"}),(0,Sv.jsx)("div",{className:rP.radioGroup,children:[{value:"low",label:"Low - Prefer maximum security measures"},{value:"medium",label:"Medium - Balance security with convenience"},{value:"high",label:"High - Minimal security disruption preferred"}].map(e=>(0,Sv.jsxs)("label",{className:rP.radioLabel,children:[(0,Sv.jsx)("input",{type:"radio",name:"riskTolerance",value:e.value,checked:r.riskTolerance===e.value,onChange:e=>a(o(o({},r),{},{riskTolerance:e.target.value}))}),(0,Sv.jsx)("span",{children:e.label})]},e.value))})]}),(0,Sv.jsxs)("section",{className:rP.section,children:[(0,Sv.jsx)("h4",{children:"Public Interaction Level"}),(0,Sv.jsx)("div",{className:rP.radioGroup,children:[{value:"minimal",label:"Minimal - Avoid public attention"},{value:"controlled",label:"Controlled - Managed public appearances"},{value:"frequent",label:"Frequent - Regular public engagement"}].map(e=>(0,Sv.jsxs)("label",{className:rP.radioLabel,children:[(0,Sv.jsx)("input",{type:"radio",name:"publicInteraction",value:e.value,checked:r.publicInteraction===e.value,onChange:e=>a(o(o({},r),{},{publicInteraction:e.target.value}))}),(0,Sv.jsx)("span",{children:e.label})]},e.value))})]}),(0,Sv.jsx)("div",{className:rP.moduleActions,children:(0,Sv.jsx)("button",{type:"button",onClick:()=>i(r),className:rP.continueButton,children:"basic"===s?"Complete Assessment":"Continue to History Assessment"})})]})}function uP(e){let{data:t,onComplete:n}=e;return null}function hP(e){let{data:t,onComplete:n}=e;return null}function pP(e){let{data:t,onComplete:n}=e;return null}function mP(e){let{data:t,onComplete:n}=e;return null}const fP=[{id:"previous_incidents",category:"threat_history",name:"Previous Security Incidents",description:"History of threats, harassment, or security breaches",weight:5,isActive:!1},{id:"stalking_harassment",category:"threat_history",name:"Stalking or Harassment",description:"Ongoing or recent stalking, harassment, or unwanted attention",weight:4,isActive:!1},{id:"legal_threats",category:"threat_history",name:"Legal-Related Threats",description:"Threats related to legal proceedings or business disputes",weight:4,isActive:!1},{id:"media_profile",category:"public_exposure",name:"High Media Profile",description:"Regular media coverage, celebrity status, or public recognition",weight:3,isActive:!1},{id:"social_media_presence",category:"public_exposure",name:"Significant Social Media Presence",description:"Large following on social platforms with location sharing",weight:2,isActive:!1},{id:"controversial_position",category:"public_exposure",name:"Controversial Public Position",description:"Involvement in controversial issues or polarizing topics",weight:4,isActive:!1},{id:"predictable_routes",category:"travel_patterns",name:"Predictable Travel Routes",description:"Regular, predictable travel patterns that could be exploited",weight:2,isActive:!1},{id:"high_risk_locations",category:"travel_patterns",name:"High-Risk Location Travel",description:"Regular travel to areas with elevated security concerns",weight:3,isActive:!1},{id:"international_travel",category:"travel_patterns",name:"Frequent International Travel",description:"Regular international travel with varying security standards",weight:2,isActive:!1},{id:"high_net_worth",category:"asset_value",name:"High Net Worth Individual",description:"Significant personal wealth making them attractive targets",weight:3,isActive:!1},{id:"valuable_possessions",category:"asset_value",name:"Valuable Personal Items",description:"Regular transport of jewelry, art, or high-value items",weight:2,isActive:!1},{id:"financial_information",category:"asset_value",name:"Access to Financial Information",description:"Access to sensitive financial data or systems",weight:3,isActive:!1},{id:"active_litigation",category:"legal_proceedings",name:"Active Legal Proceedings",description:"Currently involved in high-stakes litigation",weight:3,isActive:!1},{id:"witness_testimony",category:"legal_proceedings",name:"Key Witness Status",description:"Serving as key witness in important legal cases",weight:4,isActive:!1},{id:"regulatory_issues",category:"legal_proceedings",name:"Regulatory Investigations",description:"Subject to regulatory investigations or enforcement",weight:3,isActive:!1},{id:"high_risk_industry",category:"industry_risk",name:"High-Risk Industry",description:"Working in industries with elevated threat levels",weight:3,isActive:!1},{id:"competitive_intelligence",category:"industry_risk",name:"Competitive Intelligence Target",description:"Likely target for corporate espionage or intelligence gathering",weight:2,isActive:!1},{id:"sensitive_information",category:"industry_risk",name:"Access to Sensitive Information",description:"Regular access to classified or highly sensitive information",weight:4,isActive:!1},{id:"high_crime_areas",category:"geographic_risk",name:"High-Crime Area Operations",description:"Regular operations in areas with elevated crime rates",weight:2,isActive:!1},{id:"political_instability",category:"geographic_risk",name:"Political Instability Exposure",description:"Operations in areas with political tensions or unrest",weight:3,isActive:!1},{id:"remote_locations",category:"geographic_risk",name:"Remote Location Travel",description:"Regular travel to isolated areas with limited emergency response",weight:2,isActive:!1}],_P={min:7,max:12,color:"#ffc107",label:"Elevated Risk"},gP={min:13,max:19,color:"#fd7e14",label:"Significant Risk"},vP={min:20,max:25,color:"#dc3545",label:"Critical Risk"},yP={GREEN:{service:"Essential Protection",features:["SIA Level 2 Protection Officers","Standard security protocols","Basic threat awareness"],description:"Standard professional protection suitable for low-risk scenarios"},YELLOW:{service:"Executive Shield",features:["SIA Level 3 Protection Officers","Enhanced security protocols","Route planning","Communication systems"],description:"Enhanced protection for elevated risk situations"},ORANGE:{service:"Executive Shield / Shadow Protocol",features:["SIA Close Protection Officers","Advanced security protocols","Counter-surveillance","Secure communications"],description:"Advanced protection for significant risk scenarios"},RED:{service:"Shadow Protocol + Immediate Response",features:["Elite Close Protection Team","Maximum security protocols","Real-time threat monitoring","Emergency response coordination"],description:"Maximum protection for critical risk situations requiring immediate intervention"}};function xP(e,t){return e*t}function bP(e){return e>=vP.min?"RED":e>=gP.min?"ORANGE":e>=_P.min?"YELLOW":"GREEN"}function SP(e){const t=[];let n=1,i=1;const s=e.step1||e.professionalProfile;["celebrity","government","diplomat","high_profile"].includes(s)&&(n+=1,i+=1,t.push(o(o({},fP.find(e=>"media_profile"===e.id)),{},{isActive:!0})));const r=e.step3||e.serviceRequirements||[];r.includes("privacy_discretion")&&(n+=1,i+=1,t.push(o(o({},fP.find(e=>"controversial_position"===e.id)),{},{isActive:!0}))),r.includes("security_awareness")&&(n+=1,t.push(o(o({},fP.find(e=>"previous_incidents"===e.id)),{},{isActive:!0})));(e.step4||e.primaryAreas||[]).includes("international_specialized")&&(n+=1,i+=1,t.push(o(o({},fP.find(e=>"high_risk_locations"===e.id)),{},{isActive:!0})));const a=e.step2||e.travelFrequency;["daily","weekly"].includes(a)&&(n+=1,t.push(o(o({},fP.find(e=>"predictable_routes"===e.id)),{},{isActive:!0}))),n=Math.min(n,5),i=Math.min(i,5);const c=xP(n,i),l=bP(c),d=yP[l],u={probability:n,impact:i,score:c,level:l,factors:t,recommendations:[d.description,...d.features],protectionLevel:"GREEN"===l?"Essential":"YELLOW"===l?"Executive":"ORANGE"===l?"Shadow":"Enhanced"},h=Object.keys(e).length,p=Math.min(Math.max(h/9*100,30),95);return{matrix:u,confidence:Math.round(p),lastUpdated:new Date,assessmentSource:"questionnaire"}}const wP={GREEN:{riskLevel:"GREEN",assessmentType:"standard",questionCount:7,requiresSevenPs:!1,sevenPsLevel:"basic",requiresEnhancedEmergencyContacts:!1,requiresMedicalData:!1,requiredModules:["basic_questionnaire","emergency_contacts"],additionalSteps:[]},YELLOW:{riskLevel:"YELLOW",assessmentType:"enhanced",questionCount:12,requiresSevenPs:!0,sevenPsLevel:"basic",requiresEnhancedEmergencyContacts:!0,requiresMedicalData:!1,requiredModules:["enhanced_questionnaire","seven_ps_basic","enhanced_emergency_contacts"],additionalSteps:[6.5,7.5]},ORANGE:{riskLevel:"ORANGE",assessmentType:"significant",questionCount:18,requiresSevenPs:!0,sevenPsLevel:"standard",requiresEnhancedEmergencyContacts:!0,requiresMedicalData:!0,requiredModules:["significant_questionnaire","seven_ps_standard","enhanced_emergency_contacts","medical_data"],additionalSteps:[6.5,7.5,8.5]},RED:{riskLevel:"RED",assessmentType:"critical",questionCount:25,requiresSevenPs:!0,sevenPsLevel:"comprehensive",requiresEnhancedEmergencyContacts:!0,requiresMedicalData:!0,requiredModules:["comprehensive_questionnaire","seven_ps_comprehensive","enhanced_emergency_contacts","medical_data","threat_analysis"],additionalSteps:[6.5,7.5,8.5,9.5]}};function NP(e){const t=SP(e).matrix.level;let n=o({},wP[t]);return function(e,t,n){if(["celebrity","government","diplomat","high_profile"].includes(e))return!0;const i=["privacy_discretion","security_awareness"];if(t.some(e=>i.includes(e)))return!0;if(n){if([n.hasReceivedThreats,n.hasLegalProceedings,n.hasPreviousIncidents,n.hasControversialWork].some(e=>e))return!0}return!1}(e.step1||e.professionalProfile,e.step3||e.serviceRequirements||[],e.step2_5||e.threatAssessment)&&(n=function(e){const t=["GREEN","YELLOW","ORANGE","RED"],n=t.indexOf(e.riskLevel);if(n<t.length-1){const e=t[n+1];return o({},wP[e])}return e}(n)),n}function jP(e,t){const n=wP[e];if(!n)return!1;return!!["celebrity","government","diplomat","high_profile","security"].includes(t)||n.requiresSevenPs}function CP(e){const t=wP[e];return(null===t||void 0===t?void 0:t.sevenPsLevel)||"basic"}function kP(e){const t=wP[e];return(null===t||void 0===t?void 0:t.requiresEnhancedEmergencyContacts)||!1}function PP(e){return{standard:"Essential Protection",enhanced:"Executive Shield",significant:"Shadow Protocol",critical:"Shadow Protocol + Enhanced Response"}[e.assessmentType]||"Essential Protection"}const TP={standardText:"QuestionnaireStep_standardText__8MN1T",validationSuccessMessage:"QuestionnaireStep_validationSuccessMessage__oVXgV",fadeInSuccess:"QuestionnaireStep_fadeInSuccess__5Nvi8",validationWarningMessage:"QuestionnaireStep_validationWarningMessage__4uQW7",fadeInWarning:"QuestionnaireStep_fadeInWarning__vKe7p",container:"QuestionnaireStep_container__bMkY2",icon:"QuestionnaireStep_icon__Hl4-n",badge:"QuestionnaireStep_badge__hNCBv",checkmark:"QuestionnaireStep_checkmark__DJa2L",timeIcon:"QuestionnaireStep_timeIcon__wjM2w",progressBar:"QuestionnaireStep_progressBar__fO82k",button:"QuestionnaireStep_button__vrYz9",valueProposition:"QuestionnaireStep_valueProposition__f8axE",benefitItem:"QuestionnaireStep_benefitItem__K5lAF",optionDescription:"QuestionnaireStep_optionDescription__VAtum",instructionText:"QuestionnaireStep_instructionText__A83Pn",privacyText:"QuestionnaireStep_privacyText__Asf1j",question:"QuestionnaireStep_question__bPIVa",sectionHeader:"QuestionnaireStep_sectionHeader__K5ZlE",stepHeader:"QuestionnaireStep_stepHeader__KIbJI",profileHeader:"QuestionnaireStep_profileHeader__-z7ll",descriptionText:"QuestionnaireStep_descriptionText__Jk5tg",stepDescription:"QuestionnaireStep_stepDescription__rqBV9",sectionDescription:"QuestionnaireStep_sectionDescription__CQsrM",benefitsList:"QuestionnaireStep_benefitsList__0PNeH",featureList:"QuestionnaireStep_featureList__GpOqb",bulletPoints:"QuestionnaireStep_bulletPoints__2UJpA",credentialsSection:"QuestionnaireStep_credentialsSection__JT2rV",credentialsList:"QuestionnaireStep_credentialsList__0mOtU",credentialItem:"QuestionnaireStep_credentialItem__wdL+p",questionPrompt:"QuestionnaireStep_questionPrompt__Bsxtq",assessmentQuestion:"QuestionnaireStep_assessmentQuestion__HM1Zg",personalMessage:"QuestionnaireStep_personalMessage__HB0Yd",welcomeMessage:"QuestionnaireStep_welcomeMessage__gn+dO",slideInRight:"QuestionnaireStep_slideInRight__Z6CBq",breathingScale:"QuestionnaireStep_breathingScale__nv-rB",orbitalRotation:"QuestionnaireStep_orbitalRotation__M5WeC",animatingIn:"QuestionnaireStep_animatingIn__nwOsJ",content:"QuestionnaireStep_content__F6CTK",header:"QuestionnaireStep_header__-BsPk",glowSweep:"QuestionnaireStep_glowSweep__994b6",title:"QuestionnaireStep_title__GlMpb",slideUpWithFade:"QuestionnaireStep_slideUpWithFade__azO-g",subtitle:"QuestionnaireStep_subtitle__+BU7O",slideInFromRight:"QuestionnaireStep_slideInFromRight__ebm8E",questionSection:"QuestionnaireStep_questionSection__7OSyq",helpText:"QuestionnaireStep_helpText__4BvqN",inputSection:"QuestionnaireStep_inputSection__987VU",optionsContainer:"QuestionnaireStep_optionsContainer__UkCcz",option:"QuestionnaireStep_option__E+pNi",slideUpFromBottom:"QuestionnaireStep_slideUpFromBottom__dKLyJ",optionLabel:"QuestionnaireStep_optionLabel__3rwPM",optionExamples:"QuestionnaireStep_optionExamples__ke-Ww",selected:"QuestionnaireStep_selected__SMEsP",optionSelected:"QuestionnaireStep_optionSelected__wxlSF",goldenText:"QuestionnaireStep_goldenText__Bjk3W",goldenAsterisk:"QuestionnaireStep_goldenAsterisk__AHFl9","questionnaire-option":"QuestionnaireStep_questionnaire-option__niKcl",radioInput:"QuestionnaireStep_radioInput__bFcGR",checkboxInput:"QuestionnaireStep_checkboxInput__4dzul",optionContent:"QuestionnaireStep_optionContent__F+jCs",optionHeader:"QuestionnaireStep_optionHeader__Fs00t",optionIcon:"QuestionnaireStep_optionIcon__D4f-Q",toggleContainer:"QuestionnaireStep_toggleContainer__TOgA+",toggleGroup:"QuestionnaireStep_toggleGroup__EuZeL",textInput:"QuestionnaireStep_textInput__r8k7w",textarea:"QuestionnaireStep_textarea__XCFux",select:"QuestionnaireStep_select__ETPn2",errorContainer:"QuestionnaireStep_errorContainer__6jfJd",error:"QuestionnaireStep_error__rg9lp",characterCount:"QuestionnaireStep_characterCount__WXlUh",selectionCount:"QuestionnaireStep_selectionCount__quhWC",actions:"QuestionnaireStep_actions__TatsL",slideUpCTAs:"QuestionnaireStep_slideUpCTAs__aNDGN",primaryButton:"QuestionnaireStep_primaryButton__Q19rT",secondaryButton:"QuestionnaireStep_secondaryButton__UwXW2",stepIntroComprehensive:"QuestionnaireStep_stepIntroComprehensive__+t9sA",slideUpWithScale:"QuestionnaireStep_slideUpWithScale__2r5PG",whyQuestionnaire:"QuestionnaireStep_whyQuestionnaire__bpqek",processOverview:"QuestionnaireStep_processOverview__FngQ+",securityAssurance:"QuestionnaireStep_securityAssurance__0lCNi",trustIndicators:"QuestionnaireStep_trustIndicators__9kLmw",dataUsageNote:"QuestionnaireStep_dataUsageNote__QUMzP",stepBadge:"QuestionnaireStep_stepBadge__gD2v-",shieldIcon:"QuestionnaireStep_shieldIcon__p8gUt",enhancedHeader:"QuestionnaireStep_enhancedHeader__Z8In8",titleEnhanced:"QuestionnaireStep_titleEnhanced__aHC8V",subtitleEnhanced:"QuestionnaireStep_subtitleEnhanced__Cl7mD",processBenefits:"QuestionnaireStep_processBenefits__uLZg9",clockIcon:"QuestionnaireStep_clockIcon__wWHYg",checkIcon:"QuestionnaireStep_checkIcon__oPp5v",singleIntroContainer:"QuestionnaireStep_singleIntroContainer__-HQ33",consolidatedBox:"QuestionnaireStep_consolidatedBox__8bzBx",primaryHeadline:"QuestionnaireStep_primaryHeadline__+Tazo",headlineIcon:"QuestionnaireStep_headlineIcon__M3RZu",benefitsSection:"QuestionnaireStep_benefitsSection__zKvcF",sectionHeading:"QuestionnaireStep_sectionHeading__lBFYh",securityAssuranceInline:"QuestionnaireStep_securityAssuranceInline__jlVbO",securityAssuranceFooter:"QuestionnaireStep_securityAssuranceFooter__RXuUW",securityBadges:"QuestionnaireStep_securityBadges__4PzzZ",stepGuidance:"QuestionnaireStep_stepGuidance__fpj36",guidanceContent:"QuestionnaireStep_guidanceContent__I1EVT",stepInstructions:"QuestionnaireStep_stepInstructions__2PeY8",instructionContent:"QuestionnaireStep_instructionContent__Rh0ay",conversionPrompt:"QuestionnaireStep_conversionPrompt__-Uvsl",promptContent:"QuestionnaireStep_promptContent__f8H7W",promptTitle:"QuestionnaireStep_promptTitle__7rDc0",promptDescription:"QuestionnaireStep_promptDescription__ICPsu",promptBenefits:"QuestionnaireStep_promptBenefits__FJN74",promptBenefit:"QuestionnaireStep_promptBenefit__d1-yW",promptActions:"QuestionnaireStep_promptActions__QbtpJ",helpButton:"QuestionnaireStep_helpButton__tFMQJ",examplesSection:"QuestionnaireStep_examplesSection__NUmC-",showExamplesBtn:"QuestionnaireStep_showExamplesBtn__wAeOn",examplesContent:"QuestionnaireStep_examplesContent__kf5el",uncertaintySection:"QuestionnaireStep_uncertaintySection__kpXsc",uncertaintyOption:"QuestionnaireStep_uncertaintyOption__3r+Bs",uncertaintyHelp:"QuestionnaireStep_uncertaintyHelp__DD4NR",uncertaintyGuidance:"QuestionnaireStep_uncertaintyGuidance__AzaU0",similarClients:"QuestionnaireStep_similarClients__ALOQy",clientExample:"QuestionnaireStep_clientExample__UOMZj",clientType:"QuestionnaireStep_clientType__rXz3h",clientNeeds:"QuestionnaireStep_clientNeeds__9TOLb",recommendedService:"QuestionnaireStep_recommendedService__yfwij",servicePreviewPanel:"QuestionnaireStep_servicePreviewPanel__ILgDs",slideInUp:"QuestionnaireStep_slideInUp__An+NH",previewHeader:"QuestionnaireStep_previewHeader__TKQbm",progressIndicator:"QuestionnaireStep_progressIndicator__CSwSV",currentRecommendations:"QuestionnaireStep_currentRecommendations__-E2W1",serviceLevel:"QuestionnaireStep_serviceLevel__aK2R-",costEstimate:"QuestionnaireStep_costEstimate__pUAtH",cpoMatch:"QuestionnaireStep_cpoMatch__cpXVv",securityFeatures:"QuestionnaireStep_securityFeatures__bvqv4",previewNote:"QuestionnaireStep_previewNote__fgcQM",stepHeaderSection:"QuestionnaireStep_stepHeaderSection__qxt6V",armoraValue:"QuestionnaireStep_armoraValue__BTNQZ",nameCollectionWrapper:"QuestionnaireStep_nameCollectionWrapper__jEcq+",progressMessage:"QuestionnaireStep_progressMessage__EXGGK",unifiedContentBox:"QuestionnaireStep_unifiedContentBox__UEaM9",stepExplanation:"QuestionnaireStep_stepExplanation__-oktt",progressSection:"QuestionnaireStep_progressSection__VR9YT",progressText:"QuestionnaireStep_progressText__u9LIK",demandBadge:"QuestionnaireStep_demandBadge__C2fRD",progressContainer:"QuestionnaireStep_progressContainer__1VUAI",privacyFooter:"QuestionnaireStep_privacyFooter__TnAgn",twoBoxLayout:"QuestionnaireStep_twoBoxLayout__Q7FWv",layoutBox:"QuestionnaireStep_layoutBox__QO1DD",boxHeader:"QuestionnaireStep_boxHeader__GZ3lG",boxIcon:"QuestionnaireStep_boxIcon__SlA1c",boxContent:"QuestionnaireStep_boxContent__3T7XL",boxSubsection:"QuestionnaireStep_boxSubsection__qk4x6",boxSubheader:"QuestionnaireStep_boxSubheader__udoHJ",timeIndicator:"QuestionnaireStep_timeIndicator__Cwut-",credentialBadges:"QuestionnaireStep_credentialBadges__MEfnA",howToAnswer:"QuestionnaireStep_howToAnswer__eNeWD",howToAnswerTitle:"QuestionnaireStep_howToAnswerTitle__1dAb6",howToAnswerText:"QuestionnaireStep_howToAnswerText__Qa7UZ",progressTrack:"QuestionnaireStep_progressTrack__yP+Fb",progressFill:"QuestionnaireStep_progressFill__AdOZK",spacer:"QuestionnaireStep_spacer__xrZ+m",stepDescriptionPanel:"QuestionnaireStep_stepDescriptionPanel__ex0yc",selectionFeedback:"QuestionnaireStep_selectionFeedback__SL7TB",bottomAnchor:"QuestionnaireStep_bottomAnchor__9cmhj",threatAssessmentContainer:"QuestionnaireStep_threatAssessmentContainer__OhTxV",sevenPsContainer:"QuestionnaireStep_sevenPsContainer__JLZee",fadeInAssessment:"QuestionnaireStep_fadeInAssessment__lcdzF",enhancedEmergencyContainer:"QuestionnaireStep_enhancedEmergencyContainer__KO17d",enhancedEmergencyContacts:"QuestionnaireStep_enhancedEmergencyContacts__hDbCJ",progressiveTransition:"QuestionnaireStep_progressiveTransition__iPeSh",progressiveEnter:"QuestionnaireStep_progressiveEnter__4CLX6",progressiveEnterActive:"QuestionnaireStep_progressiveEnterActive__Qje+S",progressiveExit:"QuestionnaireStep_progressiveExit__+gngY",progressiveExitActive:"QuestionnaireStep_progressiveExitActive__i-aox",riskLevelIndicator:"QuestionnaireStep_riskLevelIndicator__cAGXR",riskLevelGreen:"QuestionnaireStep_riskLevelGreen__V8Ua9",riskLevelYellow:"QuestionnaireStep_riskLevelYellow__mcmMt",riskLevelOrange:"QuestionnaireStep_riskLevelOrange__SzPwk",riskLevelRed:"QuestionnaireStep_riskLevelRed__gowJc",assessmentProgress:"QuestionnaireStep_assessmentProgress__yJRzt",assessmentProgressTitle:"QuestionnaireStep_assessmentProgressTitle__ospPq",assessmentProgressText:"QuestionnaireStep_assessmentProgressText__OB1j8"},EP="BenefitListSpacing_tightBenefitsList__Pw8JP",AP="BenefitListSpacing_tightBenefitItem__p6J0W";function IP(t){var n,i;let{step:s,currentValue:r,onComplete:a,onPrevious:c,showConversionPrompt:l,onConversionPromptResponse:d,isFirstStep:u,isLastStep:h,userResponses:p={},currentStepNumber:m=1}=t;const{state:f,setUserProfileSelection:_}=kv(),[g,v]=(0,e.useState)(""),[y,x]=(0,e.useState)([]),[b,S]=(0,e.useState)(""),[w,N]=(0,e.useState)([]),[j,C]=(0,e.useState)(!0),[k,P]=(0,e.useState)(""),[T,E]=(0,e.useState)(!1),[A,I]=(0,e.useState)(null),[L,R]=(0,e.useState)(!1),[M,D]=(0,e.useState)(null),[F,B]=(0,e.useState)(null),[q,z]=(0,e.useState)(null),[W,H]=(0,e.useState)(null),[U,V]=(0,e.useState)(!1),[G,Y]=(0,e.useState)("basic"),[K,Q]=(0,e.useState)(!1),[Z,J]=(0,e.useState)(null),[X,$]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(r)if("object"===typeof r&&null!==r&&!Array.isArray(r)&&"type"in r&&"custom"===r.type){const e=r;E(!0),P(e.value||""),v(""),x([]),S("")}else"object"===typeof r&&null!==r&&"nextOfKin"in r?(z(r),E(!1),P(""),v(""),x([]),S("")):"object"===typeof r&&null!==r&&"people"in r?(H(r),E(!1),P(""),v(""),x([]),S("")):"prefer_not_to_say"===r?(E(!1),P(""),v(""),x([]),S("")):Array.isArray(r)?(x(r),E(!1)):(E(!1),P(""),"radio"===s.type||"select"===s.type?v(r):S(r));else v(""),x([]),S(""),E(!1),P("");N([]),C(!0);const e=setTimeout(()=>C(!1),300);return()=>clearTimeout(e)},[s.id,r,s.type]),(0,e.useEffect)(()=>{const e=()=>{document.querySelectorAll(".option").forEach(e=>{const t=e;t.style.borderBottom="2px solid rgba(255, 215, 0, 0.3)",t.style.boxShadow="none",t.style.width="100%",t.style.maxWidth="100%";const n=document.createElement("style");n.id="golden-line-killer",n.textContent="\n          .option::after,\n          .option::before {\n            display: none !important;\n            content: none !important;\n            border: none !important;\n            background: none !important;\n          }\n        ";const i=document.getElementById("golden-line-killer");i&&i.remove(),document.head.appendChild(n)});document.querySelectorAll(".progress-bar, .progress-fill").forEach(e=>{const t=e;t.style.position="relative",t.style.zIndex="1"})};e();const t=setTimeout(e,100);return()=>clearTimeout(t)},[s.id]);const ee=(0,e.useCallback)(()=>{setTimeout(()=>{const e=document.getElementById("questionnaire-bottom");e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100)},[]),te=(0,e.useCallback)((e,t,n,i,s)=>{let r=null;i&&null!==s&&void 0!==s&&s.trim()?r={title:"Custom Requirements Noted",description:"Your specific requirements have been recorded and will be incorporated into your personalized service.",benefits:["Customized service approach","Flexible accommodation of needs","Personalized attention to details","Tailored security protocols"],icon:"\ud83d\udcdd"}:n&&n.length>0?r=function(e,t){if(0===t.length)return iC;if(1===t.length)return sC(e,t[0]);const n=t.map(t=>sC(e,t)).flatMap(e=>e.benefits);return{title:"Multiple Services Selected",description:"Your combined selections will provide comprehensive coverage for all your specified requirements.",benefits:Array.from(new Set(n)).slice(0,4),icon:"\ud83c\udfaf"}}(e,n):t&&t.trim()&&(r=sC(e,t)),I(r),R(!!r),r&&ee()},[ee]),ne=e=>{v(e),N([]),1===s.id&&_(e),te(s.id,e)},ie=()=>{const e={step:s.id,responses:o(o(o({},g?{["step".concat(s.id)]:g}:{}),y.length>0?{["step".concat(s.id)]:y}:{}),b?{["step".concat(s.id)]:b}:{}),timestamp:(new Date).toISOString()};localStorage.setItem("armora_questionnaire_progress",JSON.stringify(e)),alert("Your progress has been saved. You can return anytime to continue your security assessment."),window.location.href="/"},se=()=>{const e="\nStep ".concat(s.id," Help:\n\n").concat(ue(s.id),'\n\nNeed additional assistance?\n\u2022 Contact our security specialists: 0800-ARMORA-1\n\u2022 Live chat available 24/7 on our website\n\u2022 Email: support@armora-transport.co.uk\n\nYour privacy is important to us. All questions are optional and you can use "Prefer not to say" for maximum privacy.\n    ');alert(e)},re=()=>{s.validation.required?alert('This step is required for security assessment. Please make a selection or choose "Prefer not to say" for privacy.'):a(s.id,"")},ae=(e,t)=>{let n;n=t?[...y,e]:y.filter(t=>t!==e),x(n),N([]),s.validation.maxSelections&&n.length>s.validation.maxSelections?N(["Please select no more than ".concat(s.validation.maxSelections," options")]):te(s.id,void 0,n)},oe=e=>{S(e),N([]),T&&(E(!1),P("")),s.validation.maxLength&&e.length>s.validation.maxLength&&N(["Maximum ".concat(s.validation.maxLength," characters allowed")])},ce=()=>{if(T&&k.trim().length>0)return void a(s.id,{type:"custom",value:k.trim()});if(!(()=>{if(T&&k.trim().length>0)return!0;if("threat_assessment"===s.type)return!!(!s.validation.required||M&&F)||(N([s.validation.errorMessage||"Please complete the security assessment"]),!1);if("seven_ps_assessment"===s.type)return!(s.validation.required&&!W)||(N([s.validation.errorMessage||"Please complete the Seven Ps security assessment"]),!1);if("enhanced_emergency_contacts"===s.type)return!(s.validation.required&&!q)||(N([s.validation.errorMessage||"Please complete the enhanced emergency contact information"]),!1);const e=[],{validation:t}=s;let n=!1,i=0,r=0;return"checkbox"===s.type?(n=y.length>0,r=y.length):"radio"===s.type||"select"===s.type?n=g.length>0:(n=b.trim().length>0,i=b.trim().length),t.required&&!n&&e.push(t.errorMessage||"This field is required"),!n||"input"!==s.type&&"textarea"!==s.type||(t.minLength&&i<t.minLength&&e.push("Minimum ".concat(t.minLength," characters required")),t.maxLength&&i>t.maxLength&&e.push("Maximum ".concat(t.maxLength," characters allowed"))),"checkbox"===s.type&&(t.minSelections&&r<t.minSelections&&e.push("Please select at least ".concat(t.minSelections," option").concat(t.minSelections>1?"s":"")),t.maxSelections&&r>t.maxSelections&&e.push("Please select no more than ".concat(t.maxSelections," option").concat(t.maxSelections>1?"s":""))),n&&t.pattern&&("input"===s.type||"textarea"===s.type)&&(t.pattern.test(b.trim())||e.push(t.errorMessage||"Please enter a valid value")),N(e),0===e.length})())return;let e;e="checkbox"===s.type?y:"radio"===s.type||"select"===s.type?g:"seven_ps_assessment"===s.type?W:"enhanced_emergency_contacts"===s.type?q:b.trim(),a(s.id,e)},le=e=>e.startsWith("*")?(0,Sv.jsxs)("span",{className:TP.goldenText,children:[(0,Sv.jsx)("span",{className:TP.goldenAsterisk,children:"*"}),(0,Sv.jsx)("span",{children:e.substring(1)})]}):e,de=()=>{if(T&&k.trim().length>0)return!0;if("threat_assessment"===s.type)return null!==M&&null!==F;if("seven_ps_assessment"===s.type)return null!==W;if("enhanced_emergency_contacts"===s.type)return null!==q;const{validation:e}=s;if("checkbox"===s.type){const t=!e.minSelections||y.length>=e.minSelections,n=!e.maxSelections||y.length<=e.maxSelections,i=y.length>0;return e.required?i&&t&&n:!i||t&&n}if("radio"===s.type||"select"===s.type)return!e.required||g.length>0;{const t=b.trim().length>0;return!e.required||t}},ue=e=>({1:"Select the option that best matches your professional role. This helps us understand the level of discretion and security protocols required for your transport needs.",2:"Consider your typical transport patterns. Regular users benefit from consistent security teams, while occasional users receive flexible on-demand protection.",3:"Think about your specific security concerns or requirements. There are no wrong answers - this helps us match appropriate protection levels.",4:"Choose the areas where you most frequently need transport. This helps us pre-position resources and establish secure routes.",5:"Select any specialized locations you might need. Airport transfers and event venues require enhanced security protocols.",6:"Provide a priority contact following security industry best practices. This ensures rapid response in any situation.",7:"Select any accommodations or special requirements. We ensure all Principals receive appropriate support for comfortable transport.",8:"Choose how you'd like to receive updates. Clear communication is essential for effective security operations.",9:"Review your complete security profile. This comprehensive assessment ensures we deliver the most appropriate protection service."}[e]||"Please complete this step to continue building your security profile.");if(l&&s.showConversionPrompt&&d){const e=s.showConversionPrompt;return(0,Sv.jsx)("div",{className:"global-viewport",children:(0,Sv.jsx)("div",{className:"global-container",children:(0,Sv.jsx)("div",{className:TP.container,children:(0,Sv.jsx)("div",{className:TP.conversionPrompt,children:(0,Sv.jsxs)("div",{className:TP.promptContent,children:[(0,Sv.jsx)("h2",{className:TP.promptTitle,children:e.title}),(0,Sv.jsx)("p",{className:TP.promptDescription,children:e.description}),(0,Sv.jsx)("div",{className:TP.promptBenefits,children:e.benefits.map((e,t)=>(0,Sv.jsx)("div",{className:TP.promptBenefit,children:(0,Sv.jsx)("span",{children:e})},t))}),(0,Sv.jsxs)("div",{className:TP.promptActions,children:[(0,Sv.jsx)("button",{onClick:()=>d(!0),className:"".concat(TP.button," ").concat(TP.primaryButton),children:e.actionText}),(0,Sv.jsx)("button",{onClick:()=>d(!1),className:"".concat(TP.button," ").concat(TP.secondaryButton),children:"Continue as Guest"})]})]})})})})})}return 8===s.id?(0,Sv.jsx)("div",{className:"global-viewport",children:(0,Sv.jsx)("div",{className:"global-container",children:(0,Sv.jsx)("div",{className:"".concat(TP.container," ").concat(j?TP.animatingIn:""," questionnaire-background"),children:(0,Sv.jsxs)("div",{className:TP.content,children:[(0,Sv.jsxs)("header",{className:TP.header,children:[(0,Sv.jsx)("h1",{className:TP.title,children:"Your Armora Security Profile"}),(0,Sv.jsx)("p",{className:TP.subtitle,children:"Comprehensive analysis of your transport requirements"})]}),(0,Sv.jsx)("div",{className:TP.profileSummary,children:(0,Sv.jsx)(Kw,{userResponses:p})}),(0,Sv.jsxs)("div",{className:"".concat(TP.securityAssurance," ").concat(TP.securityAssuranceFooter),children:[(0,Sv.jsx)("h4",{children:"Your Privacy & Security"}),(0,Sv.jsx)("p",{children:"Your comprehensive security profile is encrypted and used exclusively for service matching. Complete confidentiality guaranteed."})]}),(0,Sv.jsx)(zS,{currentStep:s.id,totalSteps:9,hasSelection:!0,onNext:()=>a(s.id,"profile_reviewed"),onPrevious:c,onSaveExit:ie,onHelp:se,onSkip:re,isLastStep:!1})]})})})}):(0,Sv.jsx)("div",{className:"global-viewport",children:(0,Sv.jsx)("div",{className:"global-container",children:(0,Sv.jsxs)("div",{className:"".concat(TP.container," ").concat(j?TP.animatingIn:""," questionnaire-background"),children:[(0,Sv.jsx)("div",{className:"floating-elements"}),(0,Sv.jsxs)("div",{className:TP.content,children:[s.isFirstStep&&s.processOverview?(0,Sv.jsxs)("div",{className:TP.stepIntroComprehensive,children:[(0,Sv.jsx)(Iw,{userName:(null===(n=f.questionnaireData)||void 0===n?void 0:n.firstName)||"",onNameChange:()=>{},className:TP.nameCollectionWrapper}),(0,Sv.jsx)("div",{className:TP.stepHeaderSection,children:(0,Sv.jsxs)("header",{className:TP.header,children:[(0,Sv.jsx)("h1",{className:TP.title,children:s.title}),(0,Sv.jsx)("p",{className:TP.subtitle,children:s.subtitle})]})}),(0,Sv.jsx)("div",{className:TP.singleIntroContainer,children:(0,Sv.jsxs)("div",{className:TP.consolidatedBox,children:[(0,Sv.jsxs)("div",{className:TP.primaryHeadline,children:[(0,Sv.jsx)("span",{className:TP.headlineIcon,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("h3",{children:"Professional Security Assessment"})]}),(0,Sv.jsx)("p",{className:TP.valueProposition,children:"Unlock personalized VIP transport with security-trained Protection Officers tailored to your professional requirements. Our comprehensive assessment ensures the right protection level and service features for your specific needs."}),(0,Sv.jsxs)("div",{className:TP.benefitsSection,children:[(0,Sv.jsxs)("h4",{className:TP.sectionHeading,children:[(0,Sv.jsx)("span",{children:"\u2728"}),(0,Sv.jsx)("span",{children:"What You'll Receive"})]}),(0,Sv.jsxs)("ul",{className:EP,children:[(0,Sv.jsxs)("li",{className:AP,children:[(0,Sv.jsx)("span",{className:TP.checkmark,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Personalized security recommendations matched to your profile"})]}),(0,Sv.jsxs)("li",{className:AP,children:[(0,Sv.jsx)("span",{className:TP.checkmark,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Protection level assessment with appropriate Protection Officer assignment"})]}),(0,Sv.jsxs)("li",{className:AP,children:[(0,Sv.jsx)("span",{className:TP.checkmark,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Security-conscious route planning and venue coordination"})]}),(0,Sv.jsxs)("li",{className:AP,children:[(0,Sv.jsx)("span",{className:TP.checkmark,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Exclusive 50% discount on your first professional protection assignment"})]})]})]}),(0,Sv.jsxs)("div",{className:TP.credentialsSection,children:[(0,Sv.jsxs)("h4",{className:TP.sectionHeading,children:[(0,Sv.jsx)("span",{children:"\ud83c\udfc6"}),(0,Sv.jsx)("span",{children:"Our Credentials"})]}),(0,Sv.jsxs)("div",{className:TP.inlineCredentials,children:[(0,Sv.jsx)("div",{className:TP.credentialBadge,children:"\ud83d\udee1\ufe0f SIA Licensed"}),(0,Sv.jsx)("div",{className:TP.credentialBadge,children:"\ud83d\udd12 256-bit Encryption"}),(0,Sv.jsx)("div",{className:TP.credentialBadge,children:"\u2705 Government Approved"}),(0,Sv.jsx)("div",{className:TP.credentialBadge,children:"\ud83d\ude97 TfL Private Hire"}),(0,Sv.jsx)("div",{className:TP.credentialBadge,children:"\ud83d\udc6e Close Protection"})]})]}),(0,Sv.jsx)("div",{className:TP.spacer}),(0,Sv.jsx)("div",{className:TP.instructionsSection,children:(0,Sv.jsxs)("div",{className:TP.timeAndInstructions,children:[(0,Sv.jsxs)("div",{className:TP.timeIndicator,children:[(0,Sv.jsx)("span",{className:TP.timeIcon,children:"\u23f1\ufe0f"}),(0,Sv.jsxs)("span",{children:["Complete in ",Math.max(2,Math.round(1.1*(9-s.id+1)))," minutes"]})]}),(0,Sv.jsx)("div",{className:TP.spacer}),(0,Sv.jsx)("p",{className:TP.instructionText,children:"Select the option that best matches your professional role below. This helps us understand the discretion and security protocols required for your transport."})]})}),(0,Sv.jsx)("div",{className:TP.privacyFooter,children:(0,Sv.jsxs)("p",{className:TP.privacyText,children:[(0,Sv.jsx)("span",{children:"\ud83d\udd12"}),"All responses encrypted \u2022 Service matching only \u2022 Complete confidentiality"]})})]})})]}):(0,Sv.jsxs)("header",{className:TP.header,children:[(0,Sv.jsx)("h1",{className:TP.title,children:s.title}),s.subtitle&&(0,Sv.jsx)("p",{className:TP.subtitle,children:s.subtitle}),s.stepDescription&&(0,Sv.jsx)("div",{className:TP.unifiedContentBox,children:(0,Sv.jsxs)("section",{className:TP.stepExplanation,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccb How This Step Helps"}),(0,Sv.jsx)("p",{children:s.stepDescription})]})})]}),(0,Sv.jsxs)("div",{className:TP.questionSection,children:[(0,Sv.jsx)("h2",{className:TP.question,children:s.question}),s.helpText&&(0,Sv.jsx)("p",{className:TP.helpText,children:s.helpText})]}),(0,Sv.jsx)("div",{className:TP.inputSection,children:"radio"===s.type||"checkbox"===s.type?(0,Sv.jsx)("div",{className:TP.optionsContainer,children:(()=>{const e=s.options;return e?e.map(e=>{if("radio"===s.type){const t=(0,Sv.jsxs)("div",{className:"".concat(TP.option," questionnaire-option option-select-effect ").concat(g===e.value?TP.optionSelected:""),"data-option-value":e.value,onClick:()=>{g===e.value?(v(""),N([])):ne(e.value)},role:"button",tabIndex:0,onKeyPress:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),g===e.value?(v(""),N([])):ne(e.value))},children:["international_visitor"===e.value&&(0,Sv.jsx)("div",{className:"".concat(TP.demandBadge," ").concat(g===e.value?TP.selected:""),children:"HIGH DEMAND"}),(0,Sv.jsxs)("div",{className:TP.optionContent,children:[(0,Sv.jsxs)("div",{className:TP.optionHeader,children:[(0,Sv.jsx)("span",{className:TP.optionLabel,children:e.label}),e.description&&(0,Sv.jsx)("p",{className:TP.optionDescription,children:e.description}),e.examples&&(0,Sv.jsx)("div",{className:TP.optionExamples,children:le(e.examples)})]}),(0,Sv.jsx)("div",{className:TP.toggleContainer,children:(0,Sv.jsxs)("div",{className:TP.toggleGroup,onClick:e=>e.stopPropagation(),children:[(0,Sv.jsx)(aN,{value:g===e.value,onChange:t=>{t?ne(e.value):(v(""),N([]))},label:"",className:TP.optionToggle}),e.helpText&&(0,Sv.jsx)("button",{type:"button",className:TP.helpButton,onClick:t=>{t.preventDefault(),t.stopPropagation(),alert(e.helpText)},children:"?"})]})})]})]},e.id);return t}return"checkbox"===s.type?(0,Sv.jsx)("div",{className:"".concat(TP.option," questionnaire-option option-select-effect ").concat(y.includes(e.value)?TP.optionSelected:""),onClick:()=>{const t=y.includes(e.value);ae(e.value,!t)},role:"button",tabIndex:0,onKeyPress:t=>{if(" "===t.key||"Enter"===t.key){t.preventDefault();const n=y.includes(e.value);ae(e.value,!n)}},children:(0,Sv.jsxs)("div",{className:TP.optionContent,children:[(0,Sv.jsxs)("div",{className:TP.optionHeader,children:[(0,Sv.jsx)("span",{className:TP.optionLabel,children:e.label}),e.description&&(0,Sv.jsx)("p",{className:TP.optionDescription,children:e.description}),e.examples&&(0,Sv.jsx)("div",{className:TP.optionExamples,children:le(e.examples)})]}),(0,Sv.jsx)("div",{className:TP.toggleContainer,children:(0,Sv.jsx)("div",{className:TP.toggleGroup,onClick:e=>e.stopPropagation(),children:(0,Sv.jsx)(aN,{value:y.includes(e.value),onChange:t=>ae(e.value,t),label:"",className:TP.optionToggle})})})]})},e.id):null}):null})()}):"select"===s.type?"select"===s.type&&s.options?(0,Sv.jsxs)("select",{value:g,onChange:e=>ne(e.target.value),className:TP.select,children:[(0,Sv.jsx)("option",{value:"",children:"Select an option..."}),s.options.map(e=>(0,Sv.jsx)("option",{value:e.value,children:e.label},e.id))]}):null:"threat_assessment"===s.type?(()=>{if("threat_assessment"!==s.type||!s.threatAssessment)return null;const e=r&&"object"===typeof r&&"threatData"in r?r.threatData:void 0;return(0,Sv.jsx)(tk,{onComplete:(e,t)=>{D(e),B(t),((e,t)=>{try{Q(!0),J(null),NP(o(o({},p),{},{["step".concat(s.id)]:{threatData:e,riskAssessment:t}}));const n=t.matrix.level;jP(n,p.step1||"")&&(V(!0),Y(CP(n)),$(!0)),kP(n)&&$(!0),setTimeout(()=>{Q(!1)},300)}catch(O){console.error("Error in progressive disclosure:",O),J("Failed to determine enhanced assessment requirements. Please try again."),Q(!1)}})(e,t);const n={threatData:e,riskAssessment:t};a(s.id,n)},initialData:e,className:TP.threatAssessmentContainer})})():"seven_ps_assessment"===s.type?(()=>{if("seven_ps_assessment"!==s.type)return null;const e=r&&"object"===typeof r&&"people"in r?r:void 0;return(0,Sv.jsxs)("div",{className:"".concat(TP.sevenPsContainer," ").concat(TP.progressiveTransition),children:[F&&(0,Sv.jsxs)("div",{className:TP.assessmentProgress,children:[(0,Sv.jsx)("div",{className:TP.assessmentProgressTitle,children:"Enhanced Security Assessment Required"}),(0,Sv.jsxs)("div",{className:TP.assessmentProgressText,children:["Your risk level requires a ",G," Seven Ps security framework assessment.",(0,Sv.jsxs)("div",{className:"".concat(TP.riskLevelIndicator," ").concat(TP["riskLevel".concat(F.matrix.level.charAt(0)+F.matrix.level.slice(1).toLowerCase())]),children:[F.matrix.level," Risk Level"]})]})]}),Z&&(0,Sv.jsxs)("div",{className:TP.validationWarningMessage,children:["\u26a0\ufe0f ",Z]}),(0,Sv.jsx)(oP,{initialData:e,assessmentLevel:G,onComplete:e=>{try{H(e),J(null),a(s.id,e)}catch(O){console.error("Error completing Seven Ps assessment:",O),J("Failed to save Seven Ps assessment. Please try again.")}},onProgressUpdate:e=>{100===e&&Q(!1)}})]})})():"enhanced_emergency_contacts"===s.type?(()=>{if("enhanced_emergency_contacts"!==s.type)return null;const e=r&&"object"===typeof r&&"nextOfKin"in r?r:void 0;return(0,Sv.jsxs)("div",{className:"".concat(TP.enhancedEmergencyContainer," ").concat(TP.progressiveTransition),children:[(0,Sv.jsxs)("div",{className:TP.assessmentProgress,children:[(0,Sv.jsx)("div",{className:TP.assessmentProgressTitle,children:"Enhanced Emergency Contact Information"}),(0,Sv.jsx)("div",{className:TP.assessmentProgressText,children:"Your security level requires comprehensive emergency contact protocols for rapid response coordination."})]}),Z&&(0,Sv.jsxs)("div",{className:TP.validationWarningMessage,children:["\u26a0\ufe0f ",Z]}),(0,Sv.jsx)(sP,{initialData:e,onComplete:e=>{try{z(e),J(null),a(s.id,e)}catch(O){console.error("Error completing enhanced emergency contacts:",O),J("Failed to save emergency contact information. Please try again.")}},required:!0,className:TP.enhancedEmergencyContacts})]})})():"input"===s.type?(0,Sv.jsx)("input",{type:"text",value:b,onChange:e=>oe(e.target.value),placeholder:s.placeholder,className:"".concat(TP.textInput," premium-input"),maxLength:s.validation.maxLength}):"textarea"===s.type?(0,Sv.jsx)("textarea",{value:b,onChange:e=>oe(e.target.value),placeholder:s.placeholder,className:"".concat(TP.textarea," premium-input"),rows:4,maxLength:s.validation.maxLength}):null}),(w.length>0||Z)&&(0,Sv.jsxs)("div",{className:TP.errorContainer,children:[w.map((e,t)=>(0,Sv.jsx)("p",{className:TP.error,children:e},t)),Z&&(0,Sv.jsxs)("div",{className:TP.validationWarningMessage,children:["\u26a0\ufe0f ",Z,(0,Sv.jsx)("button",{type:"button",onClick:()=>J(null),className:TP.errorDismiss,style:{marginLeft:"8px",background:"none",border:"none",color:"#ffc107",cursor:"pointer"},children:"\u2715"})]})]}),K&&(0,Sv.jsxs)("div",{className:TP.assessmentProgress,children:[(0,Sv.jsx)("div",{className:TP.assessmentProgressTitle,children:"\ud83d\udd04 Processing Security Assessment..."}),(0,Sv.jsx)("div",{className:TP.assessmentProgressText,children:"Analyzing your responses to determine the appropriate level of enhanced security assessment."})]}),X&&!K&&(0,Sv.jsx)("div",{className:TP.validationSuccessMessage,children:"\u2713 Enhanced security assessment modules activated based on your risk profile."}),("input"===s.type||"textarea"===s.type)&&s.validation.maxLength&&(0,Sv.jsxs)("div",{className:TP.characterCount,children:[b.length,"/",s.validation.maxLength]}),"checkbox"===s.type&&(s.validation.minSelections||s.validation.maxSelections)&&(0,Sv.jsxs)("div",{className:TP.selectionCount,children:[y.length," selected",s.validation.minSelections&&" (minimum ".concat(s.validation.minSelections,")"),s.validation.maxSelections&&" (maximum ".concat(s.validation.maxSelections,")")]}),(0,Sv.jsx)(Oj,{value:k,onChange:e=>{P(e),N([]),T&&e.trim()?te(s.id,void 0,void 0,!0,e):e.trim()||(R(!1),I(null))},isSelected:T,onToggle:e=>{E(e),e?(v(""),x([]),S(""),N([])):P("")},disabled:!1,stepId:s.id}),(0,Sv.jsx)(tC,{feedback:A,isVisible:L,className:TP.selectionFeedback}),(0,Sv.jsxs)("div",{className:"".concat(TP.securityAssurance," ").concat(TP.securityAssuranceFooter),children:[(0,Sv.jsx)("h4",{children:"Your Privacy & Security"}),(0,Sv.jsx)("p",{children:(null===(i=s.processOverview)||void 0===i?void 0:i.securityAssurance)||"All responses are encrypted and used exclusively for service matching. Your privacy is our priority."})]}),(0,Sv.jsx)("div",{id:"questionnaire-bottom",className:TP.bottomAnchor})]}),(0,Sv.jsx)(zS,{currentStep:s.id,totalSteps:9,hasSelection:de(),onNext:ce,onPrevious:c,onSaveExit:ie,onHelp:se,onSkip:re,isLastStep:Boolean(h)}),(0,Sv.jsx)(pj,{currentStep:s.id,totalSteps:9,onContinue:ce,isLoading:!1,canProceed:de()})]})})})}const LP="ProgressIndicator_container__zBWFK",RP="ProgressIndicator_stepCounter__uHRD+",MP="ProgressIndicator_currentStep__svJ-y",OP="ProgressIndicator_totalSteps__G5JOE",DP="ProgressIndicator_progressBar__xh0X0",FP="ProgressIndicator_progressTrack__l2YGi",BP="ProgressIndicator_progressFill__kydP4",qP="ProgressIndicator_progressGlow__JdlsR",zP="ProgressIndicator_progressDots__AMTH4",WP="ProgressIndicator_dot__5Xzsd",HP="ProgressIndicator_dotCompleted__B8LyD",UP="ProgressIndicator_dotCurrent__c7zpG",VP="ProgressIndicator_dotUpcoming__I7REW",GP="ProgressIndicator_progressText__IRxhM",YP="ProgressIndicator_progressPercentage__qJ81K",KP="ProgressIndicator_updating__Keucx",QP="ProgressIndicator_estimatedTime__ZIs0V",ZP="ProgressIndicator_navigationHints__D-Ii+",JP="ProgressIndicator_navigationTip__vZg67";function XP(t){let{currentStep:n,totalSteps:i,onPrevious:s,showStepNumbers:r=!0,onStepClick:a}=t;const[o,c]=(0,e.useState)(n),[l,d]=(0,e.useState)(!1),u=n/i*100;return(0,e.useEffect)(()=>{if(n!==o){d(!0);const e=setTimeout(()=>{d(!1),c(n)},400);return()=>clearTimeout(e)}},[n,o]),(0,Sv.jsxs)("div",{className:LP,children:[r&&(0,Sv.jsxs)("div",{className:RP,children:[(0,Sv.jsxs)("span",{className:"".concat(MP," ").concat(l?KP:""),children:["Step ",n]}),(0,Sv.jsxs)("span",{className:OP,children:["of ",i]})]}),(0,Sv.jsx)("div",{className:DP,children:(0,Sv.jsx)("div",{className:FP,children:(0,Sv.jsx)("div",{className:BP,style:{width:"".concat(u,"%")},children:(0,Sv.jsx)("div",{className:qP})})})}),(0,Sv.jsx)("div",{className:zP,children:Array.from({length:i},(e,t)=>{const i=t+1,s=i<n,r=i===n,o=s&&a;return(0,Sv.jsx)("div",{className:"".concat(WP," ").concat(s?HP:r?UP:VP),onClick:o?()=>a(i):void 0,onKeyDown:e=>{!o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a(i))},tabIndex:o?0:-1,role:o?"button":void 0,"aria-label":"Step ".concat(i," ").concat(s?"completed - click to return":r?"current":"upcoming"),style:{cursor:o?"pointer":"default"},title:"Step ".concat(i).concat(o?" - Click to return to this step":"")},t)})}),(0,Sv.jsxs)("div",{className:GP,children:[(0,Sv.jsxs)("span",{className:"".concat(YP," ").concat(l?KP:""),children:[Math.round(u),"% complete"]}),(0,Sv.jsx)("span",{className:"".concat(QP," ").concat(l?KP:""),children:lj(cj(i,n))})]}),(0,Sv.jsx)("div",{className:ZP,children:(0,Sv.jsx)("div",{className:JP,children:"Tap to select \u2022 Answers saved automatically"})})]})}const $P=[{id:1,title:"Professional Profile",subtitle:"Help us understand your security requirements",question:"Which professional category requires secure transport with protection services?",type:"radio",options:[{id:"executive",label:"\ud83c\udfe2 Are you an executive or business professional?",value:"executive",description:"Do you require secure transport with professional protection for high-stakes meetings, corporate events, or daily commutes? We understand that executive transport must combine security with professional presentation.",examples:"*Choose this if you hold a senior position requiring secure transport with protection services matching your professional status."},{id:"entrepreneur",label:"\ud83d\udcbc Are you a business owner or entrepreneur?",value:"entrepreneur",description:"Are you building your empire, meeting investors, or managing multiple ventures? Your secure transport and protection needs are as dynamic as your business decisions.",examples:"*Choose this if you own a business or are self-employed requiring flexible secure transport with protection arrangements."},{id:"celebrity",label:"\ud83c\udfad Are you in entertainment or media?",value:"celebrity",description:"Do you need discrete security services to studios, premieres, or appearances? Whether you're in front of the camera or behind the scenes, privacy and security are everything.",examples:"*Choose this if you're an actor, musician, TV personality, producer, or media professional requiring discrete security services."},{id:"athlete",label:"\u26bd Are you a sports professional or athlete?",value:"athlete",description:"Do you need protection for training, competitions, or sports events? We understand the importance of arriving safely and focused on your performance.",examples:"*Choose this if you're an athlete, coach, or sports professional requiring protection for training and events."},{id:"government",label:"\ud83c\udfdb\ufe0f Are you a government or public sector official?",value:"government",description:"Do your responsibilities require secure, protocol-compliant protection to sensitive locations? Whether it's council meetings, government buildings, or public events, we understand security protocols matter.",examples:"*Choose this if you work in any level of government, civil service, or public administration requiring protocol-compliant security services."},{id:"diplomat",label:"\ud83c\udf0d Are you part of an international delegation?",value:"diplomat",description:"Are you coordinating protection for diplomatic visits, international business groups, or foreign delegations? Security protocols and cultural sensitivity are paramount.",examples:"*Choose this if you're organizing or part of international group requiring specialized protection services."},{id:"medical",label:"\ud83c\udfe5 Are you a senior healthcare professional?",value:"medical",description:"Do you move between hospitals, clinics, or urgent calls? Perhaps you need reliable protection after exhausting shifts or for important medical conferences?",examples:"*Choose this if you're a doctor, surgeon, senior nurse, or healthcare administrator requiring protection between facilities."},{id:"legal",label:"\u2696\ufe0f Are you a legal professional?",value:"legal",description:"Do you need dependable protection between courts, chambers, and client meetings? We know your reputation depends on punctuality and maintaining client confidentiality.",examples:"*Choose this if you're a barrister, solicitor, judge, or other legal professional requiring confidential protection services."},{id:"creative",label:"\ud83c\udfa8 Are you a creative professional?",value:"creative",description:"Are you an artist, designer, or creative consultant moving between studios, galleries, or client presentations? Your creative energy shouldn't be compromised by security concerns.",examples:"*Choose this if you work in creative industries requiring protection for creative venues."},{id:"academic",label:"\ud83c\udf93 Are you an academic or educational professional?",value:"academic",description:"Do you travel between universities, conferences, or research facilities? Perhaps you're a visiting professor or education administrator who requires secure protection for academic activities?",examples:"*Choose this if you work in education, research, or academic administration requiring campus or conference protection."},{id:"student",label:"\ud83d\udcda Are you a student?",value:"student",description:"Are you studying at university or college? Need safe protection for late library sessions, social events, or secure travel home? We understand student life has unique security needs.",examples:"*Choose this if you're currently in full-time education requiring affordable security options."},{id:"international_visitor",label:"\u2708\ufe0f Are you visiting the UK?",value:"international_visitor",description:"Are you here for tourism, temporary work, or visiting family? Do you need reliable protection to explore safely without worrying about navigation or security?",examples:"*Choose this if you're a tourist or temporary visitor to the UK requiring temporary protection services."},{id:"finance",label:"\ud83d\udcca Are you a financial services professional?",value:"finance",description:"Do you work in banking, investment, or insurance? Are early morning market hours and late client dinners part of your routine? Your security should match your professional standards.",examples:"*Choose this if you work in finance, banking, trading, or insurance requiring secure movement."},{id:"security",label:"\ud83d\udee1\ufe0f Are you in security or law enforcement?",value:"security",description:"Do you work in private security, police services, or military? You understand protocols and appreciate professional standards in protection services.",examples:"*Choose this if you're in any security, police, or military role requiring discrete civilian protection."},{id:"family",label:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Are you looking for secure family transport?",value:"family",description:"Do you need safe, reliable protection for your loved ones? Whether it's school runs, family outings, or airport security, your family's safety and protection come first.",examples:"*Choose this if you're primarily protection assignment family protection services and personal security."},{id:"general",label:"\ud83d\ude97 Are you looking for general premium transport?",value:"general",description:"Do you simply want reliable, comfortable protection without specific professional requirements? Sometimes you just need dependable security services.",examples:"*Choose this if you need standard protection services but don't fit other specific categories."},{id:"high_profile",label:"\ud83d\udd12 Are you a high-profile individual requiring maximum discretion?",value:"high_profile",description:"Is your privacy paramount? Do you need the highest level of discretion and security for your movements? We understand some clients require maximum security protocols.",examples:"*Choose this if you require enhanced security measures and complete confidentiality with maximum discretion."},{id:"prefer_not_to_say",label:"\u2753 Prefer not to say",value:"prefer_not_to_say",description:"No problem at all. We can work with you to understand your needs as we go.",examples:"*Choose this if you prefer to keep your professional background private."}],validation:{required:!0,errorMessage:"Please select your professional profile"},helpText:"Tell us about yourself so we can match you with the perfect secure transport and protection service. There are no wrong answers - just honest ones.",isFirstStep:!0,processOverview:{timeRequired:"8-9 minutes",benefits:["Personalized security recommendations","Matched with appropriate protection level","Optimized routing and officer selection","Exclusive 50% discount on first protection assignment"],securityAssurance:"All responses are encrypted and used exclusively for service matching. Your privacy is our priority."},stepDescription:"Tell us what you do so we can match you with the right protection officers. A CEO might need someone who understands business confidentiality, while a student might prefer a friendly officer who knows secure late-night routes. It's all about finding your perfect security match."},{id:2,title:"Protection Frequency",subtitle:"Understanding your security patterns",question:"How often do you need secure transport with professional protection?",type:"radio",options:[{id:"daily",label:"\ud83d\udcc5 Do you need daily protection?",value:"daily",description:"Is secure protection part of your everyday routine? Whether it's your commute to work or multiple daily appointments, we'll become part of your daily security.",examples:"*Choose this if you need protection services 5 or more times per week."},{id:"weekly",label:"\ud83d\uddd3\ufe0f Do you need regular business protection?",value:"weekly",description:"Are you traveling for business several times a week? Client meetings, office visits, or regular business entertainment requiring security?",examples:"*Choose this if you need protection services 2-4 times per week."},{id:"monthly",label:"\ud83d\udcc6 Do you need monthly protection?",value:"monthly",description:"Are your protection needs periodic? Monthly board meetings, regular check-ups, or social events?",examples:"*Choose this if you need protection services 1-3 times per month."},{id:"project_based",label:"\ud83c\udfaf Do you have project-based protection needs?",value:"project_based",description:"Is your need temporary but intensive? Perhaps a film shoot, business project, or temporary assignment requiring security?",examples:"*Choose this if you need intensive protection for specific time periods."},{id:"unpredictable",label:"\u2753 Are your protection needs unpredictable?",value:"unpredictable",description:"Is your schedule too variable to predict? Last-minute meetings or spontaneous security requirements?",examples:"*Choose this if you can't predict your protection service frequency."},{id:"special_events",label:"\ud83c\udfaa Do you only need protection for special events?",value:"special_events",description:"Are you looking for protection just for important occasions? Galas, premieres, or special celebrations?",examples:"*Choose this if you only need occasional event protection."},{id:"seasonal",label:"\ud83c\udfe6 Are you here for holiday or tourist purposes?",value:"seasonal",description:"Are you visiting the UK for leisure? Need reliable protection to explore without the stress of security concerns?",examples:"*Choose this if you're a tourist or holiday visitor requiring temporary protection."},{id:"weekly_appointments",label:"\ud83d\udcc5 Do you have weekly appointments?",value:"weekly_appointments",description:"Do you have regular weekly commitments? Perhaps standing meetings, medical appointments, or social engagements?",examples:"*Choose this if you need protection services 1-2 times per week."},{id:"biweekly",label:"\ud83d\uddd3\ufe0f Do you travel every other week?",value:"biweekly",description:"Is your schedule more spread out? Perhaps alternating between offices or bi-weekly business assignments?",examples:"*Choose this if you need protection services every other week."},{id:"quarterly",label:"\ud83d\udcc6 Do you travel quarterly?",value:"quarterly",description:"Are your protection needs tied to quarterly business cycles? Perhaps investor meetings or seasonal events?",examples:"*Choose this if you need protection services every few months."},{id:"term_time",label:"\ud83c\udf93 Do you need term-time protection only?",value:"term_time",description:"Are your protection needs tied to the academic calendar? University terms or school schedules?",examples:"*Choose this if you're a student needing term-time protection services."},{id:"prefer_not_to_say",label:"\u2753 I'd rather not specify right now",value:"prefer_not_to_say",description:"No problem at all. We can work with you to understand your needs as we go.",examples:"*Choose this if you prefer to keep your travel patterns private."}],validation:{required:!0,errorMessage:"Please select your travel frequency requirements"},helpText:"Knowing your rhythm helps us be ready when you need us. Whether daily or occasionally, we adapt to your security needs.",stepDescription:"How often you need protection helps us serve you better. Daily principals get familiar Protection Officers who learn your secure routes and preferences. Occasional clients get our most flexible Protection Officers who excel with new locations. It's like having a regular security team versus adaptable protection specialists."},{id:2.5,title:"Security Risk Assessment",subtitle:"Professional threat evaluation",question:"To provide appropriate protection levels, we need to understand your security profile. This confidential assessment helps us match you with the right protection protocols.",type:"threat_assessment",threatAssessment:{enabled:!0,questions:[{id:"hasReceivedThreats",question:"Have you received any threats in the past 12 months?",description:"This includes verbal, written, digital threats, or any concerning communications directed at you personally or professionally.",riskWeight:5,icon:"\u26a0\ufe0f"},{id:"hasLegalProceedings",question:"Are you involved in any legal proceedings?",description:"Current litigation, court cases, disputes, or legal matters that could affect your security profile.",riskWeight:4,icon:"\u2696\ufe0f"},{id:"hasPreviousIncidents",question:"Have you experienced security incidents before?",description:"Any previous security breaches, stalking, harassment, or situations requiring security intervention.",riskWeight:4,icon:"\ud83d\udea8"},{id:"hasPublicProfile",question:"Do you have a public profile (media, social, professional)?",description:"Public visibility through media appearances, social media presence, professional recognition, or industry prominence.",riskWeight:3,icon:"\ud83d\udcfa"},{id:"requiresInternationalProtection",question:"Do you travel internationally for work?",description:"Regular international business travel, particularly to regions with varying security considerations.",riskWeight:3,icon:"\u2708\ufe0f"},{id:"hasControversialWork",question:"Does your work involve controversial decisions?",description:"Professional responsibilities involving public policy, judicial decisions, corporate restructuring, or contentious business matters.",riskWeight:3,icon:"\ud83c\udfaf"},{id:"hasHighValueAssets",question:"Do you manage high-value assets or information?",description:"Responsibility for significant financial assets, confidential information, or high-value intellectual property.",riskWeight:2,icon:"\ud83d\udc8e"}],riskLevels:{GREEN:{range:[0,4],description:"Standard assessment",assessmentPath:"standard"},YELLOW:{range:[5,9],description:"Enhanced assessment",assessmentPath:"enhanced"},ORANGE:{range:[10,16],description:"Significant risk assessment",assessmentPath:"significant"},RED:{range:[17,24],description:"Critical risk - comprehensive assessment",assessmentPath:"critical"}}},validation:{required:!0,errorMessage:"Please complete the security assessment"},helpText:"This confidential assessment ensures we provide appropriate protection levels and security protocols. All information is encrypted and used exclusively for service optimization.",stepDescription:"Professional security assessment helps us understand your risk profile and protection requirements. Based on your responses, we'll recommend appropriate protection levels and assign officers with relevant experience and training."},{id:2.6,title:"Comprehensive Security Assessment",subtitle:"Seven Ps professional protection framework",question:"Based on your risk profile, we recommend a comprehensive security assessment using the professional Seven Ps framework.",type:"seven_ps_assessment",validation:{required:!1,errorMessage:"Please complete the Seven Ps assessment or skip to continue"},helpText:"The Seven Ps framework (People, Places, Personality, Prejudices, Personal History, Political/Religious Views, Private Lifestyle) is the gold standard for professional threat assessment used by security services worldwide.",stepDescription:"This comprehensive assessment helps us understand your complete security profile and assign the most appropriate protection officers and protocols for your specific situation.",progressiveDisclosure:{triggerConditions:{riskLevel:["YELLOW","ORANGE","RED"],professionalProfiles:["celebrity","government","diplomat","high_profile"],securityRequirements:["privacy_discretion","security_awareness"]},assessmentLevel:"conditional"}},{id:2.7,title:"Enhanced Emergency Contact Information",subtitle:"Comprehensive emergency contact and medical information",question:"Given your security profile, we recommend providing enhanced emergency contact information including medical details for your safety.",type:"enhanced_emergency_contacts",validation:{required:!1,errorMessage:"Please complete enhanced emergency contact information or skip to continue"},helpText:"Enhanced emergency contact information helps us provide better duty of care and coordinate with medical services if needed. All information is encrypted and stored securely.",stepDescription:"Professional protection services include comprehensive emergency response protocols. This information ensures we can act quickly and appropriately in any situation.",progressiveDisclosure:{triggerConditions:{riskLevel:["ORANGE","RED"],securityRequirements:["trained_professionals","security_awareness"],specialRequirements:["medical_considerations","accessibility_needs"]},dataProtection:{specialCategoryData:!0,encryptionLevel:"enhanced",retentionPeriod:"assignment_duration_plus_7_years"}}},{id:3,title:"Security Requirements",subtitle:"What matters most to you",question:"What secure transport experience with protection officers matters most to you?",type:"checkbox",options:[{id:"privacy_discretion",label:"\ud83d\udd12 Is absolute privacy and confidentiality essential?",value:"privacy_discretion",description:"Do your conversations and destinations need to remain completely confidential? No questions asked?",examples:"*Select this if discretion is paramount to your security needs."},{id:"security_awareness",label:"\ud83d\udee1\ufe0f Do you need security that blends in seamlessly?",value:"security_awareness",description:"Would you feel safer knowing trained professionals are watching over you without drawing unwanted attention to your movements?",examples:"*Select this if you want discrete protection without obvious security presence."},{id:"premium_comfort",label:"\ud83d\ude97 Do you expect premium protection vehicles?",value:"premium_comfort",description:"Is the security vehicle itself part of your image? Do you need premium cars that make the right professional statement?",examples:"*Select this if protection vehicle quality and presentation matter to your security profile."},{id:"professional_service",label:"\ud83d\udc64 Is your Protection Officer's presentation crucial for your image?",value:"professional_service",description:"Do your Protection Officers need to match your professional standards when meeting clients or arriving at important events?",examples:"*Select this if your Protection Officer's professional appearance reflects on your security requirements."},{id:"reliability_tracking",label:"\u23f0 Is punctuality absolutely critical?",value:"reliability_tracking",description:"Can't afford to be late? Is your schedule so precise that every minute counts for your security?",examples:"*Select this if being on time is non-negotiable for your protection schedule."},{id:"flexibility_coverage",label:"\ud83d\udcc1 Do you need 24/7 protection availability?",value:"flexibility_coverage",description:"Are your hours unpredictable? Early flights, late meetings, or middle-of-the-night security emergencies?",examples:"*Select this if you need round-the-clock protection service availability."},{id:"specialized_needs",label:"\ud83d\udc65 Do you need group or family protection?",value:"specialized_needs",description:"Are you protection assignment protection for multiple people? Need security vehicles that accommodate your entire family or team?",examples:"*Select this if you regularly need multi-Principal protection services."},{id:"communication_skills",label:"\ud83d\udcac Do you value excellent communication?",value:"communication_skills",description:"Do you need Protection Officers who can engage professionally when needed but also respect when you need quiet time?",examples:"*Select this if Protection Officer communication skills matter to your security experience."},{id:"route_knowledge",label:"\ud83d\uddfa\ufe0f Do you need expert security route planning?",value:"route_knowledge",description:"Want to avoid threats, know secure routes, or need someone who truly knows safe city navigation?",examples:"*Select this if security route efficiency and protective navigation are important."},{id:"real_time_tracking",label:"\ud83d\udcf1 Do you want real-time protection tracking and updates?",value:"real_time_tracking",description:"Do you or your team need to track protection assignments, receive security updates, or coordinate schedules digitally?",examples:"*Select this if you want full digital visibility of your protection services."},{id:"trained_professionals",label:"\ud83d\udee1\ufe0f Do you prefer highly trained professional Protection Officers?",value:"trained_professionals",description:"Would you feel more confident with Protection Officers who have advanced security training and situational awareness?",examples:"*Select this if you want Protection Officers with enhanced security qualifications and specialized training."},{id:"payment_flexibility",label:"\ud83d\udcb3 Do you need flexible payment options?",value:"payment_flexibility",description:"Do you need corporate billing, multiple payment methods, or special invoicing arrangements for protection services?",examples:"*Select this if standard payment doesn't suit your protection service needs."},{id:"multi_city_coverage",label:"\ud83c\udf0d Do you travel across multiple cities?",value:"multi_city_coverage",description:"Do you need consistent protection service whether you're in London, Manchester, or Edinburgh?",examples:"*Select this if you need nationwide protection coverage."},{id:"prefer_not_to_say",label:"\u2753 Prefer not to say",value:"prefer_not_to_say",description:"That's great. We'll adapt to your needs as we learn what works best for you.",examples:"*Our specialists will provide adaptable service recommendations based on your protection assignment patterns while maintaining complete confidentiality about your specific requirements."}],validation:{required:!0,minSelections:1,maxSelections:5,errorMessage:"Please select 1-5 security requirements"},helpText:"Pick what matters most to you (select 1-5 options). Every detail helps us create your perfect secure transport experience with professional protection.",stepDescription:"What matters most to your security? Some prefer communicative Protection Officers, others want discrete assignments. Some need assistance with equipment, others prioritize privacy. Your preferences help us pick Protection Officers who naturally match your security style - no compromised protection."},{id:4,title:"Protection Coverage Areas",subtitle:"Where do you need security most",question:"Where do you need secure transport services with protection coverage?",type:"checkbox",options:[{id:"central_london",label:"\ud83d\udccd Do you primarily travel within Greater London?",value:"central_london",description:"Is London your main base? From the City to Canary Wharf, Mayfair to Shoreditch, we know every street and shortcut.",examples:"*Select this if London is your primary location."},{id:"financial_district",label:"\ud83c\udfed Do you regularly need protection in Manchester?",value:"financial_district",description:"Are you part of the Northern Powerhouse? From MediaCity to the business district, we provide security coverage across Greater Manchester.",examples:"*Select this if Manchester is a regular protection destination."},{id:"government_quarter",label:"\ud83c\udfd9\ufe0f Do you frequently need protection in Birmingham?",value:"government_quarter",description:"Is the Midlands your territory? From the Jewellery Quarter to the NEC, we know Birmingham inside out.",examples:"*Select this if Birmingham features in your travel plans."},{id:"west_end",label:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f Do you need coverage in Edinburgh?",value:"west_end",description:"Do you work in Scotland's capital? From the financial district to the airport, we navigate Edinburgh expertly.",examples:"*Select this if Edinburgh is part of your regular travel."},{id:"greater_london",label:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f Do you require transport in Glasgow?",value:"greater_london",description:"Is Glasgow your Scottish base? We know the city from the merchant quarter to the West End.",examples:"*Select this if Glasgow is in your travel rotation."},{id:"airport_transfers",label:"\u2708\ufe0f Do you frequently fly from UK airports?",value:"airport_transfers",description:"Are you constantly catching flights? Whether it's Heathrow at 5am or a late arrival at Gatwick, we'll provide secure airport protection.",examples:"*Select this if you regularly need airport protection services."},{id:"tourist_destinations",label:"\ud83c\udfad Do you need transport for entertainment venues and events?",value:"tourist_destinations",description:"From West End shows to arena concerts, do you need transport to entertainment venues where timing and discretion matter?",examples:"*Select this if you frequent entertainment venues."},{id:"entertainment_events",label:"\ud83c\udfe8 Do you stay at premium hotels?",value:"entertainment_events",description:"Are five-star hotels your second home? Do you need Protection Officers who understand premium hospitality standards?",examples:"*Select this if you regularly use high-end hotels."},{id:"premium_shopping",label:"\u2696\ufe0f Do you visit government buildings or courts?",value:"premium_shopping",description:"Do you have business in Westminster, attend court hearings, or visit government offices? We understand the security protocols.",examples:"*Select this if you regularly visit official buildings."},{id:"healthcare_professional",label:"\ud83d\ude8c Do you need transport across multiple UK cities?",value:"healthcare_professional",description:"Do you travel between London, Manchester, Birmingham, or other major cities? We provide consistent service nationwide.",examples:"*Select this if you regularly travel between major UK cities."},{id:"university_business_towns",label:"\ud83c\udf93 Do you travel to university towns or tech centers?",value:"university_business_towns",description:"Do you visit Oxford, Cambridge, Reading, or Brighton? Academic and tech hubs where intellectual conversations matter?",examples:"*Select this if you regularly travel to academic or technology centers."},{id:"scotland_wales",label:"\ud83c\udf10 Do you need international coordination?",value:"scotland_wales",description:"Does your travel extend beyond the UK? Do you need transport that coordinates with international security teams?",examples:"*Select this if you have international transport needs."},{id:"international_specialized",label:"\ud83d\udea8 Are you sometimes in high-security situations?",value:"international_specialized",description:"Do you ever need transport in sensitive areas, during protests, or in situations requiring enhanced security awareness?",examples:"*Select this if you face elevated security situations."},{id:"prefer_not_to_say",label:"\u2753 Prefer not to say",value:"prefer_not_to_say",description:"We completely understand. Your privacy and security come first.",examples:"*Choose this if you prefer to keep your location preferences confidential."}],validation:{required:!0,minSelections:1,maxSelections:8,errorMessage:"Please select 1-8 coverage areas"},helpText:"Choose your regular security zones. We'll make sure we're always ready where you need protection most.",stepDescription:"Where you need protection helps us assign Protection Officers who really know those security zones. They'll know the secure routes, secure commencement points, and which areas to avoid during high-risk periods. Local security knowledge makes every assignment safer."},{id:5,title:"Specialized Venues",subtitle:"Additional protection areas",question:"Do you require protection services at these specialized venues?",type:"checkbox",options:[{id:"london_suburbs",label:"\u2708\ufe0f Do you frequently fly from UK airports?",value:"london_suburbs",description:"Are you constantly catching flights? Whether it's Heathrow at 5am or a late arrival at Gatwick, we'll provide secure airport protection.",examples:"*Select this if you regularly need airport protection services."},{id:"business_parks",label:"\u2696\ufe0f Do you visit government buildings or courts?",value:"business_parks",description:"Do you have business in Westminster, attend court hearings, or visit government offices? We understand the security protocols.",examples:"*Select this if you regularly visit official buildings."},{id:"event_venues",label:"\ud83c\udfad Do you attend entertainment venues and events?",value:"event_venues",description:"From West End shows to arena concerts, do you need transport to entertainment venues where timing and discretion matter?",examples:"*Select this if you frequent entertainment venues."},{id:"private_aviation",label:"\ud83c\udfe8 Do you stay at premium hotels?",value:"private_aviation",description:"Are five-star hotels your second home? Do you need Protection Officers who understand premium hospitality standards?",examples:"*Select this if you regularly use high-end hotels."},{id:"healthcare_medical",label:"\ud83c\udf10 Do you need international coordination?",value:"healthcare_medical",description:"Does your travel extend beyond the UK? Do you need transport that coordinates with international security teams?",examples:"*Select this if you have international transport needs."},{id:"educational_training",label:"\ud83d\udea8 Are you sometimes in high-security situations?",value:"educational_training",description:"Do you ever need transport in sensitive areas, during protests, or in situations requiring enhanced security awareness?",examples:"*Select this if you face elevated security situations."},{id:"leisure_recreation",label:"\u2705 No additional coverage needed",value:"leisure_recreation",description:"My requirements are fully covered by my primary areas",examples:"*Select this if you only need coverage in your primary locations."},{id:"none_required",label:"\u274c None of the above apply to me",value:"none_required",description:"My requirements are fully covered by my primary locations",examples:"*Select this if you only need coverage in your primary areas."},{id:"prefer_not_to_say",label:"\u2753 Prefer not to say",value:"prefer_not_to_say",description:"That's great. We'll adapt to your needs as we learn what works best for you.",examples:"*Our specialists will provide flexible coverage recommendations while maintaining complete confidentiality about your additional location requirements."}],validation:{required:!1},helpText:"These are optional extras. Pick any that matter to your security needs.",stepDescription:"Airports, hotels, event venues - these places have their own security protocols. Protection Officers familiar with these venues know exactly where to provide secure commencement, which entrances to use, and how to navigate security procedures. No more confusion at high-security locations."},{id:6,title:"Emergency Contact Information",subtitle:"Comprehensive emergency contact and medical information",question:"Please provide emergency contact information to ensure your safety and appropriate care during protection services.",type:"input",validation:{required:!1,errorMessage:"Please provide at least basic emergency contact information"},helpText:"These details help us take better care of you. All information stays completely private.",stepDescription:"Having someone we can contact in emergencies gives everyone peace of mind. Like having ICE contacts in your phone, but for your journeys. It's optional but recommended - just in case you ever need help."},{id:7,title:"Protection Accommodations",subtitle:"Any additional security needs",question:"Are there any specific requirements for your protection service?",type:"checkbox",options:[{id:"accessibility_needs",label:"\u267f Accessibility Needs",value:"accessibility_needs",description:"Mobility, visual, hearing, and cognitive assistance",examples:"*Wheelchair Accessible Vehicle Required, Walking Aid Accommodation (canes, walkers, mobility scooters), Transfer Assistance Needed, Extended Time for Boarding/Alighting, Ground Floor Commencement Point Preferred, Accessible Commencement Point/Secure Destination Points Only"},{id:"visual_hearing_support",label:"\ud83d\udc41\ufe0f Visual & Hearing Support",value:"visual_hearing_support",description:"Communication and sensory assistance",examples:"*Guide Dog Accommodation, Large Print Materials Needed, Audio Communication Preferred, Sign Language Interpretation, Written Communication Preferred, Hearing Loop Compatibility Required"},{id:"medical_considerations",label:"\ud83c\udfe5 Medical Considerations",value:"medical_considerations",description:"Special medical requirements",examples:"*Oxygen Equipment Transport, Medical Device Power Requirements, Temperature-Controlled Environment Needed, Medication Storage Requirements, Infection Control Protocols, Medical Equipment Transport"},{id:"language_preferences",label:"\ud83d\udde3\ufe0f Language Preferences",value:"language_preferences",description:"Communication in preferred language",examples:"*English (Primary), Welsh (Cymraeg), French (Fran\xe7ais), German (Deutsch), Spanish (Espa\xf1ol), Mandarin (\u4e2d\u6587), Arabic (\u0627\u0644\u0639\u0631\u0628\u064a\u0629), Other Language Required"},{id:"group_family_transport",label:"\ud83d\udc65 Group & Family Transport",value:"group_family_transport",description:"Multiple Principals and family needs",examples:"*Child Safety Seats Required (specify ages/weights), Family Group Protection (specify ages), Business Team Coordination, Multiple Vehicle Coordination, Security Detail Coordination, Group Communication Requirements"},{id:"luggage_equipment",label:"\ud83e\uddf3 Luggage & Equipment",value:"luggage_equipment",description:"Special cargo and equipment handling",examples:"*Oversized Items Regular Transport, Sports Equipment Transport, Musical Instruments, Art/Antique Transport, Technical Equipment, Secure Document Transport, Diplomatic Pouch Handling"},{id:"pet_transport",label:"\ud83d\udc15 Pet Transport",value:"pet_transport",description:"Protection accommodation for animals",examples:"*Small Pet Accommodation (cats, small dogs), Large Dog Protection Transport, Multiple Pet Security Accommodation, Pet Safety Equipment Required, Veterinary Documentation Assistance, Pet Comfort During Protection"},{id:"security_preferences",label:"\ud83d\udd12 Security Preferences",value:"security_preferences",description:"Privacy and security accommodations",examples:"*Discrete/Unmarked Vehicles Only, Female Protection Officer/Security Preferred, Male Protection Officer/Security Preferred, Same Protection Officer Assignment Preferred, Route Confidentiality Required, Counter-Surveillance Awareness"},{id:"business_facilities",label:"\ud83d\udcbc Business Facilities",value:"business_facilities",description:"Work and communication needs",examples:"*Mobile Office Setup, WiFi and Charging Required, Conference Call Capability, Privacy Glass/Partition, Quiet Environment Essential, Business Refreshments"},{id:"environment_comfort",label:"\ud83c\udf21\ufe0f Environment & Comfort",value:"environment_comfort",description:"Climate and comfort preferences",examples:"*Climate-Controlled Environment, Allergy Management Protocols, Scent-Free Environment, Quiet/Low-Stimulation Environment, Dietary Restrictions (refreshments), Specific Vehicle Type Preference"},{id:"technology_requirements",label:"\ud83d\udcf1 Technology Requirements",value:"technology_requirements",description:"Communication and device needs",examples:"*Mobile Signal Boosters, Multiple Device Charging, Satellite Communication, Priority Communication Backup, Real-Time Tracking Privacy, Communication Blackout Periods"},{id:"no_special_requirements",label:"\u274c No Special Requirements",value:"no_special_requirements",description:"Armora Secure service is sufficient",examples:"*I have no special requirements, Armora Secure meets all my needs"},{id:"prefer_not_to_say",label:"\u2753 Prefer not to say",value:"prefer_not_to_say",description:"That's great. We'll adapt to your needs as we learn what works best for you.",examples:"*Our specialists will provide standard service arrangements while maintaining complete confidentiality about any specific requirements you may have."}],validation:{required:!1,minSelections:0,maxSelections:12,errorMessage:"Please select your special requirements"},helpText:"Tell us about anything that would make your protection service more effective. We're here to help.",stepDescription:"Everyone's security needs are different. Maybe you need wheelchair accessibility, maybe you have a service dog, or maybe you just need extra time for secure transfers. Whatever you need, we'll make sure your Protection Officer is prepared and comfortable providing appropriate security assistance."},{id:8,title:"Contact Preferences",subtitle:"How you'd like to hear from us",question:"How should we stay in touch with you?",type:"checkbox",options:[{id:"sms_updates",label:"\ud83d\udcf1 SMS Updates",value:"sms_updates",description:"Text messages for protection assignment confirmations and Protection Officer updates",examples:"*Real-time protection assignment confirmations, Protection Officer arrival notifications, journey progress updates, and immediate security alerts delivered via SMS. Best for busy professionals who check messages frequently."},{id:"email_communication",label:"\ud83d\udce7 Email Communications",value:"email_communication",description:"Detailed email confirmations and documentation",examples:"*Professional email communications with protection assignment confirmations, detailed journey information, receipts, and comprehensive documentation. Best for formal business environments and record keeping."},{id:"app_notifications",label:"\ud83d\udd14 App Notifications",value:"app_notifications",description:"Push notifications through Armora Transport app",examples:"*Modern push notifications through our secure mobile app, including real-time tracking, Protection Officer updates, and protection assignment management. Best for tech-savvy users seeking streamlined experience."},{id:"phone_calls",label:"\ud83d\udcde Phone Calls",value:"phone_calls",description:"Voice communication for important updates",examples:"*Direct phone calls from our operations team for important updates, protection assignment confirmations, and security coordination. Best for senior executives preferring traditional business communication."},{id:"through_assistant",label:"\ud83d\udc64 Through Personal Assistant",value:"through_assistant",description:"All communications via personal assistant or PA",examples:"*All transport communications directed through your personal assistant or PA, including protection assignment coordination, updates, and scheduling. Best for C-level executives and high-profile individuals."},{id:"business_contact",label:"\ud83c\udfe2 Business/Corporate Contact",value:"business_contact",description:"Communications through company contact",examples:"*All communications routed through designated business contact, travel coordinator, or corporate security office. Ideal for company-managed transport arrangements and corporate protocols."},{id:"secure_messaging",label:"\ud83d\udd12 Secure Messaging Platform",value:"secure_messaging",description:"Encrypted messaging for sensitive communications",examples:"*End-to-end encrypted messaging platform for security-sensitive communications, route information, and confidential transport coordination. Best for high-security requirements."},{id:"communication_timing",label:"\u23f0 Communication Timing Preferences",value:"communication_timing",description:"Specific timing and frequency preferences",examples:"*Business hours only (9:00-17:00 GMT), extended hours (8:00-20:00), custom hours, or 24/7 availability for emergencies. Includes time zone considerations for international clients."},{id:"priority_alerts",label:"\u26a1 Priority Alert Communications",value:"priority_alerts",description:"How to handle urgent transport coordination",examples:"*Important transport situations may override preferences for immediate contact via available methods. Protection Officer safety updates, schedule changes, and urgent coordination delivered immediately for service continuity."},{id:"privacy_minimal",label:"\ud83d\udd15 Privacy & Minimal Contact",value:"privacy_minimal",description:"Essential communications only with maximum privacy",examples:"*Protection Officer arrival notifications and priority communications only. Discrete, minimal interruption approach with strong privacy protection. Best for privacy-focused users and confidential transport needs."},{id:"no_communications",label:"\u274c No Non-Essential Communications",value:"no_communications",description:"Protection Officer coordination only, no protection assignment communications",examples:"*Direct Protection Officer coordination only. No protection assignment confirmations, updates, or administrative communications. Priority alerts still delivered for safety and security purposes."},{id:"prefer_not_to_say",label:"\u2753 Prefer not to say",value:"prefer_not_to_say",description:"That's great. We'll adapt to your needs as we learn what works best for you.",examples:"*Our specialists will use standard professional communication methods while maintaining complete confidentiality about your preferred contact and communication preferences."}],validation:{required:!0,minSelections:1,maxSelections:8,errorMessage:"Please select 1-8 communication preferences"},helpText:"How would you like us to stay in touch? We'll only contact you when we need to.",stepDescription:"How should we keep in touch? Some people love texts, others prefer calls, and some want everything through their assistant. Tell us what works for you so we're not texting when you're in meetings or calling when you're asleep."},{id:9,title:"Protection Profile Review",subtitle:"Complete your security assessment",question:"Please confirm your protection profile to unlock your security benefits.",type:"radio",options:[{id:"confirm_profile",label:"\u2705 Confirm Profile",value:"confirm_profile",description:"Profile is complete and accurate",examples:"*I confirm all information is correct and complete. Ready to proceed with personalized service recommendations. Authorize Armora to use this profile for service delivery."},{id:"need_modifications",label:"\ud83d\udcdd Need Modifications",value:"need_modifications",description:"I'd like to review some answers",examples:"*I want to review and modify some of my responses. Take me back to edit specific sections. Save current progress and allow selective editing."},{id:"privacy_completion",label:"\ud83d\udd12 Complete with Maximum Privacy",value:"privacy_completion",description:"Complete setup with maximum privacy protection",examples:"*Proceed with service setup while maintaining the highest level of confidentiality. Our specialists will provide personalized consultation to understand your requirements. Complete discretion guaranteed throughout the process."}],validation:{required:!0,errorMessage:"Please confirm your profile to complete assessment"},helpText:"Almost there! Take a quick look to make sure everything's right before we configure your protection services.",stepDescription:"Take a quick look to make sure we've got everything right. This helps your Protection Officers prepare properly and ensures you get exactly the security service you're expecting. Think of it as your personal protection preferences saved for every assignment.",isLastStep:!0,profileSummary:{showSummary:!0,summaryCards:[{title:"\ud83d\udccb TRANSPORT PROFILE SUMMARY",fields:["professionalProfile","travelFrequency","topPriorities"]},{title:"\ud83d\udccd COVERAGE SUMMARY",fields:["primaryAreas","secondaryAreas"]},{title:"\ud83d\udd12 SECURITY & REQUIREMENTS",fields:["safetyContact","specialRequirements","communicationPreferences"]}]},legalConfirmations:{required:[{id:"accuracy_confirmation",text:"I confirm the information provided is accurate to the best of my knowledge",required:!0},{id:"risk_assessment_understanding",text:"I understand this professional risk assessment helps provide enhanced security transport services",required:!0},{id:"gdpr_consent",text:"I consent to data processing under GDPR Article 6(1)(f) - Legitimate Interests for service provision",required:!0},{id:"data_rights_understanding",text:"I understand I can request data deletion or modification at any time",required:!0},{id:"terms_agreement",text:"I have read and agree to the Terms of Service",required:!0,link:"/terms-of-service"},{id:"privacy_policy_agreement",text:"I have read and understand the Privacy Policy",required:!0,link:"/privacy-policy"}],optional:[{id:"research_participation",text:"I consent to service improvement research participation (Optional)",required:!1,defaultChecked:!1},{id:"industry_updates",text:"I consent to receiving security industry updates and insights (Optional)",required:!1,defaultChecked:!1},{id:"anonymized_research",text:"I consent to sharing anonymized data for industry safety research (Optional)",required:!1,defaultChecked:!1}]},securityStatement:"This professional risk assessment is conducted as best practice within the security transport industry. Completion enables us to provide enhanced duty of care and operational efficiency. All information is stored securely and processed in accordance with UK GDPR requirements.",legalStatement:"By submitting this assessment, you acknowledge that: This is a voluntary professional service enhancement \u2022 No legal obligation exists to complete this assessment \u2022 Services remain available regardless of assessment completion \u2022 All data processing complies with UK Data Protection Act 2018 \u2022 You retain full rights over your personal data",serviceRecommendation:{enabled:!0,confidenceThreshold:85,previewFeatures:["recommendedService","keyFeatures","coverageAreas","estimatedValue"]}}];const eT=(e,t)=>{const n=[...$P];if(!t)return n;try{const e=NP(t),i=[...n];if(e.requiresSevenPs){const t=function(e){const t={basic:{title:"Basic Security Assessment (Seven Ps)",subtitle:"Essential security planning framework",question:"Complete the basic Seven Ps security assessment for enhanced protection planning.",description:"Basic Seven Ps framework covering essential protection elements: People, Places, Personality, and key security considerations."},standard:{title:"Standard Security Assessment (Seven Ps)",subtitle:"Comprehensive security planning framework",question:"Complete the standard Seven Ps security assessment for comprehensive protection protocols.",description:"Standard Seven Ps framework covering People, Places, Personality, Prejudices, Personal History, Political considerations, and Private Lifestyle for enhanced protection planning."},comprehensive:{title:"Comprehensive Security Assessment (Seven Ps)",subtitle:"Complete security planning framework",question:"Complete the comprehensive Seven Ps security assessment for maximum protection protocols.",description:"Comprehensive Seven Ps framework with detailed assessment of all security dimensions for critical protection requirements."}}[e];return{id:2.6,title:t.title,subtitle:t.subtitle,question:t.question,type:"seven_ps_assessment",validation:{required:!0,errorMessage:"Seven Ps security assessment is required for your protection level"},helpText:t.description,stepDescription:"The Seven Ps framework (People, Places, Personality, Prejudices, Personal History, Political, Private Lifestyle) provides comprehensive security assessment for professional close protection services."}}(e.sevenPsLevel),n=i.findIndex(e=>2.5===e.id);-1!==n&&i.splice(n+1,0,t)}if(e.requiresEnhancedEmergencyContacts){const e={id:6.5,title:"Enhanced Emergency Contacts",subtitle:"Comprehensive emergency contact and medical information",question:"Please provide detailed emergency contact information including next of kin, medical contacts, and secondary contacts for enhanced security protocols.",type:"enhanced_emergency_contacts",validation:{required:!0,errorMessage:"Enhanced emergency contacts are required for your security level"},helpText:"Enhanced security protocols require comprehensive emergency contact information including primary, secondary, medical, and decision-making contacts with full contact details and authorization levels.",stepDescription:"Your security assessment requires enhanced emergency contact protocols. This ensures we can coordinate appropriate response, medical care, and family communication during any security situations or emergencies."},t=i.findIndex(e=>6===e.id);-1!==t&&i.splice(t+1,0,e)}if(e.requiresMedicalData){const e={id:8.5,title:"Medical Information",subtitle:"Critical medical information for emergency response",question:"Please provide medical information necessary for emergency response protocols during protection services.",type:"input",validation:{required:!0,errorMessage:"Medical information is required for critical security assessments"},helpText:"Critical security assessments require medical information to ensure appropriate emergency response, medical coordination, and proper care during protection services. This includes allergies, medications, conditions, and emergency procedures.",stepDescription:"Your security level requires medical information for emergency response protocols. This ensures our Protection Officers and emergency services can provide appropriate care and coordinate medical response if needed during assignments."},t=i.findIndex(e=>8===e.id);-1!==t&&i.splice(t+1,0,e)}if(t.step2_5||t.threatAssessment){const e={id:2.7,title:"Risk Assessment Matrix",subtitle:"Professional security risk visualization",question:"Review your personalized risk assessment matrix and recommended protection protocols.",type:"risk_matrix",validation:{required:!1},helpText:"Your risk assessment has been calculated based on threat indicators, professional profile, and security requirements. This matrix shows your risk level and recommended protection services.",stepDescription:"Professional security risk matrix showing probability and impact assessment with specific protection recommendations tailored to your security profile."},t=i.findIndex(e=>2.6===e.id),n=-1!==t?t+1:i.findIndex(e=>2.5===e.id)+1;i.splice(n,0,e)}return i}catch(O){return console.warn("Progressive disclosure calculation failed, returning base steps:",O),n}},tT={"armora-standard":{id:"armora-standard",name:"Essential Protection",description:"Professional security transport service",features:["SIA Level 2 security-certified Protection Officers","Eco-friendly Nissan Leaf EV fleet (discreet)","Professional security protocols","24/7 protection assignment availability","Real-time safety monitoring","Background-checked professionals","Emergency response protocols"],price:"\xa350/hour + \xa32.50/mile protection fees",confidence:85,estimatedMonthly:"\xa3400-800/month"},"armora-executive":{id:"armora-executive",name:"Executive Protection",description:"Premium security transport with enhanced amenities",features:["Executive chauffeur service","Premium vehicles (S-Class, 7-Series, A8)","Enhanced security protocols","Business facilities (WiFi, charging, privacy glass)","Preferred Protection Officer assignment","Airport meet & greet","First aid trained Protection Officers","SIA Close Protection Officers"],price:"\xa375/hour + \xa32.50/mile security costs",confidence:92,estimatedMonthly:"\xa3600-1200/month"},"armora-shadow":{id:"armora-shadow",name:"Shadow Protocol",description:"Discrete security escort with trained protection officers",features:["SIA Close Protection (CP) officers","Unmarked discrete vehicles","Advanced security protocols","Route security planning","Counter-surveillance awareness","Safety coordination protocols","First aid trained Protection Officers"],price:"\xa365/hour + \xa32.50/mile discrete coverage",confidence:89,estimatedMonthly:"\xa3520-1040/month",popular:!0}},nT="QuestionnaireComplete_container__QwabW",iT="QuestionnaireComplete_content__FA8g9",sT="QuestionnaireComplete_loadingAnimation__MB-LI",rT="QuestionnaireComplete_securityBadge__vx7iD",aT="QuestionnaireComplete_badgeIcon__VbfkV",oT="QuestionnaireComplete_scanningLine__2Ngq-",cT="QuestionnaireComplete_loadingTitle__sAlGW",lT="QuestionnaireComplete_loadingSubtitle__RWI3Q",dT="QuestionnaireComplete_progressBar__s+qaD",uT="QuestionnaireComplete_progressFill__Gyre+",hT="QuestionnaireComplete_header__0WdOJ",pT="QuestionnaireComplete_successIcon__bzCQc",mT="QuestionnaireComplete_title__JRypQ",fT="QuestionnaireComplete_subtitle__eIF4R",_T="QuestionnaireComplete_recommendationSection__eLfhx",gT="QuestionnaireComplete_recommendationTitle__zlYRk",vT="QuestionnaireComplete_serviceCard__3sQzM",yT="QuestionnaireComplete_serviceHeader__jcZ3Y",xT="QuestionnaireComplete_serviceName__cRqyL",bT="QuestionnaireComplete_servicePrice__Ct8FV",ST="QuestionnaireComplete_originalPrice__emBH8",wT="QuestionnaireComplete_discountedPrice__Q-cTO",NT="QuestionnaireComplete_discountLabel__rOdeK",jT="QuestionnaireComplete_serviceDescription__Bs32O",CT="QuestionnaireComplete_serviceFeatures__yxO8h",kT="QuestionnaireComplete_feature__s-8Vx",PT="QuestionnaireComplete_featureIcon__OOO6D",TT="QuestionnaireComplete_statusSection__XgDjI",ET="QuestionnaireComplete_statusTitle__vmW1y",AT="QuestionnaireComplete_statusGrid__1H6l9",IT="QuestionnaireComplete_statusItem__DF7f1",LT="QuestionnaireComplete_statusItemUnlocked__fY1rx",RT="QuestionnaireComplete_statusItemActive__5XLP0",MT="QuestionnaireComplete_statusItemLimited__XkQrz",OT="QuestionnaireComplete_statusIcon__IQcAo",DT="QuestionnaireComplete_statusContent__TLFnG",FT="QuestionnaireComplete_statusItemTitle__FrEqM",BT="QuestionnaireComplete_statusItemDescription__kBFt2",qT="QuestionnaireComplete_checkmark__dfSXx",zT="QuestionnaireComplete_upgradePrompt__N2j1j",WT="QuestionnaireComplete_upgradeContent__8Qx99",HT="QuestionnaireComplete_upgradeTitle__OZXNs",UT="QuestionnaireComplete_upgradeDescription__RdGkc",VT="QuestionnaireComplete_upgradeBenefits__xQrbG",GT="QuestionnaireComplete_upgradeBenefit__epogQ",YT="QuestionnaireComplete_upgradeIcon__zLjjz",KT="QuestionnaireComplete_profileSummary__VwsBl",QT="QuestionnaireComplete_summaryTitle__XtLYY",ZT="QuestionnaireComplete_summaryGrid__-bHNg",JT="QuestionnaireComplete_summaryItem__LxGla",XT="QuestionnaireComplete_summaryLabel__3Ndkk",$T="QuestionnaireComplete_summaryValue__NAzwm",eE="QuestionnaireComplete_actions__3+pqM",tE="QuestionnaireComplete_button__BaPkS",nE="QuestionnaireComplete_primaryButton__QcBN6",iE="QuestionnaireComplete_secondaryButton__C0VKm",sE="QuestionnaireComplete_securityFooter__m92hs",rE="QuestionnaireComplete_securityBadgeSmall__rnwqu",aE="QuestionnaireComplete_badgeIconSmall__0mdX5",oE="QuestionnaireComplete_badgeText__Eiu5p";function cE(t){var n;let{onRestart:i,onContinue:s}=t;const{state:r}=kv(),{user:a,questionnaireData:o}=r,[c,l]=(0,e.useState)(!0),[d,u]=(0,e.useState)(0),h="guest"===(null===a||void 0===a?void 0:a.userType),p=(null===o||void 0===o?void 0:o.recommendedService)||"shadow",m=tT[p];(0,e.useEffect)(()=>{const e=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(e)},[]);const f=[{icon:"\ud83d\udee1\ufe0f",title:"Security Profile Created",description:"Personalized protection recommendations ready"},{icon:"\ud83d\udcb0",title:"50% Discount Unlocked",description:"Save \xa322.50-\xa337.50 on your first protection assignment"},{icon:"\u26a1",title:"Priority Access Granted",description:"Skip the queue with instant protection assignment"},{icon:"\ud83d\udcde",title:"24/7 Support Activated",description:"Direct line to security operations center"}];return(0,e.useEffect)(()=>{if(!h&&!c){const e=setInterval(()=>{u(t=>t<f.length-1?t+1:(clearInterval(e),t))},500);return()=>clearInterval(e)}},[c,h,f.length]),c?(0,Sv.jsx)("div",{className:nT,children:(0,Sv.jsxs)("div",{className:sT,children:[(0,Sv.jsxs)("div",{className:rT,children:[(0,Sv.jsx)("div",{className:aT,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("div",{className:oT})]}),(0,Sv.jsx)("h2",{className:cT,children:"Analyzing Security Profile"}),(0,Sv.jsx)("p",{className:lT,children:"Processing your responses..."}),(0,Sv.jsx)("div",{className:dT,children:(0,Sv.jsx)("div",{className:uT})})]})}):(0,Sv.jsxs)("div",{className:nT,children:[(0,Sv.jsxs)("div",{className:iT,children:[(0,Sv.jsxs)("header",{className:hT,children:[(0,Sv.jsx)("div",{className:pT,children:h?"\ud83d\udccb":"\ud83c\udf89"}),(0,Sv.jsx)("h1",{className:mT,children:h?"Assessment Complete!":"Profile Created Successfully!"}),(0,Sv.jsx)("p",{className:fT,children:h?"Your security preferences have been saved":"Welcome to Armora's premium security network"})]}),(0,Sv.jsxs)("div",{className:_T,children:[(0,Sv.jsx)("h2",{className:gT,children:"Your Recommended Service"}),(0,Sv.jsxs)("div",{className:vT,children:[(0,Sv.jsxs)("div",{className:yT,children:[(0,Sv.jsx)("h3",{className:xT,children:m.name}),(0,Sv.jsx)("div",{className:bT,children:h?m.price:(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:ST,children:m.price}),(0,Sv.jsxs)("span",{className:wT,children:["\xa3",Math.round(.5*parseFloat(m.price.replace("\xa3","").replace("/hour",""))),"/hour"]}),(0,Sv.jsx)("span",{className:NT,children:"50% OFF"})]})})]}),(0,Sv.jsx)("p",{className:jT,children:m.description}),(0,Sv.jsx)("ul",{className:CT,children:m.features.map((e,t)=>(0,Sv.jsxs)("li",{className:kT,children:[(0,Sv.jsx)("span",{className:PT,children:"\u2713"}),e]},t))})]})]}),(0,Sv.jsxs)("div",{className:TT,children:[(0,Sv.jsx)("h2",{className:ET,children:h?"Guest Account Limitations":"Rewards Unlocked"}),(0,Sv.jsx)("div",{className:AT,children:(h?[{icon:"\u274c",title:"Limited Assignment Access",description:"Quote-only, no direct protection assignment available"},{icon:"\u274c",title:"No Discount Available",description:"Miss out on 50% first protection assignment discount"},{icon:"\u274c",title:"Standard Support Only",description:"Standard customer service hours"}]:f).map((e,t)=>(0,Sv.jsxs)("div",{className:"".concat(IT," ").concat(!h&&t<=d?RT:""," ").concat(h?MT:LT),children:[(0,Sv.jsx)("div",{className:OT,children:e.icon}),(0,Sv.jsxs)("div",{className:DT,children:[(0,Sv.jsx)("h3",{className:FT,children:e.title}),(0,Sv.jsx)("p",{className:BT,children:e.description})]}),!h&&t<=d&&(0,Sv.jsx)("div",{className:qT,children:"\u2728"})]},t))})]}),h&&(0,Sv.jsx)("div",{className:zT,children:(0,Sv.jsxs)("div",{className:WT,children:[(0,Sv.jsx)("h3",{className:HT,children:"Unlock Full Access"}),(0,Sv.jsx)("p",{className:UT,children:"Create an account now and get 50% off your first protection assignment plus priority access to all Armora services."}),(0,Sv.jsxs)("div",{className:VT,children:[(0,Sv.jsxs)("div",{className:GT,children:[(0,Sv.jsx)("span",{className:YT,children:"\ud83c\udfaf"}),(0,Sv.jsx)("span",{children:"Direct protection assignment access"})]}),(0,Sv.jsxs)("div",{className:GT,children:[(0,Sv.jsx)("span",{className:YT,children:"\ud83d\udcb0"}),(0,Sv.jsx)("span",{children:"50% first protection assignment discount"})]}),(0,Sv.jsxs)("div",{className:GT,children:[(0,Sv.jsx)("span",{className:YT,children:"\u2b50"}),(0,Sv.jsx)("span",{children:"Priority customer support"})]})]})]})}),!h&&o&&(0,Sv.jsxs)("div",{className:KT,children:[(0,Sv.jsx)("h2",{className:QT,children:"Your Security Profile Summary"}),(0,Sv.jsxs)("div",{className:ZT,children:[o.step1_transportProfile&&(0,Sv.jsxs)("div",{className:JT,children:[(0,Sv.jsx)("span",{className:XT,children:"Profile:"}),(0,Sv.jsx)("span",{className:$T,children:o.step1_transportProfile.replace("_"," ").charAt(0).toUpperCase()+o.step1_transportProfile.replace("_"," ").slice(1)})]}),o.step2_travelFrequency&&(0,Sv.jsxs)("div",{className:JT,children:[(0,Sv.jsx)("span",{className:XT,children:"Frequency:"}),(0,Sv.jsx)("span",{className:$T,children:o.step2_travelFrequency.replace("_"," ").charAt(0).toUpperCase()+o.step2_travelFrequency.replace("_"," ").slice(1)})]}),(null===(n=o.step3_serviceRequirements)||void 0===n?void 0:n.length)&&(0,Sv.jsxs)("div",{className:JT,children:[(0,Sv.jsx)("span",{className:XT,children:"Requirements:"}),(0,Sv.jsxs)("span",{className:$T,children:[o.step3_serviceRequirements.length," service",o.step3_serviceRequirements.length>1?"s":""]})]})]})]})]}),(0,Sv.jsxs)("div",{className:eE,children:[i&&(0,Sv.jsx)("button",{onClick:i,className:"".concat(tE," ").concat(iE),children:"Retake Assessment"}),(0,Sv.jsx)("button",{onClick:s,className:"".concat(tE," ").concat(nE),children:h?"View Services":"Request Protection"})]}),(0,Sv.jsx)("div",{className:sE,children:(0,Sv.jsxs)("div",{className:rE,children:[(0,Sv.jsx)("span",{className:aE,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:oE,children:"Armora Verified Profile"})]})})]})}const lE="QuestionnaireFlow_container__vLdpG",dE="QuestionnaireFlow_loadingContainer__f30rt",uE="QuestionnaireFlow_spinner__B8ijx",hE=["completedAt","recommendedService","conversionAttempts"];function pE(t){let{onComplete:n}=t;const{state:i,updateQuestionnaireData:s,navigateToView:r}=kv(),{user:a,questionnaireData:c}=i,l=null===c||void 0===c?void 0:c.completedAt,[d,u]=(0,e.useState)(1),[h,p]=(0,e.useState)(()=>{if(c){const{completedAt:e,recommendedService:t,conversionAttempts:n}=c;return nt(c,hE)}return{}}),[m,f]=(0,e.useState)(l||!1),[_,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!1),x=eT(null===a||void 0===a||a.userType).filter(e=>{if(2.6===e.id){return!!b&&jP(b.matrix.level,h.step1_transportProfile||"")}if(2.7===e.id){return!!b&&kP(b.matrix.level||"Low")}return!0}),b=Object.keys(h).length>0?SP(h):null,S=(b&&NP(h),x.length),w=x.find(e=>e.id===d);function N(e){return{1:"transportProfile",2:"travelFrequency",2.5:"threatAssessment",2.6:"sevenPsAssessment",2.7:"enhancedEmergencyContacts",3:"serviceRequirements",4:"primaryAreas",5:"secondaryAreas",6:"emergencyContact",7:"specialRequirements",8:"communicationPreferences",9:"profileConfirmation"}[e]||"step".concat(e)}function j(e){return{3:"serviceRequirements",4:"primaryAreas",5:"secondaryAreas",7:"specialRequirements",8:"communicationPreferences"}[e]||"step".concat(e)}const C=()=>{d>1&&(u(d-1),y(!1))},k=async e=>{g(!0);try{const t=(e=>{const t=e.step1||e.professionalProfile,n=e.step3||e.serviceRequirements||[],i=e.step2||e.travelFrequency,s=e.step2_5||e.threatAssessment,r=e.step2_6||e.sevenPsAssessment,a=e.step2_5_riskAssessment||e.riskAssessment;try{const t={"Essential Protection":"armora-standard","Executive Shield":"armora-executive","Shadow Protocol":"armora-shadow","Shadow Protocol + Enhanced Response":"armora-shadow"}[PP(NP(e))];if(t)return t}catch(O){console.warn("Progressive service recommendation failed, using fallback logic:",O)}if(s&&[s.hasReceivedThreats,s.hasLegalProceedings,s.hasPreviousIncidents].some(e=>e))return"armora-shadow";if(r){const e=r.riskLevel;if("RED"===e||"ORANGE"===e)return"armora-shadow";if("YELLOW"===e)return"armora-executive"}if(a){const e=a.level;if("RED"===e||"ORANGE"===e)return"armora-shadow";if("YELLOW"===e)return"armora-executive"}const o=["security_awareness","privacy_discretion"];return["executive","celebrity","diplomat","government"].includes(t)?n.includes("security_awareness")?"armora-shadow":"armora-executive":n.some(e=>o.includes(e))?"armora-shadow":n.includes("premium_comfort")||"daily"===i?"armora-executive":"armora-standard"})(e),i=o(o({},e),{},{completedAt:new Date,recommendedService:t,conversionAttempts:(null===c||void 0===c?void 0:c.conversionAttempts)||0});s(i),a&&a.userType,f(!0),r("achievement"),n&&n()}catch(O){console.error("Error completing questionnaire:",O)}finally{g(!1)}},P=()=>{u(1),p({}),f(!1),y(!1)};return(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_questionnaire_progress");if(e&&!l)try{const{step:t,responses:n}=JSON.parse(e);t&&n&&(u(t),p(n))}catch(O){console.error("Failed to restore questionnaire progress:",O)}},[l]),(0,e.useEffect)(()=>{!m&&d>1&&localStorage.setItem("armora_questionnaire_progress",JSON.stringify({step:d,responses:h}))},[d,h,m]),(0,e.useEffect)(()=>{m&&localStorage.removeItem("armora_questionnaire_progress")},[m]),l&&!m?(0,Sv.jsx)(cE,{onRestart:P,onContinue:()=>r("achievement")}):_?(0,Sv.jsx)("div",{className:lE,children:(0,Sv.jsxs)("div",{className:dE,children:[(0,Sv.jsx)("div",{className:uE}),(0,Sv.jsx)("h2",{children:"Analyzing Your Security Profile..."}),(0,Sv.jsx)("p",{children:"Creating personalized recommendations"})]})}):(0,Sv.jsxs)("div",{className:lE,children:[(0,Sv.jsx)(XP,{currentStep:d,totalSteps:S,onPrevious:d>1?C:void 0}),w&&(0,Sv.jsx)(IP,{step:w,currentValue:function(){if(!w)return;const e="step".concat(d,"_").concat("radio"===w.type?N(d):j(d));return h[e]}(),onComplete:(e,t)=>{const n="step".concat(e,"_").concat("radio"===(null===w||void 0===w?void 0:w.type)?N(e):j(e)),i=o(o({},h),{},{[n]:t});if(p(i),2.5===e){const e=SP(i);NP(i);i.step2_5_riskAssessment={level:e.matrix.level,score:e.matrix.score,description:e.matrix.level+" risk level detected",recommendedProtection:e.matrix.protectionLevel,assessmentPath:e.matrix.level.toLowerCase()},jP(e.matrix.level,i.step1_transportProfile)&&console.log("Progressive disclosure: Seven Ps assessment triggered for risk level:",e.matrix.level),kP(e.matrix.level)&&console.log("Progressive disclosure: Enhanced emergency contacts triggered for risk level:",e.matrix.level)}null!==w&&void 0!==w&&w.showConversionPrompt&&"guest"===(null===a||void 0===a?void 0:a.userType)?y(!0):d<S?u(d+1):k(i)},onPrevious:d>1?C:void 0,showConversionPrompt:v,onConversionPromptResponse:e=>{y(!1),e?r("signup"):d<S?u(d+1):k(h)},isFirstStep:1===d,isLastStep:d===S})]})}const mE={container:"AchievementUnlock_container__vj3k7",gradientMesh:"AchievementUnlock_gradientMesh__rO0Yy",patternFloat:"AchievementUnlock_patternFloat__YeM-G",floatingOrb:"AchievementUnlock_floatingOrb__e2D6o",particleField:"AchievementUnlock_particleField__wPmWH",particle:"AchievementUnlock_particle__PunMu",particleFloat:"AchievementUnlock_particleFloat__AfPo4",particleActive:"AchievementUnlock_particleActive__Iv7vn",confettiContainer:"AchievementUnlock_confettiContainer__L67dN",confetti:"AchievementUnlock_confetti__6n3hy",confettiFall:"AchievementUnlock_confettiFall__C+Pyc",content:"AchievementUnlock_content__u+jPf",cornerPulse:"AchievementUnlock_cornerPulse__0BsK8","step-entry":"AchievementUnlock_step-entry__Lcv-M",contentEntry:"AchievementUnlock_contentEntry__MxdGo",achievementContainer:"AchievementUnlock_achievementContainer__yI17h",trophy:"AchievementUnlock_trophy__Smvte",trophyVisible:"AchievementUnlock_trophyVisible__iUIcW",trophyBase:"AchievementUnlock_trophyBase__aNWoY",trophyHandle:"AchievementUnlock_trophyHandle__+GRoy",trophyGlow:"AchievementUnlock_trophyGlow__0JvPs",pulse:"AchievementUnlock_pulse__qvCNk",glowing:"AchievementUnlock_glowing__qMzlE",shield:"AchievementUnlock_shield__gxjJq",shieldActive:"AchievementUnlock_shieldActive__ru-4F",shieldIcon:"AchievementUnlock_shieldIcon__GePO8",rewardSection:"AchievementUnlock_rewardSection__PURDg",rewardVisible:"AchievementUnlock_rewardVisible__17AhS",rewardBadge:"AchievementUnlock_rewardBadge__QCtT2",badgeBounce:"AchievementUnlock_badgeBounce__2o16D",discountText:"AchievementUnlock_discountText__oVoch",maxSaving:"AchievementUnlock_maxSaving__83Hg3",congratsTitle:"AchievementUnlock_congratsTitle__oPsiq",titleGlow:"AchievementUnlock_titleGlow__jun3Z",rewardMessage:"AchievementUnlock_rewardMessage__5SKtS",profileMessage:"AchievementUnlock_profileMessage__oVOhw",detailsSection:"AchievementUnlock_detailsSection__07TVN",detailsVisible:"AchievementUnlock_detailsVisible__YiE1o",rewardDetails:"AchievementUnlock_rewardDetails__LQcGQ",detailsTitle:"AchievementUnlock_detailsTitle__lo8G1",discountCode:"AchievementUnlock_discountCode__7dC1R",code:"AchievementUnlock_code__YIWBL",validity:"AchievementUnlock_validity__Apfhq",termsContainer:"AchievementUnlock_termsContainer__XcJV7",termsDetails:"AchievementUnlock_termsDetails__-DNyF",termsSummary:"AchievementUnlock_termsSummary__4eb0T",termsList:"AchievementUnlock_termsList__oxgLs",termItem:"AchievementUnlock_termItem__84LwS",servicePreviewSection:"AchievementUnlock_servicePreviewSection__4PGDg",previewVisible:"AchievementUnlock_previewVisible__TbtgI",previewHeader:"AchievementUnlock_previewHeader__CYLT9",previewTitle:"AchievementUnlock_previewTitle__hizj2",availabilityIndicator:"AchievementUnlock_availabilityIndicator__Cl+-g",statusDot:"AchievementUnlock_statusDot__aMVe3",cposShowcase:"AchievementUnlock_cposShowcase__v3Npd",cpoCard:"AchievementUnlock_cpoCard__PWhLZ",cpoCardEntry:"AchievementUnlock_cpoCardEntry__zkPnm",cpoAvatar:"AchievementUnlock_cpoAvatar__wkui8",avatarImage:"AchievementUnlock_avatarImage__9vfFl",certificationBadge:"AchievementUnlock_certificationBadge__YAc5q",cpoInfo:"AchievementUnlock_cpoInfo__+nARS",cpoName:"AchievementUnlock_cpoName__dngMl",cpoTitle:"AchievementUnlock_cpoTitle__CAd+0",responseTime:"AchievementUnlock_responseTime__AYEMP",pricingPreview:"AchievementUnlock_pricingPreview__yXjmT",pricingTitle:"AchievementUnlock_pricingTitle__7t0F9",pricingGrid:"AchievementUnlock_pricingGrid__m61WX",priceCard:"AchievementUnlock_priceCard__AyuQX",priceCardEntry:"AchievementUnlock_priceCardEntry__j6+lG",popular:"AchievementUnlock_popular__WmhgX",popularBadge:"AchievementUnlock_popularBadge__LXlyd",serviceType:"AchievementUnlock_serviceType__6D0mz",originalPrice:"AchievementUnlock_originalPrice__D-Aet",discountedPrice:"AchievementUnlock_discountedPrice__rzExK",saveAmount:"AchievementUnlock_saveAmount__q+qeO",socialProof:"AchievementUnlock_socialProof__o4jWO",trustStats:"AchievementUnlock_trustStats__OUmcn",statItem:"AchievementUnlock_statItem__0nC9M",statNumber:"AchievementUnlock_statNumber__e9OO6",statLabel:"AchievementUnlock_statLabel__SepaZ",statDivider:"AchievementUnlock_statDivider__APlBQ",actionSection:"AchievementUnlock_actionSection__xJY1r",actionVisible:"AchievementUnlock_actionVisible__MY4b5",guestActions:"AchievementUnlock_guestActions__q-E57",upgradePrompt:"AchievementUnlock_upgradePrompt__1oogL",upgradeMessage:"AchievementUnlock_upgradeMessage__Y7B6i",button:"AchievementUnlock_button__n9QAo",primaryButton:"AchievementUnlock_primaryButton__8eJSP",secondaryButton:"AchievementUnlock_secondaryButton__JkN3i",pulsing:"AchievementUnlock_pulsing__TYbwR",buttonPulse:"AchievementUnlock_buttonPulse__NGZJp",buttonText:"AchievementUnlock_buttonText__l+k1Z",urgencyText:"AchievementUnlock_urgencyText__gdIn3",floatingElements:"AchievementUnlock_floatingElements__Wobq7",floatingElement:"AchievementUnlock_floatingElement__VAYvk",floating:"AchievementUnlock_floating__132N1",floatUpDown:"AchievementUnlock_floatUpDown__4Rk4U",safeProtectionFundSection:"AchievementUnlock_safeProtectionFundSection__e95+q",safeProtectionFundGlow:"AchievementUnlock_safeProtectionFundGlow__Z3D+U",safeProtectionFundIcon:"AchievementUnlock_safeProtectionFundIcon__+K6Eq",safeProtectionFundMessage:"AchievementUnlock_safeProtectionFundMessage__kOVtZ",highlight:"AchievementUnlock_highlight__2HElr"},fE=t=>{var n;let{userType:i,completedQuestionnaire:s,onContinueToDashboard:r,onCreateAccountUpgrade:a}=t;const{state:c,setUser:l}=kv(),[d,u]=(0,e.useState)("entry"),[h,p]=(0,e.useState)(!1),m={userId:null===(n=c.user)||void 0===n?void 0:n.id,rewardType:"questionnaire_completion",discountCode:"ARMORA".concat(Date.now().toString().slice(-6)),discountPercentage:50,maxAmount:15,validUntil:new Date(Date.now()+2592e6),used:!1,unlockDate:new Date};(0,e.useEffect)(()=>{const e=[{step:"entry",delay:0},{step:"reveal",delay:1e3},{step:"unlock",delay:2e3},{step:"reward",delay:3e3},{step:"preview",delay:4e3},{step:"details",delay:5e3},{step:"action",delay:6e3}].map(e=>{let{step:t,delay:n}=e;return setTimeout(()=>{if(u(t),"reward"===t&&(p(!0),c.user&&"guest"!==i)){const e=o(o({},c.user),{},{hasUnlockedReward:!0});l(e)}},n)});return()=>e.forEach(clearTimeout)},[c.user,l,i]),(0,e.useEffect)(()=>{if(h){const e=setTimeout(()=>p(!1),3e3);return()=>clearTimeout(e)}},[h]);const f=()=>{localStorage.setItem("armora_first_assignment_reward",JSON.stringify(m)),r()},_="guest"===i;return(0,Sv.jsxs)("div",{className:mE.container,children:[(0,Sv.jsx)("div",{className:mE.particleField,children:[...Array(20)].map((e,t)=>(0,Sv.jsx)("div",{className:"".concat(mE.particle," ").concat("reward"===d?mE.particleActive:""),style:{"--delay":"".concat(.1*t,"s"),"--duration":"".concat(2+2*Math.random(),"s"),"--x":"".concat(100*Math.random(),"%"),"--y":"".concat(100*Math.random(),"%")}},t))}),h&&(0,Sv.jsx)("div",{className:mE.confettiContainer,children:[...Array(50)].map((e,t)=>(0,Sv.jsx)("div",{className:mE.confetti,style:{"--delay":"".concat(.5*Math.random(),"s"),"--x":"".concat(100*Math.random(),"%"),"--rotate":"".concat(360*Math.random(),"deg"),"--hue":Math.random()>.5?"45deg":"220deg"}},t))}),(0,Sv.jsxs)("div",{className:"".concat(mE.content," ").concat(mE["step-".concat(d)]),children:[(0,Sv.jsxs)("div",{className:mE.achievementContainer,children:[(0,Sv.jsx)("div",{className:"".concat(mE.trophy," ").concat(d>="reveal"?mE.trophyVisible:""),children:(0,Sv.jsxs)("div",{className:mE.trophyBase,children:[(0,Sv.jsx)("div",{className:mE.trophyHandle}),(0,Sv.jsx)("div",{className:"".concat(mE.trophyGlow," ").concat(d>="unlock"?mE.glowing:"")})]})}),(0,Sv.jsx)("div",{className:"".concat(mE.shield," ").concat(d>="unlock"?mE.shieldActive:""),children:(0,Sv.jsx)("svg",{viewBox:"0 0 24 24",className:mE.shieldIcon,children:(0,Sv.jsx)("path",{d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.1 16,12.7V16.2C16,16.8 15.4,17.3 14.8,17.3H9.2C8.6,17.3 8,16.8 8,16.2V12.8C8,12.2 8.6,11.5 9.2,11.5V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,10V11.5H13.5V10C13.5,8.7 12.8,8.2 12,8.2Z",fill:"currentColor"})})})]}),(0,Sv.jsxs)("div",{className:"".concat(mE.rewardSection," ").concat(d>="reward"?mE.rewardVisible:""),children:[(0,Sv.jsxs)("div",{className:mE.rewardBadge,children:[(0,Sv.jsx)("span",{className:mE.discountText,children:"50% OFF"}),(0,Sv.jsx)("span",{className:mE.maxSaving,children:"Max \xa315 off"})]}),(0,Sv.jsx)("h1",{className:mE.congratsTitle,children:"Congratulations!"}),(0,Sv.jsx)("p",{className:mE.rewardMessage,children:"You've unlocked 50% off your first Assignment!"}),(0,Sv.jsxs)("div",{className:mE.safeRideFundSection,children:[(0,Sv.jsx)("div",{className:mE.safeRideFundIcon,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsxs)("p",{className:mE.safeRideFundMessage,children:["Want to make every Assignment count? Join Essential to save money",(0,Sv.jsx)("span",{className:mE.highlight,children:" AND "}),"help others stay safe too."]})]}),(0,Sv.jsx)("p",{className:mE.profileMessage,children:"Your security transport profile is now complete"})]}),(0,Sv.jsxs)("div",{className:"".concat(mE.detailsSection," ").concat(d>="details"?mE.detailsVisible:""),children:[(0,Sv.jsxs)("div",{className:mE.rewardDetails,children:[(0,Sv.jsx)("h3",{className:mE.detailsTitle,children:"Your Reward Details:"}),(0,Sv.jsxs)("div",{className:mE.discountCode,children:["Code: ",(0,Sv.jsx)("span",{className:mE.code,children:m.discountCode})]}),(0,Sv.jsxs)("div",{className:mE.validity,children:["Valid until: ",m.validUntil.toLocaleDateString()]})]}),(0,Sv.jsx)("div",{className:mE.termsContainer,children:(0,Sv.jsxs)("details",{className:mE.termsDetails,children:[(0,Sv.jsx)("summary",{className:mE.termsSummary,children:"Terms & Conditions"}),(0,Sv.jsx)("ul",{className:mE.termsList,children:["Valid for 30 days from profile completion","Applicable to first Assignment protection assignment only","Cannot be combined with other offers","Maximum discount value: \xa315","Valid for all service tiers: Standard, Executive, Shadow"].map((e,t)=>(0,Sv.jsx)("li",{className:mE.termItem,children:e},t))})]})})]}),(0,Sv.jsxs)("div",{className:"".concat(mE.servicePreviewSection," ").concat(d>="preview"?mE.previewVisible:""),children:[(0,Sv.jsxs)("div",{className:mE.previewHeader,children:[(0,Sv.jsx)("h3",{className:mE.previewTitle,children:"Your VIP Security Team Is Ready"}),(0,Sv.jsxs)("div",{className:mE.availabilityIndicator,children:[(0,Sv.jsx)("div",{className:mE.statusDot}),(0,Sv.jsx)("span",{children:"12 certified Protection Officers available now"})]})]}),(0,Sv.jsxs)("div",{className:mE.cpoShowcase,children:[(0,Sv.jsxs)("div",{className:mE.cpoCard,children:[(0,Sv.jsxs)("div",{className:mE.cpoAvatar,children:[(0,Sv.jsx)("div",{className:mE.avatarImage,children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,Sv.jsx)("div",{className:mE.certificationBadge,children:"SIA"})]}),(0,Sv.jsxs)("div",{className:mE.cpoInfo,children:[(0,Sv.jsx)("div",{className:mE.cpoName,children:"Marcus Johnson"}),(0,Sv.jsx)("div",{className:mE.cpoTitle,children:"Executive Protection"}),(0,Sv.jsx)("div",{className:mE.responseTime,children:"4 min away"})]})]}),(0,Sv.jsxs)("div",{className:mE.cpoCard,children:[(0,Sv.jsxs)("div",{className:mE.cpoAvatar,children:[(0,Sv.jsx)("div",{className:mE.avatarImage,children:"\ud83d\udc69\u200d\ud83d\udcbc"}),(0,Sv.jsx)("div",{className:mE.certificationBadge,children:"SIA"})]}),(0,Sv.jsxs)("div",{className:mE.cpoInfo,children:[(0,Sv.jsx)("div",{className:mE.cpoName,children:"Sarah Mitchell"}),(0,Sv.jsx)("div",{className:mE.cpoTitle,children:"VIP Transport"}),(0,Sv.jsx)("div",{className:mE.responseTime,children:"6 min away"})]})]}),(0,Sv.jsxs)("div",{className:mE.cpoCard,children:[(0,Sv.jsxs)("div",{className:mE.cpoAvatar,children:[(0,Sv.jsx)("div",{className:mE.avatarImage,children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,Sv.jsx)("div",{className:mE.certificationBadge,children:"SIA"})]}),(0,Sv.jsxs)("div",{className:mE.cpoInfo,children:[(0,Sv.jsx)("div",{className:mE.cpoName,children:"David Clark"}),(0,Sv.jsx)("div",{className:mE.cpoTitle,children:"Close Protection"}),(0,Sv.jsx)("div",{className:mE.responseTime,children:"8 min away"})]})]})]}),(0,Sv.jsxs)("div",{className:mE.pricingPreview,children:[(0,Sv.jsx)("h4",{className:mE.pricingTitle,children:"Your Personalized VIP Pricing"}),(0,Sv.jsxs)("div",{className:mE.pricingGrid,children:[(0,Sv.jsxs)("div",{className:mE.priceCard,children:[(0,Sv.jsx)("div",{className:mE.serviceType,children:"Standard"}),(0,Sv.jsx)("div",{className:mE.originalPrice,children:"\xa350/hr"}),(0,Sv.jsx)("div",{className:mE.discountedPrice,children:"\xa325.00/hr"}),(0,Sv.jsx)("div",{className:mE.saveAmount,children:"Save \xa325.00"})]}),(0,Sv.jsxs)("div",{className:"".concat(mE.priceCard," ").concat(mE.popular),children:[(0,Sv.jsx)("div",{className:mE.popularBadge,children:"Most Popular"}),(0,Sv.jsx)("div",{className:mE.serviceType,children:"Shadow"}),(0,Sv.jsx)("div",{className:mE.originalPrice,children:"\xa365/hr"}),(0,Sv.jsx)("div",{className:mE.discountedPrice,children:"\xa332.50/hr"}),(0,Sv.jsx)("div",{className:mE.saveAmount,children:"Save \xa332.50"})]}),(0,Sv.jsxs)("div",{className:mE.priceCard,children:[(0,Sv.jsx)("div",{className:mE.serviceType,children:"Executive"}),(0,Sv.jsx)("div",{className:mE.originalPrice,children:"\xa375/hr"}),(0,Sv.jsx)("div",{className:mE.discountedPrice,children:"\xa337.50/hr"}),(0,Sv.jsx)("div",{className:mE.saveAmount,children:"Save \xa337.50"})]})]})]}),(0,Sv.jsx)("div",{className:mE.socialProof,children:(0,Sv.jsxs)("div",{className:mE.trustStats,children:[(0,Sv.jsxs)("div",{className:mE.statItem,children:[(0,Sv.jsx)("span",{className:mE.statNumber,children:"127"}),(0,Sv.jsx)("span",{className:mE.statLabel,children:"Fortune 500 Executives"})]}),(0,Sv.jsx)("div",{className:mE.statDivider}),(0,Sv.jsxs)("div",{className:mE.statItem,children:[(0,Sv.jsx)("span",{className:mE.statNumber,children:"99.8%"}),(0,Sv.jsx)("span",{className:mE.statLabel,children:"Incident-Free Record"})]}),(0,Sv.jsx)("div",{className:mE.statDivider}),(0,Sv.jsxs)("div",{className:mE.statItem,children:[(0,Sv.jsx)("span",{className:mE.statNumber,children:"8 min"}),(0,Sv.jsx)("span",{className:mE.statLabel,children:"Average Response"})]})]})})]}),(0,Sv.jsx)("div",{className:"".concat(mE.actionSection," ").concat(d>="action"?mE.actionVisible:""),children:_?(0,Sv.jsxs)("div",{className:mE.guestActions,children:[(0,Sv.jsx)("div",{className:mE.upgradePrompt,children:(0,Sv.jsx)("p",{className:mE.upgradeMessage,children:"Create an account to save this reward and unlock full protection assignment features"})}),(0,Sv.jsxs)("button",{onClick:()=>{a&&a()},className:"".concat(mE.button," ").concat(mE.primaryButton," ").concat(mE.pulsing),children:[(0,Sv.jsx)("span",{className:mE.buttonText,children:"Secure Your 50% Discount"}),(0,Sv.jsx)("span",{className:mE.urgencyText,children:"Limited time offer"})]}),(0,Sv.jsx)("button",{onClick:f,className:"".concat(mE.button," ").concat(mE.secondaryButton),children:"Continue as Guest"})]}):(0,Sv.jsxs)("button",{onClick:f,className:"".concat(mE.button," ").concat(mE.primaryButton," ").concat(mE.pulsing),children:[(0,Sv.jsx)("span",{className:mE.buttonText,children:"Start Your VIP Experience"}),(0,Sv.jsx)("span",{className:mE.urgencyText,children:"Your Protection Officers are waiting"})]})})]}),(0,Sv.jsx)("div",{className:mE.floatingElements,children:[...Array(8)].map((e,t)=>(0,Sv.jsx)("div",{className:"".concat(mE.floatingElement," ").concat(d>="reward"?mE.floating:""),style:{"--delay":"".concat(.2*t,"s"),"--duration":"".concat(3+2*Math.random(),"s"),"--x":"".concat(10+80*Math.random(),"%"),"--y":"".concat(10+80*Math.random(),"%")},children:"\ud83d\udcb0"},t))})]})},_E="AchievementBanner_achievementBanner__cNDtf",gE="AchievementBanner_minimized__sjqfR",vE="AchievementBanner_header__V9Ac7",yE="AchievementBanner_achievementTitle__MxCAg",xE="AchievementBanner_trophy__bRsTB",bE="AchievementBanner_orbitalRing__8fusl",SE="AchievementBanner_closeButton__uH8s-",wE="AchievementBanner_mainContent__L1xao",NE="AchievementBanner_discountValue__dZhZ0",jE="AchievementBanner_discountDescription__1Oe48",CE="AchievementBanner_progressSection__KaXeE",kE="AchievementBanner_progressBar__5tH2j",PE="AchievementBanner_progressFill__zps8E",TE="AchievementBanner_progressText__dJEM2",EE="AchievementBanner_socialProof__07L5m",AE="AchievementBanner_claimButton__MHDVI",IE="AchievementBanner_validityText__CwZ1X",LE="AchievementBanner_miniContent__CB+5K",RE=e=>{let{onExpand:t,onDismiss:n}=e;return(0,Sv.jsxs)("div",{className:"".concat(_E," ").concat(gE),onClick:e=>{e.preventDefault(),t()},role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())},"aria-label":"Click to expand achievement banner",children:[(0,Sv.jsxs)("div",{className:LE,children:[(0,Sv.jsx)("span",{className:xE,children:"\ud83c\udfc6"}),(0,Sv.jsx)("span",{children:"50% OFF"})]}),(0,Sv.jsx)("button",{className:SE,onClick:e=>{e.stopPropagation(),n()},"aria-label":"Dismiss achievement",style:{marginLeft:"8px",width:"24px",height:"24px",fontSize:"14px"},children:"\xd7"})]})},ME=(e,t,n)=>{const i=["#FFD700","#FFA500","#FFFF00","#FFFFFF","#FFE55C"],s=Math.random()*Math.PI*2,r=8*Math.random()+4;return{id:e,x:t+50*(Math.random()-.5),y:n+20*(Math.random()-.5),vx:Math.cos(s)*r,vy:Math.sin(s)*r-5*Math.random(),color:i[Math.floor(Math.random()*i.length)],rotation:360*Math.random(),rotationSpeed:10*(Math.random()-.5),size:6*Math.random()+4,gravity:.3+.2*Math.random(),life:1,maxLife:2e3*Math.random()+2e3}},OE={delay:300,duration:400},DE={delay:500,duration:800},FE={delay:800,duration:600},BE={delay:1200,duration:3e3},qE={delay:1500,duration:1/0},zE=t=>{let{isActive:n,centerX:i,centerY:s,particleCount:r=30,duration:a=3e3,onComplete:c}=t;const[l,d]=(0,e.useState)([]),[u,h]=(0,e.useState)(null),p=(0,e.useCallback)(()=>{const e=[];for(let t=0;t<r;t++)e.push(ME(t,i,s));d(e),h(Date.now())},[i,s,r]);return(0,e.useEffect)(()=>{n?p():(d([]),h(null))},[n,p]),(0,e.useEffect)(()=>{if(!n||!u)return;let e,t=u;const i=n=>{const s=(n-t)/1e3;if(n-u>=a)return d([]),void(null===c||void 0===c||c());d(e=>e.map(e=>((e,t)=>o(o({},e),{},{x:e.x+e.vx*t,y:e.y+e.vy*t,vx:.98*e.vx,vy:e.vy+e.gravity*t,rotation:e.rotation+e.rotationSpeed*t,life:Math.max(0,e.life-t/e.maxLife)}))(e,s)).filter(e=>e.life>0)),t=n,e=requestAnimationFrame(i)};return e=requestAnimationFrame(i),()=>{e&&cancelAnimationFrame(e)}},[n,u,a,c]),n&&0!==l.length?(0,Sv.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:1e4},children:l.map(e=>(0,Sv.jsx)("div",{style:{position:"absolute",left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),backgroundColor:e.color,borderRadius:"2px",transform:"rotate(".concat(e.rotation,"deg)"),opacity:e.life,transition:"opacity 0.1s ease-out"}},e.id))}):null},WE=[{id:"1",name:"First Assignment Discount",status:"unlocked",reward:"50% off",description:"Your first Assignment (up to \xa315)"},{id:"2",name:"Profile Complete",status:"in_progress",progress:70,reward:"Priority protection assignment",description:"Complete your safety profile",requirement:"Fill all profile sections"},{id:"3",name:"Frequent Rider",status:"locked",reward:"VIP trial",description:"Unlock VIP status",requirement:"5 Assignments"}],HE=t=>{let{isVisible:n,onClaim:i,onDismiss:s,userName:r="Member"}=t;const[a,o]=(0,e.useState)("hidden"),[c,l]=(0,e.useState)(""),[d,u]=(0,e.useState)(0),[h,p]=(0,e.useState)(!1),m=(0,e.useRef)(null),[f,_]=(0,e.useState)({x:0,y:0}),[g,v]=(0,e.useState)(!1),[y,x]=(0,e.useState)(!1),[b,S]=(0,e.useState)(!1),w=(0,e.useCallback)(()=>{l(""),u(0),p(!1),v(!1),x(!1),S(!1)},[]),N=(0,e.useCallback)(async()=>{setTimeout(()=>{v(!0)},OE.delay),setTimeout(async()=>{await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return new Promise(i=>{let s=0;const r=setInterval(()=>{s<=e.length?(t(e.slice(0,s)),s++):(clearInterval(r),i())},n)})}("ACHIEVEMENT UNLOCKED",l,50)},DE.delay),setTimeout(()=>{!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,i=0;const s=Date.now(),r=()=>{const a=Date.now(),o=Math.min((a-s)/n,1),c=1-Math.pow(1-o,3);i=Math.floor(e*c),t(i),o<1?requestAnimationFrame(r):t(e)};r()}(50,u,FE.duration),x(!0)},FE.delay),setTimeout(()=>{p(!0)},BE.delay),setTimeout(()=>{S(!0)},qE.delay),setTimeout(()=>{"showing"===a&&o("minimized")},5e3)},[a]);(0,e.useEffect)(()=>(n&&"hidden"!==a?document.body.classList.add("has-achievement-banner"):document.body.classList.remove("has-achievement-banner"),()=>{document.body.classList.remove("has-achievement-banner")}),[n,a]),(0,e.useEffect)(()=>{n&&"hidden"===a?(o("showing"),N()):n||(o("hidden"),w())},[n,a,N,w]),(0,e.useEffect)(()=>{if(m.current){const e=m.current.getBoundingClientRect();_({x:e.left+e.width/2,y:e.top+e.height/2})}},[a]);const j=()=>{o("showing"),S(!0),x(!0)},C=()=>{"vibrate"in navigator&&navigator.vibrate(50),i()};if("hidden"===a)return null;if("minimized"===a)return(0,Sv.jsx)(RE,{onExpand:j,onDismiss:s});const k=WE.filter(e=>"unlocked"===e.status).length,P=WE.length,T=k/P*100;return(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{ref:m,className:_E,onTouchStart:"showing"===a?e=>{const t=e.touches[0].clientY,n=e=>{const i=e.touches[0];t-i.clientY>50&&(C(),document.removeEventListener("touchmove",n))};document.addEventListener("touchmove",n,{once:!0})}:void 0,onTouchEnd:"showing"===a?e=>{const t=e.touches[0].clientY,n=e=>{e.touches[0].clientY-t>50&&(o("minimized"),document.removeEventListener("touchmove",n))};document.addEventListener("touchmove",n,{once:!0})}:void 0,children:[(0,Sv.jsxs)("div",{className:vE,children:[(0,Sv.jsxs)("div",{className:yE,children:[g&&(0,Sv.jsxs)("div",{className:xE,children:["\ud83c\udfc6",(0,Sv.jsx)("div",{className:bE})]}),(0,Sv.jsx)("span",{children:c})]}),(0,Sv.jsx)("button",{className:SE,onClick:s,"aria-label":"Dismiss achievement",children:"\xd7"})]}),(0,Sv.jsxs)("div",{className:wE,children:[(0,Sv.jsxs)("div",{className:NE,children:[d,"% OFF"]}),(0,Sv.jsx)("div",{className:jE,children:"Your first Assignment (up to \xa315)"})]}),y&&(0,Sv.jsxs)("div",{className:CE,children:[(0,Sv.jsxs)("div",{className:TE,children:[(0,Sv.jsx)("span",{children:"Progress"}),(0,Sv.jsxs)("span",{children:[k," of ",P," unlocked"]})]}),(0,Sv.jsx)("div",{className:kE,children:(0,Sv.jsx)("div",{className:PE,style:{width:"".concat(T,"%")}})})]}),(0,Sv.jsxs)("div",{className:EE,children:[r,", join 3,741 members saving \xa332/mo"]}),b&&(0,Sv.jsx)("button",{className:AE,onClick:C,children:"CLAIM DISCOUNT \u2192"}),(0,Sv.jsx)("div",{className:IE,children:"Valid 30 days \u2022 No rush"})]}),(0,Sv.jsx)(zE,{isActive:h,centerX:f.x,centerY:f.y,particleCount:30,duration:3e3,onComplete:()=>p(!1)})]})},UE={serviceCard:"ServiceCard_serviceCard__CnBGj",selected:"ServiceCard_selected__-V6+V",recommended:"ServiceCard_recommended__9+adL",popular:"ServiceCard_popular__0qmSA",shimmer:"ServiceCard_shimmer__QX4za",cardHeader:"ServiceCard_cardHeader__YvxW7",serviceTitle:"ServiceCard_serviceTitle__PKwUl",serviceIcon:"ServiceCard_serviceIcon__eFCr1",serviceName:"ServiceCard_serviceName__8qqJH",serviceTagline:"ServiceCard_serviceTagline__-wwr3",vehicleInfo:"ServiceCard_vehicleInfo__e-j8u",recommendedBadge:"ServiceCard_recommendedBadge__rSLUI",serviceRates:"ServiceCard_serviceRates__nJogW",ratesTitle:"ServiceCard_ratesTitle__ISWNv",rateItem:"ServiceCard_rateItem__0DDvv",rateLabel:"ServiceCard_rateLabel__cuDZ6",rateValue:"ServiceCard_rateValue__rG+ig",rateMinimum:"ServiceCard_rateMinimum__bJcUS",ratingSection:"ServiceCard_ratingSection__IhQiI",rating:"ServiceCard_rating__LV1v7",featuresList:"ServiceCard_featuresList__Airw5",featuresTitle:"ServiceCard_featuresTitle__0Z+VK",featureItem:"ServiceCard_featureItem__Sid68",checkmark:"ServiceCard_checkmark__IpWIy",featureText:"ServiceCard_featureText__opxiP",infoGrid:"ServiceCard_infoGrid__2zbNd",infoIcon:"ServiceCard_infoIcon__3+U7d",infoText:"ServiceCard_infoText__phQu4",expandedInfo:"ServiceCard_expandedInfo__WYM+F",expandedHeader:"ServiceCard_expandedHeader__CZ+3k",expandedItem:"ServiceCard_expandedItem__N5YHw",actionButtons:"ServiceCard_actionButtons__FKuzE",multipleButtons:"ServiceCard_multipleButtons__48FnQ",bookButton:"ServiceCard_bookButton__NoM9l",moreInfoButton:"ServiceCard_moreInfoButton__sSKsH",preview:"ServiceCard_preview__v1fhl",previewFooter:"ServiceCard_previewFooter__4dGbb",previewText:"ServiceCard_previewText__CdESb",priceDisplay:"ServiceCard_priceDisplay__jXE5R"},VE={standard:{name:"Essential Protection",protectionRate:"\xa350",transportRate:"\xa32.50",rating:4.8,reviews:"2,847",vehicle:"Secure transport vehicles",icon:"\ud83d\udee1\ufe0f",tagline:"Professional close protection for everyday security",credentials:"1 SIA-licensed Protection Officer",features:["Single CPO for door-to-door security","Security assessment and route planning","Real-time tracking and 24/7 support","Perfect for: Business meetings, property viewings, medical appointments"]},"client-vehicle":{name:"Client Vehicle Service",protectionRate:"\xa355",transportRate:"No mileage charge",rating:4.8,reviews:"2,156",vehicle:"Your personal vehicle",icon:"\ud83d\udd11",tagline:"SIA-trained officer operates your personal vehicle",credentials:"Protection officer for your vehicle",features:["Officer arrives and operates your car","No mileage charges for your vehicle","Complete privacy and familiarity","Perfect for: Using your car, family vehicles, regular commutes"]},executive:{name:"Executive Protection",protectionRate:"\xa375",transportRate:"\xa33.50",rating:4.9,reviews:"1,326",vehicle:"BMW 5 Series \u2022 Mercedes S-Class",icon:"\ud83d\udc54",tagline:"Enhanced security with advance reconnaissance",credentials:"1-2 Protection Officers (scalable)",features:["1-2 CPOs depending on requirements","Advance venue reconnaissance (24hrs prior)","Coordinated team protection when needed","Perfect for: VIP events, high-value meetings, public appearances"]},shadow:{name:"Shadow Protection",protectionRate:"\xa365",transportRate:"\xa33.00",rating:4.7,reviews:"1,892",vehicle:"Unmarked vehicles \u2022 Plain clothes",icon:"\ud83d\udd75\ufe0f",tagline:"Covert protection with maximum scalability",credentials:"1-6 Officers (fully scalable)",features:["1-6 CPOs scalable based on threat assessment","Plain clothes covert layered security","Special Forces trained specialists","Perfect for: High-threat situations, complete anonymity, HNW individuals"]}},GE=(0,e.memo)(function(t){let{service:n,isSelected:i,onSelect:s,mode:r,isRecommended:a=!1,onBookNow:o,onScheduleSelect:c,onDirectBook:l,userType:d=null}=t;const[u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),m=VE[n.id];if(!m)return null;const f=()=>{"preview"===r&&l?l(n):(p(!0),setTimeout(()=>{null===o||void 0===o||o(n)},300))},_=[UE.serviceCard,i&&UE.selected,a&&UE.recommended,n.isPopular&&UE.popular,"preview"===r&&UE.preview].filter(Boolean).join(" ");return(0,Sv.jsxs)("div",{className:_,onClick:()=>{"selection"===r?s(n):"preview"===r&&l&&l(n)},"data-testid":"service-".concat(n.id),"data-service":n.id,children:[(0,Sv.jsxs)("div",{className:UE.cardHeader,children:[(0,Sv.jsxs)("div",{className:UE.serviceTitle,children:[(0,Sv.jsx)("span",{className:UE.serviceIcon,children:(null===m||void 0===m?void 0:m.icon)||"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("h3",{className:UE.serviceName,children:(null===m||void 0===m?void 0:m.name)||n.name})]}),a&&(0,Sv.jsx)("div",{className:UE.recommendedBadge,children:"RECOMMENDED"})]}),(0,Sv.jsx)("p",{className:UE.serviceTagline,children:(null===m||void 0===m?void 0:m.tagline)||n.tagline}),(0,Sv.jsx)("div",{className:UE.vehicleInfo,children:(null===m||void 0===m?void 0:m.vehicle)||n.vehicle}),(0,Sv.jsxs)("div",{className:UE.serviceRates,children:[(0,Sv.jsx)("div",{className:UE.ratesTitle,children:"Service Rates:"}),(0,Sv.jsxs)("div",{className:UE.rateItem,children:[(0,Sv.jsx)("span",{className:UE.rateLabel,children:"Protection:"}),(0,Sv.jsxs)("span",{className:UE.rateValue,children:[(null===m||void 0===m?void 0:m.protectionRate)||"\xa350","/hour"]})]}),(0,Sv.jsxs)("div",{className:UE.rateItem,children:[(0,Sv.jsx)("span",{className:UE.rateLabel,children:"Transport:"}),(0,Sv.jsx)("span",{className:UE.rateValue,children:"No mileage charge"===(null===m||void 0===m?void 0:m.transportRate)?"No mileage charge":"".concat((null===m||void 0===m?void 0:m.transportRate)||"\xa32.50","/mile")})]}),(0,Sv.jsx)("div",{className:UE.rateMinimum,children:"(2-hour minimum)"})]}),(0,Sv.jsx)("div",{className:UE.ratingSection,children:(0,Sv.jsxs)("span",{className:UE.rating,children:["\u2b50 ",(null===m||void 0===m?void 0:m.rating)||4.8," (",(null===m||void 0===m?void 0:m.reviews)||"2,000+"," assignments)"]})}),(0,Sv.jsxs)("div",{className:UE.featuresList,children:[(0,Sv.jsx)("div",{className:UE.featuresTitle,children:(null===m||void 0===m?void 0:m.credentials)||"SIA-licensed protection officers"}),((null===m||void 0===m?void 0:m.features)||["Professional close protection","Background verified & insured","Real-time tracking"]).map((e,t)=>(0,Sv.jsxs)("div",{className:UE.featureItem,children:[(0,Sv.jsx)("span",{className:UE.checkmark,children:"\u2713"}),(0,Sv.jsx)("span",{className:UE.featureText,children:e})]},t))]}),u&&(0,Sv.jsxs)("div",{className:UE.expandedInfo,children:[(0,Sv.jsx)("div",{className:UE.expandedHeader,children:"SERVICE DETAILS:"}),(0,Sv.jsx)("div",{className:UE.expandedItem,children:"\u2022 Professional close protection"}),(0,Sv.jsx)("div",{className:UE.expandedItem,children:"\u2022 Threat assessment included"}),(0,Sv.jsx)("div",{className:UE.expandedItem,children:"\u2022 2-hour minimum protection assignment"}),(0,Sv.jsx)("div",{className:UE.expandedHeader,children:"PERFECT FOR:"}),(0,Sv.jsx)("div",{className:UE.expandedItem,children:"\u2022 Business meetings"}),(0,Sv.jsx)("div",{className:UE.expandedItem,children:"\u2022 Airport transfers"}),(0,Sv.jsx)("div",{className:UE.expandedItem,children:"\u2022 Evening events"})]}),(0,Sv.jsx)("div",{className:"".concat(UE.actionButtons," ").concat("selection"===r?UE.multipleButtons:""),children:"preview"===r?(0,Sv.jsx)(Xy,{variant:"primary",onClick:e=>{e.stopPropagation(),f()},className:UE.requestNewButton,disabled:h,children:h?"Processing...":"Request ".concat(m.name)}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)(Xy,{variant:"primary",onClick:e=>{e.stopPropagation(),f()},className:UE.requestNewButton,disabled:h,children:h?"Processing...":"Request New"}),(0,Sv.jsx)(Xy,{variant:"outline",onClick:e=>{e.stopPropagation()},className:UE.useTemplateButton,children:"Use Template"})]})})]})});function YE(e,t,n){const i=function(e){const t=null===e||void 0===e?void 0:e.profileSelection;return t&&"prefer_not_to_say"!==t&&"general"!==t&&{medical:{type:"healthcare",matchScore:96,title:"Healthcare Professional Match",subtitle:"Specialized for Medical Professionals",description:"Designed for healthcare workers who understand the importance of reliability, discretion, and safety protocols.",benefits:["Hospital protocol expertise - our CP Officers understand medical facility access","24/7 availability for shift patterns and urgent medical calls","Patient confidentiality compliance training","Medical equipment transport capability","Quiet environment for rest between shifts"],certifications:["Advanced Security Training (conflict de-escalation & threat awareness)","NHS Facility Access Trained","Medical Protocol Certified"],trustIndicators:["Trusted by 200+ healthcare professionals","4.9\u2605 from medical staff","Zero missed shifts in 2024"],personalizedMessage:"Your commitment to saving lives deserves transport that respects your dedication.",socialProof:"94% of healthcare professionals choose this service level"},executive:{type:"corporate",matchScore:94,title:"Executive Professional Match",subtitle:"Business Leadership Transport",description:"Executive-level transport that understands the demands of business leadership and corporate responsibility.",benefits:["Business district expertise and priority routes","Meeting schedule coordination and punctuality guarantee","In-vehicle Wi-Fi and charging stations for productivity","Corporate billing and expense report integration","Professional appearance and corporate etiquette training"],certifications:["Advanced Security Training (situation awareness & professional discretion)","Corporate Protocol Certified","Executive Protection Trained"],trustIndicators:["Serving 150+ executives","On-time rate: 99.7%","Preferred by FTSE 250 companies"],personalizedMessage:"Your leadership position requires transport that matches your professional standards.",socialProof:"91% of executives prefer Armora for business transport"},entrepreneur:{type:"business",matchScore:92,title:"Entrepreneur & Business Owner Match",subtitle:"Dynamic Business Transport",description:"Flexible, reliable transport for the demands of building and running your business.",benefits:["Flexible scheduling for dynamic business needs","Investor meeting and presentation support","Multi-stop efficiency for business meetings","Professional image enhancement for client meetings","Business networking opportunity awareness"],certifications:["Advanced Security Training (risk assessment & business environment awareness)","Business Professional Certified","Startup Hub Access Trained"],trustIndicators:["Supporting 180+ entrepreneurs","Business growth reliability: 98%","Startup community trusted"],personalizedMessage:"Your entrepreneurial drive deserves transport that adapts to your business needs.",socialProof:"89% of business owners choose professional security transport"},government:{type:"public_sector",matchScore:98,title:"Government & Public Sector Match",subtitle:"Protocol-Aware Official Transport",description:"Government and public sector transport with full understanding of official protocols and security requirements.",benefits:["Government building access expertise","Protocol and security clearance understanding","Confidential meeting and discussion privacy","Official event coordination experience","Emergency response and continuity planning"],certifications:["Enhanced Security Clearance","Government Protocol Trained","Official Building Access Certified"],trustIndicators:["Serving 50+ government officials","Security clearance: Enhanced","Zero protocol breaches"],personalizedMessage:"Your public service requires transport that understands official protocols and discretion.",socialProof:"97% of public officials choose enhanced security transport"},legal:{type:"legal",matchScore:95,title:"Legal Professional Match",subtitle:"Court and Chambers Transport",description:"Legal profession transport with understanding of court schedules, client confidentiality, and professional requirements.",benefits:["Court and chambers access expertise","Client confidentiality and privilege protection","Legal document transport security","Punctuality guarantee for court appearances","Professional dress code and appearance standards"],certifications:["Advanced Security Training (confidentiality & threat detection)","Legal Professional Protocol","Court Access Certified"],trustIndicators:["Trusted by 120+ legal professionals","Court appearance reliability: 100%","Bar Association recommended"],personalizedMessage:"Your legal practice demands transport that respects client privilege and court schedules.",socialProof:"93% of legal professionals require discretion and punctuality"},finance:{type:"financial",matchScore:93,title:"Financial Services Match",subtitle:"Market-Ready Professional Transport",description:"Financial sector transport understanding market hours, client requirements, and professional standards.",benefits:["Early market hours and late client meeting availability","Financial district expertise and priority routing","Client entertainment and event support","Confidential financial discussion privacy","Professional appearance matching industry standards"],certifications:["Advanced Security Training (crowd management & protective surveillance)","Financial District Access","Corporate Client Certified"],trustIndicators:["Serving 100+ financial professionals","Market hours: 5AM-11PM","City of London preferred"],personalizedMessage:"Your financial expertise deserves transport that understands market demands.",socialProof:"90% of financial professionals choose reliable security transport"},celebrity:{type:"entertainment",matchScore:99,title:"Entertainment & Media Match",subtitle:"Privacy-First Celebrity Transport",description:"Entertainment industry transport with maximum discretion, privacy protection, and media awareness.",benefits:["Paparazzi avoidance and discrete route planning","Studio and venue access expertise","Event premiere and appearance coordination","Privacy protection and confidentiality agreements","Emergency extraction and security protocols"],certifications:["Enhanced Security Training","Celebrity Protection Specialist","Media Evasion Certified"],trustIndicators:["Protecting 25+ entertainment clients","Privacy incidents: Zero","Industry insider trusted"],personalizedMessage:"Your public profile requires transport that prioritizes your privacy and safety.",socialProof:"99% of entertainment professionals require enhanced privacy protection"},high_profile:{type:"vip",matchScore:99,title:"High-Profile Individual Match",subtitle:"Maximum Security & Discretion",description:"Elite protection for high-profile individuals requiring the highest levels of security and privacy.",benefits:["Counter-surveillance and threat assessment","Protected vehicle options and security modifications","Close protection specialist coordination","Route security analysis and alternative planning","Emergency response and extraction protocols"],certifications:["Special Forces Training","VIP Protection Specialist","Counter-Surveillance Certified"],trustIndicators:["Protecting high-profile clients","Threat assessments: Daily","Zero security incidents"],personalizedMessage:"Your profile requires the highest level of professional security and discretion.",socialProof:"100% of high-profile clients choose maximum security transport"},family:{type:"family",matchScore:88,title:"Family Security Match",subtitle:"Safe Family Transport Solutions",description:"Family-focused security transport with child safety expertise and family scheduling flexibility.",benefits:["Child safety systems and car seat expertise","School run and family activity coordination","Family safety response protocols","Multiple Principal configuration options","Family-friendly Protection Officer training and background checks"],certifications:["Child Safety Certified","Family Transport Specialist","Enhanced Background Checks"],trustIndicators:["Trusted by 300+ families","Child safety record: Perfect","School run reliability: 99%"],personalizedMessage:"Your family's safety is our priority - transport you can trust with your loved ones.",socialProof:"85% of families choose professional security for peace of mind"},student:{type:"student",matchScore:85,title:"Student Safety Match",subtitle:"Safe Student Transport",description:"Student-focused transport providing safe, reliable travel for education and social activities.",benefits:["University campus access and late-night safety","Student budget consideration and group options","Library, social event, and home transport","Student ID verification and campus protocols","Safety contact notification systems"],certifications:["Student Safety Certified","Campus Access Trained","Youth Protection Trained"],trustIndicators:["Serving 500+ students","Late-night safety: 100%","University partnership approved"],personalizedMessage:"Your education security needs deserve safe, reliable protection you can depend on.",socialProof:"78% of students choose professional transport for safety"}}[t]||{type:"general",matchScore:85,title:"Professional Transport Match",subtitle:"Quality Security Transport",description:"Professional security transport designed for discerning clients who value safety, reliability, and peace of mind.",benefits:["SIA Level 2 security-certified professional Protection Officers","Real-time GPS tracking and protection monitoring","24/7 response and support systems","Background-checked and vetted security professionals","Eco-friendly Nissan Leaf EV fleet with full safety systems"],certifications:["Advanced Security Training (situational awareness & protective protocols)","Professional Protection Officer Certified","Safety Response Trained"],trustIndicators:["Trusted by 1,000+ clients","Safety record: 100%","Reliability rating: 4.8/5"],personalizedMessage:"Professional security transport that prioritizes your safety and peace of mind.",socialProof:"82% of clients choose security-aware transport for peace of mind"}}(e),s=function(){const e=(new Date).getHours(),t=(new Date).getDay(),n=0===t||6===t;return e>=5&&e<12?n?"\ud83c\udf05 Weekend morning service - start your day securely":"\ud83c\udf05 Morning service active - professional transport for your day ahead":e>=12&&e<17?n?"\u2600\ufe0f Weekend afternoon coverage - reliable when you need it":"\u2600\ufe0f Afternoon availability - seamless transport for business meetings":e>=17&&e<22?n?"\ud83c\udf06 Evening service - safe transport for weekend activities":"\ud83c\udf06 Evening service - secure transport for after-work commitments":n?"\ud83c\udf19 Late-night weekend coverage - your safety is our priority":"\ud83c\udf19 24/7 protection - enhanced security protocols for night transport"}(),r=function(){const e=(new Date).getHours(),t=3+e%3,n=e>=7&&e<=9||e>=17&&e<=19||t<=3;return{officersAvailable:t,estimatedArrival:"".concat(e%4+1+(n?7:4)," minutes"),isHighDemand:n}}();return{service:n.find(e=>"standard"===e.id)||n[0],profile:i,timeBasedMessage:s,availabilityInfo:r}}const KE="SmartRecommendation_divider__GQJVt",QE="SmartRecommendation_availability__kUNDR",ZE="SmartRecommendation_activateBtn__JmULI",JE="SmartRecommendation_recommendationCard__llzXP",XE="SmartRecommendation_matchHeader__Gkh2F",$E="SmartRecommendation_matchScoreBox__6UJEo",eA="SmartRecommendation_scoreText__Vnz-I",tA="SmartRecommendation_scoreBar__Q-h1C",nA="SmartRecommendation_scoreFill__Q1smP",iA="SmartRecommendation_recommendedBadge__MQMX6",sA="SmartRecommendation_trophy__oT4kC",rA="SmartRecommendation_serviceSection__fk5S1",aA="SmartRecommendation_serviceName__mhtDx",oA="SmartRecommendation_benefits__G-KcJ",cA="SmartRecommendation_benefitItem__hK6hx",lA="SmartRecommendation_check__HU3xF",dA="SmartRecommendation_pricingBreakdown__aIwNi",uA="SmartRecommendation_pricingTitle__QVhrj",hA="SmartRecommendation_pricingLine__F70Dn",pA="SmartRecommendation_pricingRow__YAOgX",mA="SmartRecommendation_pricingExample__6YwR0",fA="SmartRecommendation_trustBar__QksRv",_A="SmartRecommendation_alternativeActions__DdnrV",gA="SmartRecommendation_linkBtn__mszF4",vA="SmartRecommendation_returningUserRec__Pij+k",yA="SmartRecommendation_quickRec__8Efj3",xA="SmartRecommendation_quickBookBtn__dYuII",bA="SmartRecommendation_checkmark__6A0M8",SA=(0,e.memo)(t=>{let{services:n,user:i,questionnaireData:s,onServiceSelect:r}=t;const[a,c]=(0,e.useState)(()=>{const e=localStorage.getItem("armora_user_assignment_history");if(e)try{return JSON.parse(e)}catch(t){return{totalAssignments:0,lastAssignmentDate:null,isFirstTimeUser:!0}}return{totalAssignments:0,lastAssignmentDate:null,isFirstTimeUser:!0}});(0,e.useEffect)(()=>{localStorage.setItem("armora_user_assignment_history",JSON.stringify(a))},[a]);const l=(0,e.useMemo)(()=>n.find(e=>"standard"===e.id)||n[0],[n]),d=(0,e.useMemo)(()=>0===a.totalAssignments?"first-time":a.totalAssignments>=1?"returning":"first-time",[a.totalAssignments]),u=(0,e.useCallback)(e=>{c(t=>o(o({},t),{},{totalAssignments:t.totalAssignments+1,lastAssignmentDate:(new Date).toISOString(),isFirstTimeUser:!1,preferredService:e}))},[]);(0,e.useEffect)(()=>(window.updateArmoraAssignmentHistory=u,()=>{delete window.updateArmoraAssignmentHistory}),[u]);const h=(0,e.useMemo)(()=>YE(s,0,n),[s,i,n]),p=(0,e.useCallback)(()=>{r((null===l||void 0===l?void 0:l.id)||"standard")},[r,null===l||void 0===l?void 0:l.id]),m=(0,e.useCallback)(()=>{r((null===l||void 0===l?void 0:l.id)||"standard")},[r,null===l||void 0===l?void 0:l.id]),f=(0,e.useCallback)(()=>{r((null===l||void 0===l?void 0:l.id)||"standard")},[r,null===l||void 0===l?void 0:l.id]);return"returning"===d?(0,Sv.jsx)("div",{className:vA,children:(0,Sv.jsxs)("div",{className:yA,children:[(0,Sv.jsx)("span",{className:bA,children:"\u2705"}),(0,Sv.jsx)("strong",{children:"Essential Protection"})," - Your trusted security service",(0,Sv.jsx)("span",{className:QE,children:" \u2022 2 min away \u2022 Available now"}),(0,Sv.jsx)("button",{className:xA,onClick:()=>r("standard"),children:"Request Now"})]})}):(0,Sv.jsxs)("div",{className:JE,children:[(0,Sv.jsxs)("div",{className:XE,children:[(0,Sv.jsx)("h3",{children:"YOUR PROTECTION MATCH"}),(0,Sv.jsx)("p",{children:"Based on your security profile"})]}),(0,Sv.jsxs)("div",{className:$E,children:[(0,Sv.jsxs)("div",{className:eA,children:[h.profile.matchScore,"% MATCH SCORE"]}),(0,Sv.jsx)("div",{className:tA,children:(0,Sv.jsx)("div",{className:nA,style:{width:"".concat(h.profile.matchScore,"%")}})})]}),(0,Sv.jsxs)("div",{className:iA,children:[(0,Sv.jsx)("span",{className:sA,children:"\ud83c\udfc6"}),(0,Sv.jsx)("span",{children:"RECOMMENDED FOR YOU"})]}),(0,Sv.jsxs)("div",{className:rA,children:[(0,Sv.jsx)("h2",{className:aA,children:"ESSENTIAL PROTECTION"}),(0,Sv.jsx)("div",{className:"flex items-center justify-center gap-3 text-lg",children:(0,Sv.jsx)("span",{className:"font-bold text-yellow-400",children:"\xa350/hour \u2022 \xa32.50/mile \u2022 2-hour minimum"})})]}),(0,Sv.jsxs)("div",{className:oA,children:[(0,Sv.jsxs)("div",{className:cA,children:[(0,Sv.jsx)("span",{className:lA,children:"\u2713"}),(0,Sv.jsx)("span",{children:"SIA-licensed protection officer"})]}),(0,Sv.jsxs)("div",{className:cA,children:[(0,Sv.jsx)("span",{className:lA,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Secure transport at \xa32.50/mile"})]}),(0,Sv.jsxs)("div",{className:cA,children:[(0,Sv.jsx)("span",{className:lA,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Threat assessment & route planning"})]})]}),(0,Sv.jsxs)("div",{className:dA,children:[(0,Sv.jsx)("div",{className:uA,children:"\ud83d\udcb0 Total Cost Breakdown:"}),(0,Sv.jsx)("div",{className:hA,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,Sv.jsxs)("div",{className:pA,children:[(0,Sv.jsx)("span",{children:"Protection:"}),(0,Sv.jsx)("span",{children:"\xa350/hour"})]}),(0,Sv.jsxs)("div",{className:pA,children:[(0,Sv.jsx)("span",{children:"Transport:"}),(0,Sv.jsx)("span",{children:"\xa32.50/mile"})]}),(0,Sv.jsxs)("div",{className:pA,children:[(0,Sv.jsx)("span",{children:"Minimum:"}),(0,Sv.jsx)("span",{children:"2 hours (\xa3100 base)"})]}),(0,Sv.jsx)("div",{className:hA,children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"}),(0,Sv.jsx)("div",{className:mA,children:"Example: 2 hrs + 20 miles = \xa3150"})]}),(0,Sv.jsxs)("div",{className:fA,children:[(0,Sv.jsx)("span",{children:"\u2b50 4.8"}),(0,Sv.jsx)("span",{children:"\ud83d\udc65 2.8K Protected"}),(0,Sv.jsx)("span",{children:"\u2713 SIA Verified"})]}),(0,Sv.jsx)("button",{className:ZE,onClick:p,children:"REQUEST PROTECTION NOW"}),(0,Sv.jsxs)("div",{className:_A,children:[(0,Sv.jsx)("button",{className:gA,onClick:f,children:"Other options \u2192"}),(0,Sv.jsx)("span",{className:KE,children:"|"}),(0,Sv.jsx)("button",{className:gA,onClick:m,children:"Schedule later \u2192"})]})]})}),wA="BookingSearchInterface_searchContainer__1Mu3u",NA="BookingSearchInterface_searchBar__srWOa",jA="BookingSearchInterface_searchIcon__L5vfm",CA="BookingSearchInterface_searchText__-+K2j",kA="BookingSearchInterface_searchPlaceholder__3p1ex",PA="BookingSearchInterface_searchArrow__KOQ1Z",TA="BookingSearchInterface_quickDestinations__s7FbG",EA="BookingSearchInterface_quickDestinationItem__zJ--6",AA="BookingSearchInterface_destinationIcon__q0B0a",IA="BookingSearchInterface_destinationInfo__2kaOJ",LA="BookingSearchInterface_destinationLabel__JqLIS",RA="BookingSearchInterface_destinationAddress__gCnol";function MA(t){let{onDestinationSelect:n}=t;const{navigateToView:i}=kv(),[s,r]=(0,e.useState)({home:"",work:""}),[a,o]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_home_address")||"",t=localStorage.getItem("armora_work_address")||"",n=localStorage.getItem("armora_recent_destination")||"";r({home:e,work:t}),o(n)},[]),(0,e.useEffect)(()=>{"true"===localStorage.getItem("armora_open_location_picker")&&(localStorage.removeItem("armora_open_location_picker"),i("protection-request"));const e=()=>i("protection-request");return window.addEventListener("armora:open-location-picker",e),()=>window.removeEventListener("armora:open-location-picker",e)},[i]);const c=(e,t)=>{t?(localStorage.setItem("armora_quick_destination",t),localStorage.setItem("armora_assignment_preset",e),n&&n(t),i("protection-request")):i("protection-request")};return(0,Sv.jsxs)("div",{className:wA,children:[(0,Sv.jsxs)("div",{className:NA,onClick:()=>{i("protection-request")},children:[(0,Sv.jsx)("div",{className:jA,children:(0,Sv.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Sv.jsx)("path",{d:"m21 21-4.35-4.35"})]})}),(0,Sv.jsx)("div",{className:CA,children:(0,Sv.jsx)("span",{className:kA,children:"Where do you require protection?"})}),(0,Sv.jsx)("div",{className:PA,children:(0,Sv.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("path",{d:"M5 12h14"}),(0,Sv.jsx)("path",{d:"m12 5 7 7-7 7"})]})})]}),(0,Sv.jsxs)("div",{className:TA,children:[(0,Sv.jsxs)("button",{className:EA,onClick:()=>c("home",s.home),children:[(0,Sv.jsx)("div",{className:AA,children:(0,Sv.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,Sv.jsx)("polyline",{points:"9,22 9,12 15,12 15,22"})]})}),(0,Sv.jsxs)("div",{className:IA,children:[(0,Sv.jsx)("span",{className:LA,children:"Residence"}),(0,Sv.jsx)("span",{className:RA,children:s.home||"Add home address"})]})]}),(0,Sv.jsxs)("button",{className:EA,onClick:()=>c("work",s.work),children:[(0,Sv.jsx)("div",{className:AA,children:(0,Sv.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),(0,Sv.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,Sv.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),(0,Sv.jsxs)("div",{className:IA,children:[(0,Sv.jsx)("span",{className:LA,children:"Executive Office"}),(0,Sv.jsx)("span",{className:RA,children:s.work||"Add work address"})]})]}),a&&(0,Sv.jsxs)("button",{className:EA,onClick:()=>c("recent",a),children:[(0,Sv.jsx)("div",{className:AA,children:(0,Sv.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Sv.jsx)("polyline",{points:"12,6 12,12 16,14"})]})}),(0,Sv.jsxs)("div",{className:IA,children:[(0,Sv.jsx)("span",{className:LA,children:"Recent"}),(0,Sv.jsx)("span",{className:RA,children:a.length>30?"".concat(a.substring(0,30),"..."):a})]})]})]})]})}function OA(){const{navigateToView:e}=kv();return null}const DA={standard:{id:"standard",name:"Essential Protection",tagline:"Professional close protection with certified security officers",price:50,priceDisplay:"\xa350/hour + \xa32.50/mile",hourlyRate:50,mileageRate:2.5,description:"SIA Level 2 certified protection officers ensuring your complete security. Comprehensive protection services including secure movement for enhanced personal safety.",features:[{icon:"\ud83d\udee1\ufe0f",text:"SIA Level 2 certified protection officers"},{icon:"\ud83d\udc64",text:"Personal protection trained"},{icon:"\ud83d\ude97",text:"Secure vehicle fleet"},{icon:"\ud83d\udcf1",text:"Real-time GPS tracking"},{icon:"\u260e\ufe0f",text:"24/7 customer support"},{icon:"\ud83d\udd12",text:"Background verified team"}],socialProof:"Trusted by 2,847 individuals monthly",popularityRank:3,targetUsers:["general","student","women","vulnerable_groups"],riskLevel:"low",vehicleType:"company",pricingOptions:{hourly:{type:"hourly",baseRate:50,minimumHours:2,hourlyBlocks:[2,4,6,8]},journey:{type:"journey",baseRate:50,journeyMultiplier:1.2}}},"client-vehicle":{id:"client-vehicle",name:"Client Vehicle",tagline:"Your vehicle, our protection officer - maximum privacy and discretion",price:55,priceDisplay:"\xa355/hour + \xa32.50/mile",hourlyRate:55,mileageRate:2.5,description:"SIA certified protection officers provide security using your personal vehicle, ensuring complete privacy and discretion while maintaining comprehensive protection coverage.",features:[{icon:"\ud83d\udd11",text:"SIA Level 2 certified protection officers"},{icon:"\ud83d\ude99",text:"Your personal vehicle used"},{icon:"\ud83d\udcb0",text:"Cost-effective protection"},{icon:"\ud83e\udd10",text:"Maximum discretion guaranteed"},{icon:"\ud83d\udc64",text:"Personal protection trained"},{icon:"\ud83d\udcf1",text:"Secure real-time tracking"}],socialProof:"Chosen by 1,892 privacy-conscious clients",popularityRank:2,targetUsers:["executive","privacy_conscious","family","general"],riskLevel:"low",vehicleType:"client",badge:"Best Value",pricingOptions:{hourly:{type:"hourly",baseRate:55,minimumHours:2,hourlyBlocks:[2,4,6,8]},journey:{type:"journey",baseRate:55,journeyMultiplier:1.1}}},executive:{id:"executive",name:"Executive Shield",tagline:"Enhanced close protection for corporate executives and business leaders",price:75,priceDisplay:"\xa375/hour + \xa32.50/mile",hourlyRate:75,mileageRate:2.5,description:"SIA Level 3 certified executive protection specialists providing comprehensive security coverage including threat assessment, venue security, and discrete protection services for high-profile business leaders.",features:[{icon:"\ud83d\udc54",text:"SIA Level 3 executive protection specialists"},{icon:"\ud83c\udfe2",text:"Corporate venue security expertise"},{icon:"\ud83c\udfaf",text:"Advanced threat assessment"},{icon:"\ud83e\udd10",text:"Discrete protection services"},{icon:"\ud83d\ude97",text:"Protected vehicle options"},{icon:"\ud83d\udcca",text:"Detailed security reports"}],socialProof:"Protecting 156 C-suite executives",popularityRank:4,targetUsers:["executive","entrepreneur","finance","legal","medical"],riskLevel:"medium",vehicleType:"company",pricingOptions:{hourly:{type:"hourly",baseRate:75,minimumHours:2,hourlyBlocks:[2,4,6,8]},journey:{type:"journey",baseRate:75,journeyMultiplier:1.4}}},shadow:{id:"shadow",name:"Shadow Protocol",tagline:"Elite covert protection for high-risk individuals and VIPs",price:65,priceDisplay:"\xa365/hour + \xa32.50/mile",hourlyRate:65,mileageRate:2.5,description:"Special Forces trained covert protection specialists providing maximum security for high-risk situations. Advanced threat management, counter-surveillance, and secure movement capabilities.",features:[{icon:"\ud83e\udd77",text:"Special Forces trained protection specialists"},{icon:"\ud83d\udd0d",text:"Advanced threat detection systems"},{icon:"\ud83d\udea8",text:"Rapid response protocols"},{icon:"\ud83e\udd10",text:"Covert protection operations"},{icon:"\ud83c\udf10",text:"Counter-surveillance expertise"},{icon:"\u26a1",text:"Secure extraction capabilities"}],socialProof:"Most popular choice (67% of high-risk clients)",popularityRank:1,targetUsers:["celebrity","government","diplomat","high_profile","international"],riskLevel:"high",vehicleType:"company",badge:"Most Popular",pricingOptions:{hourly:{type:"hourly",baseRate:65,minimumHours:2,hourlyBlocks:[2,4,6,8]},journey:{type:"journey",baseRate:65,journeyMultiplier:1.6}}}},FA=()=>Object.values(DA),BA="FAQ_faqSection__b-6Vw",qA="FAQ_container__hm3M7",zA="FAQ_sectionHeader__U4lkK",WA="FAQ_title__UqieW",HA="FAQ_subtitle__rhqNj",UA="FAQ_faqItems__KtV9k",VA="FAQ_faqItem__BKY6O",GA="FAQ_faqQuestion__I3zD2",YA="FAQ_active__M2fJ+",KA="FAQ_questionText__9Ri4y",QA="FAQ_expandIcon__IrvoL",ZA="FAQ_faqAnswer__Izg3q",JA="FAQ_answerText__-S3HP",XA="FAQ_faqCta__orQe6",$A="FAQ_ctaText__DDtMw",eI="FAQ_ctaButtons__0Q4jp",tI="FAQ_contactButton__4hKle",nI="FAQ_bookButton__iNkue",iI=[{id:1,question:"How can Armora provide protection in just 15-20 minutes?",answer:"We have SIA-licensed Close Protection Officers strategically positioned across major UK cities. When your protection assignment arrives, our Operations Center immediately receives your location and secureDestination, runs a location assessment for your specific route, conducts basic threat assessment for your journey areas, assigns the nearest qualified officer, and sends them your profile preferences. It's organized, efficient, and professional - like having your own security team always nearby."},{id:2,question:"What's the difference between Armora and just getting a regular Protection Officer?",answer:'Many successful professionals want more than someone who can drive - they want genuine peace of mind. Regular Protection Officers provide transportation only with no security training. Armora Close Protection Officers are SIA-licensed by the UK government, have military or police backgrounds (minimum 5 years), are trained in threat assessment and defensive driving, and can handle security situations professionally. As one client puts it: "I don\'t need theatrical bodyguards, but knowing my officer is government-licensed and thinking about my security - not just the route - changes everything."'},{id:3,question:"What app features enhance my protection experience?",answer:"Our app is your complete protection platform. Features include secure messaging with your Close Protection Officer, live tracking of arrival and journey, saved profile preferences (protection style, regular routes, special requirements), ability to request favorite officers, complete journey history for expenses, panic button for emergencies, and multi-Principal protection assignment options. Once you create your profile with preferences, every officer arrives fully briefed - no repeated explanations needed."},{id:4,question:"Who typically uses Armora and why?",answer:'Our diverse client base includes content creators and streamers ("Fan meetups can get overwhelming"), international business visitors ("Need UK security without hiring a firm"), nightlife groups ("Birthday party with 8 friends, protection confirmed 3 officers"), nightlife club performers and dancers who prioritize safe transport after late performances, female executives ("Late night office departures"), crypto entrepreneurs ("After my gains went public"), medical tourists ("Vulnerable after Harley Street procedures"), and anyone who simply wants more than just a Protection Officer. The common thread? They all want genuine, government-licensed protection that\'s easy to arrange.'},{id:5,question:"Can I request protection multiple Close Protection Officers?",answer:"Absolutely. Through our app, you can request protection 1 to 10+ officers depending on your needs. Select the number needed, choose protection style for each (visible or discrete), and a lead officer coordinates the team. Common scenarios include content creator events (4 officers for meet-and-greets), nightclub tables (3 officers for comprehensive coverage), private parties (5+ officers for full venue security), and group celebrations where everyone wants to relax knowing security is handled. It's as easy as moving a slider in the app."},{id:6,question:"How does Armora work for international visitors?",answer:'We\'re particularly popular with international visitors who want familiar security standards in the UK. Business executives use us for meeting-to-meeting protection, government officials request protection us when not qualifying for diplomatic protection, investors request us for high-value property viewings, and tourists want peace of mind exploring London. Your profile saves language preferences, protection style, and regular destinations. As one Dubai executive noted: "Armora gives me the same protection standard I have at home, bookable from my hotel."'},{id:7,question:"What happens with location and threat assessment?",answer:"When your protection assignment arrives, we specifically assess YOUR journey - not monitor all of London. Our Operations Center evaluates your Commencement Point and secureDestination areas, checks for current events or disruptions, identifies secure alternatives if needed, considers time-specific factors (late night, rush hour), and briefs your officer on any relevant considerations. It's focused, practical intelligence for your specific journey, delivered in minutes not hours."},{id:8,question:"How does Armora work for nightlife and social events?",answer:"Your night out deserves proper protection. Whether solo or celebrating with friends, choose exactly the protection you need. Book one officer for personal security, two for couples, three for small groups, or scale up to 10+ for large events. Choose visible protection (professional attire) or discrete service (smart casual, blending in). Our officers understand nightlife dynamics - from managing club table security to ensuring safe departures for performers and dancers after late-night venues. Perfect for birthdays, corporate entertainment, casino nights, or just wanting to enjoy London's nightlife with complete peace of mind."},{id:9,question:"What makes Armora perfect for content creators and digital celebrities?",answer:'The digital age has created new security needs. Streamers use us for fan meetups and events, YouTubers request protection protection after revealing valuable setups, vloggers have officers maintain comfortable distances while filming, and influencers need discrete security at brand events. Our Close Protection Officers understand the difference between excited fans and genuine concerns, protecting without damaging your audience relationships. As one creator with 2M subscribers said: "They keep me safe without making my fans feel pushed away."'},{id:10,question:"How does the profile system make service better?",answer:"Create your profile once, and every protection assignment is personalized. Set your protection style preference (visible/discrete/shadow), save regular destinations, specify language preferences, include medical information if relevant, choose vehicle preferences, and note any special requirements. Every Close Protection Officer arrives knowing exactly how you want your protection handled. After several bookings, request your favorite officers directly. It's like having your own security team who knows you, available on-demand."},{id:11,question:"What makes Armora special for those who just want peace of mind?",answer:"Not everyone faces specific threats - many clients simply want confidence and peace of mind. This means knowing your Protection Officer is government-licensed for protection, having someone trained to notice unusual situations, professional handling if incidents occur, discrete service that doesn't embarrass you, and reliable presence when feeling vulnerable. You're not just paying for transport - you're investing in professional security that happens to include transportation. Sometimes the value isn't in preventing specific threats, but in the confidence that comes from genuine protection."},{id:12,question:"How easy is it really to request protection protection?",answer:"Assignment takes literally 30 seconds. Open the app, select number of officers needed (1-10+), choose your protection level, confirm location and secureDestination, and track your officer's arrival. No phone calls, no quotes, no waiting for callbacks. Your saved profile means no repeated explanations. In-app messaging lets you communicate specifics without awkward calls. Whether you need one officer for an airport run or five for a private party, it's the same simple process. Professional security has never been this accessible."}];function sI(){const{navigateToView:t}=kv(),[n,i]=(0,e.useState)(null);return(0,Sv.jsx)("section",{className:BA,children:(0,Sv.jsxs)("div",{className:qA,children:[(0,Sv.jsxs)("div",{className:zA,children:[(0,Sv.jsx)("h2",{className:WA,children:"Frequently Asked Questions"}),(0,Sv.jsx)("p",{className:HA,children:"Everything you need to know about Armora's on-demand protection services"})]}),(0,Sv.jsx)("div",{className:UA,children:iI.map(e=>(0,Sv.jsxs)("div",{className:VA,children:[(0,Sv.jsxs)("button",{className:"".concat(GA," ").concat(n===e.id?YA:""),onClick:()=>{return t=e.id,void i(n===t?null:t);var t},"aria-expanded":n===e.id,children:[(0,Sv.jsx)("span",{className:KA,children:e.question}),(0,Sv.jsx)("span",{className:QA,children:n===e.id?"\u2212":"+"})]}),n===e.id&&(0,Sv.jsx)("div",{className:ZA,children:(0,Sv.jsx)("p",{className:JA,children:e.answer})})]},e.id))}),(0,Sv.jsxs)("div",{className:XA,children:[(0,Sv.jsx)("p",{className:$A,children:"Still have questions?"}),(0,Sv.jsxs)("div",{className:eI,children:[(0,Sv.jsx)("button",{className:tI,onClick:()=>{window.open("tel:+442071234567")},children:"Contact Support"}),(0,Sv.jsx)("button",{className:nI,onClick:()=>{localStorage.setItem("armora_booking_context","faq"),t("protection-request")},children:"Request Protection Now"})]})]})]})})}const rI="Dashboard_dashboard__B0hE7",aI="Dashboard_rewardBanner__QLW0A",oI="Dashboard_rewardContent__ZL6xk",cI="Dashboard_discountValue__0mSey",lI="Dashboard_rewardIcon__EdgZi",dI="Dashboard_rewardText__zBHnp",uI="Dashboard_rewardTitle__YkoLC",hI="Dashboard_rewardDetails__+VXmj",pI="Dashboard_rewardDescription__kiq5k",mI="Dashboard_rewardCTA__Y0V3O",fI="Dashboard_dismissButton__g4DBA",_I="Dashboard_guestHeader__u+Bsf",gI="Dashboard_headerContent__NhuC1",vI="Dashboard_title__4fgVi",yI="Dashboard_subtitle__gswcW",xI="Dashboard_servicesSection__1DaYQ",bI="Dashboard_recommendationSection__OT1-S",SI="Dashboard_upgradeSection__07Cav",wI="Dashboard_contactSection__VFNW3",NI="Dashboard_sectionTitle__1+SRh",jI="Dashboard_sectionDescription__MUtbF",CI="Dashboard_servicesGrid__uIpon",kI="Dashboard_sectionHeader__vPo-f",PI="Dashboard_upgradeCard__8FB+H",TI="Dashboard_upgradeContent__TLzVi",EI="Dashboard_upgradeTitle__MGLlF",AI="Dashboard_upgradeDescription__LawIC",II="Dashboard_upgradeButton__pIWF-",LI="Dashboard_contactCard__AUtuT",RI="Dashboard_contactTitle__zOROm",MI="Dashboard_contactDescription__w1sb3",OI="Dashboard_contactDetails__+VUqP",DI="Dashboard_contactItem__s3S1F",FI="Dashboard_contactLabel__pD1ad",BI="Dashboard_contactLink__ClXSm",qI="Dashboard_getStartedSection__0d7bM",zI="Dashboard_getStartedHeader__C7ypq",WI="Dashboard_getStartedTitle__LO+L3",HI="Dashboard_getStartedUnderline__O+vK4",UI="Dashboard_carouselWrapper__QTKO+",VI="Dashboard_carouselContainer__3uZrY",GI="Dashboard_carouselTrack__GPyxS",YI="Dashboard_getStartedCard__Q-fgk",KI="Dashboard_getStartedArrow__0EWgP",QI="Dashboard_getStartedIcon__kOd2E",ZI="Dashboard_getStartedContent__FTk9c",JI="Dashboard_getStartedCardTitle__vZpc2",XI="Dashboard_getStartedCardDescription__hMwMl",$I="Dashboard_getStartedCardDetails__FwsfG",eL="Dashboard_carouselArrow__xmFJz",tL="Dashboard_carouselArrowLeft__YcTz3",nL="Dashboard_carouselArrowRight__3PjQQ",iL="Dashboard_carouselIndicators__jU3C+",sL="Dashboard_carouselDot__yQt4Z",rL="Dashboard_active__rPGU6",aL="Dashboard_needHelpSection__QBoIm",oL="Dashboard_needHelpTitle__F2Z5S",cL="Dashboard_needHelpLinks__lCdz5",lL="Dashboard_needHelpLink__lmstW",dL="Dashboard_needHelpSeparator__xKqkn",uL="Dashboard_mainCTA__On2Pt",hL="Dashboard_bookNowMainButton__YnWwA",pL="Dashboard_ctaSubtext__FZZKg",mL="Dashboard_eventSecuritySection__l44gv",fL="Dashboard_eventBadge__0BFRr",_L="Dashboard_eventMainHeadline__4F3RX",gL="Dashboard_eventSubHeadline__HW9Ys",vL="Dashboard_eventServicesGrid__Snfuy",yL="Dashboard_eventServiceCard__d7ube",xL="Dashboard_eventServiceIcon__sAFa3",bL="Dashboard_eventServiceTitle__eefiC",SL="Dashboard_eventQuoteBtn__zVzN6",wL="Dashboard_whatsIncludedSection__50p+N",NL="Dashboard_eventCTAButtons__Y86ma",jL="Dashboard_eventPrimaryCTA__NYp1y",CL="Dashboard_siaLicensedBadge__HnvOJ",kL="Dashboard_badgeIcon__78l-Z",PL="Dashboard_badgeText__g8Iww",TL="Dashboard_whyChooseSection__nMw3u",EL="Dashboard_whyChooseTitle__IjmT0",AL="Dashboard_whyChooseGrid__aJP8T",IL="Dashboard_whyChooseCard__kJ9z9",LL="Dashboard_whyChooseIcon__uht7n",RL="Dashboard_whyChooseCardTitle__UL-29",ML="Dashboard_whyChooseCardText__wFDre",OL="Dashboard_howItWorksSection__GFpTz",DL="Dashboard_howItWorksTitle__1gAHH",FL="Dashboard_howItWorksSubtitle__boRiA",BL="Dashboard_stepsGrid__chmEF",qL="Dashboard_stepCard__BseTr",zL="Dashboard_stepNumber__ii-sn",WL="Dashboard_stepContent__ZRP9H",HL="Dashboard_stepTitle__yCkrF",UL="Dashboard_stepList__bykEG",VL="Dashboard_safeProtocolCard__RmH01",GL="Dashboard_safeProtocol__DdbF3",YL="Dashboard_safeTitle__E7vTx",KL="Dashboard_safeGrid__XX9hn",QL="Dashboard_safeItem__TdZkE",ZL="Dashboard_safeLetter__3xOPB",JL="Dashboard_safeText__3lRj-",XL="Dashboard_safeWarning__y6WNw",$L="Dashboard_verificationSection__blGGy",eR="Dashboard_verificationTitle__MknKR",tR="Dashboard_verificationGrid__aMhKn",nR="Dashboard_verificationCard__EP+iM",iR="Dashboard_verificationType__T2G1h",sR="Dashboard_verificationList__JfaU+",rR="Dashboard_redFlagsSection__k7ExH",aR="Dashboard_redFlagsTitle__0a275",oR="Dashboard_redFlagsWarning__8Lj5+",cR="Dashboard_redFlagsList__kur6b",lR="Dashboard_redFlagsActions__-BudK",dR="Dashboard_protectionPhases__Giszy",uR="Dashboard_phasesTitle__AM2kZ",hR="Dashboard_phasesGrid__Y7xaE",pR="Dashboard_phaseCard__+0AYI",mR="Dashboard_phaseTitle__dChKL",fR="Dashboard_phaseDescription__RWyK-",_R=FA().map(e=>({id:e.id,name:e.name,tagline:e.tagline,price:e.priceDisplay,hourlyRate:e.hourlyRate,vehicle:"standard"===e.id?"Nissan Leaf EV":"executive"===e.id?"BMW 5 Series":"client-vehicle"===e.id?"Your Personal Vehicle":"Protected BMW X5",capacity:"client-vehicle"===e.id?"Any vehicle size":"4 Principals",driverQualification:"standard"===e.id||"client-vehicle"===e.id?"SIA Level 2 Security Certified":"executive"===e.id?"SIA Level 3 Security Certified":"Special Forces Trained",description:e.description,features:e.features.map(e=>e.text)}));function gR(){const{state:t,navigateToView:n,startProtectionRequest:i}=kv(),{user:s,questionnaireData:r,deviceCapabilities:a}=t,o=null,[c,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)(0);(0,e.useEffect)(()=>{const e=s&&"guest"!==(null===s||void 0===s?void 0:s.userType),t=localStorage.getItem("armora_reward_banner_dismissed");l(Boolean(e&&!t))},[s]);const h=(0,e.useCallback)(()=>{n("signup")},[n]),p=(0,e.useCallback)(()=>{l(!1),localStorage.setItem("armora_reward_banner_dismissed","true")},[]),m=(0,e.useCallback)(e=>{n("protection-request"),console.log("Service selected:",{serviceId:e,timestamp:Date.now(),userType:(null===s||void 0===s?void 0:s.userType)||"guest"})},[n,null===s||void 0===s?void 0:s.userType,o]),f=(0,e.useCallback)(e=>{i(e.id,"home"),console.log("Direct booking:",{serviceId:e.id,timestamp:Date.now(),userType:(null===s||void 0===s?void 0:s.userType)||"guest",source:"dashboard_card"})},[i,null===s||void 0===s?void 0:s.userType,o]),_=e=>{const t=window.innerWidth<768,n=window.innerWidth>=768&&window.innerWidth<1024;return t?e*(Math.min(.7*window.innerWidth,320)+12):n?336*e:316*e},g=(0,e.useCallback)(e=>{const t=document.getElementById("getStartedCarousel");t&&(t.scrollTo({left:_(e),behavior:"smooth"}),u(e))},[]),v=(0,e.useCallback)(e=>{const t="left"===e?Math.max(0,d-1):Math.min(4,d+1);g(t)},[d,g]);(0,e.useEffect)(()=>{const e=e=>{if(e.target&&e.target.closest(".carouselWrapper"))switch(e.key){case"ArrowLeft":e.preventDefault(),v("left");break;case"ArrowRight":e.preventDefault(),v("right");break;case"Home":e.preventDefault(),g(0);break;case"End":e.preventDefault(),g(4)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[d,v,g]),(0,e.useEffect)(()=>{const e=document.getElementById("getStartedCarousel");if(!e)return;let t=!1;const n=()=>{t||(requestAnimationFrame(()=>{(()=>{const t=e.scrollLeft,n=window.innerWidth<768,i=window.innerWidth>=768&&window.innerWidth<1024;let s;s=n?Math.min(.7*window.innerWidth,320)+12:i?336:316;const r=Math.round(t/s);r!==d&&r>=0&&r<5&&u(r)})(),t=!1}),t=!0)};return e.addEventListener("scroll",n,{passive:!0}),()=>e.removeEventListener("scroll",n)},[d]);const y=(0,e.useMemo)(()=>{if(!r)return null;const e=r.recommendedService;return"armora-shadow"===e?"shadow":"armora-executive"===e?"executive":"armora-standard"===e||"armora-secure"===e?"standard":"armora-client-vehicle"===e?"client-vehicle":"standard"},[r]);return"guest"===(null===s||void 0===s?void 0:s.userType)?(0,Sv.jsxs)("div",{className:rI,children:[(0,Sv.jsx)(MA,{}),(0,Sv.jsx)("div",{className:_I,children:(0,Sv.jsxs)("div",{className:gI,children:[(0,Sv.jsx)("h1",{className:vI,children:"Armora Security Transport"}),(0,Sv.jsx)("p",{className:yI,children:"View our premium security services"})]})}),(0,Sv.jsx)("div",{className:SI,children:(0,Sv.jsx)("div",{className:PI,children:(0,Sv.jsxs)("div",{className:TI,children:[(0,Sv.jsx)("h2",{className:EI,children:"Create Account to Book"}),(0,Sv.jsx)("p",{className:AI,children:"Register now to unlock direct protection assignment, personalized recommendations, and exclusive rewards including 50% off your first protection assignment."}),(0,Sv.jsx)(Xy,{variant:"primary",size:"lg",isFullWidth:a.isMobile,onClick:h,className:II,children:"Create Free Account"})]})})}),(0,Sv.jsxs)("div",{className:xI,children:[(0,Sv.jsx)("h2",{className:NI,children:"Our Security Transport Services"}),(0,Sv.jsx)("div",{className:CI,children:_R.map(e=>(0,Sv.jsx)(GE,{service:e,isSelected:!1,onSelect:()=>{},mode:"preview",isRecommended:!1,userType:(null===s||void 0===s?void 0:s.userType)||"guest",onDirectBook:f},e.id))})]}),(0,Sv.jsx)("div",{className:wI,children:(0,Sv.jsxs)("div",{className:LI,children:[(0,Sv.jsx)("h3",{className:RI,children:"Need Immediate Assistance?"}),(0,Sv.jsx)("p",{className:MI,children:"Call our 24/7 security operations center for immediate protection assignment assistance"}),(0,Sv.jsxs)("div",{className:OI,children:[(0,Sv.jsxs)("div",{className:DI,children:[(0,Sv.jsx)("span",{className:FI,children:"Priority Support:"}),(0,Sv.jsx)("a",{href:"tel:+442071234567",className:BI,children:"+44 20 7123 4567"})]}),(0,Sv.jsxs)("div",{className:DI,children:[(0,Sv.jsx)("span",{className:FI,children:"Email:"}),(0,Sv.jsx)("a",{href:"mailto:operations@armora.security",className:BI,children:"operations@armora.security"})]})]})]})})]}):(0,Sv.jsxs)("div",{className:rI,children:[c&&(0,Sv.jsx)("div",{className:aI,onClick:()=>n("protection-request"),children:(0,Sv.jsxs)("div",{className:oI,children:[(0,Sv.jsx)("div",{className:lI,children:"\ud83c\udfc6"}),(0,Sv.jsxs)("div",{className:dI,children:[(0,Sv.jsx)("h3",{className:uI,children:"\ud83c\udf89 ACHIEVEMENT UNLOCKED!"}),(0,Sv.jsx)("div",{className:cI,children:"50% OFF"}),(0,Sv.jsxs)("div",{className:hI,children:[(0,Sv.jsx)("span",{className:pI,children:"Save up to \xa315 \u2022 Valid 30 days"}),(0,Sv.jsx)("span",{className:mI,children:"Begin Protection \u2192"})]})]}),(0,Sv.jsx)("button",{className:fI,onClick:e=>{e.stopPropagation(),p()},"aria-label":"Dismiss reward banner",children:"\xd7"})]})}),(0,Sv.jsx)(MA,{}),(0,Sv.jsx)("div",{className:bI,children:(0,Sv.jsx)(SA,{services:_R,user:s,questionnaireData:r,onServiceSelect:m})}),(0,Sv.jsxs)("div",{className:qI,children:[(0,Sv.jsxs)("div",{className:zI,children:[(0,Sv.jsx)("h2",{className:WI,children:"GET STARTED"}),(0,Sv.jsx)("div",{className:HI})]}),(0,Sv.jsxs)("div",{className:UI,role:"region","aria-label":"Get started carousel",tabIndex:0,children:[(0,Sv.jsx)("div",{className:VI,id:"getStartedCarousel",role:"tabpanel","aria-live":"polite","aria-atomic":"false","aria-label":"Showing card ".concat(d+1," of ").concat(5),children:(0,Sv.jsxs)("div",{className:GI,children:[(0,Sv.jsxs)("button",{className:YI,onClick:()=>{localStorage.setItem("armora_assignment_context","immediate"),localStorage.setItem("armora_selected_service","standard"),n("protection-request")},children:[(0,Sv.jsx)("div",{className:QI,children:"\u26a1"}),(0,Sv.jsxs)("div",{className:ZI,children:[(0,Sv.jsx)("h3",{className:JI,children:"Immediate Protection"}),(0,Sv.jsx)("p",{className:XI,children:"Protection available now"}),(0,Sv.jsx)("p",{className:$I,children:"Officers ready in 2 minutes"})]}),(0,Sv.jsx)("div",{className:KI,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:YI,onClick:()=>{localStorage.setItem("armora_assignment_context","airport"),localStorage.setItem("armora_selected_service","executive"),n("protection-request")},children:[(0,Sv.jsx)("div",{className:QI,children:"\u2708\ufe0f"}),(0,Sv.jsxs)("div",{className:ZI,children:[(0,Sv.jsx)("h3",{className:JI,children:"Airport Protection"}),(0,Sv.jsx)("p",{className:XI,children:"Secure airport service"}),(0,Sv.jsx)("p",{className:$I,children:"All London terminals"})]}),(0,Sv.jsx)("div",{className:KI,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:YI,onClick:()=>{localStorage.setItem("armora_assignment_context","schedule"),localStorage.setItem("armora_selected_service","executive"),n("protection-request")},children:[(0,Sv.jsx)("div",{className:QI,children:"\ud83d\udcc5"}),(0,Sv.jsxs)("div",{className:ZI,children:[(0,Sv.jsx)("h3",{className:JI,children:"Schedule Protection"}),(0,Sv.jsx)("p",{className:XI,children:"Advance planning"}),(0,Sv.jsx)("p",{className:$I,children:"Pre-arrange protection detail"})]}),(0,Sv.jsx)("div",{className:KI,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:YI,onClick:()=>n("services"),children:[(0,Sv.jsx)("div",{className:QI,children:"\ud83d\udc54"}),(0,Sv.jsxs)("div",{className:ZI,children:[(0,Sv.jsx)("h3",{className:JI,children:"Executive Protection"}),(0,Sv.jsx)("p",{className:XI,children:"Enhanced security"}),(0,Sv.jsx)("p",{className:$I,children:"Senior CPOs \u2022 Premium vehicles"})]}),(0,Sv.jsx)("div",{className:KI,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:YI,onClick:()=>n("venue-protection-welcome"),children:[(0,Sv.jsx)("div",{className:QI,children:"\ud83c\udfad"}),(0,Sv.jsxs)("div",{className:ZI,children:[(0,Sv.jsx)("h3",{className:JI,children:"Event Security"}),(0,Sv.jsx)("p",{className:XI,children:"Venue protection"}),(0,Sv.jsx)("p",{className:$I,children:"Functions \u2022 Galas \u2022 Corporate"})]}),(0,Sv.jsx)("div",{className:KI,children:"\u2192"})]})]})}),(0,Sv.jsx)("button",{className:eL+" "+tL,onClick:()=>v("left"),disabled:0===d,"aria-label":"Previous cards. Currently showing card ".concat(d+1," of ").concat(5),children:"\u2190"}),(0,Sv.jsx)("button",{className:eL+" "+nL,onClick:()=>v("right"),disabled:4===d,"aria-label":"Next cards. Currently showing card ".concat(d+1," of ").concat(5),children:"\u2192"}),(0,Sv.jsx)("div",{className:iL,role:"tablist","aria-label":"Get started navigation",children:Array.from({length:5},(e,t)=>(0,Sv.jsx)("button",{className:"".concat(sL," ").concat(d===t?rL:""),onClick:()=>g(t),role:"tab","aria-selected":d===t,"aria-label":"Go to card ".concat(t+1,": ").concat(["Immediate Protection","Airport Protection","Schedule Protection","Executive Protection","Event Security"][t]),tabIndex:d===t?0:-1},t))})]}),(0,Sv.jsxs)("div",{className:aL,children:[(0,Sv.jsx)("h3",{className:oL,children:"NEED HELP?"}),(0,Sv.jsxs)("div",{className:cL,children:[(0,Sv.jsx)("button",{className:lL,onClick:()=>n("services"),children:"Protection Options"}),(0,Sv.jsx)("span",{className:dL,children:"\u2022"}),(0,Sv.jsx)("button",{className:lL,onClick:()=>window.open("tel:+442071234567"),children:"24/7 Support"}),(0,Sv.jsx)("span",{className:dL,children:"\u2022"}),(0,Sv.jsx)("button",{className:lL,onClick:()=>n("about"),children:"Protection Process"})]})]})]}),(0,Sv.jsxs)("div",{id:"service-overview",className:xI,children:[(0,Sv.jsxs)("div",{className:kI,children:[(0,Sv.jsx)("h2",{className:NI,children:"Your Protection Service Options"}),(0,Sv.jsx)("p",{className:jI,children:"Professional protection officers available 24/7 with comprehensive security coverage"})]}),(0,Sv.jsx)("div",{className:CI,children:_R.map((e,t)=>(0,Sv.jsx)("div",{style:{animationDelay:"".concat(.2+.1*t,"s")},children:(0,Sv.jsx)(GE,{service:e,isSelected:!1,onSelect:()=>{},mode:"preview",isRecommended:y===e.id,userType:(null===s||void 0===s?void 0:s.userType)||"guest",onDirectBook:f})},e.id))}),(0,Sv.jsxs)("div",{className:uL,children:[(0,Sv.jsx)("button",{className:hL,onClick:()=>{n("protection-request")},children:"\ud83d\udee1\ufe0f Quick Protection Request (SIA Compliant)"}),(0,Sv.jsx)("p",{className:pL,children:"Complete your request in just 3 simple steps"})]})]}),(0,Sv.jsx)(OA,{}),(0,Sv.jsxs)("div",{className:TL,children:[(0,Sv.jsx)("h2",{className:EL,children:"Why Choose Armora Protection"}),(0,Sv.jsxs)("div",{className:AL,children:[(0,Sv.jsxs)("div",{className:IL,children:[(0,Sv.jsx)("div",{className:LL,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("h3",{className:RL,children:"SIA-Licensed Officers"}),(0,Sv.jsx)("p",{className:ML,children:"All protection officers hold valid SIA licenses with advanced close protection training"})]}),(0,Sv.jsxs)("div",{className:IL,children:[(0,Sv.jsx)("div",{className:LL,children:"\ud83d\ude97"}),(0,Sv.jsx)("h3",{className:RL,children:"Premium Fleet"}),(0,Sv.jsx)("p",{className:ML,children:"Executive vehicles including BMW 5 Series and armored options for maximum security"})]}),(0,Sv.jsxs)("div",{className:IL,children:[(0,Sv.jsx)("div",{className:LL,children:"\ud83d\udccd"}),(0,Sv.jsx)("h3",{className:RL,children:"Nationwide Coverage"}),(0,Sv.jsx)("p",{className:ML,children:"Complete service across England & Wales with specialized airport and city teams"})]}),(0,Sv.jsxs)("div",{className:IL,children:[(0,Sv.jsx)("div",{className:LL,children:"\u23f0"}),(0,Sv.jsx)("h3",{className:RL,children:"24/7 Availability"}),(0,Sv.jsx)("p",{className:ML,children:"Round-the-clock protection services with rapid response times nationwide"})]}),(0,Sv.jsxs)("div",{className:IL,children:[(0,Sv.jsx)("div",{className:LL,children:"\ud83c\udf96\ufe0f"}),(0,Sv.jsx)("h3",{className:RL,children:"Elite Training"}),(0,Sv.jsx)("p",{className:ML,children:"Officers trained in threat assessment, medical response, and defensive driving"})]}),(0,Sv.jsxs)("div",{className:IL,children:[(0,Sv.jsx)("div",{className:LL,children:"\ud83d\udd12"}),(0,Sv.jsx)("h3",{className:RL,children:"Discreet Service"}),(0,Sv.jsx)("p",{className:ML,children:"Professional, confidential protection maintaining your privacy at all times"})]})]})]}),(0,Sv.jsxs)("div",{className:OL,children:[(0,Sv.jsx)("h2",{className:DL,children:"HOW ARMORA WORKS"}),(0,Sv.jsx)("p",{className:FL,children:"Professional Protection in 4 Simple Steps"}),(0,Sv.jsxs)("div",{className:BL,children:[(0,Sv.jsxs)("div",{className:qL,children:[(0,Sv.jsx)("div",{className:zL,children:"1"}),(0,Sv.jsxs)("div",{className:WL,children:[(0,Sv.jsx)("h3",{className:HL,children:"Submit Your Security Requirements"}),(0,Sv.jsxs)("ul",{className:UL,children:[(0,Sv.jsx)("li",{children:"Open the Armora app and select protection level"}),(0,Sv.jsx)("li",{children:"Specify your location and destination"}),(0,Sv.jsx)("li",{children:"Choose immediate or scheduled protection"}),(0,Sv.jsx)("li",{children:"Request instantly sent to verified officers"})]})]})]}),(0,Sv.jsxs)("div",{className:qL,children:[(0,Sv.jsx)("div",{className:zL,children:"2"}),(0,Sv.jsxs)("div",{className:WL,children:[(0,Sv.jsx)("h3",{className:HL,children:"Receive Your Protection Details"}),(0,Sv.jsxs)("ul",{className:UL,children:[(0,Sv.jsx)("li",{children:"View officer profile with photo and SIA license"}),(0,Sv.jsx)("li",{children:"See vehicle details and registration"}),(0,Sv.jsx)("li",{children:"Get real-time tracking link"}),(0,Sv.jsx)("li",{children:"Receive estimated arrival time"})]})]})]}),(0,Sv.jsxs)("div",{className:"".concat(qL," ").concat(VL),children:[(0,Sv.jsx)("div",{className:zL,children:"3"}),(0,Sv.jsxs)("div",{className:WL,children:[(0,Sv.jsx)("h3",{className:HL,children:"Your Safety is Paramount - Always Verify"}),(0,Sv.jsxs)("div",{className:GL,children:[(0,Sv.jsx)("h4",{className:YL,children:"S.A.F.E. Protocol:"}),(0,Sv.jsxs)("div",{className:KL,children:[(0,Sv.jsxs)("div",{className:QL,children:[(0,Sv.jsx)("span",{className:ZL,children:"S"}),(0,Sv.jsx)("span",{className:JL,children:"SEE the officer's SIA badge (worn visibly)"})]}),(0,Sv.jsxs)("div",{className:QL,children:[(0,Sv.jsx)("span",{className:ZL,children:"A"}),(0,Sv.jsx)("span",{className:JL,children:"ASK for the unique 6-digit security code"})]}),(0,Sv.jsxs)("div",{className:QL,children:[(0,Sv.jsx)("span",{className:ZL,children:"F"}),(0,Sv.jsx)("span",{className:JL,children:"FIND the code match in your app"})]}),(0,Sv.jsxs)("div",{className:QL,children:[(0,Sv.jsx)("span",{className:ZL,children:"E"}),(0,Sv.jsx)("span",{className:JL,children:"ENSURE vehicle registration matches"})]})]}),(0,Sv.jsx)("div",{className:XL,children:(0,Sv.jsx)("strong",{children:"\u26a0\ufe0f NEVER proceed without verification"})})]})]})]}),(0,Sv.jsxs)("div",{className:qL,children:[(0,Sv.jsx)("div",{className:zL,children:"4"}),(0,Sv.jsxs)("div",{className:WL,children:[(0,Sv.jsx)("h3",{className:HL,children:"Professional Security Throughout"}),(0,Sv.jsxs)("ul",{className:UL,children:[(0,Sv.jsx)("li",{children:"Officer conducts threat assessment"}),(0,Sv.jsx)("li",{children:"Secure route planning"}),(0,Sv.jsx)("li",{children:"Real-time journey tracking"}),(0,Sv.jsx)("li",{children:"Professional protocols maintained"}),(0,Sv.jsx)("li",{children:"Post-journey security report"})]})]})]})]}),(0,Sv.jsxs)("div",{className:$L,children:[(0,Sv.jsx)("h3",{className:eR,children:"Security Verification Features"}),(0,Sv.jsxs)("div",{className:tR,children:[(0,Sv.jsxs)("div",{className:nR,children:[(0,Sv.jsx)("h4",{className:iR,children:"Digital Verification"}),(0,Sv.jsxs)("ul",{className:sR,children:[(0,Sv.jsx)("li",{children:"Unique codes"}),(0,Sv.jsx)("li",{children:"QR scanning"}),(0,Sv.jsx)("li",{children:"Live photo matching"})]})]}),(0,Sv.jsxs)("div",{className:nR,children:[(0,Sv.jsx)("h4",{className:iR,children:"Physical Verification"}),(0,Sv.jsxs)("ul",{className:sR,children:[(0,Sv.jsx)("li",{children:"SIA badge"}),(0,Sv.jsx)("li",{children:"Vehicle match"}),(0,Sv.jsx)("li",{children:"Professional appearance"})]})]}),(0,Sv.jsxs)("div",{className:nR,children:[(0,Sv.jsx)("h4",{className:iR,children:"Behavioral Verification"}),(0,Sv.jsxs)("ul",{className:sR,children:[(0,Sv.jsx)("li",{children:"Professional introduction"}),(0,Sv.jsx)("li",{children:"Confirms client name"}),(0,Sv.jsx)("li",{children:"Explains procedures"})]})]})]})]}),(0,Sv.jsxs)("div",{className:rR,children:[(0,Sv.jsx)("h3",{className:aR,children:"\ud83d\udea8 RED FLAGS - When NOT to Proceed"}),(0,Sv.jsxs)("div",{className:oR,children:[(0,Sv.jsx)("div",{className:cR,children:(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Security codes don't match"}),(0,Sv.jsx)("li",{children:"No SIA badge visible"}),(0,Sv.jsx)("li",{children:"Vehicle details differ from app"}),(0,Sv.jsx)("li",{children:"Officer cannot confirm your details"}),(0,Sv.jsx)("li",{children:"Any feeling of discomfort"})]})}),(0,Sv.jsxs)("div",{className:lR,children:[(0,Sv.jsx)("h4",{children:"If concerned:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Press SOS in app"}),(0,Sv.jsx)("li",{children:"Call 24/7 security line"}),(0,Sv.jsx)("li",{children:"Move to safe location"}),(0,Sv.jsx)("li",{children:"Backup dispatch available"})]})]})]})]}),(0,Sv.jsxs)("div",{className:dR,children:[(0,Sv.jsx)("h3",{className:uR,children:"What Happens During Your Protection Service"}),(0,Sv.jsxs)("div",{className:hR,children:[(0,Sv.jsxs)("div",{className:pR,children:[(0,Sv.jsx)("h4",{className:mR,children:"Pre-Departure"}),(0,Sv.jsx)("p",{className:fR,children:"Security check, route review, comfort settings"})]}),(0,Sv.jsxs)("div",{className:pR,children:[(0,Sv.jsx)("h4",{className:mR,children:"During Journey"}),(0,Sv.jsx)("p",{className:fR,children:"Professional vigilance, secure routing, status updates"})]}),(0,Sv.jsxs)("div",{className:pR,children:[(0,Sv.jsx)("h4",{className:mR,children:"At Destination"}),(0,Sv.jsx)("p",{className:fR,children:"Area survey, safe exit, entrance escort, secure confirmation"})]})]})]})]}),(0,Sv.jsx)(sI,{}),(0,Sv.jsxs)("div",{className:mL,children:[(0,Sv.jsx)("div",{className:fL,children:"INTRODUCING VENUE PROTECTION SERVICES"}),(0,Sv.jsx)("h2",{className:_L,children:"Licensed Security Officers"}),(0,Sv.jsx)("h3",{className:gL,children:"24/7 Personal Protection \u2022 Secure Travel"}),(0,Sv.jsxs)("div",{className:vL,children:[(0,Sv.jsxs)("div",{className:yL,children:[(0,Sv.jsx)("div",{className:xL,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("h4",{className:bL,children:"Personal Protection"}),(0,Sv.jsx)("button",{className:SL,children:"Learn More"})]}),(0,Sv.jsxs)("div",{className:yL,children:[(0,Sv.jsx)("div",{className:xL,children:"\u2708\ufe0f"}),(0,Sv.jsx)("h4",{className:bL,children:"Secure Travel"}),(0,Sv.jsx)("button",{className:SL,children:"Learn More"})]}),(0,Sv.jsxs)("div",{className:yL,children:[(0,Sv.jsx)("div",{className:xL,children:"\ud83d\udd50"}),(0,Sv.jsx)("h4",{className:bL,children:"24/7 Service"}),(0,Sv.jsx)("button",{className:SL,children:"Learn More"})]}),(0,Sv.jsxs)("div",{className:yL,children:[(0,Sv.jsx)("div",{className:xL,children:"\u2b50"}),(0,Sv.jsx)("h4",{className:bL,children:"SIA-Licensed"}),(0,Sv.jsx)("button",{className:SL,children:"Learn More"})]})]}),(0,Sv.jsx)("div",{className:wL,children:(0,Sv.jsxs)("div",{className:CL,children:[(0,Sv.jsx)("span",{className:kL,children:"\u2b50"}),(0,Sv.jsx)("span",{className:PL,children:"SIA-Licensed Professionals"})]})}),(0,Sv.jsx)("div",{className:NL,children:(0,Sv.jsx)("button",{className:jL,onClick:()=>{localStorage.setItem("armora_assignment_context","event"),localStorage.setItem("armora_selected_service","executive"),n("protection-request")},children:"Request Security Service"})})]})]})}const vR={container:"LoadingSpinner_container__4tU0U",inline:"LoadingSpinner_inline__UH358",spinner:"LoadingSpinner_spinner__+PytG",small:"LoadingSpinner_small__UbD2O",dot:"LoadingSpinner_dot__zRZQc",medium:"LoadingSpinner_medium__jZb7k",large:"LoadingSpinner_large__7xCyS",loadingPulse:"LoadingSpinner_loadingPulse__rK4N+",primary:"LoadingSpinner_primary__7X14n",secondary:"LoadingSpinner_secondary__yYKn6",light:"LoadingSpinner_light__gilgN",text:"LoadingSpinner_text__iufpT",loadingPulseReduced:"LoadingSpinner_loadingPulseReduced__5bEbp"};function yR(e){let{size:t="medium",variant:n="primary",text:i,inline:s=!1}=e;return(0,Sv.jsxs)("div",{className:"".concat(vR.container," ").concat(s?vR.inline:""),children:[(0,Sv.jsxs)("div",{className:"".concat(vR.spinner," ").concat(vR[t]," ").concat(vR[n]),role:"status","aria-label":i||"Loading",children:[(0,Sv.jsx)("div",{className:vR.dot}),(0,Sv.jsx)("div",{className:vR.dot}),(0,Sv.jsx)("div",{className:vR.dot})]}),i&&(0,Sv.jsx)("span",{className:vR.text,"aria-hidden":"true",children:i})]})}var xR=n(527),bR=n.n(xR);const SR={mapContainer:"ProtectionMap_mapContainer__BIeld",map:"ProtectionMap_map__JwPeU",markerIcon:"ProtectionMap_markerIcon__OUNoV",markerDrop:"ProtectionMap_markerDrop__y3Z15",commencement:"ProtectionMap_commencement__kDTVn",destination:"ProtectionMap_destination__r+hq1",current:"ProtectionMap_current__CoZWH",markerInner:"ProtectionMap_markerInner__hGExs",markerPulse:"ProtectionMap_markerPulse__aFLnA",bounce:"ProtectionMap_bounce__-ga9T",markerBounce:"ProtectionMap_markerBounce__143Yl",routeLine:"ProtectionMap_routeLine__XXiBb",popupContent:"ProtectionMap_popupContent__k464+",zoomControls:"ProtectionMap_zoomControls__RDJC0",zoomButton:"ProtectionMap_zoomButton__dppRV",editModeIndicator:"ProtectionMap_editModeIndicator__S1P-5",editModePulse:"ProtectionMap_editModePulse__ErnQu",editIcon:"ProtectionMap_editIcon__lXYqB",mapLoading:"ProtectionMap_mapLoading__Pnjzx",mapError:"ProtectionMap_mapError__8DJ2h",mapPlaceholder:"ProtectionMap_mapPlaceholder__qPpLH",loadingSpinner:"ProtectionMap_loadingSpinner__tGpoH",spin:"ProtectionMap_spin__YQw6a",loadingText:"ProtectionMap_loadingText__N-5qY",errorText:"ProtectionMap_errorText__+2Veq",placeholderText:"ProtectionMap_placeholderText__g17yj",errorIcon:"ProtectionMap_errorIcon__XnOvM",placeholderIcon:"ProtectionMap_placeholderIcon__CI5vf",errorActions:"ProtectionMap_errorActions__SZga3",retryButton:"ProtectionMap_retryButton__hm06B",manualButton:"ProtectionMap_manualButton__KF2Wt"};delete bR().Icon.Default.prototype._getIconUrl,bR().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const wR=(e,t)=>bR().divIcon({className:"custom-marker ".concat(e),html:'\n      <div class="'.concat(SR.markerIcon," ").concat(SR[e],'">\n        <div class="').concat(SR.markerInner,'">\n          ').concat(t||"",'\n        </div>\n        <div class="').concat(SR.markerPulse,'"></div>\n      </div>\n    '),iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]});wR("commencementPoint","\ud83d\udccd"),wR("destination","\ud83c\udfc1"),wR("current","\ud83d\udd35");const NR={weddingSecurityContainer:"WeddingEventSecurity_weddingSecurityContainer__etPjC",shimmer:"WeddingEventSecurity_shimmer__mPLba",newBadge:"WeddingEventSecurity_newBadge__Kkohw",heroSection:"WeddingEventSecurity_heroSection__992il",heroHeader:"WeddingEventSecurity_heroHeader__9UcIy",heroIcon:"WeddingEventSecurity_heroIcon__03s8O",heroContent:"WeddingEventSecurity_heroContent__Hl+Q2",heroTitle:"WeddingEventSecurity_heroTitle__5U4zA",heroSubtitle:"WeddingEventSecurity_heroSubtitle__y9AL+",trustBar:"WeddingEventSecurity_trustBar__rxg0I",trustItem:"WeddingEventSecurity_trustItem__qi2OC",trustIcon:"WeddingEventSecurity_trustIcon__NCP7L",trustText:"WeddingEventSecurity_trustText__YWaK1",sectionTitle:"WeddingEventSecurity_sectionTitle__Q-wb8",featuresSection:"WeddingEventSecurity_featuresSection__Ix0JM",featuresGrid:"WeddingEventSecurity_featuresGrid__Bf3SW",featureCard:"WeddingEventSecurity_featureCard__DGvXJ",featureIcon:"WeddingEventSecurity_featureIcon__umkSR",featureContent:"WeddingEventSecurity_featureContent__EiytZ",featureTitle:"WeddingEventSecurity_featureTitle__BXTZf",featureDescription:"WeddingEventSecurity_featureDescription__dDPq3",pricingSection:"WeddingEventSecurity_pricingSection__OLrEh",packagesGrid:"WeddingEventSecurity_packagesGrid__pfrhb",packageCard:"WeddingEventSecurity_packageCard__8h0aQ",popularPackage:"WeddingEventSecurity_popularPackage__dWjqR",selectedPackage:"WeddingEventSecurity_selectedPackage__V0o3k",popularBadge:"WeddingEventSecurity_popularBadge__Zf+j6",packageHeader:"WeddingEventSecurity_packageHeader__8pwl6",packageBrand:"WeddingEventSecurity_packageBrand__JxPpO",packageIcon:"WeddingEventSecurity_packageIcon__XeSkj",packageName:"WeddingEventSecurity_packageName__XbFvL",packagePrice:"WeddingEventSecurity_packagePrice__Kc-Zu",packagePricing:"WeddingEventSecurity_packagePricing__pN8q9",packageDuration:"WeddingEventSecurity_packageDuration__aILiC",packageFeatures:"WeddingEventSecurity_packageFeatures__43FaZ",packageFeature:"WeddingEventSecurity_packageFeature__mnBfX",featureEmoji:"WeddingEventSecurity_featureEmoji__OiLLh",featureText:"WeddingEventSecurity_featureText__tbEZ1",featureStory:"WeddingEventSecurity_featureStory__gJjDl",calculatorSection:"WeddingEventSecurity_calculatorSection__0pvya",calculatorHeader:"WeddingEventSecurity_calculatorHeader__TxTpw",calculatorTitle:"WeddingEventSecurity_calculatorTitle__-zeav",calculatorToggle:"WeddingEventSecurity_calculatorToggle__wNaY2",calculatorSubtitle:"WeddingEventSecurity_calculatorSubtitle__eVxWf",calculatorContent:"WeddingEventSecurity_calculatorContent__c3K32",calculatorInputs:"WeddingEventSecurity_calculatorInputs__jvSA9",inputGroup:"WeddingEventSecurity_inputGroup__KcOYG",inputLabel:"WeddingEventSecurity_inputLabel__W8xbj",slider:"WeddingEventSecurity_slider__7+nTI",select:"WeddingEventSecurity_select__Lanru",checkboxLabel:"WeddingEventSecurity_checkboxLabel__U5E0y",checkbox:"WeddingEventSecurity_checkbox__PPOzs",calculatorResults:"WeddingEventSecurity_calculatorResults__CwlNK",resultsTitle:"WeddingEventSecurity_resultsTitle__L1tNR",resultItem:"WeddingEventSecurity_resultItem__M-hJ8",testimonialSection:"WeddingEventSecurity_testimonialSection__vmMfS",testimonialCard:"WeddingEventSecurity_testimonialCard__CuRwV",testimonialRating:"WeddingEventSecurity_testimonialRating__UU0Pt",star:"WeddingEventSecurity_star__PBfHl",testimonialQuote:"WeddingEventSecurity_testimonialQuote__rkWq3",testimonialAuthor:"WeddingEventSecurity_testimonialAuthor__AoJiy",testimonialEvent:"WeddingEventSecurity_testimonialEvent__Lv5BM",timelineSection:"WeddingEventSecurity_timelineSection__jb7Yn",timeline:"WeddingEventSecurity_timeline__kEdQs",timelineEvent:"WeddingEventSecurity_timelineEvent__oV6-j",timelineTime:"WeddingEventSecurity_timelineTime__W8HJe",timelineActivity:"WeddingEventSecurity_timelineActivity__b1PpI",timelineDescription:"WeddingEventSecurity_timelineDescription__JJRfW",ctaSection:"WeddingEventSecurity_ctaSection__f8nAx",primaryCta:"WeddingEventSecurity_primaryCta__XAR5l",secondaryCta:"WeddingEventSecurity_secondaryCta__62d34",tertiaryCta:"WeddingEventSecurity_tertiaryCta__W6XX-",protectionMeter:"WeddingEventSecurity_protectionMeter__IM2yH",meterLabel:"WeddingEventSecurity_meterLabel__1H94u",meterBar:"WeddingEventSecurity_meterBar__Yk1By",meterFill:"WeddingEventSecurity_meterFill__wkPpT",meterRatio:"WeddingEventSecurity_meterRatio__SDHNh",confidenceStats:"WeddingEventSecurity_confidenceStats__5pniR",confidenceStat:"WeddingEventSecurity_confidenceStat__zBwQp",statIcon:"WeddingEventSecurity_statIcon__xyke9",statText:"WeddingEventSecurity_statText__eYPVW",certificationsSection:"WeddingEventSecurity_certificationsSection__aHJna",certificationsBadges:"WeddingEventSecurity_certificationsBadges__lbnZK",certificationBadge:"WeddingEventSecurity_certificationBadge__yFdWn",certIcon:"WeddingEventSecurity_certIcon__pA6DJ",certText:"WeddingEventSecurity_certText__M8XFm"},jR=[{icon:"\ud83d\udc70",title:"Bridal Party Protection",description:"Discrete protection for wedding party throughout ceremony and reception"},{icon:"\ud83c\udf81",title:"Gift & Asset Security",description:"Secure gift table monitoring and valuable item protection"},{icon:"\ud83d\ude97",title:"Guest Parking Management",description:"Valet coordination and vehicle security in parking areas"},{icon:"\ud83d\udeaa",title:"Venue Access Control",description:"Guest list verification and unauthorized access prevention"},{icon:"\ud83d\udc65",title:"Crowd Management",description:"Flow control for ceremonies, photos, and reception activities"},{icon:"\ud83d\udea8",title:"Medical Support",description:"24/7 medical and security support protocols"}],CR=[{name:"Essential",brandName:"Guardian Shield",icon:"\ud83d\udee1\ufe0f",price:"\xa3500",pricePerGuest:"\xa32.08 per guest",duration:"8 hours",officers:2,coverageLevel:2,guestRatio:"1:120",confidenceStats:["Zero incidents in 50+ events","Average response: 15 seconds"],features:[{icon:"\ud83d\udd0d",title:"Venue security assessment",description:"Complete security evaluation",storytelling:"Your venue, expertly evaluated"},{icon:"\ud83d\udc9d",title:"Gift table monitoring",description:"Continuous gift protection",storytelling:"Your treasures stay treasured"},{icon:"\ud83d\udea8",title:"Medical response protocols",description:"Emergency medical support",storytelling:"Help arrives in seconds"},{icon:"\u270b",title:"Guest list verification",description:"Access control management",storytelling:"Only invited guests enter"},{icon:"\ud83d\udc65",title:"Basic crowd management",description:"Flow control for ceremonies",storytelling:"Smooth sailing ceremonies"}]},{name:"Premium",brandName:"Royal Guard",icon:"\ud83d\udc51",price:"\xa3850",pricePerGuest:"\xa33.54 per guest",duration:"12 hours",officers:3,popular:!0,coverageLevel:4,guestRatio:"1:80",confidenceStats:["Zero incidents in 150+ events","Average response: 10 seconds","Chosen by 67% of couples"],features:[{icon:"\ud83d\udc70",title:"Bridal party protection",description:"Dedicated VIP security",storytelling:"Your special people, specially protected"},{icon:"\ud83c\udfaf",title:"Advanced crowd management",description:"Expert flow coordination",storytelling:"Every moment flows perfectly"},{icon:"\ud83d\ude97",title:"Parking area security",description:"Vehicle protection services",storytelling:"Your guests arrive and leave safely"},{icon:"\ud83d\udcf8",title:"Photo session coordination",description:"Photography security support",storytelling:"Picture-perfect moments, protected"},{icon:"\ud83e\udd42",title:"Reception flow management",description:"Event coordination support",storytelling:"Celebration flows like clockwork"},{icon:"\u2b50",title:"VIP guest escort services",description:"Personal protection for VIPs",storytelling:"Your VIPs receive VIP treatment"}]},{name:"Fortress",brandName:"Fortress Protocol",icon:"\ud83c\udff0",price:"\xa31,500",pricePerGuest:"\xa35 per guest",duration:"Full day",officers:5,coverageLevel:5,guestRatio:"1:60",confidenceStats:["Zero incidents in 25+ luxury events","Average response: 8 seconds","Celebrity-grade protection"],features:[{icon:"\ud83d\udd12",title:"Full venue security sweep",description:"Complete perimeter security",storytelling:"Fortress-level protection established"},{icon:"\ud83d\udc8e",title:"Dedicated bridal security",description:"Personal Close Protection Officer",storytelling:"Your own personal guardian angel"},{icon:"\ud83d\udee1\ufe0f",title:"Asset protection specialists",description:"Valuables security experts",storytelling:"Every precious item safeguarded"},{icon:"\ud83d\udeaa",title:"Guest arrival coordination",description:"VIP arrival management",storytelling:"Red carpet treatment for everyone"},{icon:"\ud83d\uddfa\ufe0f",title:"Multi-location coverage",description:"Multiple venue protection",storytelling:"Every location under our watch"},{icon:"\ud83d\ude99",title:"Premium vehicle escort",description:"Secure transportation",storytelling:"Presidential-style convoy protection"},{icon:"\u23f0",title:"24/7 security coordination",description:"Round-the-clock command center",storytelling:"Never alone, always protected"}]}],kR=5,PR="ARMORA's team made our wedding day absolutely perfect. We didn't even notice they were there, but we felt completely safe and secure. Professional and discrete - exactly what we needed.",TR="Sarah & James Mitchell",ER="Countryside Wedding",AR="September 2024",IR=[{time:"2 hours before",activity:"Venue Sweep",description:"Complete security assessment and perimeter check"},{time:"1 hour before",activity:"Guest Arrival",description:"Guest list verification and parking coordination"},{time:"During Ceremony",activity:"Perimeter Security",description:"Discrete ceremony protection and crowd management"},{time:"Reception",activity:"Gift Security",description:"Gift table monitoring and asset protection"},{time:"Evening",activity:"Party Security",description:"Reception flow management and guest safety"},{time:"End",activity:"Departure",description:"Safe departure coordination and final sweep"}],LR=[{icon:"\u2705",text:"SIA Licensed"},{icon:"\ud83c\udfe5",text:"First Aid Certified"},{icon:"\ud83d\udd12",text:"DBS Checked"},{icon:"\ud83d\udee1\ufe0f",text:"Fully Insured"},{icon:"\ud83c\udf96\ufe0f",text:"Military Trained"}];function RR(){const{navigateToView:t}=kv(),[n,i]=(0,e.useState)(!1),[s,r]=(0,e.useState)(150),[a,o]=(0,e.useState)("mixed"),[c,l]=(0,e.useState)(12),[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)("Premium"),m=(()=>{let e=2,t=500,n="Essential";return s>100&&(e+=1),s>200&&(e+=1),s>300&&(e+=1),"outdoor"!==a&&"mixed"!==a||(e+=1),d&&(e+=2),t=e*(25*c)+200,(e>=5||t>=1200||e>=3||t>=700)&&(n="Premium"),{officers:e,cost:t,recommendedPackage:n}})();return(0,Sv.jsxs)("div",{className:NR.weddingSecurityContainer,children:[(0,Sv.jsx)("div",{className:NR.newBadge,children:"NEW"}),(0,Sv.jsx)("div",{className:NR.heroSection,children:(0,Sv.jsxs)("div",{className:NR.heroHeader,children:[(0,Sv.jsx)("div",{className:NR.heroIcon,children:"\ud83d\udc8d\ud83d\udee1\ufe0f"}),(0,Sv.jsxs)("div",{className:NR.heroContent,children:[(0,Sv.jsx)("h3",{className:NR.heroTitle,children:"Wedding & Event Security"}),(0,Sv.jsx)("p",{className:NR.heroSubtitle,children:"SIA licensed Close Protection Officers for your special day"})]})]})}),(0,Sv.jsxs)("div",{className:NR.trustBar,children:[(0,Sv.jsxs)("div",{className:NR.trustItem,children:[(0,Sv.jsx)("span",{className:NR.trustIcon,children:"\u2705"}),(0,Sv.jsx)("span",{className:NR.trustText,children:"200+ Weddings Secured"})]}),(0,Sv.jsxs)("div",{className:NR.trustItem,children:[(0,Sv.jsx)("span",{className:NR.trustIcon,children:"\u2b50"}),(0,Sv.jsx)("span",{className:NR.trustText,children:"4.9/5 Average Rating"})]}),(0,Sv.jsxs)("div",{className:NR.trustItem,children:[(0,Sv.jsx)("span",{className:NR.trustIcon,children:"\ud83c\udfc6"}),(0,Sv.jsx)("span",{className:NR.trustText,children:"Award Winning Team"})]}),(0,Sv.jsxs)("div",{className:NR.trustItem,children:[(0,Sv.jsx)("span",{className:NR.trustIcon,children:"\ud83d\udcde"}),(0,Sv.jsx)("span",{className:NR.trustText,children:"24/7 Support"})]})]}),(0,Sv.jsxs)("div",{className:NR.featuresSection,children:[(0,Sv.jsx)("h4",{className:NR.sectionTitle,children:"Complete Wedding Security Coverage"}),(0,Sv.jsx)("div",{className:NR.featuresGrid,children:jR.map((e,t)=>(0,Sv.jsxs)("div",{className:NR.featureCard,children:[(0,Sv.jsx)("div",{className:NR.featureIcon,children:e.icon}),(0,Sv.jsxs)("div",{className:NR.featureContent,children:[(0,Sv.jsx)("h5",{className:NR.featureTitle,children:e.title}),(0,Sv.jsx)("p",{className:NR.featureDescription,children:e.description})]})]},t))})]}),(0,Sv.jsxs)("div",{className:NR.pricingSection,children:[(0,Sv.jsx)("h4",{className:NR.sectionTitle,children:"Choose Your Protection Level"}),(0,Sv.jsx)("div",{className:NR.packagesGrid,children:CR.map((e,t)=>(0,Sv.jsxs)("div",{className:"".concat(NR.packageCard," ").concat(e.popular?NR.popularPackage:""," ").concat(h===e.name?NR.selectedPackage:""),onClick:()=>p(e.name),children:[e.popular&&(0,Sv.jsx)("div",{className:NR.popularBadge,children:"Most Popular"}),(0,Sv.jsxs)("div",{className:NR.packageHeader,children:[(0,Sv.jsxs)("div",{className:NR.packageBrand,children:[(0,Sv.jsx)("span",{className:NR.packageIcon,children:e.icon}),(0,Sv.jsx)("h5",{className:NR.packageName,children:e.brandName})]}),(0,Sv.jsx)("div",{className:NR.packagePrice,children:e.price}),(0,Sv.jsxs)("div",{className:NR.packagePricing,children:[e.pricePerGuest," (240 guests)"]}),(0,Sv.jsxs)("div",{className:NR.packageDuration,children:[e.duration," \u2022 ",e.officers," officers"]}),(0,Sv.jsxs)("div",{className:NR.protectionMeter,children:[(0,Sv.jsx)("div",{className:NR.meterLabel,children:"Protection Intensity"}),(0,Sv.jsx)("div",{className:NR.meterBar,children:(0,Sv.jsx)("div",{className:NR.meterFill,style:{width:"".concat(e.coverageLevel/5*100,"%")}})}),(0,Sv.jsxs)("div",{className:NR.meterRatio,children:["Officer ratio: ",e.guestRatio]})]})]}),(0,Sv.jsx)("div",{className:NR.packageFeatures,children:e.features.map((e,t)=>(0,Sv.jsxs)("div",{className:NR.packageFeature,children:[(0,Sv.jsx)("span",{className:NR.featureEmoji,children:e.icon}),(0,Sv.jsxs)("div",{className:NR.featureText,children:[(0,Sv.jsx)("div",{className:NR.featureTitle,children:e.title}),(0,Sv.jsx)("div",{className:NR.featureStory,children:e.storytelling})]})]},t))}),(0,Sv.jsx)("div",{className:NR.confidenceStats,children:e.confidenceStats.map((e,t)=>(0,Sv.jsxs)("div",{className:NR.confidenceStat,children:[(0,Sv.jsx)("span",{className:NR.statIcon,children:"\u2705"}),(0,Sv.jsx)("span",{className:NR.statText,children:e})]},t))})]},t))})]}),(0,Sv.jsxs)("div",{className:NR.calculatorSection,children:[(0,Sv.jsxs)("div",{className:NR.calculatorHeader,onClick:()=>i(!n),children:[(0,Sv.jsxs)("h4",{className:NR.calculatorTitle,children:["\ud83e\uddee Security Calculator",(0,Sv.jsx)("span",{className:NR.calculatorToggle,children:n?"\u2212":"+"})]}),(0,Sv.jsx)("p",{className:NR.calculatorSubtitle,children:"Get personalized recommendations for your event"})]}),n&&(0,Sv.jsxs)("div",{className:NR.calculatorContent,children:[(0,Sv.jsxs)("div",{className:NR.calculatorInputs,children:[(0,Sv.jsxs)("div",{className:NR.inputGroup,children:[(0,Sv.jsxs)("label",{className:NR.inputLabel,children:["Guest Count: ",s]}),(0,Sv.jsx)("input",{type:"range",min:"50",max:"500",value:s,onChange:e=>r(Number(e.target.value)),className:NR.slider})]}),(0,Sv.jsxs)("div",{className:NR.inputGroup,children:[(0,Sv.jsx)("label",{className:NR.inputLabel,children:"Venue Type"}),(0,Sv.jsxs)("select",{value:a,onChange:e=>o(e.target.value),className:NR.select,children:[(0,Sv.jsx)("option",{value:"indoor",children:"Indoor Only"}),(0,Sv.jsx)("option",{value:"outdoor",children:"Outdoor Only"}),(0,Sv.jsx)("option",{value:"mixed",children:"Indoor & Outdoor"})]})]}),(0,Sv.jsxs)("div",{className:NR.inputGroup,children:[(0,Sv.jsxs)("label",{className:NR.inputLabel,children:["Duration: ",c," hours"]}),(0,Sv.jsx)("input",{type:"range",min:"6",max:"24",value:c,onChange:e=>l(Number(e.target.value)),className:NR.slider})]}),(0,Sv.jsx)("div",{className:NR.inputGroup,children:(0,Sv.jsxs)("label",{className:NR.checkboxLabel,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),className:NR.checkbox}),"High-profile guests attending"]})})]}),(0,Sv.jsxs)("div",{className:NR.calculatorResults,children:[(0,Sv.jsx)("h5",{className:NR.resultsTitle,children:"Recommended for your event:"}),(0,Sv.jsx)("div",{className:NR.resultItem,children:(0,Sv.jsxs)("strong",{children:[m.officers," Security Officers"]})}),(0,Sv.jsx)("div",{className:NR.resultItem,children:(0,Sv.jsxs)("strong",{children:["Estimated Cost: \xa3",m.cost]})}),(0,Sv.jsx)("div",{className:NR.resultItem,children:(0,Sv.jsxs)("strong",{children:["Suggested Package: ",m.recommendedPackage]})})]})]})]}),(0,Sv.jsx)("div",{className:NR.testimonialSection,children:(0,Sv.jsxs)("div",{className:NR.testimonialCard,children:[(0,Sv.jsx)("div",{className:NR.testimonialRating,children:[...Array(kR)].map((e,t)=>(0,Sv.jsx)("span",{className:NR.star,children:"\u2b50"},t))}),(0,Sv.jsxs)("blockquote",{className:NR.testimonialQuote,children:['"',PR,'"']}),(0,Sv.jsxs)("div",{className:NR.testimonialAuthor,children:[(0,Sv.jsx)("strong",{children:TR}),(0,Sv.jsxs)("span",{className:NR.testimonialEvent,children:[ER," \u2022 ",AR]})]})]})}),(0,Sv.jsxs)("div",{className:NR.timelineSection,children:[(0,Sv.jsx)("h4",{className:NR.sectionTitle,children:"Your Security Timeline"}),(0,Sv.jsx)("div",{className:NR.timeline,children:IR.map((e,t)=>(0,Sv.jsxs)("div",{className:NR.timelineEvent,children:[(0,Sv.jsx)("div",{className:NR.timelineTime,children:e.time}),(0,Sv.jsxs)("div",{className:NR.timelineContent,children:[(0,Sv.jsx)("h6",{className:NR.timelineActivity,children:e.activity}),(0,Sv.jsx)("p",{className:NR.timelineDescription,children:e.description})]})]},t))})]}),(0,Sv.jsxs)("div",{className:NR.ctaSection,children:[(0,Sv.jsx)("button",{className:NR.primaryCta,onClick:()=>{t("venue-protection-welcome")},children:"\ud83d\udcde Book Free Consultation"}),(0,Sv.jsx)("button",{className:NR.secondaryCta,children:"\ud83d\udcc4 Download Security Guide"}),(0,Sv.jsx)("button",{className:NR.tertiaryCta,children:"\ud83d\udcac Chat with Expert"})]}),(0,Sv.jsx)("div",{className:NR.certificationsSection,children:(0,Sv.jsx)("div",{className:NR.certificationsBadges,children:LR.map((e,t)=>(0,Sv.jsxs)("div",{className:NR.certificationBadge,children:[(0,Sv.jsx)("span",{className:NR.certIcon,children:e.icon}),(0,Sv.jsx)("span",{className:NR.certText,children:e.text})]},t))})})]})}const MR=[{id:"standard",icon:"\ud83d\udee1\ufe0f",name:"Essential Protection",tagline:"Professional close protection for everyday security needs",vehicle:"Secure transport vehicles \u2022 Professional appearance",price:"From \xa350/hour + \xa32.50/mile",protectionRate:"\xa350",transportRate:"\xa32.50",rating:"\u2b50\u2b50\u2b50\u2b50\u2b50 4.8",totalRides:"(2,847 protection details)",collapsedFeatures:["1 SIA-Licensed Protection Officer","Background verified & fully insured","2-hour minimum service"],collapsedReview:{snippet:"Professional security without being over the top",author:"Emma, Marketing Manager"},personalizedMessage:"Based on your profile as a [USER_PROFESSION], this service provides reliable protection with a single officer, ideal for business meetings and personal security",whatYouGet:["Single SIA-licensed Close Protection Officer","Security assessment and route planning","Door-to-door protection service","Real-time tracking and 24/7 support","Perfect for: Business meetings, property viewings, medical appointments"],officerDescription:{general:"All our Close Protection Officers hold both security and private hire licenses, ensuring legal compliance and professional standards. Each officer undergoes enhanced DBS checks, defensive driving training, and conflict resolution certification. They're not just transport - they're your personal security team.",qualifications:["SIA Close Protection License","Enhanced DBS checked","Defensive driving certified","Conflict resolution trained","First aid qualified"]},reviews:[{rating:5,text:"Been using for 6 months now and honestly can't fault it. It's not over the top, just solid, reliable protection. My officer Amy is brilliant - professional but friendly, always on time, makes me feel safe without being dramatic about it. Exactly what I needed",author:"Emma",role:"Marketing Manager"},{rating:5,text:"Look I'm not a CEO or celebrity, just wanted to feel safer commuting. This is perfect for normal people like me. Officers are properly trained (you can tell) but it doesn't feel excessive. My guy Marcus even remembers I like Radio 4 in the mornings \ud83d\ude0a",author:"James",role:"Teacher"},{rating:5,text:"Started using after wanting more security. What I love is it's not intimidating or obvious - just quietly professional. My family loves that I have my own security team now. Worth every penny for the peace of mind",author:"Priya",role:"Retail Manager"}],caseStudies:[{title:"Business Meeting in Central London",situation:"Corporate executive needed protection for client meeting",solution:"Single CPO provided door-to-door security with route briefing",result:"Professional arrival, officer waited with vehicle during meeting, secure return journey",userType:"business"},{title:"Property Viewing in Unfamiliar Area",situation:"High-value property viewing in unknown neighborhood",solution:"CPO conducted area assessment and accompanied principal",result:"Complete peace of mind viewing properties in any location",userType:"property"},{title:"Medical Appointment",situation:"Private medical consultation requiring discretion",solution:"Professional CPO with medical privacy protocols",result:"Discreet protection maintained confidentiality throughout",userType:"healthcare"}],trustSignals:["\u2705 2,847 happy clients","\u2705 4.8\u2605 average rating","\u2705 10 minute response time"],stats:{clients:"2,847 happy clients",rating:"4.8\u2605 average rating",responseTime:"10 minute response time"}},{id:"executive",icon:"\ud83d\udc54",name:"Executive Protection",tagline:"Enhanced security protocols for high-profile principals",vehicle:"BMW 5 Series \u2022 Mercedes S-Class",price:"From \xa375/hour + \xa33.50/mile",protectionRate:"\xa375",transportRate:"\xa33.50",rating:"\u2b50\u2b50\u2b50\u2b50\u2b50 4.9",totalRides:"(1,653 protection details)",collapsedFeatures:["1-2 SIA Protection Officers (scalable)","Advance reconnaissance available","Ex-military/police background"],collapsedReview:{snippet:"Advance planning and professional coordination",author:"Richard, Investment Director"},personalizedMessage:"As a [USER_ROLE], you'll appreciate the advance security planning, multiple officer coordination, and corporate-appropriate presentation",whatYouGet:["1-2 Protection Officers (depending on requirements)","Advance venue reconnaissance (24hrs prior)","Premium vehicle fleet with enhanced security","Coordinated team protection when needed","Perfect for: VIP events, high-value meetings, public appearances"],officerDescription:{general:"Our Executive Protection Specialists come from military or law enforcement backgrounds with additional training in corporate security protocols. They understand boardroom confidentiality and maintain the professional image your position demands.",qualifications:["Ex-military/police background","Executive protection certified","Corporate protocol trained","Advanced driving qualification","Confidentiality agreements"]},reviews:[{rating:5,text:"The difference is noticeable immediately. My Protection Officer (ex-military) has this calm professionalism that just works in corporate settings. Knows when to chat, when to be silent. Car is always immaculate. Pulled up to a client meeting last week and they assumed I had a full-time chauffeur - that's the standard",author:"Richard",role:"Investment Director"},{rating:5,text:"Switched from standard to executive 3 months ago - game changer. The Protection Officers just 'get it' if that makes sense? Conference calls in the car, sensitive documents, weird hours... never an issue. Also the BMW is SO much better for client impressions ngl",author:"Amanda",role:"Law Firm Partner"},{rating:5,text:"It's the attention to detail tbh. My Protection Officer keeps bottled water in the car, has phone chargers for every type, even keeps an umbrella ready. Last month he coordinated with my PA to adjust Commencement Point times without me asking. This is what executive service should be",author:"Michael",role:"Tech CEO"}],caseStudies:[{title:"High-Profile Restaurant Reservation",situation:"VIP client requiring protection at public venue",solution:"Advance reconnaissance 24hrs prior, 2-officer team deployed - one maintained vehicle security, second provided close protection inside",result:"Coordinated security with flexible routing, professional protection throughout dining experience",userType:"vip"},{title:"Corporate Negotiations",situation:"High-value business deal requiring enhanced security",solution:"2 CPOs with advance planning and route assessment",result:"Security briefing before departure, coordinated team protection, impressive professional arrival",userType:"corporate"},{title:"Public Appearance",situation:"Public figure attending high-visibility event",solution:"Multiple officers coordinated entry and exit security",result:"Seamless protection with advance route planning and flexible response",userType:"public-figure"}],trustSignals:["\u2705 500+ corporate executives","\u2705 4.9\u2605 rating","\u2705 Priority response guaranteed"],stats:{clients:"500+ corporate executives",rating:"4.9\u2605 rating",special:"Priority response guaranteed"}},{id:"shadow",icon:"\ud83d\udd74\ufe0f",name:"Shadow Protection",tagline:"Covert protection with maximum scalability and discretion",vehicle:"Unmarked vehicles \u2022 Plain clothes officers",price:"From \xa365/hour + \xa33.00/mile",protectionRate:"\xa365",transportRate:"\xa33.00",rating:"\u2b50\u2b50\u2b50\u2b50\u2b50 5.0",totalRides:"(892 protection details)",collapsedFeatures:["1-6 Officers (fully scalable)","Special Forces trained specialists","Covert layered security protocols"],collapsedReview:{snippet:"Invisible protection that scales to threat level",author:"High-Net-Worth Individual"},personalizedMessage:"For elevated threat scenarios, Shadow Protection scales from solo covert work to coordinated multi-officer protection teams",whatYouGet:["1-6 Protection Officers (scalable based on threat assessment)","Plain clothes covert operations","Layered perimeter security (20-30 meter distance)","Coordinated radio contact between team members","Perfect for: High-threat situations, complete anonymity, HNW individuals"],officerDescription:{general:"Shadow Protocol operatives are elite Close Protection specialists trained in covert operations. Coming from special forces and intelligence backgrounds, they provide maximum security with zero visibility. Perfect for those who need serious protection without anyone knowing.",qualifications:["Special forces background","Covert operations trained","Counter-surveillance certified","Intelligence sector experience","Advanced threat assessment"]},reviews:[{rating:5,text:"Can't say much for obvious reasons but if you need to move around without anyone knowing you have security, this is it. Different cars, different routes, but same elite level of protection. My Protection Officer spots things I'd never notice and handles them before they become issues",author:"Public Figure",role:"Entertainment Industry"},{rating:5,text:"After needing more discrete protection, Shadow Protocol was perfect. Looks like a normal car service but the Protection Officer is anything but normal (in the best way). Complete peace of mind without the obvious security presence",author:"Finance Executive",role:"Banking"},{rating:5,text:"My clients need to move without attention. They switch up everything, use residential routes, have smart tactics... it's like having invisible protection. Expensive but literally nothing else comes close",author:"Celebrity Manager",role:"Talent Management"}],caseStudies:[{title:"Private Shopping in Mayfair",situation:"HNW individual requiring invisible protection during shopping",solution:"Lead CPO drove personal vehicle, 3 additional officers positioned 20-30m perimeter in plain clothes, coordinated radio contact, rotating positions",result:"Layered covert security with zero visible presence, complete anonymity maintained",userType:"hnw"},{title:"Elevated Threat Assessment",situation:"Principal with credible threat requiring maximum protection",solution:"6-officer team deployed with advance/follow vehicles, perimeter security, counter-surveillance protocols",result:"Multi-layered protection adapted to threat level, principal felt completely secure",userType:"threat"},{title:"Private Occasion Requiring Anonymity",situation:"Confidential meeting at sensitive location",solution:"4 covert officers with layered positioning, no visible security presence",result:"Complete discretion maintained, security invisible to all parties",userType:"confidential"}],trustSignals:["\u2705 100% discretion maintained","\u2705 5.0\u2605 perfect rating","\u2705 Zero visibility guarantee"],stats:{special:"\u26a0\ufe0f Assessment required",rating:"100% discretion maintained",clients:"5.0\u2605 perfect rating"}},{id:"luxury",icon:"\ud83d\udc8e",name:"Luxury Elite",tagline:"VIP Protection Specialists with luxury vehicles",vehicle:"Bentley/Rolls Royce/S-Class Mercedes",price:"From \xa3200/hour",rating:"\u2b50\u2b50\u2b50\u2b50\u2b50 5.0",totalRides:"(456 services)",collapsedFeatures:["Diplomatic protection trained","Executive chauffeur certified","VIP security specialists"],collapsedReview:{snippet:"When you need to make an impression AND stay safe",author:"International Investor"},personalizedMessage:"As a VIP client, enjoy red carpet specialist service with diplomatic-level protocols and absolute luxury",whatYouGet:["Top-tier luxury vehicles only","White glove service standard","Close protection team available","Global service network access","Red carpet and special event specialists"],officerDescription:{general:"Our VIP Protection Specialists are trained to diplomatic protection standards. They combine the highest levels of security with impeccable luxury service. When you need to arrive like royalty while maintaining absolute security, this is your service.",qualifications:["Diplomatic protection trained","VIP service certified","Luxury vehicle specialist","Protocol expert","Global network access"]},reviews:[{rating:5,text:"When you need to make an impression AND stay safe, nothing touches this. Pulled up to the Savoy in the Bentley, Protection Officer in full uniform, handled everything flawlessly. It's not just transport, it's an experience. My clients are always impressed",author:"International Investor",role:"Private Equity"},{rating:5,text:"Used for my wedding and wow... just wow. 3 cars, perfectly coordinated, Protection Officers who knew exactly how to handle guests, media, everything. They even had champagne and tissues ready for the emotional moments \ud83e\udd7a Made the day even more special",author:"Celebrity",role:"Entertainment"},{rating:5,text:"The only service I trust for palace events. Protection Officers understand protocol, cars are beyond pristine, and the security is subtle but absolute. Simply the best",author:"Royal Family Friend",role:"Aristocracy"}],caseStudies:[{title:"Royal Wedding",situation:"500-guest celebration needing coordination",solution:"Fleet of Bentleys with protection teams",result:"Felt like royalty on our special day",userType:"luxury"},{title:"Film Premiere",situation:"Red carpet event requiring premium arrival",solution:"Rolls Royce with diplomatic protection",result:"Made the perfect entrance, everyone was impressed",userType:"entertainment"},{title:"State Dinner",situation:"Embassy event requiring appropriate transport",solution:"S-Class with diplomatic trained team",result:"Arrived with complete confidence and style",userType:"diplomatic"}],trustSignals:["\u2705 Perfect 5.0\u2605 rating","\u2705 Diplomatic grade service","\u2705 Global network available"],stats:{special:"\u2728 Diplomatic grade service",clients:"Perfect 5.0\u2605 rating",rating:"Global network available"}},{id:"personal-vehicle",icon:"\ud83d\udd11",name:"Personal Vehicle Service",tagline:"Personal Security Protection Officers for your vehicle",vehicle:"Your own vehicle (any make/model)",price:"From \xa355/hour",rating:"\u2b50\u2b50\u2b50\u2b50\u2b50 4.7",totalRides:"(1,234 services)",collapsedFeatures:["Personal Protection Officers","Fully insured any vehicle","Discrete protection trained"],collapsedReview:{snippet:"Spent 80k on my Tesla - why Assignment in something else?",author:"Thomas, Tesla Owner"},personalizedMessage:"Perfect for someone who values their personal vehicle - keep your comfort and privacy with our protection",whatYouGet:["Professional Protection Officer for YOUR car","Fully insured to drive any vehicle","Complete privacy - no company branding","Returns your car exactly as received","You relax while they handle everything"],officerDescription:{general:"Our Personal Security Protection Officers are fully licensed and insured to operate any vehicle. They arrive via their own transport, take exceptional care of your vehicle, and provide the same Close Protection standards while maintaining your personal comfort and privacy.",qualifications:["Multi-vehicle licensed","Personal Security Protection Officer certified","Comprehensive insurance coverage","Vehicle care specialist","Privacy protection trained"]},reviews:[{rating:5,text:"Spent 80k on my Model S - why would I want to Assignment in something else?? This service is genius. Protection Officer arrives, takes my keys, drives me in MY car with all my settings, my music, my everything. Then either waits or comes back later. Perfect solution",author:"Thomas",role:"Tesla Owner"},{rating:5,text:"Love love LOVE this option!! I have specific seat settings for my back and having someone else drive while I relax in my own space? Amazing. Also means I can leave stuff in the car without worrying. My Protection Officer Sarah is so careful with it too",author:"Rebecca",role:"Range Rover Sport Owner"},{rating:5,text:"Thought I'd never trust anyone with my vintage Jag but these Protection Officers are something else. Used it for a wedding - Protection Officer treated it better than I do \ud83d\ude05 He even knew about classic cars and we chatted about it after. Now use regularly when I want to enjoy events",author:"William",role:"Classic Car Collector"}],caseStudies:[{title:"Supercar Owner",situation:"Ferrari owner wanting to enjoy events",solution:"Security Protection Officer for their own vehicle",result:"Can finally enjoy dinners without worrying about driving",userType:"luxury"},{title:"Family Car",situation:"Parents needing Protection Officer for school runs",solution:"Regular Protection Officer for family SUV",result:"Kids love our Protection Officer, car stays familiar",userType:"family"},{title:"Modified Vehicle",situation:"Customized car with special features",solution:"Trained Protection Officer who respects modifications",result:"They understand my car is special to me",userType:"enthusiast"}],trustSignals:["\u2705 Any vehicle covered","\u2705 Fully insured service","\u2705 Maximum privacy guaranteed"],stats:{special:"\u2705 Fully insured Protection Officers",clients:"Any vehicle covered",rating:"Maximum privacy guaranteed"}}];const OR={serviceCard:"ServiceCard_serviceCard__GBE-W",serviceRates:"ServiceCard_serviceRates__jw4Zs",ratesTitle:"ServiceCard_ratesTitle__YOvGY",rateItem:"ServiceCard_rateItem__IPpgD",rateLabel:"ServiceCard_rateLabel__1C-L8",rateValue:"ServiceCard_rateValue__LaUJJ",rateMinimum:"ServiceCard_rateMinimum__TIWtq",vehicleInfo:"ServiceCard_vehicleInfo__9BFh+",vehicle:"ServiceCard_vehicle__ddZlx",recommended:"ServiceCard_recommended__eR7GN",expanded:"ServiceCard_expanded__Zq6Hw",collapsedContent:"ServiceCard_collapsedContent__+YmSn",serviceHeader:"ServiceCard_serviceHeader__OzWds",serviceIcon:"ServiceCard_serviceIcon__YH2ys",serviceInfo:"ServiceCard_serviceInfo__stSmZ",serviceName:"ServiceCard_serviceName__A4EL1",serviceTagline:"ServiceCard_serviceTagline__UsROJ",vehicleAndPrice:"ServiceCard_vehicleAndPrice__GQ74C",price:"ServiceCard_price__8-3cs",ratingSection:"ServiceCard_ratingSection__l34OK",rating:"ServiceCard_rating__+yQsu",totalProtections:"ServiceCard_totalProtections__7-J-R",collapsedFeatures:"ServiceCard_collapsedFeatures__MIIma",featureItem:"ServiceCard_featureItem__SamPb",checkmark:"ServiceCard_checkmark__JFmYD",reviewSnippet:"ServiceCard_reviewSnippet__snUC1",snippetText:"ServiceCard_snippetText__749OT",snippetAuthor:"ServiceCard_snippetAuthor__vVrYp",expandedContent:"ServiceCard_expandedContent__GRfzs",visible:"ServiceCard_visible__sESLg",expandedSection:"ServiceCard_expandedSection__hqRhP",sectionTitle:"ServiceCard_sectionTitle__6LUO3",bulletList:"ServiceCard_bulletList__-qLLT",bulletItem:"ServiceCard_bulletItem__BVxLc",officerDescription:"ServiceCard_officerDescription__iXZPd",reviewsList:"ServiceCard_reviewsList__iwC21",reviewCard:"ServiceCard_reviewCard__hnxrX",reviewHeader:"ServiceCard_reviewHeader__xgAc+",reviewStars:"ServiceCard_reviewStars__w+jXV",reviewAuthor:"ServiceCard_reviewAuthor__2iUHr",authorName:"ServiceCard_authorName__w4ftb",authorRole:"ServiceCard_authorRole__6MkHR",reviewText:"ServiceCard_reviewText__pTp3f",caseStudiesList:"ServiceCard_caseStudiesList__0Dizj",caseStudyCard:"ServiceCard_caseStudyCard__Xyyfy",caseStudyTitle:"ServiceCard_caseStudyTitle__+JQdJ",caseStudyContent:"ServiceCard_caseStudyContent__TBkWw",caseStudyItem:"ServiceCard_caseStudyItem__jcwed",statisticsList:"ServiceCard_statisticsList__-0Svd",statisticItem:"ServiceCard_statisticItem__LxQWk",actionButtons:"ServiceCard_actionButtons__6yfmy",selectButton:"ServiceCard_selectButton__V7I7S",compareButton:"ServiceCard_compareButton__C8Wfr",expandToggle:"ServiceCard_expandToggle__GoNU-"},DR=(0,e.memo)(function(t){let{service:n,isRecommended:i=!1,onExpand:s,onBook:r,autoCollapse:a=!1,expandedService:o}=t;const{state:c}=kv(),[l,d]=(0,e.useState)(!1),u=o===n.id||!a&&l,h=(()=>{const{questionnaireData:e}=c;let t="general";return null!==e&&void 0!==e&&e.profileSelection?t=e.profileSelection.toLowerCase():null!==e&&void 0!==e&&e.step1_transportProfile&&(t=e.step1_transportProfile.toLowerCase()),function(e,t){if(!t)return e.caseStudies;const n=e.caseStudies.filter(e=>e.userType===t.toLowerCase()||t.toLowerCase().includes("business")&&"business"===e.userType||t.toLowerCase().includes("tech")&&"tech"===e.userType||t.toLowerCase().includes("finance")&&"finance"===e.userType);if(n.length>0){const t=e.caseStudies.filter(e=>!n.includes(e));return[...n,...t].slice(0,3)}return e.caseStudies}(n,t)})();return(0,Sv.jsxs)("div",{className:"".concat(OR.serviceCard," ").concat(i?OR.recommended:""," ").concat(u?OR.expanded:""),children:[(0,Sv.jsxs)("div",{className:OR.collapsedContent,children:[(0,Sv.jsxs)("div",{className:OR.serviceHeader,children:[(0,Sv.jsx)("div",{className:OR.serviceIcon,children:n.icon}),(0,Sv.jsxs)("div",{className:OR.serviceInfo,children:[(0,Sv.jsx)("h3",{className:OR.serviceName,children:n.name}),(0,Sv.jsx)("p",{className:OR.serviceTagline,children:n.tagline})]})]}),(0,Sv.jsx)("div",{className:OR.vehicleInfo,children:(0,Sv.jsx)("span",{className:OR.vehicle,children:n.vehicle})}),(0,Sv.jsxs)("div",{className:OR.serviceRates,children:[(0,Sv.jsx)("div",{className:OR.ratesTitle,children:"Service Rates:"}),(0,Sv.jsxs)("div",{className:OR.rateItem,children:[(0,Sv.jsx)("span",{className:OR.rateLabel,children:"Protection:"}),(0,Sv.jsxs)("span",{className:OR.rateValue,children:[n.protectionRate||"\xa350","/hour"]})]}),(0,Sv.jsxs)("div",{className:OR.rateItem,children:[(0,Sv.jsx)("span",{className:OR.rateLabel,children:"Transport:"}),(0,Sv.jsx)("span",{className:OR.rateValue,children:"No mileage charge"===n.transportRate?"No mileage charge":"".concat(n.transportRate||"\xa32.50","/mile")})]}),(0,Sv.jsx)("div",{className:OR.rateMinimum,children:"(2-hour minimum)"})]}),(0,Sv.jsxs)("div",{className:OR.ratingSection,children:[(0,Sv.jsx)("span",{className:OR.rating,children:n.rating}),(0,Sv.jsx)("span",{className:OR.totalRides,children:n.totalRides})]}),(0,Sv.jsx)("div",{className:OR.collapsedFeatures,children:n.collapsedFeatures.map((e,t)=>(0,Sv.jsxs)("div",{className:OR.featureItem,children:[(0,Sv.jsx)("span",{className:OR.checkmark,children:"\u2713"}),(0,Sv.jsx)("span",{children:e})]},t))}),(0,Sv.jsxs)("div",{className:OR.reviewSnippet,children:[(0,Sv.jsxs)("p",{className:OR.snippetText,children:['"',n.collapsedReview.snippet,'..."']}),(0,Sv.jsxs)("span",{className:OR.snippetAuthor,children:["- ",n.collapsedReview.author]})]})]}),(0,Sv.jsxs)("div",{className:"".concat(OR.expandedContent," ").concat(u?OR.visible:""),children:[(0,Sv.jsxs)("div",{className:OR.expandedSection,children:[(0,Sv.jsx)("h4",{className:OR.sectionTitle,children:"WHAT YOU GET"}),(0,Sv.jsx)("ul",{className:OR.bulletList,children:n.whatYouGet.map((e,t)=>(0,Sv.jsx)("li",{className:OR.bulletItem,children:e},t))})]}),(0,Sv.jsxs)("div",{className:OR.expandedSection,children:[(0,Sv.jsx)("h4",{className:OR.sectionTitle,children:"OUR OFFICERS"}),(0,Sv.jsx)("p",{className:OR.officerDescription,children:n.officerDescription.general})]}),(0,Sv.jsxs)("div",{className:OR.expandedSection,children:[(0,Sv.jsx)("h4",{className:OR.sectionTitle,children:"CLIENT REVIEWS"}),(0,Sv.jsx)("div",{className:OR.reviewsList,children:n.reviews.map((e,t)=>(0,Sv.jsxs)("div",{className:OR.reviewCard,children:[(0,Sv.jsxs)("div",{className:OR.reviewHeader,children:[(0,Sv.jsx)("div",{className:OR.reviewStars,children:"\u2b50".repeat(e.rating)}),(0,Sv.jsxs)("div",{className:OR.reviewAuthor,children:[(0,Sv.jsx)("span",{className:OR.authorName,children:e.author}),(0,Sv.jsx)("span",{className:OR.authorRole,children:e.role})]})]}),(0,Sv.jsxs)("p",{className:OR.reviewText,children:['"',e.text,'"']})]},t))})]}),(0,Sv.jsxs)("div",{className:OR.expandedSection,children:[(0,Sv.jsx)("h4",{className:OR.sectionTitle,children:"REAL-WORLD CASE STUDIES"}),(0,Sv.jsx)("div",{className:OR.caseStudiesList,children:h.map((e,t)=>(0,Sv.jsxs)("div",{className:OR.caseStudyCard,children:[(0,Sv.jsx)("h5",{className:OR.caseStudyTitle,children:e.title}),(0,Sv.jsxs)("div",{className:OR.caseStudyContent,children:[(0,Sv.jsxs)("div",{className:OR.caseStudyItem,children:[(0,Sv.jsx)("strong",{children:"Situation:"})," ",e.situation]}),(0,Sv.jsxs)("div",{className:OR.caseStudyItem,children:[(0,Sv.jsx)("strong",{children:"Solution:"})," ",e.solution]}),(0,Sv.jsxs)("div",{className:OR.caseStudyItem,children:[(0,Sv.jsx)("strong",{children:"Result:"}),' "',e.result,'"']})]})]},t))})]}),(0,Sv.jsxs)("div",{className:OR.expandedSection,children:[(0,Sv.jsx)("h4",{className:OR.sectionTitle,children:"STATISTICS"}),(0,Sv.jsx)("div",{className:OR.statisticsList,children:n.trustSignals.map((e,t)=>(0,Sv.jsx)("div",{className:OR.statisticItem,children:e},t))})]}),(0,Sv.jsxs)("div",{className:OR.actionButtons,children:[(0,Sv.jsx)("button",{className:OR.selectButton,onClick:()=>{r(n.id)},children:"SELECT THIS SERVICE"}),(0,Sv.jsx)("button",{className:OR.compareButton,onClick:()=>{},children:"COMPARE"})]})]}),(0,Sv.jsx)("button",{className:OR.expandToggle,onClick:()=>{a?s&&s(n.id):d(!l)},children:u?"SHOW LESS \u2191":"LEARN MORE \u2193"})]})}),FR="ServiceComparisonTable_comparisonSection__W2Qnk",BR="ServiceComparisonTable_comparisonHeader__mzZz1",qR="ServiceComparisonTable_title__VB-6d",zR="ServiceComparisonTable_subtitle__LwCCS",WR="ServiceComparisonTable_serviceChips__gX6KO",HR="ServiceComparisonTable_chip__5KkY3",UR="ServiceComparisonTable_selected__qYMld",VR="ServiceComparisonTable_chipIcon__K2ni+",GR="ServiceComparisonTable_chipName__1A6Pt",YR="ServiceComparisonTable_removeChip__R0UgP",KR="ServiceComparisonTable_tableContainer__8DR+4",QR="ServiceComparisonTable_comparisonTable__gZS26",ZR="ServiceComparisonTable_featureColumn__wPm97",JR="ServiceComparisonTable_serviceColumn__ZKxiO",XR="ServiceComparisonTable_serviceHeader__j-xzb",$R="ServiceComparisonTable_serviceIcon__TPykY",eM="ServiceComparisonTable_serviceName__v9jpK",tM="ServiceComparisonTable_servicePrice__PLL7c",nM="ServiceComparisonTable_featureName__glf3C",iM="ServiceComparisonTable_highlighted__QFiJt",sM="ServiceComparisonTable_badge__V1JwR",rM="ServiceComparisonTable_showMoreButton__6zLG6",aM="ServiceComparisonTable_aiRecommendation__GdIp3",oM="ServiceComparisonTable_aiHeader__HcV6E",cM="ServiceComparisonTable_aiIcon__Ra7J2",lM="ServiceComparisonTable_aiTitle__oMfDX",dM="ServiceComparisonTable_aiText__4RUTP",uM=[{label:"Hourly Rate",key:"hourlyRate",highlight:"lowest",format:e=>"\xa3".concat(e,"/hr")},{label:"Vehicle Type",key:"vehicle"},{label:"Response Time",key:"responseTime"},{label:"Protection Level",key:"protectionLevel",highlight:"highest"},{label:"Officer Training",key:"training"},{label:"Discretion Level",key:"discretion"},{label:"Coverage Areas",key:"coverage"},{label:"Insurance Coverage",key:"insurance"}],hM=(e,t)=>{const n=MR.find(t=>t.id===e);if(!n)return"-";return{hourlyRate:"standard"===n.id?50:"executive"===n.id?95:"shadow"===n.id?85:"event"===n.id?120:200,vehicle:n.vehicle,responseTime:"standard"===n.id?"10-15 min":"executive"===n.id?"5-10 min":"shadow"===n.id?"8-12 min":"event"===n.id?"15-30 min":"2-5 min",protectionLevel:"standard"===n.id?"Basic":"executive"===n.id?"Advanced":"shadow"===n.id?"Specialist":"event"===n.id?"Event-Specific":"VIP",training:"standard"===n.id?"SIA Licensed":"executive"===n.id?"Ex-Military/Police":"shadow"===n.id?"Intelligence Trained":"event"===n.id?"Event Security":"Elite Protection",discretion:"standard"===n.id?"Professional":"executive"===n.id?"Corporate":"shadow"===n.id?"Covert":"event"===n.id?"Event Appropriate":"Ultra-Discrete",coverage:"standard"===n.id?"Greater London":"executive"===n.id?"UK-wide":"shadow"===n.id?"International":"event"===n.id?"Event Venues":"Global",insurance:"standard"===n.id?"\xa35M":"executive"===n.id?"\xa310M":"shadow"===n.id?"\xa315M":"event"===n.id?"\xa320M":"\xa350M"}[t]||"-"};function pM(){const[t,n]=(0,e.useState)(["standard","executive"]),[i,s]=(0,e.useState)(!1),r=MR.slice(0,4),a=i?uM:uM.slice(0,4);return(0,Sv.jsxs)("div",{className:FR,children:[(0,Sv.jsxs)("div",{className:BR,children:[(0,Sv.jsx)("h2",{className:qR,children:"\ud83d\udcca Compare Protection Services"}),(0,Sv.jsx)("p",{className:zR,children:"Select up to 3 services to compare side-by-side"})]}),(0,Sv.jsx)("div",{className:WR,children:r.map(e=>(0,Sv.jsxs)("button",{className:"".concat(HR," ").concat(t.includes(e.id)?UR:""),onClick:()=>{return t=e.id,void n(e=>e.includes(t)?e.length>1?e.filter(e=>e!==t):e:e.length<3?[...e,t]:e);var t},disabled:t.length>=3&&!t.includes(e.id),children:[(0,Sv.jsx)("span",{className:VR,children:e.icon}),(0,Sv.jsx)("span",{className:GR,children:e.name}),t.includes(e.id)&&(0,Sv.jsx)("span",{className:YR,children:"\xd7"})]},e.id))}),(0,Sv.jsxs)("div",{className:KR,children:[(0,Sv.jsxs)("table",{className:QR,children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{children:[(0,Sv.jsx)("th",{className:ZR,children:"Feature"}),t.map(e=>{const t=MR.find(t=>t.id===e);return(0,Sv.jsx)("th",{className:JR,children:(0,Sv.jsxs)("div",{className:XR,children:[(0,Sv.jsx)("span",{className:$R,children:null===t||void 0===t?void 0:t.icon}),(0,Sv.jsx)("span",{className:eM,children:null===t||void 0===t?void 0:t.name}),(0,Sv.jsx)("span",{className:tM,children:null===t||void 0===t?void 0:t.price})]})},e)})]})}),(0,Sv.jsx)("tbody",{children:a.map(e=>(0,Sv.jsxs)("tr",{children:[(0,Sv.jsx)("td",{className:nM,children:e.label}),t.map(n=>{const i=hM(n,e.key),s=e.format?e.format(i):i,r=((e,n)=>{if(!e.highlight)return!1;const i=t.map(t=>{const n=hM(t,e.key);return"hourlyRate"===e.key?parseInt(n.replace(/[\xa3/hr]/g,"")):n}),s=hM(n,e.key),r="hourlyRate"===e.key?parseInt(s.replace(/[\xa3/hr]/g,"")):s;return"lowest"===e.highlight&&"hourlyRate"===e.key&&r===Math.min(...i)})(e,n);return(0,Sv.jsxs)("td",{className:r?iM:"",children:[s,r&&(0,Sv.jsx)("span",{className:sM,children:"BEST"})]},n)})]},e.key))})]}),(0,Sv.jsx)("button",{className:rM,onClick:()=>s(!i),children:i?"Show Less Features \u2191":"Show More Features \u2193"})]}),(0,Sv.jsxs)("div",{className:aM,children:[(0,Sv.jsxs)("div",{className:oM,children:[(0,Sv.jsx)("span",{className:cM,children:"\ud83e\udd16"}),(0,Sv.jsx)("span",{className:lM,children:"AI Recommendation"})]}),(0,Sv.jsx)("p",{className:dM,children:(()=>{if(t.length<2)return"";return{"standard,executive":"For daily use, Essential offers great value. For business meetings, Executive provides the professional image you need.","standard,shadow":"Essential for routine protection, Shadow for sensitive situations requiring discretion.","executive,shadow":"Both offer premium protection - Executive for corporate visibility, Shadow for covert operations.","standard,executive,shadow":"You have diverse needs! Essential for daily use, Executive for business, Shadow for sensitive missions."}[t.sort().join(",")]||"Each service is designed for specific protection needs. Consider your primary use case."})()})]})]})}const mM={trustBadges:"TrustBadges_trustBadges__7tZv0",badgesTitle:"TrustBadges_badgesTitle__xNv3F",badgesGrid:"TrustBadges_badgesGrid__nlmaI",badge:"TrustBadges_badge__jHBhz",badgeHeader:"TrustBadges_badgeHeader__e8GY0",badgeIcon:"TrustBadges_badgeIcon__zEZfI",badgeContent:"TrustBadges_badgeContent__65sc0",badgeLabel:"TrustBadges_badgeLabel__n1Z9l",badgeTooltip:"TrustBadges_badgeTooltip__Mj9rB",eliteBadge:"TrustBadges_eliteBadge__luCIC",premiumBadge:"TrustBadges_premiumBadge__qisGZ",badgebasic:"TrustBadges_badgebasic__vHzCP",badgepremium:"TrustBadges_badgepremium__ZRN7w",badgeelite:"TrustBadges_badgeelite__FO2m6",levelSummary:"TrustBadges_levelSummary__U8MC7",summaryContent:"TrustBadges_summaryContent__KZRKt",summaryIcon:"TrustBadges_summaryIcon__ZzIXA",summaryText:"TrustBadges_summaryText__ElzIM",trustBadgesCompact:"TrustBadges_trustBadgesCompact__mKRn6",badgeCompact:"TrustBadges_badgeCompact__yNdla",moreIndicator:"TrustBadges_moreIndicator__ZlRoh",badgeAppear:"TrustBadges_badgeAppear__U6vZY"},fM={standard:[{icon:"\ud83d\udee1\ufe0f",label:"SIA Licensed",tooltip:"Security Industry Authority certified officers",level:"basic"},{icon:"\u2705",label:"DBS Checked",tooltip:"Enhanced background checks completed",level:"basic"},{icon:"\ud83c\udfe5",label:"First Aid",tooltip:"Medical emergency response trained",level:"basic"},{icon:"\ud83d\ude97",label:"Insured Vehicle",tooltip:"\xa35M comprehensive insurance coverage",level:"basic"}],executive:[{icon:"\ud83c\udf96\ufe0f",label:"Ex-Military",tooltip:"Former armed forces personnel",level:"premium"},{icon:"\ud83d\ude97",label:"Advanced Driving",tooltip:"Defensive & evasive driving certified",level:"premium"},{icon:"\ud83d\udd12",label:"Level 3 Security",tooltip:"Advanced protection training completed",level:"premium"},{icon:"\ud83c\udfe2",label:"Corporate Trained",tooltip:"Executive protection protocols certified",level:"premium"},{icon:"\ud83d\udcbc",label:"\xa310M Insured",tooltip:"Premium insurance coverage",level:"premium"}],shadow:[{icon:"\ud83e\udd77",label:"Covert Ops",tooltip:"Specialist surveillance & protection training",level:"elite"},{icon:"\ud83d\udc41\ufe0f",label:"Counter-Surveillance",tooltip:"Threat detection & assessment specialists",level:"elite"},{icon:"\ud83c\udf10",label:"Intel Trained",tooltip:"Intelligence service background verification",level:"elite"},{icon:"\ud83d\udd0d",label:"Risk Assessment",tooltip:"Advanced threat evaluation certified",level:"elite"},{icon:"\ud83d\udcb0",label:"\xa315M Coverage",tooltip:"Elite-level insurance protection",level:"elite"}],event:[{icon:"\ud83c\udfdf\ufe0f",label:"Venue Certified",tooltip:"Specialized venue security training",level:"premium"},{icon:"\ud83d\udc65",label:"Crowd Control",tooltip:"Large event management expertise",level:"premium"},{icon:"\ud83d\udccb",label:"Event Planning",tooltip:"Security logistics coordination",level:"premium"},{icon:"\ud83d\udea8",label:"Emergency Response",tooltip:"Crisis management protocols",level:"premium"},{icon:"\ud83c\udfad",label:"Discrete Operations",tooltip:"Event-appropriate security presence",level:"premium"}],luxury:[{icon:"\ud83d\udc51",label:"VIP Certified",tooltip:"Diplomatic protection standard training",level:"elite"},{icon:"\ud83c\udf0d",label:"Global Network",tooltip:"International protection coverage",level:"elite"},{icon:"\u2b50",label:"White Glove",tooltip:"Luxury service excellence standards",level:"elite"},{icon:"\ud83d\udee9\ufe0f",label:"Transport Security",tooltip:"Aviation & maritime protection",level:"elite"},{icon:"\ud83d\udc8e",label:"\xa350M Insured",tooltip:"Ultra-premium coverage levels",level:"elite"}]},_M=e=>{switch(e){case"premium":return"var(--armora-gold)";case"elite":return"#8b5cf6";default:return"#22c55e"}},gM=e=>{switch(e){case"premium":return"linear-gradient(135deg, #f59e0b, #d97706)";case"elite":return"linear-gradient(135deg, #8b5cf6, #7c3aed)";default:return"linear-gradient(135deg, #22c55e, #16a34a)"}};function vM(e){let{serviceLevel:t,compact:n=!1}=e;const i=fM[t]||fM.standard;if(n){const e=i.slice(0,3);return(0,Sv.jsxs)("div",{className:mM.trustBadgesCompact,children:[e.map((e,t)=>(0,Sv.jsxs)("div",{className:mM.badgeCompact,title:e.tooltip,style:{borderColor:_M(e.level)},children:[(0,Sv.jsx)("span",{className:mM.badgeIcon,children:e.icon}),(0,Sv.jsx)("span",{className:mM.badgeLabel,children:e.label})]},t)),i.length>3&&(0,Sv.jsxs)("div",{className:mM.moreIndicator,children:["+",i.length-3," more"]})]})}return(0,Sv.jsxs)("div",{className:mM.trustBadges,children:[(0,Sv.jsx)("h4",{className:mM.badgesTitle,children:"\ud83c\udfc6 Certifications & Standards"}),(0,Sv.jsx)("div",{className:mM.badgesGrid,children:i.map((e,t)=>(0,Sv.jsxs)("div",{className:"".concat(mM.badge," ").concat(mM["badge".concat(e.level)]),title:e.tooltip,children:[(0,Sv.jsx)("div",{className:mM.badgeHeader,style:{background:gM(e.level)},children:(0,Sv.jsx)("span",{className:mM.badgeIcon,children:e.icon})}),(0,Sv.jsxs)("div",{className:mM.badgeContent,children:[(0,Sv.jsx)("span",{className:mM.badgeLabel,children:e.label}),(0,Sv.jsx)("span",{className:mM.badgeTooltip,children:e.tooltip})]}),"elite"===e.level&&(0,Sv.jsx)("div",{className:mM.eliteBadge,children:"ELITE"}),"premium"===e.level&&(0,Sv.jsx)("div",{className:mM.premiumBadge,children:"PREMIUM"})]},t))}),(0,Sv.jsx)("div",{className:mM.levelSummary,children:(0,Sv.jsxs)("div",{className:mM.summaryContent,children:["standard"===t&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:mM.summaryIcon,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:mM.summaryText,children:"Essential protection with full compliance"})]}),"executive"===t&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:mM.summaryIcon,children:"\ud83d\udcbc"}),(0,Sv.jsx)("span",{className:mM.summaryText,children:"Premium protection for business professionals"})]}),"shadow"===t&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:mM.summaryIcon,children:"\ud83e\udd77"}),(0,Sv.jsx)("span",{className:mM.summaryText,children:"Elite covert protection specialists"})]}),"event"===t&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:mM.summaryIcon,children:"\ud83c\udfad"}),(0,Sv.jsx)("span",{className:mM.summaryText,children:"Specialized event security experts"})]}),"luxury"===t&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:mM.summaryIcon,children:"\ud83d\udc51"}),(0,Sv.jsx)("span",{className:mM.summaryText,children:"Ultra-premium VIP protection services"})]})]})})]})}const yM="ServicesPage_servicesContainer__uq26G",xM="ServicesPage_heroSection__d+HvM",bM="ServicesPage_heroContent__V0ovt",SM="ServicesPage_heroTitle__fLPra",wM="ServicesPage_heroSubtitle__5aM5L",NM="ServicesPage_trustIndicators__1kxq2",jM="ServicesPage_trustItem__fGTnT",CM="ServicesPage_trustIcon__MIv-D",kM="ServicesPage_trustNumber__IoDPx",PM="ServicesPage_trustLabel__rHAzz",TM="ServicesPage_trustDivider__dyCEt",EM="ServicesPage_personalizedBadge__LRX1J",AM="ServicesPage_comparisonToggle__0IRyA",IM="ServicesPage_servicesGrid__0Wiua",LM="ServicesPage_serviceCardWrapper__NMCEG",RM="ServicesPage_progressSection__kEfBA",MM="ServicesPage_serviceCount__8NT1+",OM="ServicesPage_trustSection__NKjjF",DM="ServicesPage_trustTitle__9OldU",FM="ServicesPage_certificationBadges__Ntynm",BM="ServicesPage_certBadge__CzXVm",qM="ServicesPage_weddingSection__LmICC";function zM(){var t;const{state:n,navigateToView:i,startProtectionRequest:s}=kv(),{questionnaireData:r}=n,[a,o]=(0,e.useState)(null),[c,l]=(0,e.useState)(!1),d=(0,e.useMemo)(()=>function(e){if(!e)return null;const t=e.recommendedService;return"armora-shadow"===t?"shadow":"armora-executive"===t?"executive":"armora-luxury"===t?"luxury":"standard"}(r),[r]),u=(0,e.useCallback)(e=>{s(e,"services")},[s]),h=(0,e.useCallback)(e=>{o(t=>t===e?null:e)},[]),p=(0,e.useCallback)(()=>{l(e=>!e)},[]);return(0,Sv.jsxs)("div",{className:yM,children:[(0,Sv.jsx)("div",{className:xM,children:(0,Sv.jsxs)("div",{className:bM,children:[(0,Sv.jsx)("h1",{className:SM,children:"Our Protection Services"}),(0,Sv.jsx)("p",{className:wM,children:"SIA-Licensed Close Protection Officers \u2022 Executive Security Specialists"}),(0,Sv.jsxs)("div",{className:NM,children:[(0,Sv.jsxs)("div",{className:jM,children:[(0,Sv.jsx)("span",{className:CM,children:"\u2b50"}),(0,Sv.jsx)("span",{className:kM,children:"4.9"}),(0,Sv.jsx)("span",{className:PM,children:"CLIENT RATING"})]}),(0,Sv.jsx)("div",{className:TM}),(0,Sv.jsxs)("div",{className:jM,children:[(0,Sv.jsx)("span",{className:CM,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:kM,children:"3,741+"}),(0,Sv.jsxs)("span",{className:PM,children:["ASSIGNMENTS",(0,Sv.jsx)("br",{}),"COMPLETED"]})]}),(0,Sv.jsx)("div",{className:TM}),(0,Sv.jsxs)("div",{className:jM,children:[(0,Sv.jsx)("span",{className:CM,children:"\u26a1"}),(0,Sv.jsx)("span",{className:kM,children:"<10min"}),(0,Sv.jsx)("span",{className:PM,children:"RESPONSE TIME"})]}),(0,Sv.jsx)("div",{className:TM}),(0,Sv.jsxs)("div",{className:jM,children:[(0,Sv.jsx)("span",{className:CM,children:"\ud83d\udd12"}),(0,Sv.jsx)("span",{className:kM,children:"100%"}),(0,Sv.jsx)("span",{className:PM,children:"SIA LICENSED"})]})]}),d&&(0,Sv.jsxs)("div",{className:EM,children:["\ud83c\udfaf ",null===(t=MR.find(e=>e.id===d))||void 0===t?void 0:t.name," Protection recommended based on your security profile"]}),(0,Sv.jsxs)("button",{className:AM,onClick:p,children:["\ud83d\udcca ",c?"Hide Comparison":"Compare Protection Levels"]})]})}),c&&(0,Sv.jsx)(pM,{}),(0,Sv.jsx)("div",{className:IM,children:MR.map(e=>(0,Sv.jsxs)("div",{className:LM,children:[(0,Sv.jsx)(DR,{service:e,isRecommended:d===e.id,onExpand:h,onBook:u,autoCollapse:!0,expandedService:a}),a===e.id&&(0,Sv.jsx)(vM,{serviceLevel:e.id,compact:!1})]},e.id))}),(0,Sv.jsx)("div",{className:RM,children:(0,Sv.jsxs)("span",{className:MM,children:["Showing ",MR.length," services"]})}),(0,Sv.jsxs)("div",{className:OM,children:[(0,Sv.jsx)("h3",{className:DM,children:"Industry Leading Standards"}),(0,Sv.jsxs)("div",{className:FM,children:[(0,Sv.jsx)("div",{className:BM,children:"Professionally Trained"}),(0,Sv.jsx)("div",{className:BM,children:"ISO 27001"}),(0,Sv.jsx)("div",{className:BM,children:"\xa310M Insured"}),(0,Sv.jsx)("div",{className:BM,children:"Military Trained"})]})]}),(0,Sv.jsx)("section",{id:"event-security",className:qM,children:(0,Sv.jsx)(RR,{})})]})}const WM={navigationGrid:"NavigationCards_navigationGrid__KyGR6",navCard:"NavigationCards_navCard__bQGyW",active:"NavigationCards_active__LEwMq",current:"NavigationCards_current__jd4sc",upcoming:"NavigationCards_upcoming__CQ060",completed:"NavigationCards_completed__Ton9E",analytics:"NavigationCards_analytics__9GI0p",navCardHeader:"NavigationCards_navCardHeader__VCa6A",navCardLeft:"NavigationCards_navCardLeft__8nam3",navCardIcon:"NavigationCards_navCardIcon__UqHFB",navCardTitle:"NavigationCards_navCardTitle__E1yfT",navCardCount:"NavigationCards_navCardCount__CVtkO",activeIndicator:"NavigationCards_activeIndicator__jdzDh",pulse:"NavigationCards_pulse__VVWyG",newBadge:"NavigationCards_newBadge__eFkwH",priorityBadge:"NavigationCards_priorityBadge__fECLM",pendingBadge:"NavigationCards_pendingBadge__5aV8P",cardContent:"NavigationCards_cardContent__07YaO",assignmentDetails:"NavigationCards_assignmentDetails__3VZCG",assignmentRow:"NavigationCards_assignmentRow__G6P9s",assignmentLabel:"NavigationCards_assignmentLabel__AErpS",assignmentValue:"NavigationCards_assignmentValue__BvjQb",highlight:"NavigationCards_highlight__Hise-",routeInfo:"NavigationCards_routeInfo__t809R",routeText:"NavigationCards_routeText__JC-Oa",routeArrow:"NavigationCards_routeArrow__ZMRyi",primaryStatus:"NavigationCards_primaryStatus__7OISr",progressRow:"NavigationCards_progressRow__hAA3e",officerInfo:"NavigationCards_officerInfo__1X2Ra",nextAssignment:"NavigationCards_nextAssignment__UNT3G",countdownRow:"NavigationCards_countdownRow__51seB",officerSchedule:"NavigationCards_officerSchedule__U062p",monthProgress:"NavigationCards_monthProgress__khywl",statsRow:"NavigationCards_statsRow__HXQ20",spendSection:"NavigationCards_spendSection__FSk50",progressRing:"NavigationCards_progressRing__2n9Rz",miniCalendar:"NavigationCards_miniCalendar__HsDeK",ratingSection:"NavigationCards_ratingSection__Dq1yU",sparkline:"NavigationCards_sparkline__bIr3A",bottomRow:"NavigationCards_bottomRow__XhXt2",calendarSection:"NavigationCards_calendarSection__II0MR",recentInfo:"NavigationCards_recentInfo__0XayJ",loyaltySection:"NavigationCards_loyaltySection__VS5TN",chartSection:"NavigationCards_chartSection__jKVId",topStat:"NavigationCards_topStat__Ojk+V",savingsSection:"NavigationCards_savingsSection__DmeCj",reportSection:"NavigationCards_reportSection__ix+a6",quickActions:"NavigationCards_quickActions__khQSS",smartInsight:"NavigationCards_smartInsight__ZOiAl",statusText:"NavigationCards_statusText__cFw9H",liveIndicator:"NavigationCards_liveIndicator__Yw2hQ",statusDot:"NavigationCards_statusDot__L3OPv",online:"NavigationCards_online__6McP0",offline:"NavigationCards_offline__SynhJ",statusLabel:"NavigationCards_statusLabel__It-yP",timeInfo:"NavigationCards_timeInfo__ebejL",timeRemaining:"NavigationCards_timeRemaining__XwqUH",eta:"NavigationCards_eta__7Flxv",officerName:"NavigationCards_officerName__Pkjnr",currentLocation:"NavigationCards_currentLocation__wNWOU",serviceTier:"NavigationCards_serviceTier__I1CiJ",runningFee:"NavigationCards_runningFee__CYUmL",feeIcon:"NavigationCards_feeIcon__HAxMM",bounce:"NavigationCards_bounce__SBpxI",assignmentTime:"NavigationCards_assignmentTime__LJ-6g",weatherIcon:"NavigationCards_weatherIcon__6icgQ",dayOfWeek:"NavigationCards_dayOfWeek__VyAtj",countdown:"NavigationCards_countdown__pVJfh",countdownTime:"NavigationCards_countdownTime__5ioJW",countdownLabel:"NavigationCards_countdownLabel__g9UJv",favoriteSlot:"NavigationCards_favoriteSlot__09v5V",twinkle:"NavigationCards_twinkle__Kw3T4",assignedOfficer:"NavigationCards_assignedOfficer__kWPJq",totalScheduled:"NavigationCards_totalScheduled__t7lW+",calendarLabel:"NavigationCards_calendarLabel__zGmVU",progressHeader:"NavigationCards_progressHeader__AETgS",progressLabel:"NavigationCards_progressLabel__6ROAi",progressValue:"NavigationCards_progressValue__14Dz8",progressBar:"NavigationCards_progressBar__zVrum",progressFill:"NavigationCards_progressFill__fRYu3",totalCompleted:"NavigationCards_totalCompleted__zwdwu",statNumber:"NavigationCards_statNumber__Sx+cz",statLabel:"NavigationCards_statLabel__Y8Muz",lastAssignment:"NavigationCards_lastAssignment__lYhBE",monthlySavings:"NavigationCards_monthlySavings__ZML3b",loyaltyHeader:"NavigationCards_loyaltyHeader__EUc2k",loyaltyPoints:"NavigationCards_loyaltyPoints__ymKRt",loyaltyNext:"NavigationCards_loyaltyNext__2PIWr",monthlySpend:"NavigationCards_monthlySpend__y42Qb",spendAmount:"NavigationCards_spendAmount__rx8a3",spendTrend:"NavigationCards_spendTrend__jgQTw",trendIcon:"NavigationCards_trendIcon__o2x+A",spendLabel:"NavigationCards_spendLabel__pZNNO",chartLabel:"NavigationCards_chartLabel__AQrii",savingsAmount:"NavigationCards_savingsAmount__mMXmb",savingsLabel:"NavigationCards_savingsLabel__C8kkU",reportStatus:"NavigationCards_reportStatus__R-aQ3",lastUpdated:"NavigationCards_lastUpdated__Bw-a0",actionBtn:"NavigationCards_actionBtn__-HO0s",essentialInfo:"NavigationCards_essentialInfo__AWLh9",statusRow:"NavigationCards_statusRow__mJPZb",statusSection:"NavigationCards_statusSection__czxPh",keyStats:"NavigationCards_keyStats__i88Ws",bullet:"NavigationCards_bullet__YH-RW",investment:"NavigationCards_investment__HiFmH",analyticsIcon:"NavigationCards_analyticsIcon__49bmK",coverageHours:"NavigationCards_coverageHours__lqH2o",investmentAmount:"NavigationCards_investmentAmount__F80Ia",trendIndicator:"NavigationCards_trendIndicator__lJhfg",greenIndicator:"NavigationCards_greenIndicator__EcisK",completedCount:"NavigationCards_completedCount__nt6Nr",averageRating:"NavigationCards_averageRating__C4t37",spentAmount:"NavigationCards_spentAmount__KN8ep",expandButton:"NavigationCards_expandButton__BlVwK",expandedDetails:"NavigationCards_expandedDetails__XX68G",searchFilterSection:"NavigationCards_searchFilterSection__KHd2M",assignmentsList:"NavigationCards_assignmentsList__PBZFE",summaryStats:"NavigationCards_summaryStats__LDZSk",enhancedMetricsGrid:"NavigationCards_enhancedMetricsGrid__aJqGq",protectionPatternsSection:"NavigationCards_protectionPatternsSection__t0FHp",interactiveActions:"NavigationCards_interactiveActions__fAvcM",officerSection:"NavigationCards_officerSection__RdPMy",officerDetails:"NavigationCards_officerDetails__X0tZu",officerCredentials:"NavigationCards_officerCredentials__Cdek0",journeySection:"NavigationCards_journeySection__RF4G-",locationRow:"NavigationCards_locationRow__vnInZ",locationFrom:"NavigationCards_locationFrom__jtKpm",locationTo:"NavigationCards_locationTo__FzUOB",progressText:"NavigationCards_progressText__n7jWP",emptyState:"NavigationCards_emptyState__zkkun",emptyIcon:"NavigationCards_emptyIcon__fWeFo",emptyText:"NavigationCards_emptyText__m51s9",quickAction:"NavigationCards_quickAction__+l6JP",actionIcon:"NavigationCards_actionIcon__YIbp9",navSubtitle:"NavigationCards_navSubtitle__m8kSa",emptyCardState:"NavigationCards_emptyCardState__47Zcd",emptySubtext:"NavigationCards_emptySubtext__H3-8C",statusBar:"NavigationCards_statusBar__23vjC",serviceTierBadge:"NavigationCards_serviceTierBadge__CJjfa",officerTrustSection:"NavigationCards_officerTrustSection__fSzSZ",officerPhotoSection:"NavigationCards_officerPhotoSection__i28Bn",officerPhoto:"NavigationCards_officerPhoto__HkPyL",officerInitials:"NavigationCards_officerInitials__uNBL6",verificationBadge:"NavigationCards_verificationBadge__Ml1Zo",siaLicense:"NavigationCards_siaLicense__Q3LqT",officerRating:"NavigationCards_officerRating__pybLb",specializations:"NavigationCards_specializations__IWQIl",specBadge:"NavigationCards_specBadge__arKlR",journeyProgress:"NavigationCards_journeyProgress__S5Eyb",progressTimeline:"NavigationCards_progressTimeline__z4Slf",startPoint:"NavigationCards_startPoint__kwp4g",endPoint:"NavigationCards_endPoint__UapOM",locationIcon:"NavigationCards_locationIcon__dumCo",locationText:"NavigationCards_locationText__pDIil",progressBarContainer:"NavigationCards_progressBarContainer__jtcCJ",movingIndicator:"NavigationCards_movingIndicator__xD2L0",serviceDetailsGrid:"NavigationCards_serviceDetailsGrid__-yARP",detailColumn:"NavigationCards_detailColumn__J5awE",detailLabel:"NavigationCards_detailLabel__LwQEu",detailValue:"NavigationCards_detailValue__kZUcu",investmentSection:"NavigationCards_investmentSection__xzGHo",investmentLabel:"NavigationCards_investmentLabel__wi9yf",serviceDescription:"NavigationCards_serviceDescription__z7qa8",serviceIncludes:"NavigationCards_serviceIncludes__AufIJ",actionButtons:"NavigationCards_actionButtons__IfAbZ",actionButton:"NavigationCards_actionButton__g5gRh",buttonIcon:"NavigationCards_buttonIcon__qO5vo",buttonLabel:"NavigationCards_buttonLabel__s+ziX",upcomingHeader:"NavigationCards_upcomingHeader__OC-T-",nextDateTime:"NavigationCards_nextDateTime__ayfY5",serviceDetails:"NavigationCards_serviceDetails__JIsld",serviceStatus:"NavigationCards_serviceStatus__6sK22",confirmationStatus:"NavigationCards_confirmationStatus__7TPAw",checkmark:"NavigationCards_checkmark__uRWhL",routeDisplay:"NavigationCards_routeDisplay__nK85H",durationDisplay:"NavigationCards_durationDisplay__l4LRx",countdownSection:"NavigationCards_countdownSection__2fRku",completedHeader:"NavigationCards_completedHeader__BD9LN",summaryTitle:"NavigationCards_summaryTitle__dotMV",safetyStats:"NavigationCards_safetyStats__BQj9r",statItem:"NavigationCards_statItem__ptiGm",safetyStat:"NavigationCards_safetyStat__jYlI7",safetyBadge:"NavigationCards_safetyBadge__13Bka",safetyText:"NavigationCards_safetyText__p2+k2",valueStatement:"NavigationCards_valueStatement__9wvSo",investmentRow:"NavigationCards_investmentRow__Aj9mm",responseTime:"NavigationCards_responseTime__5bRhU",responseLabel:"NavigationCards_responseLabel__iJwY6",responseValue:"NavigationCards_responseValue__TlMtI",ratingLabel:"NavigationCards_ratingLabel__tqUNw",analyticsHeader:"NavigationCards_analyticsHeader__bebD6",periodSelector:"NavigationCards_periodSelector__Lxet-",primaryMetrics:"NavigationCards_primaryMetrics__wJKUZ",metricItem:"NavigationCards_metricItem__OUEXq",metricNumber:"NavigationCards_metricNumber__hPXqO",metricLabel:"NavigationCards_metricLabel__INTN9",investmentMetric:"NavigationCards_investmentMetric__pt+al",trendText:"NavigationCards_trendText__tnUwy",heatMapSection:"NavigationCards_heatMapSection__sjx9Y",heatMapLabel:"NavigationCards_heatMapLabel__EjJGs",heatMapGrid:"NavigationCards_heatMapGrid__ABlPv",heatMapRow:"NavigationCards_heatMapRow__sNu7K",heatMapDay:"NavigationCards_heatMapDay__nIeZS",protected:"NavigationCards_protected__KH+YB",heatMapLegend:"NavigationCards_heatMapLegend__j7JtA",legendItem:"NavigationCards_legendItem__RcV++",legendColor:"NavigationCards_legendColor__ngSX8",insights:"NavigationCards_insights__PpZfs",insightItem:"NavigationCards_insightItem__m7jYp",recommendation:"NavigationCards_recommendation__WvTeW",timeRangeFilters:"NavigationCards_timeRangeFilters__VnoyA",timeRangeBtn:"NavigationCards_timeRangeBtn__LraUB",metricCard:"NavigationCards_metricCard__JRD4H",metricHeader:"NavigationCards_metricHeader__+vmLc",ratingCount:"NavigationCards_ratingCount__5sMZR",statusPoints:"NavigationCards_statusPoints__2mhL2",sectionHeader:"NavigationCards_sectionHeader__4OLZB",sectionTitle:"NavigationCards_sectionTitle__tCWsZ",patternsGrid:"NavigationCards_patternsGrid__yEhxx",patternInsight:"NavigationCards_patternInsight__lzybf",patternIcon:"NavigationCards_patternIcon__Cqaj0",patternContent:"NavigationCards_patternContent__cn35i",patternLabel:"NavigationCards_patternLabel__EwfIs",patternValue:"NavigationCards_patternValue__win6Q",behavioralInsights:"NavigationCards_behavioralInsights__OYd8m",primaryActionBtn:"NavigationCards_primaryActionBtn__0XnbO",secondaryActions:"NavigationCards_secondaryActions__EtnNl",exportOptions:"NavigationCards_exportOptions__qqAp9",exportHeader:"NavigationCards_exportHeader__mv4Cb",exportButtons:"NavigationCards_exportButtons__fdg8Z",exportBtn:"NavigationCards_exportBtn__nLU3b",siaVerified:"NavigationCards_siaVerified__x8hcO",activeProtectionState:"NavigationCards_activeProtectionState__OPjwp",activeStatusLine:"NavigationCards_activeStatusLine__Fds61",pulseIndicator:"NavigationCards_pulseIndicator__QmeBj",activeStatusText:"NavigationCards_activeStatusText__SbiTc",activeTierLine:"NavigationCards_activeTierLine__tWsZn",activeCpoName:"NavigationCards_activeCpoName__ZAEJL",activeServiceTier:"NavigationCards_activeServiceTier__rYwfm",viewLiveProtectionBtn:"NavigationCards_viewLiveProtectionBtn__vdIEx",liveIcon:"NavigationCards_liveIcon__y25n5",arrowIcon:"NavigationCards_arrowIcon__gaaW5",emptyContent:"NavigationCards_emptyContent__1eogS",emptyTextGroup:"NavigationCards_emptyTextGroup__Yynzc",emptyTitle:"NavigationCards_emptyTitle__lBi53",requestProtectionBtn:"NavigationCards_requestProtectionBtn__RjmiL",requestIcon:"NavigationCards_requestIcon__sbuYB",cpoSection:"NavigationCards_cpoSection__2P-J0",cpoInfo:"NavigationCards_cpoInfo__UWVKd",cpoPhoto:"NavigationCards_cpoPhoto__ueOkp",officerImage:"NavigationCards_officerImage__XHwMU",cpoStatus:"NavigationCards_cpoStatus__y4fgO",onlineIndicator:"NavigationCards_onlineIndicator__zyaCe",cpoDetails:"NavigationCards_cpoDetails__wqN6V",cpoName:"NavigationCards_cpoName__eHG5x",cpoCredentials:"NavigationCards_cpoCredentials__Y8TZT",assignmentOverview:"NavigationCards_assignmentOverview__d9yXb",timeSection:"NavigationCards_timeSection__8vdNA",scheduledTime:"NavigationCards_scheduledTime__AmHQc",timeLabel:"NavigationCards_timeLabel__-LkjP",timeValue:"NavigationCards_timeValue__xD+Ho",countdownValue:"NavigationCards_countdownValue__rkNYg",routeSection:"NavigationCards_routeSection__xb1XS",routeIcon:"NavigationCards_routeIcon__fK1LM",vehicleIcon:"NavigationCards_vehicleIcon__4QE+u",durationCost:"NavigationCards_durationCost__aqutK",duration:"NavigationCards_duration__-c6L4",cost:"NavigationCards_cost__zAQfP",statusIndicators:"NavigationCards_statusIndicators__a6anE",statusItem:"NavigationCards_statusItem__l8jgY",favoriteIcon:"NavigationCards_favoriteIcon__WKJMr",tierBadge:"NavigationCards_tierBadge__qVGCh",scheduledSection:"NavigationCards_scheduledSection__qg6yA",dateTime:"NavigationCards_dateTime__fluPF",detailsSection:"NavigationCards_detailsSection__X9x0j",detailRow:"NavigationCards_detailRow__QeV7Z",feeValue:"NavigationCards_feeValue__lYs1x",protectionHistory:"NavigationCards_protectionHistory__iUivq",statsGrid:"NavigationCards_statsGrid__wu42N",statCard:"NavigationCards_statCard__Snqli",statValue:"NavigationCards_statValue__FXmQU",expandedSection:"NavigationCards_expandedSection__YzRZ8",expandedHeader:"NavigationCards_expandedHeader__-H+1D",cpoProfileExpanded:"NavigationCards_cpoProfileExpanded__63LFj",profileRow:"NavigationCards_profileRow__UNatU",profileLabel:"NavigationCards_profileLabel__LcYcH",profileValue:"NavigationCards_profileValue__GmRk6",routeDetails:"NavigationCards_routeDetails__FRqNR",routeRow:"NavigationCards_routeRow__UsPfj",routeLabel:"NavigationCards_routeLabel__DS4S8",routeValue:"NavigationCards_routeValue__lYv36",additionalDetails:"NavigationCards_additionalDetails__XjdLK",expandedEmptyState:"NavigationCards_expandedEmptyState__xLp9x",expandedEmptyText:"NavigationCards_expandedEmptyText__geLwT",requestProtectionButton:"NavigationCards_requestProtectionButton__E8fVi",timePeriodHeader:"NavigationCards_timePeriodHeader__7w7wv",primaryMetricsGroup:"NavigationCards_primaryMetricsGroup__Qq9eG",primaryMetric:"NavigationCards_primaryMetric__enOXN",supportingMetricsGroup:"NavigationCards_supportingMetricsGroup__HTWsb",supportingMetric:"NavigationCards_supportingMetric__ohjzO",usagePattern:"NavigationCards_usagePattern__wQkfO",analyticsEmptyState:"NavigationCards_analyticsEmptyState__B7-Kl",showMoreButton:"NavigationCards_showMoreButton__+VJWq"},HM=(0,e.memo)(t=>{var n,i;let{data:s,isActive:r,onClick:a,screenWidth:o=375,tabId:c,ariaControls:l}=t;const[d,u]=(0,e.useState)(!1);return(0,Sv.jsxs)("div",{className:"".concat(WM.navCard," ").concat(WM.current," ").concat(r?WM.active:""),"data-type":"current",children:[(0,Sv.jsx)("div",{className:WM.navCardHeader,children:(0,Sv.jsxs)("div",{className:WM.navCardLeft,children:[(0,Sv.jsx)("span",{className:WM.navCardIcon,children:"\ud83d\udccb"}),(0,Sv.jsx)("span",{className:WM.navCardTitle,children:"Current"}),(0,Sv.jsxs)("span",{className:WM.navCardCount,children:["(",s.count,")"]})]})}),s.count>0&&(0,Sv.jsx)("div",{className:WM.cardContent,children:(0,Sv.jsxs)("div",{className:WM.activeProtectionState,children:[(0,Sv.jsxs)("div",{className:WM.activeStatusLine,children:[(0,Sv.jsx)("span",{className:WM.pulseIndicator,children:"\u25cf"}),(0,Sv.jsx)("span",{className:WM.activeStatusText,children:"PROTECTION ACTIVE"})]}),(0,Sv.jsxs)("div",{className:WM.activeTierLine,children:[(0,Sv.jsxs)("span",{className:WM.activeCpoName,children:["CPO ",(null===(n=s.assignmentData)||void 0===n||null===(i=n.officerName)||void 0===i?void 0:i.split(" ")[1])||"Davis"]}),(0,Sv.jsx)("span",{className:WM.bullet,children:"\u2022"}),(0,Sv.jsx)("span",{className:WM.activeServiceTier,style:{color:(e=>{switch(e){case"Essential":return"#00D4FF";case"Executive":return"#FFD700";case"Shadow":return"#FF6B6B";default:return"#A0A0A0"}})(s.serviceTier)},children:s.serviceTier})]}),(0,Sv.jsxs)("button",{className:WM.viewLiveProtectionBtn,onClick:e=>{e.stopPropagation()},children:[(0,Sv.jsx)("span",{className:WM.liveIcon,children:"\ud83d\udce1"}),"View Live Protection",(0,Sv.jsx)("span",{className:WM.arrowIcon,children:"\u2192"})]})]})}),0===s.count&&(0,Sv.jsxs)("div",{className:WM.emptyState,children:[(0,Sv.jsxs)("div",{className:WM.emptyContent,children:[(0,Sv.jsx)("span",{className:WM.emptyIcon,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsxs)("div",{className:WM.emptyTextGroup,children:[(0,Sv.jsx)("span",{className:WM.emptyTitle,children:"No Active Protection"}),(0,Sv.jsx)("span",{className:WM.emptySubtext,children:"Next scheduled: Today 4:30 PM"})]})]}),(0,Sv.jsxs)("button",{className:WM.requestProtectionBtn,children:[(0,Sv.jsx)("span",{className:WM.requestIcon,children:"\u2795"}),"Request Protection"]})]})]})}),UM=(0,e.memo)(t=>{var n,i,s,r,a,o,c;let{data:l,isActive:d,onClick:u,screenWidth:h=375,tabId:p,ariaControls:m}=t;const[f,_]=(0,e.useState)(!1),[g,v]=(0,e.useState)(l.countdown);(0,e.useEffect)(()=>{const e=setInterval(()=>{v(l.countdown)},6e4);return()=>clearInterval(e)},[l.countdown]);return(0,Sv.jsxs)("div",{className:"".concat(WM.navCard," ").concat(WM.upcoming," ").concat(WM.primaryCard," ").concat(d?WM.active:""),"data-type":"upcoming",children:[(0,Sv.jsx)("div",{className:WM.navCardHeader,children:(0,Sv.jsxs)("div",{className:WM.navCardLeft,children:[(0,Sv.jsx)("span",{className:WM.navCardTitle,children:"UPCOMING"}),(0,Sv.jsxs)("span",{className:WM.navCardCount,children:["(",l.count,")"]}),l.count>0&&(0,Sv.jsx)("span",{className:WM.priorityBadge,children:"PRIORITY"})]})}),l.count>0&&(0,Sv.jsxs)("div",{className:WM.cardContent,children:[l.assignmentData&&(0,Sv.jsxs)("div",{className:WM.officerSection,children:[(0,Sv.jsx)("div",{className:WM.sectionHeader,children:"ASSIGNED PROTECTION OFFICER"}),(0,Sv.jsx)("div",{className:WM.officerName,children:l.assignmentData.officerName}),(0,Sv.jsxs)("div",{className:WM.siaLicense,children:["SIA License: ",l.assignmentData.officerSIA]}),(0,Sv.jsxs)("div",{className:WM.tierBadge,style:{backgroundColor:(e=>{switch(e){case"Essential":return{color:"#00D4FF",background:"rgba(0, 212, 255, 0.1)"};case"Executive":return{color:"#FFD700",background:"rgba(255, 215, 0, 0.1)"};case"Shadow":return{color:"#FF6B6B",background:"rgba(255, 107, 107, 0.1)"};default:return{color:"#A0A0A0",background:"rgba(160, 160, 160, 0.1)"}}})(l.assignmentData.serviceTier).color,color:"Executive"===l.assignmentData.serviceTier?"#1A1A1A":"#FFFFFF"},children:[l.assignmentData.serviceTier.toUpperCase()," PROTECTION"]})]}),(0,Sv.jsxs)("div",{className:WM.scheduledSection,children:[(0,Sv.jsx)("div",{className:WM.sectionHeader,children:"SCHEDULED"}),(0,Sv.jsxs)("div",{className:WM.dateTime,children:[null===(n=l.assignmentData)||void 0===n?void 0:n.date," at ",null===(i=l.assignmentData)||void 0===i?void 0:i.time]}),(0,Sv.jsx)("div",{className:WM.countdown,children:g}),(0,Sv.jsx)("div",{className:WM.countdownLabel,children:"until protection begins"})]}),(0,Sv.jsxs)("div",{className:WM.detailsSection,children:[(0,Sv.jsx)("div",{className:WM.sectionHeader,children:"ASSIGNMENT DETAILS"}),(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Protection commencement:"})," ",null===(s=l.assignmentData)||void 0===s?void 0:s.location.start]}),(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Secure destination:"})," ",null===(r=l.assignmentData)||void 0===r?void 0:r.location.end]}),(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Coverage duration:"})," ",null===(a=l.assignmentData)||void 0===a?void 0:a.duration]}),(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Service fee:"})," ",(0,Sv.jsxs)("span",{className:WM.feeValue,children:["\xa3",null===(o=l.assignmentData)||void 0===o?void 0:o.totalCost]})]})]}),(0,Sv.jsxs)("div",{className:WM.statusSection,children:[(0,Sv.jsx)("div",{className:WM.statusItem,children:"\u2713 Protection officer confirmed"}),(0,Sv.jsx)("div",{className:WM.statusItem,children:"\u2713 Route optimized"}),l.favoriteTimeSlot&&(0,Sv.jsx)("div",{className:WM.statusItem,children:"\u2605 Favorite time slot"})]}),f&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{className:WM.expandedSection,children:[(0,Sv.jsx)("div",{className:WM.expandedHeader,children:"CPO PROFILE"}),(0,Sv.jsxs)("div",{className:WM.cpoProfileExpanded,children:[(0,Sv.jsxs)("div",{className:WM.profileRow,children:[(0,Sv.jsx)("span",{className:WM.profileLabel,children:"Experience:"}),(0,Sv.jsx)("span",{className:WM.profileValue,children:"8+ years close protection"})]}),(0,Sv.jsxs)("div",{className:WM.profileRow,children:[(0,Sv.jsx)("span",{className:WM.profileLabel,children:"Specialization:"}),(0,Sv.jsx)("span",{className:WM.profileValue,children:"Executive & VIP security"})]}),(0,Sv.jsxs)("div",{className:WM.profileRow,children:[(0,Sv.jsx)("span",{className:WM.profileLabel,children:"Certifications:"}),(0,Sv.jsx)("span",{className:WM.profileValue,children:"SIA Level 3, First Aid, Counter-Surveillance"})]}),(0,Sv.jsxs)("div",{className:WM.profileRow,children:[(0,Sv.jsx)("span",{className:WM.profileLabel,children:"Rating:"}),(0,Sv.jsx)("span",{className:WM.profileValue,children:"\u2b50 4.9/5.0 (127 assignments)"})]})]})]}),(0,Sv.jsxs)("div",{className:WM.expandedSection,children:[(0,Sv.jsx)("div",{className:WM.expandedHeader,children:"ROUTE DETAILS"}),(0,Sv.jsxs)("div",{className:WM.routeDetails,children:[(0,Sv.jsxs)("div",{className:WM.routeRow,children:[(0,Sv.jsx)("span",{className:WM.routeLabel,children:"Estimated travel time:"}),(0,Sv.jsx)("span",{className:WM.routeValue,children:"45 minutes"})]}),(0,Sv.jsxs)("div",{className:WM.routeRow,children:[(0,Sv.jsx)("span",{className:WM.routeLabel,children:"Distance:"}),(0,Sv.jsx)("span",{className:WM.routeValue,children:"18.3 miles"})]}),(0,Sv.jsxs)("div",{className:WM.routeRow,children:[(0,Sv.jsx)("span",{className:WM.routeLabel,children:"Route type:"}),(0,Sv.jsx)("span",{className:WM.routeValue,children:"Optimized for security & efficiency"})]}),(0,Sv.jsxs)("div",{className:WM.routeRow,children:[(0,Sv.jsx)("span",{className:WM.routeLabel,children:"Traffic conditions:"}),(0,Sv.jsx)("span",{className:WM.routeValue,children:"Light (expected)"})]})]})]}),(0,Sv.jsxs)("div",{className:WM.expandedSection,children:[(0,Sv.jsx)("div",{className:WM.expandedHeader,children:"ADDITIONAL DETAILS"}),(0,Sv.jsxs)("div",{className:WM.additionalDetails,children:[(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Vehicle type:"}),(0,Sv.jsx)("span",{className:WM.detailValue,children:(null===(c=l.assignmentData)||void 0===c?void 0:c.vehicleType)||"Executive sedan"})]}),(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Equipment:"}),(0,Sv.jsx)("span",{className:WM.detailValue,children:"Standard security kit"})]}),(0,Sv.jsxs)("div",{className:WM.detailRow,children:[(0,Sv.jsx)("span",{className:WM.detailLabel,children:"Special instructions:"}),(0,Sv.jsx)("span",{className:WM.detailValue,children:"Airport terminal drop-off"})]})]})]})]}),(0,Sv.jsx)("button",{className:WM.showMoreButton,onClick:e=>{e.stopPropagation(),_(!f)},"aria-label":f?"Collapse details":"Expand details",children:f?"Show Less":"Show More"})]}),0===l.count&&(0,Sv.jsxs)("div",{className:WM.emptyCardState,children:[(0,Sv.jsx)("div",{className:WM.emptyText,children:"No upcoming assignments"}),(0,Sv.jsx)("div",{className:WM.emptySubtext,children:"Schedule your next service"})]})]})}),VM=(0,e.memo)(t=>{let{data:n,isActive:i,onClick:s,screenWidth:r=375,tabId:a,ariaControls:o}=t;const[c,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)(""),[h,p]=(0,e.useState)("all"),[m,f]=(0,e.useState)("month"),[_,g]=(0,e.useState)(!1),v=(0,e.useMemo)(()=>[{id:"ASG-003",date:"2024-03-14",time:"16:00",duration:"3 hours",officerName:"Michael Thompson",officerSIA:"SIA-3456-7890",serviceTier:"Essential",totalCost:195,location:{start:"Westminster, London",end:"City of London"},rating:4,vehicleType:"Mercedes E-Class",officerPhoto:"/images/officers/michael-t.jpg"},{id:"ASG-004",date:"2024-03-12",time:"14:30",duration:"4 hours",officerName:"Sarah Mitchell",officerSIA:"SIA-2345-6789",serviceTier:"Executive",totalCost:380,location:{start:"Mayfair, London",end:"Heathrow Airport"},rating:5,vehicleType:"Range Rover Sport",officerPhoto:"/images/officers/sarah-m.jpg"},{id:"ASG-005",date:"2024-03-10",time:"09:00",duration:"6 hours",officerName:"John Davis",officerSIA:"SIA-1234-5678",serviceTier:"Shadow",totalCost:750,location:{start:"Kensington, London",end:"Canary Wharf, London"},rating:5,vehicleType:"BMW 5 Series",officerPhoto:"/images/officers/john-d.jpg"}],[]),y=(0,e.useMemo)(()=>{let e=n.assignments||v;if(d.trim()){const t=d.toLowerCase();e=e.filter(e=>e.officerName.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.location.start.toLowerCase().includes(t)||e.location.end.toLowerCase().includes(t)||e.serviceTier.toLowerCase().includes(t))}switch(h){case"rated":e=e.filter(e=>e.rating&&e.rating>=4);break;case"executive":e=e.filter(e=>"Executive"===e.serviceTier||"Shadow"===e.serviceTier);break;case"recent":const t=new Date;t.setDate(t.getDate()-7),e=e.filter(e=>new Date(e.date)>=t)}const t=new Date;let i=new Date;switch(m){case"week":i.setDate(t.getDate()-7);break;case"month":i.setMonth(t.getMonth()-1);break;case"quarter":i.setMonth(t.getMonth()-3);break;case"all":i=new Date(0)}return e=e.filter(e=>new Date(e.date)>=i),e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())},[n.assignments,v,d,h,m]),x=(0,e.useCallback)(e=>{console.log("Booking again:",e.id)},[]),b=(0,e.useCallback)(()=>{const e=y.map(e=>({date:e.date,officer:e.officerName,route:"".concat(e.location.start," \u2192 ").concat(e.location.end),duration:e.duration,cost:e.totalCost,tier:e.serviceTier}));console.log("Exporting report:",e)},[y]);return(0,Sv.jsxs)("div",{className:"".concat(WM.navCard," ").concat(WM.completed," ").concat(i?WM.active:""),"data-type":"completed",children:[(0,Sv.jsxs)("div",{className:WM.navCardHeader,children:[(0,Sv.jsxs)("div",{className:WM.navCardLeft,children:[(0,Sv.jsx)("span",{className:WM.navCardIcon,children:"\u2705"}),(0,Sv.jsx)("span",{className:WM.navCardTitle,children:"Completed"}),(0,Sv.jsxs)("span",{className:WM.navCardCount,children:["(",n.count,")"]})]}),n.pendingRatings>0&&(0,Sv.jsx)("div",{className:WM.pendingBadge,children:n.pendingRatings})]}),n.count>0&&(0,Sv.jsxs)("div",{className:WM.cardContent,children:[(0,Sv.jsxs)("div",{className:WM.essentialInfo,children:[(0,Sv.jsxs)("div",{className:WM.statusRow,children:[(0,Sv.jsxs)("div",{className:WM.statusSection,children:[(0,Sv.jsx)("span",{className:WM.greenIndicator,children:"\u2713"}),(0,Sv.jsx)("span",{className:WM.statusText,children:"COMPLETED"})]}),(0,Sv.jsx)("button",{className:WM.expandButton,onClick:e=>{e.stopPropagation(),l(!c)},"aria-label":c?"Collapse details":"Expand details",children:c?"Show Less":"Show More"})]}),(0,Sv.jsx)("div",{className:WM.protectionHistory,children:"PROTECTION HISTORY"}),(0,Sv.jsxs)("div",{className:WM.statsGrid,children:[(0,Sv.jsxs)("div",{className:WM.statCard,children:[(0,Sv.jsxs)("div",{className:WM.statValue,style:{color:"#22D3EE"},children:[y.reduce((e,t)=>e+(parseInt(t.duration.split(" ")[0])||0),0),"h"]}),(0,Sv.jsxs)("div",{className:WM.statLabel,children:["Total Hours",(0,Sv.jsx)("br",{}),"Protected"]})]}),(0,Sv.jsxs)("div",{className:WM.statCard,children:[(0,Sv.jsx)("div",{className:WM.statValue,style:{color:"#F59E0B"},children:y.filter(e=>e.rating).length>0?(y.reduce((e,t)=>e+(t.rating||0),0)/y.filter(e=>e.rating).length).toFixed(1)+"\u2605":"\u2014"}),(0,Sv.jsxs)("div",{className:WM.statLabel,children:["Avg Rating",(0,Sv.jsx)("br",{}),"Given"]})]}),(0,Sv.jsxs)("div",{className:WM.statCard,children:[(0,Sv.jsxs)("div",{className:WM.statValue,style:{color:"#D4AF37"},children:["\xa3",y.reduce((e,t)=>e+t.totalCost,0).toLocaleString()]}),(0,Sv.jsxs)("div",{className:WM.statLabel,children:["Total",(0,Sv.jsx)("br",{}),"Invested"]})]}),(0,Sv.jsxs)("div",{className:WM.statCard,children:[(0,Sv.jsx)("div",{className:WM.statValue,style:{color:y.reduce((e,t)=>e+t.totalCost,0)>=5e3?"#D4AF37":y.reduce((e,t)=>e+t.totalCost,0)>=1e3?"#C0C0C0":"#FFFFFF"},children:y.reduce((e,t)=>e+t.totalCost,0)>=5e3?"Gold":y.reduce((e,t)=>e+t.totalCost,0)>=1e3?"Silver":"Guest"}),(0,Sv.jsxs)("div",{className:WM.statLabel,children:["Member",(0,Sv.jsx)("br",{}),"Status"]})]})]})]}),c&&y.length>0&&(0,Sv.jsxs)("div",{className:WM.expandedDetails,children:[(0,Sv.jsxs)("div",{className:WM.searchFilterSection,children:[(0,Sv.jsxs)("div",{className:WM.searchRow,children:[(0,Sv.jsx)("input",{type:"text",placeholder:"Search assignments...",value:d,onChange:e=>u(e.target.value),className:WM.searchInput,onClick:e=>e.stopPropagation()}),(0,Sv.jsx)("button",{className:"".concat(WM.filterToggle," ").concat(_?WM.active:""),onClick:e=>{e.stopPropagation(),g(!_)},children:"\ud83d\udd0d"})]}),_&&(0,Sv.jsxs)("div",{className:WM.filterControls,children:[(0,Sv.jsxs)("div",{className:WM.filterRow,children:[(0,Sv.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:WM.filterSelect,onClick:e=>e.stopPropagation(),children:[(0,Sv.jsx)("option",{value:"all",children:"All Assignments"}),(0,Sv.jsx)("option",{value:"rated",children:"Highly Rated (4+ \u2b50)"}),(0,Sv.jsx)("option",{value:"executive",children:"Executive Tier"}),(0,Sv.jsx)("option",{value:"recent",children:"Recent (Last Week)"})]}),(0,Sv.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:WM.filterSelect,onClick:e=>e.stopPropagation(),children:[(0,Sv.jsx)("option",{value:"week",children:"Last Week"}),(0,Sv.jsx)("option",{value:"month",children:"Last Month"}),(0,Sv.jsx)("option",{value:"quarter",children:"Last Quarter"}),(0,Sv.jsx)("option",{value:"all",children:"All Time"})]})]}),(0,Sv.jsx)("button",{className:WM.exportButton,onClick:e=>{e.stopPropagation(),b()},children:"\ud83d\udcc4 Export Report"})]})]}),(0,Sv.jsxs)("div",{className:WM.assignmentsList,children:[y.slice(0,3).map(e=>(0,Sv.jsxs)("div",{className:WM.assignmentItem,children:[(0,Sv.jsxs)("div",{className:WM.assignmentHeader,children:[(0,Sv.jsxs)("div",{className:WM.officerInfo,children:[e.officerPhoto&&(0,Sv.jsx)("img",{src:e.officerPhoto,alt:e.officerName,className:WM.officerPhoto,onError:e=>{e.currentTarget.style.display="none"}}),(0,Sv.jsxs)("div",{className:WM.officerDetails,children:[(0,Sv.jsx)("span",{className:WM.officerName,children:e.officerName}),(0,Sv.jsx)("span",{className:WM.serviceTier,children:e.serviceTier})]})]}),e.rating&&(0,Sv.jsx)("div",{className:WM.assignmentRating,children:"\u2605".repeat(e.rating)})]}),(0,Sv.jsxs)("div",{className:WM.assignmentDetails,children:[(0,Sv.jsx)("div",{className:WM.routeInfo,children:(0,Sv.jsxs)("span",{className:WM.routeText,children:[e.location.start.split(",")[0]," \u2192 ",e.location.end.split(",")[0]]})}),(0,Sv.jsxs)("div",{className:WM.assignmentMeta,children:[(0,Sv.jsx)("span",{className:WM.assignmentDate,children:e.date}),(0,Sv.jsx)("span",{className:WM.assignmentDuration,children:e.duration}),(0,Sv.jsxs)("span",{className:WM.assignmentCost,children:["\xa3",e.totalCost]})]})]}),(0,Sv.jsxs)("div",{className:WM.assignmentActions,children:[(0,Sv.jsx)("button",{className:WM.bookAgainButton,onClick:t=>{t.stopPropagation(),x(e)},children:"\ud83d\udd04 Book Again"}),(0,Sv.jsx)("span",{className:WM.vehicleType,children:e.vehicleType})]})]},e.id)),y.length>3&&(0,Sv.jsx)("div",{className:WM.moreAssignments,children:(0,Sv.jsxs)("span",{className:WM.moreText,children:["+",y.length-3," more assignments"]})}),0===y.length&&(0,Sv.jsxs)("div",{className:WM.noResults,children:[(0,Sv.jsx)("span",{className:WM.noResultsIcon,children:"\ud83d\udd0d"}),(0,Sv.jsx)("span",{className:WM.noResultsText,children:"No assignments match your search"})]})]}),(0,Sv.jsxs)("div",{className:WM.summaryStats,children:[(0,Sv.jsxs)("div",{className:WM.statItem,children:[(0,Sv.jsx)("span",{className:WM.statNumber,children:y.length}),(0,Sv.jsx)("span",{className:WM.statLabel,children:"Filtered Results"})]}),(0,Sv.jsxs)("div",{className:WM.statItem,children:[(0,Sv.jsxs)("span",{className:WM.statNumber,children:["\xa3",y.reduce((e,t)=>e+t.totalCost,0)]}),(0,Sv.jsx)("span",{className:WM.statLabel,children:"Total Investment"})]}),(0,Sv.jsxs)("div",{className:WM.statItem,children:[(0,Sv.jsx)("span",{className:WM.statNumber,children:(y.reduce((e,t)=>e+(t.rating||0),0)/y.filter(e=>e.rating).length||0).toFixed(1)}),(0,Sv.jsx)("span",{className:WM.statLabel,children:"Avg Rating"})]})]}),(0,Sv.jsxs)("div",{className:WM.quickActions,children:[(0,Sv.jsx)("button",{className:WM.actionBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udccb Full History"}),(0,Sv.jsx)("button",{className:WM.actionBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udcca Analytics"}),(0,Sv.jsx)("button",{className:WM.actionBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udcb3 Expense Report"})]})]}),c&&0===y.length&&(0,Sv.jsx)("div",{className:WM.expandedEmptyState,children:(0,Sv.jsx)("div",{className:WM.expandedEmptyText,children:"No completed assignments yet. Book your first protection service to start building your history."})})]}),0===n.count&&(0,Sv.jsxs)("div",{className:WM.cardContent,children:[(0,Sv.jsx)("div",{className:WM.protectionHistory,children:"PROTECTION HISTORY"}),(0,Sv.jsx)("div",{className:WM.emptyCardState,children:(0,Sv.jsx)("div",{className:WM.emptyText,children:"No completed protection assignments yet. Your history will appear here after your first assignment."})}),(0,Sv.jsx)("button",{className:WM.requestProtectionButton,onClick:e=>{e.stopPropagation(),console.log("Navigate to where-when booking")},children:"Request Protection"})]})]})}),GM={sparklineContainer:"MicroVisualizations_sparklineContainer__fZkcr",sparklineSvg:"MicroVisualizations_sparklineSvg__Qos+S",sparklineEmpty:"MicroVisualizations_sparklineEmpty__do1NM",barChartContainer:"MicroVisualizations_barChartContainer__3Jw66",barChartSvg:"MicroVisualizations_barChartSvg__YKQzc",barRect:"MicroVisualizations_barRect__Wvhqr",barValue:"MicroVisualizations_barValue__wA6HB",barLabel:"MicroVisualizations_barLabel__Pleyj",chartEmpty:"MicroVisualizations_chartEmpty__103la",progressRingContainer:"MicroVisualizations_progressRingContainer__rX-3-",progressRingSvg:"MicroVisualizations_progressRingSvg__5S+me",progressRingBackground:"MicroVisualizations_progressRingBackground__hv5ee",progressRingProgress:"MicroVisualizations_progressRingProgress__LWfiy",progressRingText:"MicroVisualizations_progressRingText__oTNyU",progressRingLabel:"MicroVisualizations_progressRingLabel__yMtLK",trendIndicator:"MicroVisualizations_trendIndicator__nEU1V",small:"MicroVisualizations_small__X57f0",trendIcon:"MicroVisualizations_trendIcon__0lh0L",medium:"MicroVisualizations_medium__Lt4if",large:"MicroVisualizations_large__4I6xA",trendValue:"MicroVisualizations_trendValue__VO7oD"},YM=e=>{let{data:t,width:n=60,height:i=24,color:s="#00FF88",strokeWidth:r=2,showTrend:a=!1,className:o=""}=e;if(!t||t.length<2)return(0,Sv.jsx)("div",{className:"".concat(GM.sparklineEmpty," ").concat(o)});const c=Math.min(...t),l=Math.max(...t)-c||1,d=t.map((e,s)=>{const r=s/(t.length-1)*n,a=i-(e-c)/l*i;return"".concat(0===s?"M":"L"," ").concat(r," ").concat(a)}).join(" "),u=t[t.length-1]-t[0],h=u>0?"#00FF88":u<0?"#FF6B6B":"#FFD700";return(0,Sv.jsxs)("div",{className:"".concat(GM.sparklineContainer," ").concat(o),children:[(0,Sv.jsxs)("svg",{width:n,height:i,className:GM.sparklineSvg,children:[(0,Sv.jsx)("path",{d:d,fill:"none",stroke:s,strokeWidth:r,strokeLinecap:"round",strokeLinejoin:"round"}),(0,Sv.jsx)("defs",{children:(0,Sv.jsxs)("linearGradient",{id:"gradient-".concat(Date.now()),x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Sv.jsx)("stop",{offset:"0%",stopColor:s,stopOpacity:.3}),(0,Sv.jsx)("stop",{offset:"100%",stopColor:s,stopOpacity:.05})]})}),(0,Sv.jsx)("path",{d:"".concat(d," L ").concat(n," ").concat(i," L 0 ").concat(i," Z"),fill:"url(#gradient-".concat(Date.now(),")")})]}),a&&(0,Sv.jsx)("span",{className:GM.trendIndicator,style:{color:h},children:u>0?"\u2197":u<0?"\u2198":"\u2192"})]})},KM=e=>{let{data:t,width:n=120,height:i=60,showLabels:s=!0,showValues:r=!1,className:a=""}=e;if(!t||0===t.length)return(0,Sv.jsx)("div",{className:"".concat(GM.chartEmpty," ").concat(a)});const o=Math.max(...t.map(e=>e.value)),c=n/t.length*.8,l=n/t.length*.2;return(0,Sv.jsx)("div",{className:"".concat(GM.barChartContainer," ").concat(a),children:(0,Sv.jsx)("svg",{width:n,height:i,className:GM.barChartSvg,children:t.map((e,t)=>{const n=e.value/o*(i-20),a=t*(c+l)+l/2,d=i-n-(s?15:5);return(0,Sv.jsxs)("g",{children:[(0,Sv.jsx)("rect",{x:a,y:d,width:c,height:n,fill:e.color||"#00FF88",className:GM.barRect,rx:2}),r&&(0,Sv.jsx)("text",{x:a+c/2,y:d-2,textAnchor:"middle",className:GM.barValue,fontSize:"10",fill:"#fff",children:e.value}),s&&(0,Sv.jsx)("text",{x:a+c/2,y:i-2,textAnchor:"middle",className:GM.barLabel,fontSize:"9",fill:"#888",children:e.label})]},t)})})})},QM=e=>{let{value:t,size:n=40,strokeWidth:i=3,color:s="#00FF88",backgroundColor:r="#333",showPercentage:a=!0,label:o,className:c=""}=e;const l=Math.max(0,Math.min(100,t)),d=(n-i)/2,u=2*d*Math.PI,h=u,p=u-l/100*u,m=n/2;return(0,Sv.jsxs)("div",{className:"".concat(GM.progressRingContainer," ").concat(c),children:[(0,Sv.jsxs)("svg",{width:n,height:n,className:GM.progressRingSvg,children:[(0,Sv.jsx)("circle",{cx:m,cy:m,r:d,fill:"none",stroke:r,strokeWidth:i,className:GM.progressRingBackground}),(0,Sv.jsx)("circle",{cx:m,cy:m,r:d,fill:"none",stroke:s,strokeWidth:i,strokeDasharray:h,strokeDashoffset:p,strokeLinecap:"round",className:GM.progressRingProgress,transform:"rotate(-90 ".concat(m," ").concat(m,")")}),a&&(0,Sv.jsxs)("text",{x:m,y:m,textAnchor:"middle",dominantBaseline:"middle",className:GM.progressRingText,fontSize:n>30?"10":"8",fill:"#fff",children:[Math.round(l),"%"]})]}),o&&(0,Sv.jsx)("span",{className:GM.progressRingLabel,children:o})]})},ZM=e=>{let{value:t,showValue:n=!0,size:i="medium",className:s=""}=e;const r=(a=t)>0?"#00FF88":a<0?"#FF6B6B":"#FFD700";var a;const o=(e=>e>5?"\u2197":e>0?"\u2191":e<-5?"\u2198":e<0?"\u2193":"\u2192")(t);return(0,Sv.jsxs)("span",{className:"".concat(GM.trendIndicator," ").concat(GM[i]," ").concat(s),style:{color:r},children:[(0,Sv.jsx)("span",{className:GM.trendIcon,children:o}),n&&(0,Sv.jsx)("span",{className:GM.trendValue,children:(e=>{const t=Math.abs(e);return"".concat(t>=100?Math.round(t):t>=10?t.toFixed(0):t.toFixed(1),"%")})(t)})]})},JM=(0,e.memo)(t=>{var n;let{data:i,isActive:s,onClick:r,screenWidth:a=375,tabId:o,ariaControls:c}=t;const[l,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)("month"),[p,m]=(0,e.useState)(!1),f=a>=320;return(0,Sv.jsxs)("div",{className:"".concat(WM.navCard," ").concat(WM.analytics," ").concat(s?WM.active:""),"data-type":"analytics",children:[(0,Sv.jsx)("div",{className:WM.navCardHeader,children:(0,Sv.jsxs)("div",{className:WM.navCardLeft,children:[(0,Sv.jsx)("span",{className:WM.navCardTitle,children:"ANALYTICS"}),i.hasNewReport&&(0,Sv.jsx)("span",{className:WM.newBadge,children:"NEW"})]})}),(0,Sv.jsxs)("div",{className:WM.cardContent,children:[(0,Sv.jsx)("div",{className:WM.timePeriodHeader,children:"LAST 30 DAYS"}),0===i.totalHours?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:WM.analyticsEmptyState,children:"No protection assignments in the last 30 days. Your usage insights will appear here after your next assignment."}),(0,Sv.jsx)("button",{className:WM.requestProtectionButton,onClick:e=>{e.stopPropagation(),console.log("Navigate to where-when booking")},children:"Request Protection"})]}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{className:WM.primaryMetricsGroup,children:[(0,Sv.jsxs)("div",{className:WM.primaryMetric,style:{color:"#22D3EE"},children:[i.totalHours,"h coverage"]}),(0,Sv.jsxs)("div",{className:WM.primaryMetric,style:{color:"#D4AF37"},children:["\xa3",i.totalInvestment.toLocaleString()," invested"]}),(0,Sv.jsxs)("div",{className:WM.primaryMetric,style:{color:i.monthlyTrend>0?"#10B981":i.monthlyTrend<0?"#EF4444":"rgba(255, 255, 255, 0.65)"},children:[i.monthlyTrend>0?"\u2191":i.monthlyTrend<0?"\u2193":"\u2192"," ",Math.abs(i.monthlyTrend),"% vs previous month"]})]}),(0,Sv.jsxs)("div",{className:WM.supportingMetricsGroup,children:[(0,Sv.jsxs)("div",{className:WM.supportingMetric,children:[Math.round(i.totalHours/i.protectionPatterns.averageAssignmentDuration)," assignments completed"]}),(0,Sv.jsxs)("div",{className:WM.supportingMetric,children:["Average ",i.protectionPatterns.averageAssignmentDuration,"h per assignment"]})]}),(0,Sv.jsxs)("div",{className:WM.usagePattern,children:["Most used: ",(0,Sv.jsxs)("span",{className:WM.tierBadge,style:{backgroundColor:"Executive"===i.protectionPatterns.mostUsedTier?"rgba(212, 175, 55, 0.1)":"Shadow"===i.protectionPatterns.mostUsedTier?"rgba(168, 85, 247, 0.1)":"rgba(59, 130, 246, 0.1)",color:"Executive"===i.protectionPatterns.mostUsedTier?"#D4AF37":"Shadow"===i.protectionPatterns.mostUsedTier?"#A855F7":"#3B82F6"},children:[i.protectionPatterns.mostUsedTier," Protection"]})]}),(0,Sv.jsx)("button",{className:WM.showMoreButton,onClick:e=>{e.stopPropagation(),d(!l)},"aria-label":l?"Collapse details":"Expand details",children:l?"Show Less":"Show More"})]}),l&&i.totalHours>0&&(0,Sv.jsxs)("div",{className:WM.expandedDetails,children:[(0,Sv.jsx)("div",{className:WM.timeRangeFilters,children:["week","month","all"].map(e=>(0,Sv.jsx)("button",{className:"".concat(WM.timeRangeBtn," ").concat(u===e?WM.active:""),onClick:t=>{t.stopPropagation(),h(e)},children:"week"===e?"This Week":"month"===e?"This Month":"All Time"},e))}),(0,Sv.jsxs)("div",{className:WM.enhancedMetricsGrid,children:[(0,Sv.jsxs)("div",{className:WM.metricCard,children:[(0,Sv.jsxs)("div",{className:WM.metricHeader,children:[(0,Sv.jsx)("span",{className:WM.metricNumber,children:i.totalHours}),(0,Sv.jsx)(ZM,{value:23,size:"small"})]}),(0,Sv.jsx)("span",{className:WM.metricLabel,children:"Hours Protected"}),(0,Sv.jsx)(YM,{data:i.sparklineData,width:50,height:16,color:"#00FF88"})]}),(0,Sv.jsxs)("div",{className:WM.metricCard,children:[(0,Sv.jsxs)("div",{className:WM.metricHeader,children:[(0,Sv.jsxs)("span",{className:WM.metricNumber,children:["\xa3",i.totalInvestment.toLocaleString()]}),(0,Sv.jsx)(ZM,{value:i.monthlyTrend,size:"small"})]}),(0,Sv.jsx)("span",{className:WM.metricLabel,children:"Security Investment"}),(0,Sv.jsx)(KM,{data:i.weeklyData,width:50,height:16,showLabels:!1})]}),(0,Sv.jsxs)("div",{className:WM.metricCard,children:[(0,Sv.jsxs)("div",{className:WM.metricHeader,children:[(0,Sv.jsxs)("span",{className:WM.metricNumber,children:[i.avgRating,"\u2605"]}),(0,Sv.jsx)("span",{className:WM.ratingCount,children:"(15 reviews)"})]}),(0,Sv.jsx)("span",{className:WM.metricLabel,children:"Service Rating"}),(0,Sv.jsx)(QM,{value:20*i.avgRating,size:24,showPercentage:!1,color:"#FFD700"})]}),(0,Sv.jsxs)("div",{className:WM.metricCard,children:[(0,Sv.jsxs)("div",{className:WM.metricHeader,children:[(0,Sv.jsx)("span",{className:WM.metricNumber,children:"Gold"}),(0,Sv.jsx)("span",{className:WM.statusPoints,children:"230 pts to Platinum"})]}),(0,Sv.jsx)("span",{className:WM.metricLabel,children:"Status"}),(0,Sv.jsx)(QM,{value:i.statusProgress,size:24,color:"#FFD700",showPercentage:!1})]})]}),f&&(0,Sv.jsxs)("div",{className:WM.heatMapSection,children:[(0,Sv.jsx)("div",{className:WM.heatMapLabel,children:"Protection Calendar (Last 2 weeks)"}),(0,Sv.jsxs)("div",{className:WM.heatMapGrid,children:[(0,Sv.jsxs)("div",{className:WM.heatMapRow,children:[(0,Sv.jsx)("div",{className:WM.heatMapDay}),(0,Sv.jsx)("div",{className:"".concat(WM.heatMapDay," ").concat(WM.protected)}),(0,Sv.jsx)("div",{className:WM.heatMapDay}),(0,Sv.jsx)("div",{className:"".concat(WM.heatMapDay," ").concat(WM.protected)}),(0,Sv.jsx)("div",{className:"".concat(WM.heatMapDay," ").concat(WM.protected)}),(0,Sv.jsx)("div",{className:WM.heatMapDay}),(0,Sv.jsx)("div",{className:WM.heatMapDay})]}),(0,Sv.jsxs)("div",{className:WM.heatMapRow,children:[(0,Sv.jsx)("div",{className:WM.heatMapDay}),(0,Sv.jsx)("div",{className:WM.heatMapDay}),(0,Sv.jsx)("div",{className:"".concat(WM.heatMapDay," ").concat(WM.protected)}),(0,Sv.jsx)("div",{className:WM.heatMapDay}),(0,Sv.jsx)("div",{className:"".concat(WM.heatMapDay," ").concat(WM.protected)}),(0,Sv.jsx)("div",{className:"".concat(WM.heatMapDay," ").concat(WM.protected)}),(0,Sv.jsx)("div",{className:WM.heatMapDay})]})]}),(0,Sv.jsxs)("div",{className:WM.heatMapLegend,children:[(0,Sv.jsxs)("span",{className:WM.legendItem,children:[(0,Sv.jsx)("div",{className:"".concat(WM.legendColor," ").concat(WM.protected)}),"Protected"]}),(0,Sv.jsxs)("span",{className:WM.legendItem,children:[(0,Sv.jsx)("div",{className:WM.legendColor}),"Standard"]})]})]}),(0,Sv.jsxs)("div",{className:WM.protectionPatternsSection,children:[(0,Sv.jsx)("div",{className:WM.sectionHeader,children:(0,Sv.jsx)("span",{className:WM.sectionTitle,children:"Your Protection Patterns"})}),(0,Sv.jsxs)("div",{className:WM.patternsGrid,children:[(0,Sv.jsxs)("div",{className:WM.patternInsight,children:[(0,Sv.jsx)("span",{className:WM.patternIcon,children:"\ud83c\udfaf"}),(0,Sv.jsxs)("div",{className:WM.patternContent,children:[(0,Sv.jsx)("span",{className:WM.patternLabel,children:"Preferred Tier"}),(0,Sv.jsx)("span",{className:WM.patternValue,children:i.protectionPatterns.mostUsedTier})]})]}),(0,Sv.jsxs)("div",{className:WM.patternInsight,children:[(0,Sv.jsx)("span",{className:WM.patternIcon,children:"\u23f1\ufe0f"}),(0,Sv.jsxs)("div",{className:WM.patternContent,children:[(0,Sv.jsx)("span",{className:WM.patternLabel,children:"Avg Duration"}),(0,Sv.jsxs)("span",{className:WM.patternValue,children:[i.protectionPatterns.averageAssignmentDuration,"h"]})]})]}),(0,Sv.jsxs)("div",{className:WM.patternInsight,children:[(0,Sv.jsx)("span",{className:WM.patternIcon,children:"\ud83d\udcc5"}),(0,Sv.jsxs)("div",{className:WM.patternContent,children:[(0,Sv.jsx)("span",{className:WM.patternLabel,children:"Peak Usage"}),(0,Sv.jsx)("span",{className:WM.patternValue,children:"Weekday evenings"})]})]})]}),(0,Sv.jsxs)("div",{className:WM.behavioralInsights,children:[(0,Sv.jsxs)("div",{className:WM.insightItem,children:["\ud83c\udfe0\u2194\ud83c\udfe2 Most protected route: ",(null===(n=i.favoriteRoutes[0])||void 0===n?void 0:n.route)||"Home \u2194 Office"]}),(0,Sv.jsxs)("div",{className:WM.insightItem,children:["\ud83d\udcca Weekday vs Weekend: ",i.protectionPatterns.weekdayVsWeekend.weekday,"% / ",i.protectionPatterns.weekdayVsWeekend.weekend,"%"]}),(0,Sv.jsx)("div",{className:WM.recommendation,children:"\ud83d\udca1 Optimization: Consider weekend coverage packages for 15% savings"})]})]}),(0,Sv.jsxs)("div",{className:WM.interactiveActions,children:[(0,Sv.jsx)("button",{className:WM.primaryActionBtn,onClick:e=>{e.stopPropagation(),m(!p)},children:"\ud83d\udcca Export Report"}),(0,Sv.jsxs)("div",{className:WM.secondaryActions,children:[(0,Sv.jsx)("button",{className:WM.actionBtn,onClick:e=>e.stopPropagation(),children:"\u26a1 Optimize"}),(0,Sv.jsx)("button",{className:WM.actionBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udcc8 Trends"}),(0,Sv.jsx)("button",{className:WM.actionBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udd0d Deep Dive"})]})]}),p&&(0,Sv.jsxs)("div",{className:WM.exportOptions,children:[(0,Sv.jsx)("div",{className:WM.exportHeader,children:"Export Analytics Report"}),(0,Sv.jsxs)("div",{className:WM.exportButtons,children:[(0,Sv.jsx)("button",{className:WM.exportBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udcc4 PDF Summary"}),(0,Sv.jsx)("button",{className:WM.exportBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udcca Excel Data"}),(0,Sv.jsx)("button",{className:WM.exportBtn,onClick:e=>e.stopPropagation(),children:"\ud83d\udce7 Email Report"})]})]})]})]})]})}),XM=t=>{let{activeSection:n,setActiveSection:i,assignmentCounts:s,currentAssignments:r,upcomingAssignments:a,completedAssignments:c}=t;const[l,d]=(0,e.useState)(window.innerWidth);(0,e.useEffect)(()=>{const e=()=>d(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const u=(0,e.useMemo)(()=>{const e=r[0];return e?{status:"Protection Detail Active",timeRemaining:e.duration,officerName:e.officerName,officerStatus:"online",currentLocation:e.location.start,serviceTier:e.serviceTier,runningFare:"\xa3".concat(e.totalCost),progressPercent:75,eta:e.time,count:s.current,assignmentData:e}:{status:"No Active Protection",timeRemaining:"0 minutes",officerName:"No Officer Assigned",officerStatus:"offline",currentLocation:"No Location",serviceTier:"Essential",runningFare:"\xa30",progressPercent:0,eta:"N/A",count:0,assignmentData:null}},[r,s.current]),h=(0,e.useMemo)(()=>{const e=a[0];return e?{nextAssignment:"".concat(e.date," ").concat(e.time),countdown:"18h 45m",officerAssigned:e.officerName,dayOfWeek:new Date(e.date).toLocaleDateString("en-US",{weekday:"long"}),totalScheduled:a.length,duration:e.duration,favoriteTimeSlot:!0,miniCalendar:[2,4,5],weather:"\u2600\ufe0f",count:s.upcoming,assignmentData:e}:{nextAssignment:"No upcoming assignments",countdown:"N/A",officerAssigned:"No Officer Assigned",dayOfWeek:"N/A",totalScheduled:0,duration:"No assignments scheduled",favoriteTimeSlot:!1,miniCalendar:[],weather:"\u2600\ufe0f",count:0,assignmentData:null}},[a,s.upcoming]),p=(0,e.useMemo)(()=>({monthLabel:"This Month",totalCompleted:3,averageRating:4.9,lastAssignment:"2 hours ago",pendingRatings:3,loyaltyPoints:850,pointsToNextTier:150,spentThisMonth:"\xa3890",monthProgress:15,savedThisMonth:"\xa3125",count:s.completed}),[s.completed]),m=(0,e.useMemo)(()=>({monthlySpend:2450,spendTrend:-18,sparklineData:[2200,2100,2300,2250,2400,2300,2450],topStat:"127 hours protected",spendingLabel:"\xa32,450 monthly spending",reportStatus:"Ready",lastUpdated:"2 hours ago",hasNewReport:!0,savingsAchieved:245,totalHours:127,totalInvestment:8450,avgRating:4.9,statusProgress:76,weeklyData:[{label:"Mon",value:8},{label:"Tue",value:12},{label:"Wed",value:6},{label:"Thu",value:15},{label:"Fri",value:9},{label:"Sat",value:4},{label:"Sun",value:3}],monthlyTrend:12,favoriteRoutes:[{route:"Home \u2194 Office",frequency:65},{route:"Office \u2194 Airport",frequency:22},{route:"Home \u2194 Restaurant",frequency:13}],peakTimes:[{time:"Weekday evenings",percentage:45},{time:"Monday mornings",percentage:28},{time:"Friday afternoons",percentage:18}],protectionPatterns:{mostUsedTier:"Executive",averageAssignmentDuration:3.2,frequentDestinations:["Central London","Canary Wharf","Heathrow Airport"],weekdayVsWeekend:{weekday:78,weekend:22}}}),[]),f=(0,e.useCallback)(e=>{const t=["current","upcoming","completed","analytics"],s=t.indexOf(n);if(-1!==s)if("ArrowRight"===e.key||"ArrowDown"===e.key){e.preventDefault();const n=t[(s+1)%t.length];i(n);const r=document.getElementById("tab-".concat(n));null===r||void 0===r||r.focus()}else if("ArrowLeft"===e.key||"ArrowUp"===e.key){e.preventDefault();const n=t[(s-1+t.length)%t.length];i(n);const r=document.getElementById("tab-".concat(n));null===r||void 0===r||r.focus()}else if("Home"===e.key){var r;e.preventDefault(),i(t[0]),null===(r=document.getElementById("tab-".concat(t[0])))||void 0===r||r.focus()}else if("End"===e.key){var a;e.preventDefault(),i(t[t.length-1]),null===(a=document.getElementById("tab-".concat(t[t.length-1])))||void 0===a||a.focus()}},[n,i]),_=["current","upcoming","completed","analytics"],g=(0,e.useCallback)(e=>{const t=_.indexOf(n);if(-1===t)return;const s="next"===e?(t+1)%_.length:(t-1+_.length)%_.length;i(_[s])},[n,i]),{swipeProps:v}=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{threshold:i=50,prevent:s=!1}=n,[r,a]=(0,e.useState)(!1),o=(0,e.useRef)(null),c=(0,e.useRef)(null),l=(0,e.useCallback)(e=>{const t=e.touches[0];o.current={x:t.clientX,y:t.clientY},c.current={x:t.clientX,y:t.clientY},a(!0),s&&e.preventDefault()},[s]),d=(0,e.useCallback)(e=>{if(!o.current)return;const t=e.touches[0];c.current={x:t.clientX,y:t.clientY},s&&e.preventDefault()},[s]),u=(0,e.useCallback)(e=>{if(!o.current||!c.current)return void a(!1);const n=c.current.x-o.current.x,r=c.current.y-o.current.y,l=Math.abs(n),d=Math.abs(r);var u,h,p,m;Math.max(l,d)>i&&(l>d?n>0?null===(u=t.onSwipeRight)||void 0===u||u.call(t):null===(h=t.onSwipeLeft)||void 0===h||h.call(t):r>0?null===(p=t.onSwipeDown)||void 0===p||p.call(t):null===(m=t.onSwipeUp)||void 0===m||m.call(t)),o.current=null,c.current=null,a(!1),s&&e.preventDefault()},[t,i,s]);return{swipeProps:{onTouchStart:l,onTouchMove:d,onTouchEnd:u},isSwiping:r}}({onSwipeLeft:()=>g("next"),onSwipeRight:()=>g("prev")},{threshold:50,prevent:!1});return(0,Sv.jsxs)("div",o(o({className:WM.navigationGrid,role:"tablist","aria-label":"Assignment sections",onKeyDown:f},v),{},{children:[(0,Sv.jsx)(HM,{data:u,isActive:"current"===n,onClick:(0,e.useCallback)(()=>i("current"),[i]),screenWidth:l,tabId:"tab-current",ariaControls:"panel-current"}),(0,Sv.jsx)(UM,{data:h,isActive:"upcoming"===n,onClick:(0,e.useCallback)(()=>i("upcoming"),[i]),screenWidth:l,tabId:"tab-upcoming",ariaControls:"panel-upcoming"}),(0,Sv.jsx)(VM,{data:p,isActive:"completed"===n,onClick:(0,e.useCallback)(()=>i("completed"),[i]),screenWidth:l,tabId:"tab-completed",ariaControls:"panel-completed"}),(0,Sv.jsx)(JM,{data:m,isActive:"analytics"===n,onClick:(0,e.useCallback)(()=>i("analytics"),[i]),screenWidth:l,tabId:"tab-analytics",ariaControls:"panel-analytics"})]}))},$M="TimeExtensionModal_modalOverlay__uxovb",eO="TimeExtensionModal_modal__gbh73",tO="TimeExtensionModal_modalHeader__1fTzs",nO="TimeExtensionModal_stepIndicator__ibDLp",iO="TimeExtensionModal_stepDot__KPXru",sO="TimeExtensionModal_active__g8cxI",rO="TimeExtensionModal_completed__KfLqP",aO="TimeExtensionModal_closeButton__LIP-g",oO="TimeExtensionModal_stepContent__mZIvz",cO="TimeExtensionModal_stepHeader__kPEHG",lO="TimeExtensionModal_stepTitle__Z-B7D",dO="TimeExtensionModal_stepDescription__g2vSY",uO="TimeExtensionModal_optionsGrid__ZRs8N",hO="TimeExtensionModal_optionCard__DjqJf",pO="TimeExtensionModal_optionIcon__mk36q",mO="TimeExtensionModal_optionContent__Cieis",fO="TimeExtensionModal_optionTitle__EM+q5",_O="TimeExtensionModal_optionDescription__k1Bmf",gO="TimeExtensionModal_optionRate__4-Jbg",vO="TimeExtensionModal_optionExamples__RcAMD",yO="TimeExtensionModal_exampleTag__0WQsO",xO="TimeExtensionModal_durationGrid__tzgel",bO="TimeExtensionModal_durationCard__jPV-Z",SO="TimeExtensionModal_selected__v-ksT",wO="TimeExtensionModal_durationLabel__F04Qk",NO="TimeExtensionModal_durationCost__n1dZo",jO="TimeExtensionModal_reasonSection__IeveN",CO="TimeExtensionModal_reasonLabel__Q7Lf2",kO="TimeExtensionModal_reasonInput__Z9ND5",PO="TimeExtensionModal_stepActions__mP17J",TO="TimeExtensionModal_backButton__mgBEG",EO="TimeExtensionModal_continueButton__rr0-t",AO="TimeExtensionModal_confirmButton__2xYXZ",IO="TimeExtensionModal_confirmationCard__AFmKR",LO="TimeExtensionModal_confirmationRow__ehUDO",RO="TimeExtensionModal_totalCost__WI1cP",MO="TimeExtensionModal_confirmationLabel__XeO7d",OO="TimeExtensionModal_confirmationValue__BfiZh",DO="TimeExtensionModal_confirmationNote__dBrSA",FO=t=>{let{isOpen:n,onClose:i,onConfirm:s,currentRate:r,officerName:a}=t;const[o,c]=(0,e.useState)(null),[l,d]=(0,e.useState)(30),[u,h]=(0,e.useState)(""),[p,m]=(0,e.useState)("type"),f=[{id:"vehicle_wait",icon:"\ud83d\ude97",title:"CPO Waits in Vehicle",description:"Officer remains with secure vehicle while you attend to matters",rate:"\xa325/30min (Standby Rate)",examples:["In meeting","Shopping","Medical appointment"]},{id:"accompany",icon:"\ud83d\udeb6",title:"CPO Accompanies You",description:"Officer continues active protection duties with you",rate:"\xa350/30min (Active Rate)",examples:["Extended meeting","Additional venue","Event overrun"]},{id:"route_extension",icon:"\ud83d\udccd",title:"Add Destination",description:"Include additional stops or modify current route",rate:"\xa375/hour + mileage",examples:["Quick stop needed","Route change","Return journey"]},{id:"security_hold",icon:"\ud83d\udee1\ufe0f",title:"Enhanced Protection",description:"Elevated security response required",rate:"\xa3100/hour (Enhanced Rate)",examples:["Crowd situation","Threat assessment","VIP protocol"]}],_=[{value:30,label:"+30 minutes",multiplier:.5},{value:60,label:"+1 hour",multiplier:1},{value:120,label:"+2 hours",multiplier:2},{value:180,label:"+3 hours",multiplier:3}],g=()=>{if(!f.find(e=>e.id===o))return 0;const e=l/60;switch(o){case"vehicle_wait":return Math.round(l/30*25);case"accompany":return Math.round(l/30*50);case"route_extension":return Math.round(75*e);case"security_hold":return Math.round(100*e);default:return 0}},v=()=>{if(!o)return;const e={type:o,duration:l,reason:u.trim()||void 0,estimatedCost:g()};s(e),y()},y=()=>{c(null),d(30),h(""),m("type")},x=()=>{y(),i()};return n?(0,Sv.jsx)("div",{className:$M,onClick:x,children:(0,Sv.jsxs)("div",{className:eO,onClick:e=>e.stopPropagation(),children:[(0,Sv.jsxs)("div",{className:tO,children:[(0,Sv.jsxs)("div",{className:nO,children:[(0,Sv.jsx)("div",{className:"".concat(iO," ").concat("type"===p?sO:rO)}),(0,Sv.jsx)("div",{className:"".concat(iO," ").concat("duration"===p?sO:"confirm"===p?rO:"")}),(0,Sv.jsx)("div",{className:"".concat(iO," ").concat("confirm"===p?sO:"")})]}),(0,Sv.jsx)("button",{className:aO,onClick:x,children:"\u2715"})]}),"type"===p&&(0,Sv.jsxs)("div",{className:oO,children:[(0,Sv.jsxs)("div",{className:cO,children:[(0,Sv.jsx)("h3",{className:lO,children:"Extend Protection Service"}),(0,Sv.jsxs)("p",{className:dO,children:["Select the type of extension needed for CPO ",a]})]}),(0,Sv.jsx)("div",{className:uO,children:f.map(e=>(0,Sv.jsxs)("button",{className:hO,onClick:()=>{return t=e.id,c(t),void m("duration");var t},children:[(0,Sv.jsx)("div",{className:pO,children:e.icon}),(0,Sv.jsxs)("div",{className:mO,children:[(0,Sv.jsx)("h4",{className:fO,children:e.title}),(0,Sv.jsx)("p",{className:_O,children:e.description}),(0,Sv.jsx)("div",{className:gO,children:e.rate}),(0,Sv.jsx)("div",{className:vO,children:e.examples.map((e,t)=>(0,Sv.jsx)("span",{className:yO,children:e},t))})]})]},e.id))})]}),"duration"===p&&(()=>{const e=f.find(e=>e.id===o);return(0,Sv.jsxs)("div",{className:oO,children:[(0,Sv.jsxs)("div",{className:cO,children:[(0,Sv.jsx)("h3",{className:lO,children:null===e||void 0===e?void 0:e.title}),(0,Sv.jsx)("p",{className:dO,children:"How much additional time do you need?"})]}),(0,Sv.jsx)("div",{className:xO,children:_.map(e=>(0,Sv.jsxs)("button",{className:"".concat(bO," ").concat(l===e.value?SO:""),onClick:()=>d(e.value),children:[(0,Sv.jsx)("div",{className:wO,children:e.label}),(0,Sv.jsxs)("div",{className:NO,children:["\xa3",g()||Math.round(r*e.multiplier)]})]},e.value))}),(0,Sv.jsxs)("div",{className:jO,children:[(0,Sv.jsx)("label",{className:CO,children:"Brief explanation (optional)"}),(0,Sv.jsx)("input",{type:"text",className:kO,placeholder:"e.g., Meeting running late, Traffic delay...",value:u,onChange:e=>h(e.target.value),maxLength:100})]}),(0,Sv.jsxs)("div",{className:PO,children:[(0,Sv.jsx)("button",{className:TO,onClick:()=>m("type"),children:"\u2190 Back"}),(0,Sv.jsx)("button",{className:EO,onClick:()=>(d(l),void m("confirm")),children:"Continue \u2192"})]})]})})(),"confirm"===p&&(()=>{const e=f.find(e=>e.id===o),t=_.find(e=>e.value===l),n=g();return(0,Sv.jsxs)("div",{className:oO,children:[(0,Sv.jsxs)("div",{className:cO,children:[(0,Sv.jsx)("h3",{className:lO,children:"Confirm Extension"}),(0,Sv.jsx)("p",{className:dO,children:"Review your protection service extension"})]}),(0,Sv.jsxs)("div",{className:IO,children:[(0,Sv.jsxs)("div",{className:LO,children:[(0,Sv.jsx)("span",{className:MO,children:"Service Type:"}),(0,Sv.jsx)("span",{className:OO,children:null===e||void 0===e?void 0:e.title})]}),(0,Sv.jsxs)("div",{className:LO,children:[(0,Sv.jsx)("span",{className:MO,children:"Duration:"}),(0,Sv.jsx)("span",{className:OO,children:null===t||void 0===t?void 0:t.label})]}),(0,Sv.jsxs)("div",{className:LO,children:[(0,Sv.jsx)("span",{className:MO,children:"CPO:"}),(0,Sv.jsx)("span",{className:OO,children:a})]}),u&&(0,Sv.jsxs)("div",{className:LO,children:[(0,Sv.jsx)("span",{className:MO,children:"Reason:"}),(0,Sv.jsx)("span",{className:OO,children:u})]}),(0,Sv.jsxs)("div",{className:"".concat(LO," ").concat(RO),children:[(0,Sv.jsx)("span",{className:MO,children:"Estimated Cost:"}),(0,Sv.jsxs)("span",{className:OO,children:["\xa3",n]})]})]}),(0,Sv.jsx)("div",{className:DO,children:(0,Sv.jsx)("p",{children:"Your CPO will be notified immediately. You will be charged only for the actual time used."})}),(0,Sv.jsxs)("div",{className:PO,children:[(0,Sv.jsx)("button",{className:TO,onClick:()=>m("duration"),children:"\u2190 Back"}),(0,Sv.jsx)("button",{className:AO,onClick:v,children:"Confirm Extension"})]})]})})()]})}):null},BO=!1,qO=!1,zO="${JSCORE_VERSION}",WO=function(e,t){if(!e)throw HO(t)},HO=function(e){return new Error("Firebase Database ("+zO+") INTERNAL ASSERT FAILED: "+e)},UO=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},VO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const t=e[s],r=s+1<e.length,a=r?e[s+1]:0,o=s+2<e.length,c=o?e[s+2]:0,l=t>>2,d=(3&t)<<4|a>>4;let u=(15&a)<<2|c>>6,h=63&c;o||(h=64,r||(u=64)),i.push(n[l],n[d],n[u],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UO(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],r=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==r||null==a||null==o)throw new GO;const c=t<<2|r>>4;if(i.push(c),64!==a){const e=r<<4&240|a>>2;if(i.push(e),64!==o){const e=a<<6&192|o;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class GO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YO=function(e){const t=UO(e);return VO.encodeByteArray(t,!0)},KO=function(e){return YO(e).replace(/\./g,"")},QO=function(e){try{return VO.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ZO(e){return JO(void 0,e)}function JO(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&XO(n)&&(e[n]=JO(e[n],t[n]));return e}function XO(e){return"__proto__"!==e}const $O=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,eD=()=>{try{return $O()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"localhost",WDS_SOCKET_PATH:"/ws",WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NODE_ENV:"development",REACT_APP_HOT_RELOAD:"true",REACT_APP_SUPABASE_URL:"https://jmzvrqwjmlnvxojculee.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImptenZycXdqbWxudnhvamN1bGVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODE1NjksImV4cCI6MjA3NDE1NzU2OX0.s-fLHpJWc54j-NOVU7k1mIKOHFL1mzduO-VFCVhoizA",REACT_APP_FIREBASE_API_KEY:"AIzaSyCByrZaVECC1n3mebfrRqEHdLxjAO86TEU",REACT_APP_FIREBASE_AUTH_DOMAIN:"armora-protection.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"armora-protection",REACT_APP_FIREBASE_STORAGE_BUCKET:"armora-protection.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1010601153585",REACT_APP_FIREBASE_APP_ID:"1:1010601153585:android:9cb1f76fb75c9be748b110",REACT_APP_GOOGLE_MAPS_API_KEY:"YOUR_GOOGLE_MAPS_API_KEY_HERE",REACT_APP_STRIPE_PUBLISHABLE_KEY:"YOUR_STRIPE_PUBLISHABLE_KEY_HERE"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&QO(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},tD=e=>{const t=(e=>{var t;return null===(t=eD())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},nD=()=>{var e;return null===(e=eD())||void 0===e?void 0:e.config};class iD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function sD(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const rD={};let aD=!1;function oD(e,t){if("undefined"===typeof window||"undefined"===typeof document||!sD(window.location.host)||rD[e]===t||rD[e]||aD)return;function n(e){return"__firebase__banner__".concat(e)}rD[e]=t;const i="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(rD))rD[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function r(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{aD=!0,function(){const e=document.getElementById(i);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(i),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),c=document.getElementById(o)||document.createElement("a"),l=n("preprendIcon"),d=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(c,o);const n=r();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,l),t.append(d,a,c,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function cD(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function lD(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cD())}function dD(){return!0===BO||!0===qO}function uD(){try{return"object"===typeof indexedDB}catch(e){return!1}}function hD(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(O){t(O)}})}class pD extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,pD.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mD.prototype.create)}}class mD{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],s=i?function(e,t){return e.replace(fD,(e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,t):"Error",r="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new pD(n,r,t)}}const fD=/\{\$([^}]+)}/g;function _D(e){return JSON.parse(e)}function gD(e){return JSON.stringify(e)}const vD=function(e){let t={},n={},i={},s="";try{const r=e.split(".");t=_D(QO(r[0])||""),n=_D(QO(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch(r){}return{header:t,claims:n,data:i,signature:s}};function yD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xD(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function bD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function SD(e,t,n){const i={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=t.call(n,e[s],s,e));return i}function wD(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const n=e[s],r=t[s];if(ND(n)&&ND(r)){if(!wD(n,r))return!1}else if(n!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ND(e){return null!==e&&"object"===typeof e}class jD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let d=0;d<16;d++)n[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)n[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=4294967295&(e<<1|e>>>31)}let i,s,r=this.chain_[0],a=this.chain_[1],o=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(i=c^a&(o^c),s=1518500249):(i=a^o^c,s=1859775393):d<60?(i=a&o|c&(a|o),s=2400959708):(i=a^o^c,s=3395469782);const e=(r<<5|r>>>27)+i+l+s+n[d]&4294967295;l=c,c=o,o=4294967295&(a<<30|a>>>2),a=r,r=e}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const s=this.buf_;let r=this.inbuf_;for(;i<t;){if(0===r)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(s[r]=e.charCodeAt(i),++r,++i,r===this.blockSize){this.compress_(s),r=0;break}}else for(;i<t;)if(s[r]=e[i],++r,++i,r===this.blockSize){this.compress_(s),r=0;break}}this.inbuf_=r,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}function CD(e,t){return"".concat(e," failed: ").concat(t," argument ")}const kD=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function PD(e){return e&&e._delegate?e._delegate:e}class TD{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ED="[DEFAULT]";class AD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new iD;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ED})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ED;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ED;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ED;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,r]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&r.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===ED?void 0:s),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(r){}var s;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ED;return this.component?this.component.multipleInstances?e:ED:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ID{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const LD=[];var RD;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(RD||(RD={}));const MD={debug:RD.DEBUG,verbose:RD.VERBOSE,info:RD.INFO,warn:RD.WARN,error:RD.ERROR,silent:RD.SILENT},OD=RD.INFO,DD={[RD.DEBUG]:"log",[RD.VERBOSE]:"log",[RD.INFO]:"info",[RD.WARN]:"warn",[RD.ERROR]:"error"},FD=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=DD[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,r=new Array(s>2?s-2:0),a=2;a<s;a++)r[a-2]=arguments[a];console[i]("[".concat(n,"]  ").concat(e.name,":"),...r)};class BD{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=FD,this._userLogHandler=null,LD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in RD))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,RD.DEBUG,...t),this._logHandler(this,RD.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,RD.VERBOSE,...t),this._logHandler(this,RD.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,RD.INFO,...t),this._logHandler(this,RD.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,RD.WARN,...t),this._logHandler(this,RD.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,RD.ERROR,...t),this._logHandler(this,RD.ERROR,...t)}}let qD,zD;const WD=new WeakMap,HD=new WeakMap,UD=new WeakMap,VD=new WeakMap,GD=new WeakMap;let YD={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return HD.get(e);if("objectStoreNames"===t)return e.objectStoreNames||UD.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ZD(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function KD(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zD||(zD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(JD(this),n),ZD(WD.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ZD(e.apply(JD(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];const r=e.call(JD(this),t,...i);return UD.set(r,t.sort?t.sort():[t]),ZD(r)}}function QD(e){return"function"===typeof e?KD(e):(e instanceof IDBTransaction&&function(e){if(HD.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{t(),i()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)});HD.set(e,t)}(e),t=e,(qD||(qD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,YD):e);var t}function ZD(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{t(ZD(e.result)),i()},r=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",r)});return t.then(t=>{t instanceof IDBCursor&&WD.set(t,e)}).catch(()=>{}),GD.set(t,e),t}(e);if(VD.has(e))return VD.get(e);const t=QD(e);return t!==e&&(VD.set(e,t),GD.set(t,e)),t}const JD=e=>GD.get(e);function XD(e,t){let{blocked:n,upgrade:i,blocking:s,terminated:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ZD(a);return i&&a.addEventListener("upgradeneeded",e=>{i(ZD(a.result),e.oldVersion,e.newVersion,ZD(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{r&&e.addEventListener("close",()=>r()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}function $D(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),ZD(n).then(()=>{})}const eF=["get","getKey","getAll","getAllKeys","count"],tF=["put","add","delete","clear"],nF=new Map;function iF(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(nF.get(t))return nF.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=tF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!eF.includes(n))return;const r=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let r=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return i&&(r=r.index(o.shift())),(await Promise.all([r[n](...o),s&&t.done]))[0]};return nF.set(t,r),r}YD=(e=>o(o({},e),{},{get:(t,n,i)=>iF(t,n)||e.get(t,n,i),has:(t,n)=>!!iF(t,n)||e.has(t,n)}))(YD);class sF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const rF="@firebase/app",aF="0.14.3",oF=new BD("@firebase/app"),cF="@firebase/app-compat",lF="@firebase/analytics-compat",dF="@firebase/analytics",uF="@firebase/app-check-compat",hF="@firebase/app-check",pF="@firebase/auth",mF="@firebase/auth-compat",fF="@firebase/database",_F="@firebase/data-connect",gF="@firebase/database-compat",vF="@firebase/functions",yF="@firebase/functions-compat",xF="@firebase/installations",bF="@firebase/installations-compat",SF="@firebase/messaging",wF="@firebase/messaging-compat",NF="@firebase/performance",jF="@firebase/performance-compat",CF="@firebase/remote-config",kF="@firebase/remote-config-compat",PF="@firebase/storage",TF="@firebase/storage-compat",EF="@firebase/firestore",AF="@firebase/ai",IF="@firebase/firestore-compat",LF="firebase",RF="[DEFAULT]",MF={[rF]:"fire-core",[cF]:"fire-core-compat",[dF]:"fire-analytics",[lF]:"fire-analytics-compat",[hF]:"fire-app-check",[uF]:"fire-app-check-compat",[pF]:"fire-auth",[mF]:"fire-auth-compat",[fF]:"fire-rtdb",[_F]:"fire-data-connect",[gF]:"fire-rtdb-compat",[vF]:"fire-fn",[yF]:"fire-fn-compat",[xF]:"fire-iid",[bF]:"fire-iid-compat",[SF]:"fire-fcm",[wF]:"fire-fcm-compat",[NF]:"fire-perf",[jF]:"fire-perf-compat",[CF]:"fire-rc",[kF]:"fire-rc-compat",[PF]:"fire-gcs",[TF]:"fire-gcs-compat",[EF]:"fire-fst",[IF]:"fire-fst-compat",[AF]:"fire-vertex","fire-js":"fire-js",[LF]:"fire-js-all"},OF=new Map,DF=new Map,FF=new Map;function BF(e,t){try{e.container.addComponent(t)}catch(n){oF.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qF(e){const t=e.name;if(FF.has(t))return oF.debug("There were multiple attempts to register component ".concat(t,".")),!1;FF.set(t,e);for(const n of OF.values())BF(n,e);for(const n of DF.values())BF(n,e);return!0}function zF(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const WF=new mD("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class HF{constructor(e,t,n){this._isDeleted=!1,this._options=o({},e),this._config=o({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new TD("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw WF.create("app-deleted",{appName:this._name})}}function UF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=o({name:RF,automaticDataCollectionEnabled:!0},t),s=i.name;if("string"!==typeof s||!s)throw WF.create("bad-app-name",{appName:String(s)});if(n||(n=nD()),!n)throw WF.create("no-options");const r=OF.get(s);if(r){if(wD(n,r.options)&&wD(i,r.config))return r;throw WF.create("duplicate-app",{appName:s})}const a=new ID(s);for(const o of FF.values())a.addComponent(o);const c=new HF(n,i,a);return OF.set(s,c),c}function VF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RF;const t=OF.get(e);if(!t&&e===RF&&nD())return UF();if(!t)throw WF.create("no-app",{appName:e});return t}function GF(e,t,n){var i;let s=null!==(i=MF[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return r&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),r&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oF.warn(e.join(" "))}qF(new TD("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const YF="firebase-heartbeat-store";let KF=null;function QF(){return KF||(KF=XD("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(YF)}catch(n){console.warn(n)}}}).catch(e=>{throw WF.create("idb-open",{originalErrorMessage:e.message})})),KF}async function ZF(e,t){try{const n=(await QF()).transaction(YF,"readwrite"),i=n.objectStore(YF);await i.put(t,JF(e)),await n.done}catch(n){if(n instanceof pD)oF.warn(n.message);else{const e=WF.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});oF.warn(e.message)}}}function JF(e){return"".concat(e.name,"!").concat(e.options.appId)}class XF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eB(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$F();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){oF.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=$F(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),tB(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tB(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),s=KO(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return oF.warn(t),""}}}function $F(){return(new Date).toISOString().substring(0,10)}class eB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!uD()&&hD().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await QF()).transaction(YF),n=await t.objectStore(YF).get(JF(e));return await t.done,n}catch(t){if(t instanceof pD)oF.warn(t.message);else{const e=WF.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});oF.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ZF(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ZF(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function tB(e){return KO(JSON.stringify({version:2,heartbeats:e})).length}var nB;nB="",qF(new TD("platform-logger",e=>new sF(e),"PRIVATE")),qF(new TD("heartbeat",e=>new XF(e),"PRIVATE")),GF(rF,aF,nB),GF(rF,aF,"esm2020"),GF("fire-js","");const iB="@firebase/database",sB="1.1.0";let rB="";function aB(e){rB=e}class oB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gD(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:_D(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class cB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return yD(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const lB=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new oB(t)}}catch(t){}return new cB},dB=lB("localStorage"),uB=lB("sessionStorage"),hB=new BD("@firebase/database"),pB=function(){let e=1;return function(){return e++}}(),mB=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,WO(i<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t}(e),n=new jD;n.update(t);const i=n.digest();return VO.encodeByteArray(i)},fB=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=fB.apply(null,n):e+="object"===typeof n?gD(n):n,e+=" "}return e};let _B=null,gB=!0;const vB=function(e,t){WO(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(hB.logLevel=RD.VERBOSE,_B=hB.log.bind(hB),t&&uB.set("logging_enabled",!0)):"function"===typeof e?_B=e:(_B=null,uB.remove("logging_enabled"))},yB=function(){if(!0===gB&&(gB=!1,null===_B&&!0===uB.get("logging_enabled")&&vB(!0)),_B){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=fB.apply(null,t);_B(i)}},xB=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];yB(e,...n)}},bB=function(){const e="FIREBASE INTERNAL ERROR: "+fB(...arguments);hB.error(e)},SB=function(){const e="FIREBASE FATAL ERROR: ".concat(fB(...arguments));throw hB.error(e),new Error(e)},wB=function(){const e="FIREBASE WARNING: "+fB(...arguments);hB.warn(e)},NB=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jB="[MIN_NAME]",CB="[MAX_NAME]",kB=function(e,t){if(e===t)return 0;if(e===jB||t===CB)return-1;if(t===jB||e===CB)return 1;{const n=MB(e),i=MB(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},PB=function(e,t){return e===t?0:e<t?-1:1},TB=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+gD(t))},EB=function(e){if("object"!==typeof e||null===e)return gD(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=gD(t[i]),n+=":",n+=EB(e[t[i]]);return n+="}",n},AB=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let s=0;s<n;s+=t)s+t>n?i.push(e.substring(s,n)):i.push(e.substring(s,s+t));return i};function IB(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const LB=function(e){WO(!NB(e),"Invalid JSON number");const t=1023;let n,i,s,r,a;0===e?(i=0,s=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=r+t,s=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(i=0,s=Math.round(e/Math.pow(2,-1074))));const o=[];for(a=52;a;a-=1)o.push(s%2?1:0),s=Math.floor(s/2);for(a=11;a;a-=1)o.push(i%2?1:0),i=Math.floor(i/2);o.push(n?1:0),o.reverse();const c=o.join("");let l="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const RB=new RegExp("^-?(0*)\\d{1,10}$"),MB=function(e){if(RB.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},OB=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw wB("Exception was thrown by user callback.",e),t},Math.floor(0))}},DB=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class FB{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){wB('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class BB{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(yB("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wB(e)}}class qB{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qB.OWNER="owner";const zB="5",WB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,HB="ac",UB="websocket",VB="long_polling";class GB{constructor(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=r,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dB.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dB.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function YB(e,t,n){let i;if(WO("string"===typeof t,"typeof type must == string"),WO("object"===typeof n,"typeof params must == object"),t===UB)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==VB)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return IB(n,(e,t)=>{s.push(e+"="+t)}),i+s.join("&")}class KB{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;yD(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ZO(this.counters_)}}const QB={},ZB={};function JB(e){const t=e.toString();return QB[t]||(QB[t]=new KB),QB[t]}class XB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&OB(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const $B="start";class eq{constructor(e,t,n,i,s,r,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=r,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xB(e),this.stats_=JB(t),this.urlFn=e=>(this.appCheckToken&&(e[HB]=this.appCheckToken),YB(t,VB,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new XB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(dD()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tq(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[s,r,a,o,c]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,s===$B)n.id=r,n.password=a;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[s,r]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,r)},()=>{this.onClosed_()},this.urlFn);const e={};e[$B]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=zB,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[HB]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&WB.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eq.forceAllow_=!0}static forceDisallow(){eq.forceDisallow_=!0}static isAvailable(){return!dD()&&(!!eq.forceAllow_||!eq.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=gD(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=YO(t),i=AB(n,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(dD())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=gD(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class tq{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,dD())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=pB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=tq.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(s){yB("frame writing exception"),s.stack&&yB(s.stack),yB(s)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yB("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){dD()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{yB("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let nq=null;"undefined"!==typeof MozWebSocket?nq=MozWebSocket:"undefined"!==typeof WebSocket&&(nq=WebSocket);class iq{constructor(e,t,n,i,s,r,a){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xB(this.connId),this.stats_=JB(t),this.connURL=iq.connectionURL_(t,r,a,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,s){const r={};return r.v=zB,!dD()&&"undefined"!==typeof location&&location.hostname&&WB.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),i&&(r[HB]=i),s&&(r.p=s),YB(e,UB,r)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dB.set("previous_websocket_failure",!0);try{let e;if(dD()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(zB,"/").concat(rB,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"localhost",WDS_SOCKET_PATH:"/ws",WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NODE_ENV:"development",REACT_APP_HOT_RELOAD:"true",REACT_APP_SUPABASE_URL:"https://jmzvrqwjmlnvxojculee.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImptenZycXdqbWxudnhvamN1bGVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODE1NjksImV4cCI6MjA3NDE1NzU2OX0.s-fLHpJWc54j-NOVU7k1mIKOHFL1mzduO-VFCVhoizA",REACT_APP_FIREBASE_API_KEY:"AIzaSyCByrZaVECC1n3mebfrRqEHdLxjAO86TEU",REACT_APP_FIREBASE_AUTH_DOMAIN:"armora-protection.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"armora-protection",REACT_APP_FIREBASE_STORAGE_BUCKET:"armora-protection.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1010601153585",REACT_APP_FIREBASE_APP_ID:"1:1010601153585:android:9cb1f76fb75c9be748b110",REACT_APP_GOOGLE_MAPS_API_KEY:"YOUR_GOOGLE_MAPS_API_KEY_HERE",REACT_APP_STRIPE_PUBLISHABLE_KEY:"YOUR_STRIPE_PUBLISHABLE_KEY_HERE"},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new nq(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){iq.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==nq&&!iq.forceDisallow_}static previouslyFailed(){return dB.isInMemoryStorage||!0===dB.get("previous_websocket_failure")}markConnectionHealthy(){dB.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=_D(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(WO(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=gD(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=AB(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}iq.responsesRequiredToBeHealthy=2,iq.healthyTimeout=3e4;class sq{static get ALL_TRANSPORTS(){return[eq,iq]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=iq&&iq.isAvailable();let n=t&&!iq.previouslyFailed();if(e.webSocketOnly&&(t||wB("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[iq];else{const e=this.transports_=[];for(const t of sq.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);sq.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}sq.globalTransportInitialized_=!1;class rq{constructor(e,t,n,i,s,r,a,o,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=r,this.onReady_=a,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xB("c:"+this.id+":"),this.transportManager_=new sq(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=DB(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=TB("t",e),n=TB("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=TB("t",e),n=TB("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=TB("t",e);if("d"in e){const n=e.d;if("h"===t){const e=o({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?bB("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bB("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),zB!==n&&wB("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),DB(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):DB(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dB.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class aq{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class oq{constructor(e){this.allowedEvents_=e,this.listeners_={},WO(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let e=0;e<s.length;e++)s[e].callback.apply(s[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!n||n===i[s].context))return void i.splice(s,1)}validateEventType_(e){WO(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class cq extends oq{static getInstance(){return new cq}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||lD()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return WO("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class lq{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function dq(){return new lq("")}function uq(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hq(e){return e.pieces_.length-e.pieceNum_}function pq(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new lq(e.pieces_,t)}function mq(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function _q(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lq(t,0)}function gq(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof lq)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new lq(n,0)}function vq(e){return e.pieceNum_>=e.pieces_.length}function yq(e,t){const n=uq(e),i=uq(t);if(null===n)return t;if(n===i)return yq(pq(e),pq(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function xq(e,t){const n=fq(e,0),i=fq(t,0);for(let s=0;s<n.length&&s<i.length;s++){const e=kB(n[s],i[s]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function bq(e,t){if(hq(e)!==hq(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Sq(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(hq(e)>hq(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class wq{constructor(e,t){this.errorPrefix_=t,this.parts_=fq(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=kD(this.parts_[n]);Nq(this)}}function Nq(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jq(e))}function jq(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Cq extends oq{static getInstance(){return new Cq}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return WO("visible"===e,"Unknown event type: "+e),[this.visible_]}}const kq=1e3;class Pq extends aq{constructor(e,t,n,i,s,r,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=Pq.nextPersistentConnectionId_++,this.log_=xB("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kq,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!dD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cq.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&cq.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(gD(s)),WO(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new iD,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const s=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+s),this.listens.has(r)||this.listens.set(r,new Map),WO(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),WO(!this.listens.get(r).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(r).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const r=s.d,a=s.s;Pq.warnOnListenWarnings_(r,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(n,i),e.onComplete&&e.onComplete(a,r))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&yD(e,"w")){const n=xD(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();wB("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=vD(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=vD(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),WO(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e};i&&(s.q=n,s.t=i),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,s){this.initConnection_();const r={p:t,d:n};void 0!==s&&(r.h=s),this.outstandingPuts_.push({action:e,request:r,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gD(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):bB("Unrecognized action received from server: "+gD(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){WO(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kq,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kq,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kq),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Pq.nextConnectionId_++,s=this.lastSessionId;let r=!1,a=null;const o=function(){a?a.close():(r=!0,n())},c=function(e){WO(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:o,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);r?yB("getToken() completed but was canceled"):(yB("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=c&&c.token,a=new rq(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{wB(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},s))}catch(O){this.log_("Failed to get token: "+O),r||(this.repoInfo_.nodeAdmin&&wB(O),o())}}}interrupt(e){yB("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yB("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bD(this.interruptReasons_)&&(this.reconnectDelay_=kq,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>EB(e)).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new lq(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){yB("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){yB("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";dD()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+rB.replace(/\./g,"-")]=1,lD()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cq.getInstance().currentlyOnline();return bD(this.interruptReasons_)&&e}}Pq.nextPersistentConnectionId_=0,Pq.nextConnectionId_=0;class Tq{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Tq(e,t)}}class Eq{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Tq(jB,e),i=new Tq(jB,t);return 0!==this.compare(n,i)}minPost(){return Tq.MIN}}let Aq;class Iq extends Eq{static get __EMPTY_NODE(){return Aq}static set __EMPTY_NODE(e){Aq=e}compare(e,t){return kB(e.name,t.name)}isDefinedOn(e){throw HO("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Tq.MIN}maxPost(){return new Tq(CB,Aq)}makePost(e,t){return WO("string"===typeof e,"KeyIndex indexValue must always be a string."),new Tq(e,Aq)}toString(){return".key"}}const Lq=new Iq;class Rq{constructor(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse_?e.left:e.right;else{if(0===r){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mq{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:Mq.RED,this.left=null!=i?i:Oq.EMPTY_NODE,this.right=null!=s?s:Oq.EMPTY_NODE}copy(e,t,n,i,s){return new Mq(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oq.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Oq.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mq.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mq.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mq.RED=!0,Mq.BLACK=!1;class Oq{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oq.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Oq(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Mq.BLACK,null,null))}remove(e){return new Oq(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mq.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rq(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Rq(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Rq(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Rq(this.root_,null,this.comparator_,!0,e)}}function Dq(e,t){return kB(e.name,t.name)}function Fq(e,t){return kB(e,t)}let Bq;Oq.EMPTY_NODE=new class{copy(e,t,n,i,s){return this}insert(e,t,n){return new Mq(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const qq=function(e){return"number"===typeof e?"number:"+LB(e):"string:"+e},zq=function(e){if(e.isLeafNode()){const t=e.val();WO("string"===typeof t||"number"===typeof t||"object"===typeof t&&yD(t,".sv"),"Priority must be a string or number.")}else WO(e===Bq||e.isEmpty(),"priority of unexpected type.");WO(e===Bq||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Wq,Hq,Uq;class Vq{static set __childrenNodeConstructor(e){Wq=e}static get __childrenNodeConstructor(){return Wq}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vq.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,WO(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),zq(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vq(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Vq.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vq(e)?this:".priority"===uq(e)?this.priorityNode_:Vq.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Vq.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=uq(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(WO(".priority"!==n||1===hq(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Vq.__childrenNodeConstructor.EMPTY_NODE.updateChild(pq(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qq(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?LB(this.value_):this.value_,this.lazyHash_=mB(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vq.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vq.__childrenNodeConstructor?-1:(WO(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=Vq.VALUE_TYPE_ORDER.indexOf(t),s=Vq.VALUE_TYPE_ORDER.indexOf(n);return WO(i>=0,"Unknown leaf type: "+t),WO(s>=0,"Unknown leaf type: "+n),i===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Vq.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Gq=new class extends Eq{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),s=n.compareTo(i);return 0===s?kB(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Tq.MIN}maxPost(){return new Tq(CB,new Vq("[PRIORITY-POST]",Uq))}makePost(e,t){const n=Hq(e);return new Tq(t,new Vq("[PRIORITY-POST]",n))}toString(){return".priority"}},Yq=Math.log(2);class Kq{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Yq,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qq=function(e,t,n,i){e.sort(t);const s=function(t,i){const r=i-t;let a,o;if(0===r)return null;if(1===r)return a=e[t],o=n?n(a):a,new Mq(o,a.node,Mq.BLACK,null,null);{const c=parseInt(r/2,10)+t,l=s(t,c),d=s(c+1,i);return a=e[c],o=n?n(a):a,new Mq(o,a.node,Mq.BLACK,l,d)}},r=function(t){let i=null,r=null,a=e.length;const o=function(t,i){const r=a-t,o=a;a-=t;const l=s(r+1,o),d=e[r],u=n?n(d):d;c(new Mq(u,d.node,i,null,l))},c=function(e){i?(i.left=e,i=e):(r=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?o(i,Mq.BLACK):(o(i,Mq.BLACK),o(i,Mq.RED))}return r}(new Kq(e.length));return new Oq(i||t,r)};let Zq;const Jq={};class Xq{static get Default(){return WO(Jq&&Gq,"ChildrenNode.ts has not been loaded"),Zq=Zq||new Xq({".priority":Jq},{".priority":Gq}),Zq}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=xD(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Oq?t:null}hasIndex(e){return yD(this.indexSet_,e.toString())}addIndex(e,t){WO(e!==Lq,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=t.getIterator(Tq.Wrap);let r,a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=s.getNext();r=i?Qq(n,e.getCompare()):Jq;const c=e.toString(),l=o({},this.indexSet_);l[c]=e;const d=o({},this.indexes_);return d[c]=r,new Xq(d,l)}addToIndexes(e,t){const n=SD(this.indexes_,(n,i)=>{const s=xD(this.indexSet_,i);if(WO(s,"Missing index implementation for "+i),n===Jq){if(s.isDefinedOn(e.node)){const n=[],i=t.getIterator(Tq.Wrap);let r=i.getNext();for(;r;)r.name!==e.name&&n.push(r),r=i.getNext();return n.push(e),Qq(n,s.getCompare())}return Jq}{const i=t.get(e.name);let s=n;return i&&(s=s.remove(new Tq(e.name,i))),s.insert(e,e.node)}});return new Xq(n,this.indexSet_)}removeFromIndexes(e,t){const n=SD(this.indexes_,n=>{if(n===Jq)return n;{const i=t.get(e.name);return i?n.remove(new Tq(e.name,i)):n}});return new Xq(n,this.indexSet_)}}let $q;class ez{static get EMPTY_NODE(){return $q||($q=new ez(new Oq(Fq),null,Xq.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&zq(this.priorityNode_),this.children_.isEmpty()&&WO(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$q}updatePriority(e){return this.children_.isEmpty()?this:new ez(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?$q:t}}getChild(e){const t=uq(e);return null===t?this:this.getImmediateChild(t).getChild(pq(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(WO(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Tq(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const r=i.isEmpty()?$q:this.priorityNode_;return new ez(i,r,s)}}updateChild(e,t){const n=uq(e);if(null===n)return t;{WO(".priority"!==uq(e)||1===hq(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(pq(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,s=!0;if(this.forEachChild(Gq,(r,a)=>{t[r]=a.val(e),n++,s&&ez.INTEGER_REGEXP_.test(r)?i=Math.max(i,Number(r)):s=!1}),!e&&s&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+qq(this.getPriority().val())+":"),this.forEachChild(Gq,(t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":mB(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Tq(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Tq(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Tq(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Tq.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Tq.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tz?-1:0}withIndex(e){if(e===Lq||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ez(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Lq||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Gq),n=t.getIterator(Gq);let i=e.getNext(),s=n.getNext();for(;i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=e.getNext(),s=n.getNext()}return null===i&&null===s}return!1}return!1}}resolveIndex_(e){return e===Lq?null:this.indexMap_.get(e.toString())}}ez.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const tz=new class extends ez{constructor(){super(new Oq(Fq),ez.EMPTY_NODE,Xq.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ez.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Tq,{MIN:{value:new Tq(jB,ez.EMPTY_NODE)},MAX:{value:new Tq(CB,tz)}}),Iq.__EMPTY_NODE=ez.EMPTY_NODE,Vq.__childrenNodeConstructor=ez,Bq=tz,function(e){Uq=e}(tz);function nz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ez.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),WO(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Vq(e,nz(t))}if(e instanceof Array){let n=ez.EMPTY_NODE;return IB(e,(t,i)=>{if(yD(e,t)&&"."!==t.substring(0,1)){const e=nz(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(nz(t))}{const n=[];let i=!1;if(IB(e,(e,t)=>{if("."!==e.substring(0,1)){const s=nz(t);s.isEmpty()||(i=i||!s.getPriority().isEmpty(),n.push(new Tq(e,s)))}}),0===n.length)return ez.EMPTY_NODE;const s=Qq(n,Dq,e=>e.name,Fq);if(i){const e=Qq(n,Gq.getCompare());return new ez(s,nz(t),new Xq({".priority":e},{".priority":Gq}))}return new ez(s,nz(t),Xq.Default)}}!function(e){Hq=e}(nz);class iz extends Eq{constructor(e){super(),this.indexPath_=e,WO(!vq(e)&&".priority"!==uq(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),s=n.compareTo(i);return 0===s?kB(e.name,t.name):s}makePost(e,t){const n=nz(e),i=ez.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tq(t,i)}maxPost(){const e=ez.EMPTY_NODE.updateChild(this.indexPath_,tz);return new Tq(CB,e)}toString(){return fq(this.indexPath_,0).join("/")}}const sz=new class extends Eq{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?kB(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Tq.MIN}maxPost(){return Tq.MAX}makePost(e,t){const n=nz(e);return new Tq(t,n)}toString(){return".value"}};function rz(e){return{type:"value",snapshotNode:e}}function az(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function oz(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function cz(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class lz{constructor(e){this.index_=e}updateChild(e,t,n,i,s,r){WO(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?e:(null!=r&&(n.isEmpty()?e.hasChild(t)?r.trackChildChange(oz(t,a)):WO(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?r.trackChildChange(az(t,n)):r.trackChildChange(cz(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Gq,(e,i)=>{t.hasChild(e)||n.trackChildChange(oz(e,i))}),t.isLeafNode()||t.forEachChild(Gq,(t,i)=>{if(e.hasChild(t)){const s=e.getImmediateChild(t);s.equals(i)||n.trackChildChange(cz(t,i,s))}else n.trackChildChange(az(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ez.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dz{constructor(e){this.indexedFilter_=new lz(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dz.getStartPost_(e),this.endPost_=dz.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,s,r){return this.matches(new Tq(t,n))||(n=ez.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,s,r)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ez.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(ez.EMPTY_NODE);const s=this;return t.forEachChild(Gq,(e,t)=>{s.matches(new Tq(e,t))||(i=i.updateImmediateChild(e,ez.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class uz{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new dz(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,s,r){return this.rangedFilter_.matches(new Tq(t,n))||(n=ez.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,s,r):this.fullLimitUpdateChild_(e,t,n,s,r)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=ez.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=ez.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(ez.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,ez.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,s){let r;if(this.reverse_){const e=this.index_.getCompare();r=(t,n)=>e(n,t)}else r=this.index_.getCompare();const a=e;WO(a.numChildren()===this.limit_,"");const o=new Tq(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(o);if(a.hasChild(t)){const e=a.getImmediateChild(t);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=d&&(d.name===t||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const u=null==d?1:r(d,o);if(l&&!n.isEmpty()&&u>=0)return null!=s&&s.trackChildChange(cz(t,n,e)),a.updateImmediateChild(t,n);{null!=s&&s.trackChildChange(oz(t,e));const n=a.updateImmediateChild(t,ez.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=s&&s.trackChildChange(az(d.name,d.node)),n.updateImmediateChild(d.name,d.node)):n}}return n.isEmpty()?e:l&&r(c,o)>=0?(null!=s&&(s.trackChildChange(oz(c.name,c.node)),s.trackChildChange(az(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,ez.EMPTY_NODE)):e}}class hz{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gq}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return WO(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return WO(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jB}hasEnd(){return this.endSet_}getIndexEndValue(){return WO(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return WO(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:CB}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return WO(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gq}copy(){const e=new hz;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pz(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Gq?n="$priority":e.index_===sz?n="$value":e.index_===Lq?n="$key":(WO(e.index_ instanceof iz,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=gD(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=gD(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+gD(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=gD(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+gD(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function mz(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Gq&&(t.i=e.index_.toString()),t}class fz extends aq{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(WO(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=xB("p:rest:"),this.listens_={}}listen(e,t,n,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const r=fz.getListenId_(e,n),a={};this.listens_[r]=a;const o=pz(e._queryParams);this.restRequest_(s+".json",o,(e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(s,o,!1,n),xD(this.listens_,r)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}})}unlisten(e,t){const n=fz.getListenId_(e,t);delete this.listens_[n]}get(e){const t=pz(e._queryParams),n=e._path.toString(),i=new iD;return this.restRequest_(n+".json",t,(e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),i.resolve(s)):i.reject(new Error(s))}),i.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(i=>{let[s,r]=i;s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=_D(o.responseText)}catch(e){wB("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&wB("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()})}}class _z{constructor(){this.rootNode_=ez.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function gz(){return{value:null,children:new Map}}function vz(e,t,n){if(vq(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=uq(t);e.children.has(i)||e.children.set(i,gz());vz(e.children.get(i),t=pq(t),n)}}function yz(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,i)=>{yz(i,new lq(t.toString()+"/"+e),n)})}class xz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=o({},e);return this.last_&&IB(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class bz{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new xz(e);const n=1e4+2e4*Math.random();DB(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;IB(e,(e,i)=>{i>0&&yD(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),DB(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Sz;function wz(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Sz||(Sz={}));class Nz{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Sz.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(vq(this.path)){if(null!=this.affectedTree.value)return WO(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new lq(e));return new Nz(dq(),t,this.revert)}}return WO(uq(this.path)===e,"operationForChild called for unrelated child."),new Nz(pq(this.path),this.affectedTree,this.revert)}}class jz{constructor(e,t){this.source=e,this.path=t,this.type=Sz.LISTEN_COMPLETE}operationForChild(e){return vq(this.path)?new jz(this.source,dq()):new jz(this.source,pq(this.path))}}class Cz{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Sz.OVERWRITE}operationForChild(e){return vq(this.path)?new Cz(this.source,dq(),this.snap.getImmediateChild(e)):new Cz(this.source,pq(this.path),this.snap)}}class kz{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Sz.MERGE}operationForChild(e){if(vq(this.path)){const t=this.children.subtree(new lq(e));return t.isEmpty()?null:t.value?new Cz(this.source,dq(),t.value):new kz(this.source,dq(),t)}return WO(uq(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new kz(this.source,pq(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Pz{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vq(e))return this.isFullyInitialized()&&!this.filtered_;const t=uq(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Tz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ez(e,t,n,i,s,r){const a=i.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw HO("Should only compare child_ events.");const i=new Tq(t.childName,t.snapshotNode),s=new Tq(n.childName,n.snapshotNode);return e.index_.compare(i,s)}(e,t,n)),a.forEach(n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,r);s.forEach(s=>{s.respondsTo(n.type)&&t.push(s.createEvent(i,e.query_))})})}function Az(e,t){return{eventCache:e,serverCache:t}}function Iz(e,t,n,i){return Az(new Pz(t,n,i),e.serverCache)}function Lz(e,t,n,i){return Az(e.eventCache,new Pz(t,n,i))}function Rz(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mz(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Oz;class Dz{static fromObject(e){let t=new Dz(null);return IB(e,(e,n)=>{t=t.set(new lq(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Oz||(Oz=new Oq(PB)),Oz);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:dq(),value:this.value};if(vq(e))return null;{const n=uq(e),i=this.children.get(n);if(null!==i){const s=i.findRootMostMatchingPathAndValue(pq(e),t);if(null!=s){return{path:gq(new lq(n),s.path),value:s.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vq(e))return this;{const t=uq(e),n=this.children.get(t);return null!==n?n.subtree(pq(e)):new Dz(null)}}set(e,t){if(vq(e))return new Dz(t,this.children);{const n=uq(e),i=(this.children.get(n)||new Dz(null)).set(pq(e),t),s=this.children.insert(n,i);return new Dz(this.value,s)}}remove(e){if(vq(e))return this.children.isEmpty()?new Dz(null):new Dz(null,this.children);{const t=uq(e),n=this.children.get(t);if(n){const i=n.remove(pq(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Dz(null):new Dz(this.value,s)}return this}}get(e){if(vq(e))return this.value;{const t=uq(e),n=this.children.get(t);return n?n.get(pq(e)):null}}setTree(e,t){if(vq(e))return t;{const n=uq(e),i=(this.children.get(n)||new Dz(null)).setTree(pq(e),t);let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new Dz(this.value,s)}}fold(e){return this.fold_(dq(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,s)=>{n[i]=s.fold_(gq(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,dq(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(vq(e))return null;{const i=uq(e),s=this.children.get(i);return s?s.findOnPath_(pq(e),gq(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dq(),t)}foreachOnPath_(e,t,n){if(vq(e))return this;{this.value&&n(t,this.value);const i=uq(e),s=this.children.get(i);return s?s.foreachOnPath_(pq(e),gq(t,i),n):new Dz(null)}}foreach(e){this.foreach_(dq(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(gq(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Fz{constructor(e){this.writeTree_=e}static empty(){return new Fz(new Dz(null))}}function Bz(e,t,n){if(vq(t))return new Fz(new Dz(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let r=i.value;const a=yq(s,t);return r=r.updateChild(a,n),new Fz(e.writeTree_.set(s,r))}{const i=new Dz(n),s=e.writeTree_.setTree(t,i);return new Fz(s)}}}function qz(e,t,n){let i=e;return IB(n,(e,n)=>{i=Bz(i,gq(t,e),n)}),i}function zz(e,t){if(vq(t))return Fz.empty();{const n=e.writeTree_.setTree(t,new Dz(null));return new Fz(n)}}function Wz(e,t){return null!=Hz(e,t)}function Hz(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(yq(n.path,t)):null}function Uz(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Gq,(e,n)=>{t.push(new Tq(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Tq(e,n.value))}),t}function Vz(e,t){if(vq(t))return e;{const n=Hz(e,t);return new Fz(null!=n?new Dz(n):e.writeTree_.subtree(t))}}function Gz(e){return e.writeTree_.isEmpty()}function Yz(e,t){return Kz(dq(),e.writeTree_,t)}function Kz(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((t,s)=>{".priority"===t?(WO(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=Kz(gq(e,t),s,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(gq(e,".priority"),i)),n}}function Qz(e,t){return cW(t,e)}function Zz(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);WO(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let s=i.visible,r=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Jz(t,i.path)?s=!1:Sq(i.path,t.path)&&(r=!0)),a--}if(s){if(r)return function(e){e.visibleWrites=$z(e.allWrites,Xz,dq()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=zz(e.visibleWrites,i.path);else{IB(i.children,t=>{e.visibleWrites=zz(e.visibleWrites,gq(i.path,t))})}return!0}return!1}function Jz(e,t){if(e.snap)return Sq(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Sq(gq(e.path,n),t))return!0;return!1}function Xz(e){return e.visible}function $z(e,t,n){let i=Fz.empty();for(let s=0;s<e.length;++s){const r=e[s];if(t(r)){const e=r.path;let t;if(r.snap)Sq(n,e)?(t=yq(n,e),i=Bz(i,t,r.snap)):Sq(e,n)&&(t=yq(e,n),i=Bz(i,dq(),r.snap.getChild(t)));else{if(!r.children)throw HO("WriteRecord should have .snap or .children");if(Sq(n,e))t=yq(n,e),i=qz(i,t,r.children);else if(Sq(e,n))if(t=yq(e,n),vq(t))i=qz(i,dq(),r.children);else{const e=xD(r.children,uq(t));if(e){const n=e.getChild(pq(t));i=Bz(i,dq(),n)}}}}}return i}function eW(e,t,n,i,s){if(i||s){const r=Vz(e.visibleWrites,t);if(!s&&Gz(r))return n;if(s||null!=n||Wz(r,dq())){const r=function(e){return(e.visible||s)&&(!i||!~i.indexOf(e.writeId))&&(Sq(e.path,t)||Sq(t,e.path))};return Yz($z(e.allWrites,r,t),n||ez.EMPTY_NODE)}return null}{const i=Hz(e.visibleWrites,t);if(null!=i)return i;{const i=Vz(e.visibleWrites,t);if(Gz(i))return n;if(null!=n||Wz(i,dq())){return Yz(i,n||ez.EMPTY_NODE)}return null}}}function tW(e,t,n,i){return eW(e.writeTree,e.treePath,t,n,i)}function nW(e,t){return function(e,t,n){let i=ez.EMPTY_NODE;const s=Hz(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Gq,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const s=Vz(e.visibleWrites,t);return n.forEachChild(Gq,(e,t)=>{const n=Yz(Vz(s,new lq(e)),t);i=i.updateImmediateChild(e,n)}),Uz(s).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}return Uz(Vz(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}(e.writeTree,e.treePath,t)}function iW(e,t,n,i){return function(e,t,n,i,s){WO(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=gq(t,n);if(Wz(e.visibleWrites,r))return null;{const t=Vz(e.visibleWrites,r);return Gz(t)?s.getChild(n):Yz(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function sW(e,t){return function(e,t){return Hz(e.visibleWrites,t)}(e.writeTree,gq(e.treePath,t))}function rW(e,t,n,i,s,r){return function(e,t,n,i,s,r,a){let o;const c=Vz(e.visibleWrites,t),l=Hz(c,dq());if(null!=l)o=l;else{if(null==n)return[];o=Yz(c,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=r?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let c=n.getNext();for(;c&&e.length<s;)0!==t(c,i)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,s,r)}function aW(e,t,n){return function(e,t,n,i){const s=gq(t,n),r=Hz(e.visibleWrites,s);if(null!=r)return r;if(i.isCompleteForChild(n))return Yz(Vz(e.visibleWrites,s),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function oW(e,t){return cW(gq(e.treePath,t),e.writeTree)}function cW(e,t){return{treePath:e,writeTree:t}}class lW{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;WO("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),WO(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,cz(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,oz(n,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,az(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw HO("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,cz(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const dW=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class uW{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Pz(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aW(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mz(this.viewCache_),s=rW(this.writes_,i,t,1,n,e);return 0===s.length?null:s[0]}}function hW(e,t,n,i,s){const r=new lW;let a,o;if(n.type===Sz.OVERWRITE){const c=n;c.source.fromUser?a=fW(e,t,c.path,c.snap,i,s,r):(WO(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered()&&!vq(c.path),a=mW(e,t,c.path,c.snap,i,s,o,r))}else if(n.type===Sz.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,i,s,r,a){let o=t;return i.foreach((i,c)=>{const l=gq(n,i);_W(t,uq(l))&&(o=fW(e,o,l,c,s,r,a))}),i.foreach((i,c)=>{const l=gq(n,i);_W(t,uq(l))||(o=fW(e,o,l,c,s,r,a))}),o}(e,t,c.path,c.children,i,s,r):(WO(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=vW(e,t,c.path,c.children,i,s,o,r))}else if(n.type===Sz.ACK_USER_WRITE){const o=n;a=o.revert?function(e,t,n,i,s,r){let a;if(null!=sW(i,n))return t;{const o=new uW(i,t,s),c=t.eventCache.getNode();let l;if(vq(n)||".priority"===uq(n)){let n;if(t.serverCache.isFullyInitialized())n=tW(i,Mz(t));else{const e=t.serverCache.getNode();WO(e instanceof ez,"serverChildren would be complete if leaf node"),n=nW(i,e)}l=e.filter.updateFullNode(c,n,r)}else{const s=uq(n);let d=aW(i,s,t.serverCache);null==d&&t.serverCache.isCompleteForChild(s)&&(d=c.getImmediateChild(s)),l=null!=d?e.filter.updateChild(c,s,d,pq(n),o,r):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(c,s,ez.EMPTY_NODE,pq(n),o,r):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=tW(i,Mz(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,r)))}return a=t.serverCache.isFullyInitialized()||null!=sW(i,dq()),Iz(t,l,a,e.filter.filtersNodes())}}(e,t,o.path,i,s,r):function(e,t,n,i,s,r,a){if(null!=sW(s,n))return t;const o=t.serverCache.isFiltered(),c=t.serverCache;if(null!=i.value){if(vq(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return mW(e,t,n,c.getNode().getChild(n),s,r,o,a);if(vq(n)){let i=new Dz(null);return c.getNode().forEachChild(Lq,(e,t)=>{i=i.set(new lq(e),t)}),vW(e,t,n,i,s,r,o,a)}return t}{let l=new Dz(null);return i.foreach((e,t)=>{const i=gq(n,e);c.isCompleteForPath(i)&&(l=l.set(e,c.getNode().getChild(i)))}),vW(e,t,n,l,s,r,o,a)}}(e,t,o.path,o.affectedTree,i,s,r)}else{if(n.type!==Sz.LISTEN_COMPLETE)throw HO("Unknown operation type: "+n.type);a=function(e,t,n,i,s){const r=t.serverCache,a=Lz(t,r.getNode(),r.isFullyInitialized()||vq(n),r.isFiltered());return pW(e,a,n,i,dW,s)}(e,t,n.path,i,r)}const c=r.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Rz(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(rz(Rz(t)))}}(t,a,c),{viewCache:a,changes:c}}function pW(e,t,n,i,s,r){const a=t.eventCache;if(null!=sW(i,n))return t;{let o,c;if(vq(n))if(WO(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Mz(t),s=nW(i,n instanceof ez?n:ez.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),s,r)}else{const n=tW(i,Mz(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,r)}else{const l=uq(n);if(".priority"===l){WO(1===hq(n),"Can't have a priority with additional path components");const s=a.getNode();c=t.serverCache.getNode();const r=iW(i,n,s,c);o=null!=r?e.filter.updatePriority(s,r):a.getNode()}else{const d=pq(n);let u;if(a.isCompleteForChild(l)){c=t.serverCache.getNode();const e=iW(i,n,a.getNode(),c);u=null!=e?a.getNode().getImmediateChild(l).updateChild(d,e):a.getNode().getImmediateChild(l)}else u=aW(i,l,t.serverCache);o=null!=u?e.filter.updateChild(a.getNode(),l,u,d,s,r):a.getNode()}}return Iz(t,o,a.isFullyInitialized()||vq(n),e.filter.filtersNodes())}}function mW(e,t,n,i,s,r,a,o){const c=t.serverCache;let l;const d=a?e.filter:e.filter.getIndexedFilter();if(vq(n))l=d.updateFullNode(c.getNode(),i,null);else if(d.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,i);l=d.updateFullNode(c.getNode(),e,null)}else{const e=uq(n);if(!c.isCompleteForPath(n)&&hq(n)>1)return t;const s=pq(n),r=c.getNode().getImmediateChild(e).updateChild(s,i);l=".priority"===e?d.updatePriority(c.getNode(),r):d.updateChild(c.getNode(),e,r,s,dW,null)}const u=Lz(t,l,c.isFullyInitialized()||vq(n),d.filtersNodes());return pW(e,u,n,s,new uW(s,u,r),o)}function fW(e,t,n,i,s,r,a){const o=t.eventCache;let c,l;const d=new uW(s,t,r);if(vq(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,a),c=Iz(t,l,!0,e.filter.filtersNodes());else{const s=uq(n);if(".priority"===s)l=e.filter.updatePriority(t.eventCache.getNode(),i),c=Iz(t,l,o.isFullyInitialized(),o.isFiltered());else{const r=pq(n),l=o.getNode().getImmediateChild(s);let u;if(vq(r))u=i;else{const e=d.getCompleteChild(s);u=null!=e?".priority"===mq(r)&&e.getChild(_q(r)).isEmpty()?e:e.updateChild(r,i):ez.EMPTY_NODE}if(l.equals(u))c=t;else{c=Iz(t,e.filter.updateChild(o.getNode(),s,u,r,d,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function _W(e,t){return e.eventCache.isCompleteForChild(t)}function gW(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function vW(e,t,n,i,s,r,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=vq(n)?i:new Dz(null).setTree(n,i);const d=t.serverCache.getNode();return c.children.inorderTraversal((n,i)=>{if(d.hasChild(n)){const c=gW(0,t.serverCache.getNode().getImmediateChild(n),i);l=mW(e,l,new lq(n),c,s,r,a,o)}}),c.children.inorderTraversal((n,i)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!d.hasChild(n)&&!c){const c=gW(0,t.serverCache.getNode().getImmediateChild(n),i);l=mW(e,l,new lq(n),c,s,r,a,o)}}),l}class yW{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new lz(n.getIndex()),s=(r=n).loadsAllData()?new lz(r.getIndex()):r.hasLimit()?new uz(r):new dz(r);var r;this.processor_=function(e){return{filter:e}}(s);const a=t.serverCache,o=t.eventCache,c=i.updateFullNode(ez.EMPTY_NODE,a.getNode(),null),l=s.updateFullNode(ez.EMPTY_NODE,o.getNode(),null),d=new Pz(c,a.isFullyInitialized(),i.filtersNodes()),u=new Pz(l,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Az(u,d),this.eventGenerator_=new Tz(this.query_)}get query(){return this.query_}}function xW(e,t){const n=Mz(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vq(t)&&!n.getImmediateChild(uq(t)).isEmpty())?n.getChild(t):null}function bW(e){return 0===e.eventRegistrations_.length}function SW(e,t,n){const i=[];if(n){WO(null==t,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,s);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const s=e.eventRegistrations_[i];if(s.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(s)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function wW(e,t,n,i){t.type===Sz.MERGE&&null!==t.source.queryId&&(WO(Mz(e.viewCache_),"We should always have a full cache before handling merges"),WO(Rz(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,r=hW(e.processor_,s,t,n,i);var a,o;return a=e.processor_,o=r.viewCache,WO(o.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),WO(o.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),WO(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=r.viewCache,NW(e,r.changes,r.viewCache.eventCache.getNode(),null)}function NW(e,t,n,i){const s=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const s=[],r=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&r.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Ez(e,s,"child_removed",t,i,n),Ez(e,s,"child_added",t,i,n),Ez(e,s,"child_moved",r,i,n),Ez(e,s,"child_changed",t,i,n),Ez(e,s,"value",t,i,n),s}(e.eventGenerator_,t,n,s)}let jW,CW;class kW{constructor(){this.views=new Map}}function PW(e,t,n,i){const s=t.source.queryId;if(null!==s){const r=e.views.get(s);return WO(null!=r,"SyncTree gave us an op for an invalid query."),wW(r,t,n,i)}{let s=[];for(const r of e.views.values())s=s.concat(wW(r,t,n,i));return s}}function TW(e,t,n,i,s){const r=t._queryIdentifier,a=e.views.get(r);if(!a){let e=tW(n,s?i:null),r=!1;e?r=!0:i instanceof ez?(e=nW(n,i),r=!1):(e=ez.EMPTY_NODE,r=!1);const a=Az(new Pz(e,r,!1),new Pz(i,s,!1));return new yW(t,a)}return a}function EW(e,t,n,i,s,r){const a=TW(e,t,i,s,r);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Gq,(e,t)=>{i.push(az(e,t))});return n.isFullyInitialized()&&i.push(rz(n.getNode())),NW(e,i,n.getNode(),t)}(a,n)}function AW(e,t,n,i){const s=t._queryIdentifier,r=[];let a=[];const o=OW(e);if("default"===s)for(const[c,l]of e.views.entries())a=a.concat(SW(l,n,i)),bW(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||r.push(l.query));else{const t=e.views.get(s);t&&(a=a.concat(SW(t,n,i)),bW(t)&&(e.views.delete(s),t.query._queryParams.loadsAllData()||r.push(t.query)))}return o&&!OW(e)&&r.push(new(WO(jW,"Reference.ts has not been loaded"),jW)(t._repo,t._path)),{removed:r,events:a}}function IW(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function LW(e,t){let n=null;for(const i of e.views.values())n=n||xW(i,t);return n}function RW(e,t){if(t._queryParams.loadsAllData())return DW(e);{const n=t._queryIdentifier;return e.views.get(n)}}function MW(e,t){return null!=RW(e,t)}function OW(e){return null!=DW(e)}function DW(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let FW=1;class BW{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Dz(null),this.pendingWriteTree_={visibleWrites:Fz.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qW(e,t,n,i,s){return function(e,t,n,i,s){WO(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:s}),s&&(e.visibleWrites=Bz(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,s),s?QW(e,new Cz({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function zW(e,t,n,i){!function(e,t,n,i){WO(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=qz(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const s=Dz.fromObject(n);return QW(e,new kz({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}function WW(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(Zz(e.pendingWriteTree_,t)){let t=new Dz(null);return null!=i.snap?t=t.set(dq(),!0):IB(i.children,e=>{t=t.set(new lq(e),!0)}),QW(e,new Nz(i.path,t,n))}return[]}function HW(e,t,n){return QW(e,new Cz({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function UW(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=t._path,a=e.syncPointTree_.get(r);let o=[];if(a&&("default"===t._queryIdentifier||MW(a,t))){const c=AW(a,t,n,i);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=c.removed;if(o=c.events,!s){const n=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),s=e.syncPointTree_.findOnPath(r,(e,t)=>OW(t));if(n&&!s){const t=e.syncPointTree_.subtree(r);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&OW(t)){return[DW(t)]}{let e=[];return t&&(e=IW(t)),IB(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const i=n[t],s=i.query,r=XW(e,i);e.listenProvider_.startListening(sH(s),$W(e,s),r.hashFn,r.onComplete)}}}if(!s&&l.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(sH(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(eH(t));e.listenProvider_.stopListening(sH(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=eH(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function VW(e,t,n,i){const s=tH(e,i);if(null!=s){const i=nH(s),r=i.path,a=i.queryId,o=yq(r,t);return iH(e,r,new Cz(wz(a),o,n))}return[]}function GW(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=t._path;let r=null,a=!1;e.syncPointTree_.foreachOnPath(s,(e,t)=>{const n=yq(e,s);r=r||LW(t,n),a=a||OW(t)});let o,c=e.syncPointTree_.get(s);if(c?(a=a||OW(c),r=r||LW(c,dq())):(c=new kW,e.syncPointTree_=e.syncPointTree_.set(s,c)),null!=r)o=!0;else{o=!1,r=ez.EMPTY_NODE;e.syncPointTree_.subtree(s).foreachChild((e,t)=>{const n=LW(t,dq());n&&(r=r.updateImmediateChild(e,n))})}const l=MW(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=eH(t);WO(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=FW++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let d=EW(c,t,n,Qz(e.pendingWriteTree_,s),r,o);if(!l&&!a&&!i){const n=RW(c,t);d=d.concat(function(e,t,n){const i=t._path,s=$W(e,t),r=XW(e,n),a=e.listenProvider_.startListening(sH(t),s,r.hashFn,r.onComplete),o=e.syncPointTree_.subtree(i);if(s)WO(!OW(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold((e,t,n)=>{if(!vq(e)&&t&&OW(t))return[DW(t).query];{let e=[];return t&&(e=e.concat(IW(t).map(e=>e.query))),IB(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(sH(i),$W(e,i))}}return a}(e,t,n))}return d}function YW(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=LW(n,yq(e,t));if(i)return i});return eW(i,t,s,n,!0)}function KW(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const s=yq(e,n);i=i||LW(t,s)});let s=e.syncPointTree_.get(n);s?i=i||LW(s,dq()):(s=new kW,e.syncPointTree_=e.syncPointTree_.set(n,s));const r=null!=i,a=r?new Pz(i,!0,!1):null;return function(e){return Rz(e.viewCache_)}(TW(s,t,Qz(e.pendingWriteTree_,t._path),r?a.getNode():ez.EMPTY_NODE,r))}function QW(e,t){return ZW(t,e.syncPointTree_,null,Qz(e.pendingWriteTree_,dq()))}function ZW(e,t,n,i){if(vq(e.path))return JW(e,t,n,i);{const s=t.get(dq());null==n&&null!=s&&(n=LW(s,dq()));let r=[];const a=uq(e.path),o=e.operationForChild(a),c=t.children.get(a);if(c&&o){const e=n?n.getImmediateChild(a):null,t=oW(i,a);r=r.concat(ZW(o,c,e,t))}return s&&(r=r.concat(PW(s,e,i,n))),r}}function JW(e,t,n,i){const s=t.get(dq());null==n&&null!=s&&(n=LW(s,dq()));let r=[];return t.children.inorderTraversal((t,s)=>{const a=n?n.getImmediateChild(t):null,o=oW(i,t),c=e.operationForChild(t);c&&(r=r.concat(JW(c,s,a,o)))}),s&&(r=r.concat(PW(s,e,i,n))),r}function XW(e,t){const n=t.query,i=$W(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ez.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=tH(e,n);if(i){const n=nH(i),s=n.path,r=n.queryId,a=yq(s,t);return iH(e,s,new jz(wz(r),a))}return[]}(e,n._path,i):function(e,t){return QW(e,new jz({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return UW(e,n,null,i)}}}}function $W(e,t){const n=eH(t);return e.queryToTagMap.get(n)}function eH(e){return e._path.toString()+"$"+e._queryIdentifier}function tH(e,t){return e.tagToQueryMap.get(t)}function nH(e){const t=e.indexOf("$");return WO(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lq(e.substr(0,t))}}function iH(e,t,n){const i=e.syncPointTree_.get(t);WO(i,"Missing sync point for query tag that we're tracking");return PW(i,n,Qz(e.pendingWriteTree_,t),null)}function sH(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(WO(CW,"Reference.ts has not been loaded"),CW)(e._repo,e._path):e}class rH{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new rH(t)}node(){return this.node_}}class aH{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=gq(this.path_,e);return new aH(this.syncTree_,t)}node(){return YW(this.syncTree_,this.path_)}}const oH=function(e,t,n){return e&&"object"===typeof e?(WO(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?cH(e[".sv"],t,n):"object"===typeof e[".sv"]?lH(e[".sv"],t):void WO(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},cH=function(e,t,n){if("timestamp"===e)return n.timestamp;WO(!1,"Unexpected server value: "+e)},lH=function(e,t,n){e.hasOwnProperty("increment")||WO(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!==typeof i&&WO(!1,"Unexpected increment value: "+i);const s=t.node();if(WO(null!==s&&"undefined"!==typeof s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return"number"!==typeof r?i:r+i},dH=function(e,t,n,i){return hH(t,new aH(n,e),i)},uH=function(e,t,n){return hH(e,new rH(t),n)};function hH(e,t,n){const i=e.getPriority().val(),s=oH(i,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const i=e,r=oH(i.getValue(),t,n);return r!==i.getValue()||s!==i.getPriority().val()?new Vq(r,nz(s)):e}{const i=e;return r=i,s!==i.getPriority().val()&&(r=r.updatePriority(new Vq(s))),i.forEachChild(Gq,(e,i)=>{const s=hH(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))}),r}}class pH{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function mH(e,t){let n=t instanceof lq?t:new lq(t),i=e,s=uq(n);for(;null!==s;){const e=xD(i.node.children,s)||{children:{},childCount:0};i=new pH(s,i,e),n=pq(n),s=uq(n)}return i}function fH(e){return e.node.value}function _H(e,t){e.node.value=t,bH(e)}function gH(e){return e.node.childCount>0}function vH(e,t){IB(e.node.children,(n,i)=>{t(new pH(n,e,i))})}function yH(e,t,n,i){n&&!i&&t(e),vH(e,e=>{yH(e,t,!0,i)}),n&&i&&t(e)}function xH(e){return new lq(null===e.parent?e.name:xH(e.parent)+"/"+e.name)}function bH(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===fH(e)&&!gH(e)}(n),s=yD(e.node.children,t);i&&s?(delete e.node.children[t],e.node.childCount--,bH(e)):i||s||(e.node.children[t]=n.node,e.node.childCount++,bH(e))}(e.parent,e.name,e)}const SH=/[\[\].#$\/\u0000-\u001F\u007F]/,wH=/[\[\].#$\u0000-\u001F\u007F]/,NH=10485760,jH=function(e){return"string"===typeof e&&0!==e.length&&!SH.test(e)},CH=function(e){return"string"===typeof e&&0!==e.length&&!wH.test(e)},kH=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!NB(e)||e&&"object"===typeof e&&yD(e,".sv")},PH=function(e,t,n,i){i&&void 0===t||TH(CD(e,"value"),t,n)},TH=function(e,t,n){const i=n instanceof lq?new wq(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+jq(i));if("function"===typeof t)throw new Error(e+"contains a function "+jq(i)+" with contents = "+t.toString());if(NB(t))throw new Error(e+"contains "+t.toString()+" "+jq(i));if("string"===typeof t&&t.length>NH/3&&kD(t)>NH)throw new Error(e+"contains a string greater than "+NH+" utf8 bytes "+jq(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,s=!1;if(IB(t,(t,r)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!jH(t)))throw new Error(e+" contains an invalid key ("+t+") "+jq(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=kD(t),Nq(e)}(i,t),TH(e,r,i),function(e){const t=e.parts_.pop();e.byteLength_-=kD(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),n&&s)throw new Error(e+' contains ".value" child '+jq(i)+" in addition to actual children.")}},EH=function(e,t,n,i){if(i&&void 0===t)return;const s=CD(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const r=[];IB(t,(e,t)=>{const i=new lq(e);if(TH(s,t,gq(n,i)),".priority"===mq(i)&&!kH(t))throw new Error(s+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(i)}),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const s=fq(i);for(let t=0;t<s.length;t++)if(".priority"===s[t]&&t===s.length-1);else if(!jH(s[t]))throw new Error(e+"contains an invalid key ("+s[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(xq);let s=null;for(n=0;n<t.length;n++){if(i=t[n],null!==s&&Sq(s,i))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(s,r)},AH=function(e,t,n,i){if((!i||void 0!==n)&&!CH(n))throw new Error(CD(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},IH=function(e,t){if(".info"===uq(t))throw new Error(e+" failed = Can't modify data under /.info/")},LH=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!jH(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),CH(e)}(n))throw new Error(CD(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class RH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function MH(e,t){let n=null;for(let i=0;i<t.length;i++){const s=t[i],r=s.getPath();null===n||bq(r,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:r}),n.events.push(s)}n&&e.eventLists_.push(n)}function OH(e,t,n){MH(e,n),FH(e,e=>bq(e,t))}function DH(e,t,n){MH(e,n),FH(e,e=>Sq(e,t)||Sq(t,e))}function FH(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const s=e.eventLists_[i];if(s){t(s.path)?(BH(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function BH(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();_B&&yB("event: "+n.toString()),OB(i)}}}const qH="repo_interrupt";class zH{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gz(),this.transactionQueueTree_=new pH,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WH(e,t,n){if(e.stats_=JB(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new fz(e.repoInfo_,(t,n,i,s)=>{VH(e,t,n,i,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>GH(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gD(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Pq(e.repoInfo_,t,(t,n,i,s)=>{VH(e,t,n,i,s)},t=>{GH(e,t)},t=>{!function(e,t){IB(t,(t,n)=>{YH(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ZB[n]||(ZB[n]=t()),ZB[n]}(e.repoInfo_,()=>new bz(e.stats_,e.server_)),e.infoData_=new _z,e.infoSyncTree_=new BW({startListening:(t,n,i,s)=>{let r=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(r=HW(e.infoSyncTree_,t._path,a),setTimeout(()=>{s("ok")},0)),r},stopListening:()=>{}}),YH(e,"connected",!1),e.serverSyncTree_=new BW({startListening:(t,n,i,s)=>(e.server_.listen(t,i,n,(n,i)=>{const r=s(n,i);DH(e.eventQueue_,t._path,r)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function HH(e){const t=e.infoData_.getNode(new lq(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function UH(e){return(t=(t={timestamp:HH(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function VH(e,t,n,i,s){e.dataUpdateCount++;const r=new lq(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(i){const t=SD(n,e=>nz(e));a=function(e,t,n,i){const s=tH(e,i);if(s){const i=nH(s),r=i.path,a=i.queryId,o=yq(r,t),c=Dz.fromObject(n);return iH(e,r,new kz(wz(a),o,c))}return[]}(e.serverSyncTree_,r,t,s)}else{const t=nz(n);a=VW(e.serverSyncTree_,r,t,s)}else if(i){const t=SD(n,e=>nz(e));a=function(e,t,n){const i=Dz.fromObject(n);return QW(e,new kz({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,r,t)}else{const t=nz(n);a=HW(e.serverSyncTree_,r,t)}let o=r;a.length>0&&(o=nU(e,r)),DH(e.eventQueue_,o,a)}function GH(e,t){YH(e,"connected",t),!1===t&&function(e){XH(e,"onDisconnectEvents");const t=UH(e),n=gz();yz(e.onDisconnect_,dq(),(i,s)=>{const r=dH(i,s,e.serverSyncTree_,t);vz(n,i,r)});let i=[];yz(n,dq(),(t,n)=>{i=i.concat(HW(e.serverSyncTree_,t,n));const s=oU(e,t);nU(e,s)}),e.onDisconnect_=gz(),DH(e.eventQueue_,dq(),i)}(e)}function YH(e,t,n){const i=new lq("/.info/"+t),s=nz(n);e.infoData_.updateSnapshot(i,s);const r=HW(e.infoSyncTree_,i,s);DH(e.eventQueue_,i,r)}function KH(e){return e.nextWriteId_++}function QH(e,t,n,i,s){XH(e,"set",{path:t.toString(),value:n,priority:i});const r=UH(e),a=nz(n,i),o=YW(e.serverSyncTree_,t),c=uH(a,o,r),l=KH(e),d=qW(e.serverSyncTree_,t,c,l,!0);MH(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),(n,i)=>{const r="ok"===n;r||wB("set at "+t+" failed: "+n);const a=WW(e.serverSyncTree_,l,!r);DH(e.eventQueue_,t,a),$H(e,s,n,i)});const u=oU(e,t);nU(e,u),DH(e.eventQueue_,u,[])}function ZH(e,t,n){let i;i=".info"===uq(t._path)?UW(e.infoSyncTree_,t,n):UW(e.serverSyncTree_,t,n),OH(e.eventQueue_,t._path,i)}function JH(e){e.persistentConnection_&&e.persistentConnection_.interrupt(qH)}function XH(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];yB(t,...i)}function $H(e,t,n,i){t&&OB(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;i&&(s+=": "+i);const r=new Error(s);r.code=e,t(r)}})}function eU(e,t,n){return YW(e.serverSyncTree_,t,n)||ez.EMPTY_NODE}function tU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||aU(e,t),fH(t)){const n=sU(e,t);WO(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const i=n.map(e=>e.currentWriteId),s=eU(e,t,i);let r=s;const a=s.hash();for(let l=0;l<n.length;l++){const e=n[l];WO(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=yq(t,e.path);r=r.updateChild(i,e.currentOutputSnapshotRaw)}const o=r.val(!0),c=t;e.server_.put(c.toString(),o,i=>{XH(e,"transaction put response",{path:c.toString(),status:i});let s=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(WW(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();aU(e,mH(e.transactionQueueTree_,t)),tU(e,e.transactionQueueTree_),DH(e.eventQueue_,t,s);for(let e=0;e<i.length;e++)OB(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{wB("transaction at "+c.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}nU(e,t)}},a)}(e,xH(t),n)}else gH(t)&&vH(t,t=>{tU(e,t)})}function nU(e,t){const n=iU(e,t),i=xH(n);return function(e,t,n){if(0===t.length)return;const i=[];let s=[];const r=t.filter(e=>0===e.status),a=r.map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const r=t[o],c=yq(n,r.path);let l,d=!1;if(WO(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===r.status)d=!0,l=r.abortReason,s=s.concat(WW(e.serverSyncTree_,r.currentWriteId,!0));else if(0===r.status)if(r.retryCount>=25)d=!0,l="maxretry",s=s.concat(WW(e.serverSyncTree_,r.currentWriteId,!0));else{const n=eU(e,r.path,a);r.currentInputSnapshot=n;const i=t[o].update(n.val());if(void 0!==i){TH("transaction failed: Data returned ",i,r.path);let t=nz(i);"object"===typeof i&&null!=i&&yD(i,".priority")||(t=t.updatePriority(n.getPriority()));const o=r.currentWriteId,c=UH(e),l=uH(t,n,c);r.currentOutputSnapshotRaw=t,r.currentOutputSnapshotResolved=l,r.currentWriteId=KH(e),a.splice(a.indexOf(o),1),s=s.concat(qW(e.serverSyncTree_,r.path,l,r.currentWriteId,r.applyLocally)),s=s.concat(WW(e.serverSyncTree_,o,!0))}else d=!0,l="nodata",s=s.concat(WW(e.serverSyncTree_,r.currentWriteId,!0))}DH(e.eventQueue_,n,s),s=[],d&&(t[o].status=2,function(e){setTimeout(e,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&("nodata"===l?i.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):i.push(()=>t[o].onComplete(new Error(l),!1,null))))}aU(e,e.transactionQueueTree_);for(let o=0;o<i.length;o++)OB(i[o]);tU(e,e.transactionQueueTree_)}(e,sU(e,n),i),i}function iU(e,t){let n,i=e.transactionQueueTree_;for(n=uq(t);null!==n&&void 0===fH(i);)i=mH(i,n),n=uq(t=pq(t));return i}function sU(e,t){const n=[];return rU(e,t,n),n.sort((e,t)=>e.order-t.order),n}function rU(e,t,n){const i=fH(t);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);vH(t,t=>{rU(e,t,n)})}function aU(e,t){const n=fH(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,_H(t,n.length>0?n:void 0)}vH(t,t=>{aU(e,t)})}function oU(e,t){const n=xH(iU(e,t)),i=mH(e.transactionQueueTree_,t);return function(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,t=>{cU(e,t)}),cU(e,i),yH(i,t=>{cU(e,t)}),n}function cU(e,t){const n=fH(t);if(n){const i=[];let s=[],r=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(WO(r===t-1,"All SENT items should be at beginning of queue."),r=t,n[t].status=3,n[t].abortReason="set"):(WO(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(WW(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===r?_H(t,void 0):n.length=r+1,DH(e.eventQueue_,xH(t),s);for(let e=0;e<i.length;e++)OB(i[e])}}const lU=function(e,t){const n=dU(e),i=n.namespace;"firebase.com"===n.domain&&SB(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||SB("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wB("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new GB(n.host,n.secure,i,s,t,"",i!==n.subdomain),path:new lq(n.pathString)}},dU=function(e){let t="",n="",i="",s="",r="",a=!0,o="https",c=443;if("string"===typeof e){let l=e.indexOf("//");l>=0&&(o=e.substring(0,l-1),e=e.substring(l+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(s=function(e){let t="";const n=e.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let e=n[s];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}(e.substring(d,u)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wB("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));l=t.indexOf(":"),l>=0?(a="https"===o||"wss"===o,c=parseInt(t.substring(l+1),10)):l=t.length;const p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),r=i}"ns"in h&&(r=h.ns)}return{host:t,port:c,domain:n,subdomain:i,secure:a,scheme:o,pathString:s,namespace:r}},uU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class hU{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gD(this.snapshot.exportVal())}}class pU{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class mU{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return WO(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class fU{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return vq(this._path)?null:mq(this._path)}get ref(){return new _U(this._repo,this._path)}get _queryIdentifier(){const e=mz(this._queryParams),t=EB(e);return"{}"===t?"default":t}get _queryObject(){return mz(this._queryParams)}isEqual(e){if(!((e=PD(e))instanceof fU))return!1;const t=this._repo===e._repo,n=bq(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class _U extends fU{constructor(e,t){super(e,t,new hz,!1)}get parent(){const e=_q(this._path);return null===e?null:new _U(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class gU{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new lq(e),n=yU(this.ref,e);return new gU(this._node.getChild(t),n,Gq)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new gU(n,yU(this.ref,t),Gq)))}hasChild(e){const t=new lq(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vU(e,t){return(e=PD(e))._checkNotDeleted("ref"),void 0!==t?yU(e._root,t):e._root}function yU(e,t){var n,i,s,r;return null===uq((e=PD(e))._path)?(n="child",i="path",r=!1,(s=t)&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),AH(n,i,s,r)):AH("child","path",t,!1),new _U(e._repo,gq(e._path,t))}function xU(e,t){e=PD(e),IH("set",e._path),PH("set",t,e._path,!1);const n=new iD;return QH(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function bU(e,t){EH("update",t,e._path,!1);const n=new iD;return function(e,t,n,i){XH(e,"update",{path:t.toString(),value:n});let s=!0;const r=UH(e),a={};if(IB(n,(n,i)=>{s=!1,a[n]=dH(gq(t,n),nz(i),e.serverSyncTree_,r)}),s)yB("update() called with empty data.  Don't do anything."),$H(0,i,"ok",void 0);else{const s=KH(e),r=zW(e.serverSyncTree_,t,a,s);MH(e.eventQueue_,r),e.server_.merge(t.toString(),n,(n,r)=>{const a="ok"===n;a||wB("update at "+t+" failed: "+n);const o=WW(e.serverSyncTree_,s,!a),c=o.length>0?nU(e,t):t;DH(e.eventQueue_,c,o),$H(0,i,n,r)}),IB(n,n=>{const i=oU(e,gq(t,n));nU(e,i)}),DH(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function SU(e){e=PD(e);const t=new mU(()=>{}),n=new wU(t);return function(e,t,n){const i=KW(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then(i=>{const s=nz(i).withIndex(t._queryParams.getIndex());let r;if(GW(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())r=HW(e.serverSyncTree_,t._path,s);else{const n=$W(e.serverSyncTree_,t);r=VW(e.serverSyncTree_,t._path,s,n)}return DH(e.eventQueue_,t._path,r),UW(e.serverSyncTree_,t,n,null,!0),s},n=>(XH(e,"get for query "+gD(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new gU(t,new _U(e._repo,e._path),e._queryParams.getIndex()))}class wU{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new hU("value",this,new gU(e.snapshotNode,new _U(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new pU(this,e,t):null}matches(e){return e instanceof wU&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class NU{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new pU(this,e,t):null}createEvent(e,t){WO(null!=e.childName,"Child events should have a childName.");const n=yU(new _U(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new hU(e.type,this,new gU(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof NU&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function jU(e,t,n,i,s){let r;if("object"===typeof i&&(r=void 0,s=i),"function"===typeof i&&(r=i),s&&s.onlyOnce){const t=n,i=(n,i)=>{ZH(e._repo,e,o),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const a=new mU(n,r||void 0),o="value"===t?new wU(a):new NU(t,a);return function(e,t,n){let i;i=".info"===uq(t._path)?GW(e.infoSyncTree_,t,n):GW(e.serverSyncTree_,t,n),OH(e.eventQueue_,t._path,i)}(e._repo,e,o),()=>ZH(e._repo,e,o)}function CU(e,t,n,i){return jU(e,"value",t,n,i)}function kU(e,t,n){let i=null;const s=n?new mU(n):null;"value"===t?i=new wU(s):t&&(i=new NU(t,s)),ZH(e._repo,e,i)}!function(e){WO(!jW,"__referenceConstructor has already been defined"),jW=e}(_U),function(e){WO(!CW,"__referenceConstructor has already been defined"),CW=e}(_U);const PU={};let TU=!1;function EU(e,t,n,i,s){let r=i||e.options.databaseURL;void 0===r&&(e.options.projectId||SB("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yB("Using default host for project ",e.options.projectId),r="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,o,c=lU(r,s),l=c.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"localhost",WDS_SOCKET_PATH:"/ws",WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NODE_ENV:"development",REACT_APP_HOT_RELOAD:"true",REACT_APP_SUPABASE_URL:"https://jmzvrqwjmlnvxojculee.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImptenZycXdqbWxudnhvamN1bGVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODE1NjksImV4cCI6MjA3NDE1NzU2OX0.s-fLHpJWc54j-NOVU7k1mIKOHFL1mzduO-VFCVhoizA",REACT_APP_FIREBASE_API_KEY:"AIzaSyCByrZaVECC1n3mebfrRqEHdLxjAO86TEU",REACT_APP_FIREBASE_AUTH_DOMAIN:"armora-protection.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"armora-protection",REACT_APP_FIREBASE_STORAGE_BUCKET:"armora-protection.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1010601153585",REACT_APP_FIREBASE_APP_ID:"1:1010601153585:android:9cb1f76fb75c9be748b110",REACT_APP_GOOGLE_MAPS_API_KEY:"YOUR_GOOGLE_MAPS_API_KEY_HERE",REACT_APP_STRIPE_PUBLISHABLE_KEY:"YOUR_STRIPE_PUBLISHABLE_KEY_HERE"}.FIREBASE_DATABASE_EMULATOR_HOST),o?(a=!0,r="http://".concat(o,"?ns=").concat(l.namespace),c=lU(r,s),l=c.repoInfo):a=!c.repoInfo.secure;const d=s&&a?new qB(qB.OWNER):new BB(e.name,e.options,t);LH("Invalid Firebase Database URL",c),vq(c.path)||SB("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,i){let s=PU[t.name];s||(s={},PU[t.name]=s);let r=s[e.toURLString()];r&&SB("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return r=new zH(e,TU,n,i),s[e.toURLString()]=r,r}(l,e,d,new FB(e,n));return new AU(u,e)}class AU{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(WH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _U(this._repo,dq())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=PU[t];n&&n[e.key]===e||SB("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),JH(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&SB("Cannot call "+e+" on a deleted database.")}}Pq.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Pq.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){aB("12.3.0"),qF(new TD("database",(e,t)=>{let{instanceIdentifier:n}=t;return EU(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),GF(iB,sB,e),GF(iB,sB,"esm2020")}();GF("firebase","12.3.0","app");const IU="@firebase/installations",LU="0.6.19",RU=1e4,MU="w:".concat(LU),OU="FIS_v2",DU=36e5,FU=new mD("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function BU(e){return e instanceof pD&&e.code.includes("request-failed")}function qU(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function zU(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function WU(e,t){const n=(await t.json()).error;return FU.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function HU(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function UU(e,t){let{refreshToken:n}=t;const i=HU(e);return i.append("Authorization",function(e){return"".concat(OU," ").concat(e)}(n)),i}async function VU(e){const t=await e();return t.status>=500&&t.status<600?e():t}function GU(e){return new Promise(t=>{setTimeout(t,e)})}const YU=/^[cdef][\w-]{21}$/;function KU(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return YU.test(t)?t:""}catch(e){return""}}function QU(e){return"".concat(e.appName,"!").concat(e.appId)}const ZU=new Map;function JU(e,t){const n=QU(e);XU(n,t),function(e,t){const n=eV();n&&n.postMessage({key:e,fid:t});tV()}(n,t)}function XU(e,t){const n=ZU.get(e);if(n)for(const i of n)i(t)}let $U=null;function eV(){return!$U&&"BroadcastChannel"in self&&($U=new BroadcastChannel("[Firebase] FID Change"),$U.onmessage=e=>{XU(e.data.key,e.data.fid)}),$U}function tV(){0===ZU.size&&$U&&($U.close(),$U=null)}const nV="firebase-installations-store";let iV=null;function sV(){return iV||(iV=XD("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(nV)}})),iV}async function rV(e,t){const n=QU(e),i=(await sV()).transaction(nV,"readwrite"),s=i.objectStore(nV),r=await s.get(n);return await s.put(t,n),await i.done,r&&r.fid===t.fid||JU(e,t.fid),t}async function aV(e){const t=QU(e),n=(await sV()).transaction(nV,"readwrite");await n.objectStore(nV).delete(t),await n.done}async function oV(e,t){const n=QU(e),i=(await sV()).transaction(nV,"readwrite"),s=i.objectStore(nV),r=await s.get(n),a=t(r);return void 0===a?await s.delete(n):await s.put(a,n),await i.done,!a||r&&r.fid===a.fid||JU(e,a.fid),a}async function cV(e){let t;const n=await oV(e.appConfig,n=>{const i=function(e){const t=e||{fid:KU(),registrationStatus:0};return uV(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(FU.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:i}=e,{fid:s}=t;const r=qU(n),a=HU(n),o=i.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const c={fid:s,authVersion:OU,appId:n.appId,sdkVersion:MU},l={method:"POST",headers:a,body:JSON.stringify(c)},d=await VU(()=>fetch(r,l));if(d.ok){const e=await d.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:zU(e.authToken)}}throw await WU("Create Installation",d)}(e,t);return rV(e.appConfig,n)}catch(n){throw BU(n)&&409===n.customData.serverCode?await aV(e.appConfig):await rV(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:lV(e)}:{installationEntry:t}}(e,i);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function lV(e){let t=await dV(e.appConfig);for(;1===t.registrationStatus;)await GU(100),t=await dV(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await cV(e);return n||t}return t}function dV(e){return oV(e,e=>{if(!e)throw FU.create("installation-not-found");return uV(e)})}function uV(e){return 1===(t=e).registrationStatus&&t.registrationTime+RU<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function hV(e,t){let{appConfig:n,heartbeatServiceProvider:i}=e;const s=function(e,t){let{fid:n}=t;return"".concat(qU(e),"/").concat(n,"/authTokens:generate")}(n,t),r=UU(n,t),a=i.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const o={installation:{sdkVersion:MU,appId:n.appId}},c={method:"POST",headers:r,body:JSON.stringify(o)},l=await VU(()=>fetch(s,c));if(l.ok){return zU(await l.json())}throw await WU("Generate Auth Token",l)}async function pV(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await oV(e.appConfig,i=>{if(!fV(i))throw FU.create("not-registered");const s=i.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+DU}(e)}(s))return i;if(1===s.requestStatus)return t=async function(e,t){let n=await mV(e.appConfig);for(;1===n.authToken.requestStatus;)await GU(100),n=await mV(e.appConfig);const i=n.authToken;return 0===i.requestStatus?pV(e,t):i}(e,n),i;{if(!navigator.onLine)throw FU.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return o(o({},e),{},{authToken:t})}(i);return t=async function(e,t){try{const n=await hV(e,t),i=o(o({},t),{},{authToken:n});return await rV(e.appConfig,i),n}catch(n){if(!BU(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=o(o({},t),{},{authToken:{requestStatus:0}});await rV(e.appConfig,n)}else await aV(e.appConfig);throw n}}(e,n),n}});return t?await t:i.authToken}function mV(e){return oV(e,e=>{if(!fV(e))throw FU.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+RU<Date.now()?o(o({},e),{},{authToken:{requestStatus:0}}):e;var n})}function fV(e){return void 0!==e&&2===e.registrationStatus}async function _V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await cV(e);t&&await t}(n);return(await pV(n,t)).token}function gV(e){return FU.create("missing-app-config-values",{valueName:e})}const vV="installations",yV=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw gV("App Configuration");if(!e.name)throw gV("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw gV(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:zF(t,"heartbeat"),_delete:()=>Promise.resolve()}},xV=e=>{const t=zF(e.getProvider("app").getImmediate(),vV).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await cV(t);return i?i.catch(console.error):pV(t).catch(console.error),n.fid}(t),getToken:e=>_V(t,e)}};qF(new TD(vV,yV,"PUBLIC")),qF(new TD("installations-internal",xV,"PRIVATE")),GF(IU,LU),GF(IU,LU,"esm2020");const bV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",SV="google.c.a.c_id",wV=1e4;var NV,jV;function CV(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kV(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(NV||(NV={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(jV||(jV={}));const PV="fcm_token_details_db",TV="fcm_token_object_Store";const EV="firebase-messaging-store";let AV=null;function IV(){return AV||(AV=XD("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(EV)}})),AV}async function LV(e){const t=MV(e),n=await IV(),i=await n.transaction(EV).objectStore(EV).get(t);if(i)return i;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(PV))return null}let t=null;return(await XD(PV,5,{upgrade:async(n,i,s,r)=>{if(i<2)return;if(!n.objectStoreNames.contains(TV))return;const a=r.objectStore(TV),o=await a.index("fcmSenderId").get(e);if(await a.clear(),o)if(2===i){var c;const e=o;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(c=e.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:CV(e.vapidKey)}}}else if(3===i){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:CV(e.auth),p256dh:CV(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:CV(e.vapidKey)}}}else if(4===i){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:CV(e.auth),p256dh:CV(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:CV(e.vapidKey)}}}}})).close(),await $D(PV),await $D("fcm_vapid_details_db"),await $D("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await RV(e,t),t}}async function RV(e,t){const n=MV(e),i=(await IV()).transaction(EV,"readwrite");return await i.objectStore(EV).put(t,n),await i.done,t}function MV(e){let{appConfig:t}=e;return t.appId}const OV=new mD("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function DV(e,t){const n={method:"DELETE",headers:await BV(e)};try{const i=await fetch("".concat(FV(e.appConfig),"/").concat(t),n),s=await i.json();if(s.error){const e=s.error.message;throw OV.create("token-unsubscribe-failed",{errorInfo:e})}}catch(Dte){throw OV.create("token-unsubscribe-failed",{errorInfo:null===Dte||void 0===Dte?void 0:Dte.toString()})}}function FV(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function BV(e){let{appConfig:t,installations:n}=e;const i=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)})}function qV(e){let{p256dh:t,auth:n,endpoint:i,vapidKey:s}=e;const r={web:{endpoint:i,auth:n,p256dh:t}};return s!==bV&&(r.web.applicationPubKey=s),r}async function zV(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kV(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:CV(t.getKey("auth")),p256dh:CV(t.getKey("p256dh"))},i=await LV(e.firebaseDependencies);if(i){if(function(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,s=t.auth===e.auth,r=t.p256dh===e.p256dh;return n&&i&&s&&r}(i.subscriptionOptions,n))return Date.now()>=i.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await BV(e),i=qV(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)};let r;try{const n=await fetch("".concat(FV(e.appConfig),"/").concat(t.token),s);r=await n.json()}catch(Dte){throw OV.create("token-update-failed",{errorInfo:null===Dte||void 0===Dte?void 0:Dte.toString()})}if(r.error){const e=r.error.message;throw OV.create("token-update-failed",{errorInfo:e})}if(!r.token)throw OV.create("token-update-no-token");return r.token}(e.firebaseDependencies,t),i=o(o({},t),{},{token:n,createTime:Date.now()});return await RV(e.firebaseDependencies,i),n}catch(n){throw n}}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await DV(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return WV(e.firebaseDependencies,n)}return WV(e.firebaseDependencies,n)}async function WV(e,t){const n=await async function(e,t){const n=await BV(e),i=qV(t),s={method:"POST",headers:n,body:JSON.stringify(i)};let r;try{const t=await fetch(FV(e.appConfig),s);r=await t.json()}catch(Dte){throw OV.create("token-subscribe-failed",{errorInfo:null===Dte||void 0===Dte?void 0:Dte.toString()})}if(r.error){const e=r.error.message;throw OV.create("token-subscribe-failed",{errorInfo:e})}if(!r.token)throw OV.create("token-subscribe-no-token");return r.token}(e,t),i={token:n,createTime:Date.now(),subscriptionOptions:t};return await RV(e,i),i.token}function HV(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const s=t.notification.image;s&&(e.notification.image=s);const r=t.notification.icon;r&&(e.notification.icon=r)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,i,s,r,a;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};const o=null!==(i=null===(s=t.fcmOptions)||void 0===s?void 0:s.link)&&void 0!==i?i:null===(r=t.notification)||void 0===r?void 0:r.click_action;o&&(e.fcmOptions.link=o);const c=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function UV(e){return OV.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class VV{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(e){if(!e||!e.options)throw UV("App Configuration Object");if(!e.name)throw UV("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw UV(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function GV(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error("Service worker not registered after ".concat(wV," ms"))),wV),s=e.installing||e.waiting;e.active?(clearTimeout(i),t()):s?s.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(s.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(t){throw OV.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function YV(e,t){if(!navigator)throw OV.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw OV.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=bV)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await GV(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw OV.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),zV(e)}async function KV(e,t,n){const i=function(e){switch(e){case jV.NOTIFICATION_CLICKED:return"notification_open";case jV.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[SV],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function QV(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===jV.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(HV(n)):e.onMessageHandler.next(HV(n)));const i=n.data;var s;"object"===typeof(s=i)&&s&&SV in s&&"1"===i["google.c.a.e"]&&await KV(e,n.messageType,i)}const ZV="@firebase/messaging",JV="0.12.23",XV=e=>{const t=new VV(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>QV(t,e)),t},$V=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>YV(t,e)}};async function eG(){try{await hD()}catch(e){return!1}return"undefined"!==typeof window&&uD()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}qF(new TD("messaging",XV,"PUBLIC")),qF(new TD("messaging-internal",$V,"PRIVATE")),GF(ZV,JV),GF(ZV,JV,"esm2020");const tG={apiKey:"AIzaSyCByrZaVECC1n3mebfrRqEHdLxjAO86TEU",authDomain:"armora-protection.firebaseapp.com",projectId:"armora-protection",storageBucket:"armora-protection.firebasestorage.app",messagingSenderId:"1010601153585",appId:"1:1010601153585:android:9cb1f76fb75c9be748b110"};let nG=null,iG=null,sG=null;try{nG=UF(tG),iG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VF(),t=arguments.length>1?arguments[1]:void 0;const n=zF(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=tD("database");e&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=PD(e))._checkNotDeleted("useEmulator");const s="".concat(t,":").concat(n),r=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&wD(i,r.repoInfo_.emulatorOptions))return;SB("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&SB('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new qB(qB.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=o({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[KO(JSON.stringify({alg:"none",type:"JWT"})),KO(JSON.stringify(r)),""].join(".")}(i.mockUserToken,e.app.options.projectId);a=new qB(t)}sD(t)&&(async function(e){(await fetch(e,{credentials:"include"})).ok}(t),oD("Database",!0)),function(e,t,n,i){const s=t.lastIndexOf(":"),r=sD(t.substring(0,s));e.repoInfo_=new GB(t,r,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}(r,s,i,a)}(n,...e)}return n}(nG),eG().then(e=>{e&&nG&&(sG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VF();return eG().then(e=>{if(!e)throw OV.create("unsupported-browser")},e=>{throw OV.create("indexed-db-unsupported")}),zF(PD(e),"messaging").getImmediate()}(nG))})}catch(O){console.error("Firebase initialization error:",O)}class rG{static async startTracking(e,t){if(!iG)throw new Error("Firebase database not initialized");const n=vU(iG,"tracking/".concat(e));await xU(n,{assignmentId:e,officerId:t,status:"en_route",startedAt:Date.now(),active:!0})}static async updateLocation(e,t){if(!iG)throw new Error("Firebase database not initialized");const n=vU(iG,"tracking/".concat(e,"/location"));await xU(n,o(o({},t),{},{assignmentId:e,timestamp:Date.now()}))}static subscribeToLocation(e,t){if(!iG)return console.error("Firebase database not initialized"),()=>{};const n=vU(iG,"tracking/".concat(e,"/location"));return CU(n,e=>{const n=e.val();t(n)}),()=>{kU(n)}}static async getLocation(e){if(!iG)throw new Error("Firebase database not initialized");const t=vU(iG,"tracking/".concat(e,"/location"));return(await SU(t)).val()}static async updateStatus(e,t){if(!iG)throw new Error("Firebase database not initialized");const n=vU(iG,"tracking/".concat(e));await bU(n,{status:t,lastUpdated:Date.now()})}static async updateRouteProgress(e,t){if(!iG)throw new Error("Firebase database not initialized");const n=vU(iG,"tracking/".concat(e,"/progress"));await xU(n,o(o({},t),{},{timestamp:Date.now()}))}static subscribeToProgress(e,t){if(!iG)return console.error("Firebase database not initialized"),()=>{};const n=vU(iG,"tracking/".concat(e,"/progress"));return CU(n,e=>{const n=e.val();t(n)}),()=>{kU(n)}}static async stopTracking(e){if(!iG)throw new Error("Firebase database not initialized");const t=vU(iG,"tracking/".concat(e));await bU(t,{active:!1,endedAt:Date.now(),status:"completed"})}static simulateMovement(e,t,n,i,s,r){let a,o=0;const c=60*(arguments.length>6&&void 0!==arguments[6]?arguments[6]:15)/2;return a=setInterval(async()=>{if(o>=1)return clearInterval(a),void await this.updateStatus(e,"arrived");o+=1/c;const l=n+(s-n)*o,d=i+(r-i)*o,u=r-d,h=s-l,p=180*Math.atan2(u,h)/Math.PI,m=15+10*Math.random();await this.updateLocation(e,{officerId:t,latitude:l,longitude:d,heading:p,speed:m,accuracy:10,timestamp:Date.now(),status:"en_route"});const f=this.calculateDistance(l,d,s,r),_=f/m*1e3;await this.updateRouteProgress(e,{distanceRemaining:f,estimatedTimeArrival:Date.now()+_,percentComplete:100*o})},2e3),()=>clearInterval(a)}static calculateDistance(e,t,n,i){const s=e*Math.PI/180,r=n*Math.PI/180,a=(n-e)*Math.PI/180,o=(i-t)*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(s)*Math.cos(r)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}}const aG={panel:"EnhancedProtectionPanel_panel__ec-QA",collapsed:"EnhancedProtectionPanel_collapsed__hQy-k",slideUpPanel:"EnhancedProtectionPanel_slideUpPanel__VI4b-",dragging:"EnhancedProtectionPanel_dragging__KHvDF",panicMode:"EnhancedProtectionPanel_panicMode__uv7JA",panicPulse:"EnhancedProtectionPanel_panicPulse__qxNAc",half:"EnhancedProtectionPanel_half__yf6Wy",full:"EnhancedProtectionPanel_full__ziAcX",dragHandle:"EnhancedProtectionPanel_dragHandle__EhT7r",collapsedPreview:"EnhancedProtectionPanel_collapsedPreview__pN4Mr",statusLine:"EnhancedProtectionPanel_statusLine__YDSLP",statusDot:"EnhancedProtectionPanel_statusDot__DZZYm",pulse:"EnhancedProtectionPanel_pulse__k9QBQ",statusText:"EnhancedProtectionPanel_statusText__Ud3qM",expandArrow:"EnhancedProtectionPanel_expandArrow__uOw1C",chevronIcon:"EnhancedProtectionPanel_chevronIcon__zYOok",cpoLine:"EnhancedProtectionPanel_cpoLine__ykrAg",cpoInfo:"EnhancedProtectionPanel_cpoInfo__vU5l9",journeyLine:"EnhancedProtectionPanel_journeyLine__pUm+-",journeyInfo:"EnhancedProtectionPanel_journeyInfo__zm31s",timeLine:"EnhancedProtectionPanel_timeLine__0JQjb",timeInfo:"EnhancedProtectionPanel_timeInfo__420H7",costMeter:"EnhancedProtectionPanel_costMeter__7dUkC",costMeterFill:"EnhancedProtectionPanel_costMeterFill__y6+hc",shimmer:"EnhancedProtectionPanel_shimmer__6z8zT",costText:"EnhancedProtectionPanel_costText__9Y2mu",detailsLine:"EnhancedProtectionPanel_detailsLine__l8pjL",destination:"EnhancedProtectionPanel_destination__U1sI3",cost:"EnhancedProtectionPanel_cost__dZ4Tk",officerInfo:"EnhancedProtectionPanel_officerInfo__nSxWM",cpoLabel:"EnhancedProtectionPanel_cpoLabel__GfbBq",officerName:"EnhancedProtectionPanel_officerName__2eNMi",serviceName:"EnhancedProtectionPanel_serviceName__OMr9B",statusBar:"EnhancedProtectionPanel_statusBar__lkW4P",expandedOfficerSection:"EnhancedProtectionPanel_expandedOfficerSection__F6XMw",officerProfile:"EnhancedProtectionPanel_officerProfile__YWLLm",officerNameInline:"EnhancedProtectionPanel_officerNameInline__-30oB",locationTimeSection:"EnhancedProtectionPanel_locationTimeSection__3Ep3B",officerAvatar:"EnhancedProtectionPanel_officerAvatar__Ae-ab",quickCall:"EnhancedProtectionPanel_quickCall__Tr4HP",initials:"EnhancedProtectionPanel_initials__m3U0W",statusRing:"EnhancedProtectionPanel_statusRing__+Cj9o",officerDetails:"EnhancedProtectionPanel_officerDetails__zrlG+",officerRole:"EnhancedProtectionPanel_officerRole__x4vDt",statusInfo:"EnhancedProtectionPanel_statusInfo__0SSJU",location:"EnhancedProtectionPanel_location__1XA7D",timeRemaining:"EnhancedProtectionPanel_timeRemaining__TMeh0",panelContent:"EnhancedProtectionPanel_panelContent__msHMU",progressSection:"EnhancedProtectionPanel_progressSection__I-aEj",progressHeader:"EnhancedProtectionPanel_progressHeader__2rCro",protectionLevel:"EnhancedProtectionPanel_protectionLevel__fwR8k",currentCost:"EnhancedProtectionPanel_currentCost__ygrAU",progressBar:"EnhancedProtectionPanel_progressBar__kwuh4",progressFill:"EnhancedProtectionPanel_progressFill__Dc0lf",progressDetails:"EnhancedProtectionPanel_progressDetails__DOS5-",eta:"EnhancedProtectionPanel_eta__SF6bX",progress:"EnhancedProtectionPanel_progress__r5uzK",actionGrid:"EnhancedProtectionPanel_actionGrid__nbkrZ",actionButton:"EnhancedProtectionPanel_actionButton__7zYEK",buttonIcon:"EnhancedProtectionPanel_buttonIcon__PMGPk",buttonLabel:"EnhancedProtectionPanel_buttonLabel__x0tS5",buttonSubtext:"EnhancedProtectionPanel_buttonSubtext__fchEz",panic:"EnhancedProtectionPanel_panic__G80Pc",call:"EnhancedProtectionPanel_call__FBPa2",extend:"EnhancedProtectionPanel_extend__NeeJa",route:"EnhancedProtectionPanel_route__dzzZa",message:"EnhancedProtectionPanel_message__BeLc5",active:"EnhancedProtectionPanel_active__G8+9d",share:"EnhancedProtectionPanel_share__S8y54",reports:"EnhancedProtectionPanel_reports__pA4CC",fullModeContent:"EnhancedProtectionPanel_fullModeContent__GzhWb",sectionTitle:"EnhancedProtectionPanel_sectionTitle__GB9Zc",verificationSection:"EnhancedProtectionPanel_verificationSection__iLzTl",badgeGrid:"EnhancedProtectionPanel_badgeGrid__KUzQt",verificationBadge:"EnhancedProtectionPanel_verificationBadge__7oG1f",badgeIcon:"EnhancedProtectionPanel_badgeIcon__qdyzR",badgeText:"EnhancedProtectionPanel_badgeText__JzwBj",vehicleSection:"EnhancedProtectionPanel_vehicleSection__-218X",detailsList:"EnhancedProtectionPanel_detailsList__qS1+r",detailItem:"EnhancedProtectionPanel_detailItem__y7-fC",detailLabel:"EnhancedProtectionPanel_detailLabel__aUoo9",detailValue:"EnhancedProtectionPanel_detailValue__fk-oB",activitySection:"EnhancedProtectionPanel_activitySection__CQgvz",activityFeed:"EnhancedProtectionPanel_activityFeed__M8LfH",activityItem:"EnhancedProtectionPanel_activityItem__MOOQD",activityTime:"EnhancedProtectionPanel_activityTime__w-jMs",activityText:"EnhancedProtectionPanel_activityText__gPxkk",miniMapSection:"EnhancedProtectionPanel_miniMapSection__lX63l",miniMapPlaceholder:"EnhancedProtectionPanel_miniMapPlaceholder__X8O9W",mapContent:"EnhancedProtectionPanel_mapContent__eEomg",mapIcon:"EnhancedProtectionPanel_mapIcon__J3FPp",mapText:"EnhancedProtectionPanel_mapText__f9jJt",mapSubtext:"EnhancedProtectionPanel_mapSubtext__y+LDv",etaSection:"EnhancedProtectionPanel_etaSection__8FFhe",bottomRow:"EnhancedProtectionPanel_bottomRow__QKt2S",onlineIndicator:"EnhancedProtectionPanel_onlineIndicator__IsnWY",progressIndicator:"EnhancedProtectionPanel_progressIndicator__BUp17",etaTime:"EnhancedProtectionPanel_etaTime__JBlu7",expandHint:"EnhancedProtectionPanel_expandHint__qVG3P",tapText:"EnhancedProtectionPanel_tapText__9zsWi",expandIcon:"EnhancedProtectionPanel_expandIcon__V1n4E",bounce:"EnhancedProtectionPanel_bounce__iDHSd",middleRow:"EnhancedProtectionPanel_middleRow__PCyML",costSection:"EnhancedProtectionPanel_costSection__ArkMq",locationInfo:"EnhancedProtectionPanel_locationInfo__sOHXJ",etaInfo:"EnhancedProtectionPanel_etaInfo__B5Fq2",locationLabel:"EnhancedProtectionPanel_locationLabel__M4zCA",etaLabel:"EnhancedProtectionPanel_etaLabel__2tzyt",locationText:"EnhancedProtectionPanel_locationText__W+4Vc",actionIcon:"EnhancedProtectionPanel_actionIcon__0rQXV",upArrow:"EnhancedProtectionPanel_upArrow__5sxAs",pulseUp:"EnhancedProtectionPanel_pulseUp__ggwvL",expandedActions:"EnhancedProtectionPanel_expandedActions__ORfnU",collapseIcon:"EnhancedProtectionPanel_collapseIcon__+xl1U",downArrow:"EnhancedProtectionPanel_downArrow__JVd0F",pulseDown:"EnhancedProtectionPanel_pulseDown__Mmckf",statusPulse:"EnhancedProtectionPanel_statusPulse__zzMok"};function oG(t){let{officer:n,assignment:i,isLocationSharing:s,onLocationToggle:r,onOfficerCall:a,assignmentId:c,currentRate:l,panelState:d,onPanelClick:u,onSwipeUp:h,onSwipeDown:p}=t;const[m,f]=(0,e.useState)("collapsed"),[_,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(s),[x,b]=(0,e.useState)(!1),[S,w]=(0,e.useState)(!1),N=(0,e.useRef)(null),j=(0,e.useRef)(0),C=(0,e.useRef)(0),k=(0,e.useRef)(!1),{location:P,progress:T,isLoading:E,isActive:A}=function(t){const[n,i]=(0,e.useState)({location:null,progress:null,isLoading:!0,error:null,isActive:!1});(0,e.useEffect)(()=>{if(!t)return void i(e=>o(o({},e),{},{isLoading:!1,isActive:!1}));i(e=>o(o({},e),{},{isLoading:!0}));const e=rG.subscribeToLocation(t,e=>{i(t=>o(o({},t),{},{location:e,isLoading:!1,isActive:"completed"!==(null===e||void 0===e?void 0:e.status)}))}),n=rG.subscribeToProgress(t,e=>{i(t=>o(o({},t),{},{progress:e}))});return()=>{e(),n()}},[t]);const s=(0,e.useCallback)(async e=>{if(t)try{await rG.startTracking(t,e),i(e=>o(o({},e),{},{isActive:!0,error:null}))}catch(O){i(t=>o(o({},t),{},{error:O.message||"Failed to start tracking"}))}},[t]),r=(0,e.useCallback)(async()=>{if(t)try{await rG.stopTracking(t),i(e=>o(o({},e),{},{isActive:!1}))}catch(O){i(t=>o(o({},t),{},{error:O.message||"Failed to stop tracking"}))}},[t]),a=(0,e.useCallback)(async e=>{if(t)try{await rG.updateStatus(t,e)}catch(O){console.error("Failed to update status:",O)}},[t]),c=(0,e.useCallback)((e,n,i,s,r,a)=>t?rG.simulateMovement(t,e,n,i,s,r,a):()=>{},[t]);return o(o({},n),{},{startTracking:s,stopTracking:r,updateStatus:a,startSimulation:c})}(c),I=e=>{e&&(e.stopPropagation(),e.preventDefault()),k.current||f("collapsed"===m?"full":"collapsed")},L=(()=>{var e,t;const n={location:"Near Mayfair",routeStart:"Kensington",routeEnd:"Canary Wharf",progress:75,timeRemaining:"1h 23m",eta:"16:45",cost:"\xa3245.50",protectionLevel:"Executive Protection"};if(T&&P){var s,r;const e=Math.ceil((T.estimatedTimeArrival-Date.now())/6e4),t=Math.floor(e/60),a=e%60,o=t>0?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m"),c=new Date(T.estimatedTimeArrival),l="".concat(c.getHours().toString().padStart(2,"0"),":").concat(c.getMinutes().toString().padStart(2,"0"));return{location:"arrived"===P.status?"At Your Location":"En Route",routeStart:(null===i||void 0===i||null===(s=i.location)||void 0===s?void 0:s.start)||n.routeStart,routeEnd:(null===i||void 0===i||null===(r=i.location)||void 0===r?void 0:r.end)||n.routeEnd,progress:Math.round(T.percentComplete),timeRemaining:o,eta:l,cost:null!==i&&void 0!==i&&i.estimatedCost?"\xa3".concat(i.estimatedCost.toFixed(2)):n.cost,protectionLevel:(null===i||void 0===i?void 0:i.serviceLevel)||n.protectionLevel}}return i?{location:i.currentLocation||n.location,routeStart:(null===(e=i.location)||void 0===e?void 0:e.start)||n.routeStart,routeEnd:(null===(t=i.location)||void 0===t?void 0:t.end)||n.routeEnd,progress:i.progress||n.progress,timeRemaining:i.timeRemaining||n.timeRemaining,eta:i.eta||n.eta,cost:i.cost||n.cost,protectionLevel:i.serviceLevel||n.protectionLevel}:n})();return(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{ref:N,className:"".concat(aG.panel," ").concat(aG[m]," ").concat(x?aG.dragging:""," ").concat(S?aG.panicMode:""),onTouchStart:e=>{e.target.closest(".".concat(aG.dragHandle))&&(j.current=e.touches[0].clientY,C.current=j.current,k.current=!0,b(!0))},onTouchMove:e=>{k.current&&(C.current=e.touches[0].clientY,e.preventDefault())},onTouchEnd:()=>{if(!k.current)return;const e=C.current-j.current;Math.abs(e)>50&&f(e>0?"collapsed":"full"),k.current=!1,b(!1)},children:[(0,Sv.jsx)("div",{className:aG.dragHandle,onClick:e=>{e.stopPropagation(),I(e)}}),"collapsed"===m&&(0,Sv.jsxs)("div",{className:aG.collapsedPreview,children:[(0,Sv.jsxs)("div",{className:aG.statusLine,children:[(0,Sv.jsx)("span",{className:aG.statusDot}),(0,Sv.jsxs)("span",{className:aG.statusText,children:["PROTECTION ACTIVE \u2022 ",L.protectionLevel]}),(0,Sv.jsx)("button",{className:aG.expandArrow,onClick:e=>{e.stopPropagation(),I(e)},"aria-label":"Expand protection panel",children:(0,Sv.jsx)("svg",{className:aG.chevronIcon,viewBox:"0 0 24 24",width:"20",height:"20",children:(0,Sv.jsx)("path",{d:"m7 14 5-5 5 5",stroke:"currentColor",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,Sv.jsx)("div",{className:aG.cpoLine,children:(0,Sv.jsxs)("span",{className:aG.cpoInfo,children:["Protection Officer: ",n.name," \u2022 ",L.protectionLevel]})}),(0,Sv.jsx)("div",{className:aG.journeyLine,children:(0,Sv.jsxs)("span",{className:aG.journeyInfo,children:["Route: ",L.routeStart," \u2192 ",L.routeEnd]})}),(0,Sv.jsxs)("div",{className:aG.timeLine,children:[(0,Sv.jsxs)("span",{className:aG.timeInfo,children:["Duration: ",L.timeRemaining]}),(0,Sv.jsxs)("div",{className:aG.costMeter,children:[(0,Sv.jsx)("div",{className:aG.costMeterFill}),(0,Sv.jsx)("span",{className:aG.costText,children:L.cost})]})]})]}),"full"===m&&(0,Sv.jsxs)("div",{className:aG.statusBar,children:[(0,Sv.jsxs)("div",{className:aG.expandedOfficerSection,children:[(0,Sv.jsxs)("div",{className:aG.officerProfile,children:[(0,Sv.jsx)("div",{className:aG.officerAvatar,children:(0,Sv.jsx)("span",{className:aG.initials,children:n.initials})}),(0,Sv.jsxs)("div",{className:aG.officerNameInline,children:["CPO ",n.name," \u2022 SIA CLOSE PROTECTION OFFICER"]})]}),(0,Sv.jsxs)("div",{className:aG.locationTimeSection,children:[L.location," \u2022 ",L.timeRemaining," remaining"]})]}),(0,Sv.jsxs)("div",{className:aG.expandedActions,children:[(0,Sv.jsx)("div",{className:aG.quickCall,onClick:e=>{e.stopPropagation(),a()},children:"\ud83d\udcde"}),(0,Sv.jsx)("div",{className:aG.collapseIcon,children:(0,Sv.jsx)("span",{className:aG.downArrow,children:"\u2193"})})]})]}),"full"===m&&(0,Sv.jsxs)("div",{className:aG.panelContent,children:[(0,Sv.jsxs)("div",{className:aG.progressSection,children:[(0,Sv.jsxs)("div",{className:aG.progressHeader,children:[(0,Sv.jsx)("span",{className:aG.protectionLevel,children:L.protectionLevel}),(0,Sv.jsx)("span",{className:aG.currentCost,children:L.cost})]}),(0,Sv.jsx)("div",{className:aG.progressBar,children:(0,Sv.jsx)("div",{className:aG.progressFill,style:{width:"".concat(L.progress,"%")}})}),(0,Sv.jsxs)("div",{className:aG.progressDetails,children:[(0,Sv.jsxs)("span",{className:aG.eta,children:["ETA: ",L.eta]}),(0,Sv.jsxs)("span",{className:aG.progress,children:[L.progress,"% Complete"]})]})]}),(0,Sv.jsxs)("div",{className:aG.actionGrid,children:[(0,Sv.jsxs)("button",{className:"".concat(aG.actionButton," ").concat(aG.panic),onClick:e=>{e.stopPropagation(),"vibrate"in navigator&&navigator.vibrate([100,50,100,50,100]),w(!0),setTimeout(()=>{w(!1)},3e4)},children:[(0,Sv.jsx)("span",{className:aG.buttonIcon,children:"\ud83d\udea8"}),(0,Sv.jsx)("span",{className:aG.buttonLabel,children:"URGENT HELP"}),(0,Sv.jsx)("span",{className:aG.buttonSubtext,children:"Immediate Response"})]}),(0,Sv.jsxs)("button",{className:"".concat(aG.actionButton," ").concat(aG.call),onClick:e=>{e.stopPropagation(),a()},children:[(0,Sv.jsx)("span",{className:aG.buttonIcon,children:"\ud83d\udcde"}),(0,Sv.jsx)("span",{className:aG.buttonLabel,children:"CALL OFFICER"}),(0,Sv.jsx)("span",{className:aG.buttonSubtext,children:"Direct Line"})]}),(0,Sv.jsxs)("button",{className:"".concat(aG.actionButton," ").concat(aG.extend),onClick:e=>{e.stopPropagation(),g(!0)},children:[(0,Sv.jsx)("span",{className:aG.buttonIcon,children:"\u23f0"}),(0,Sv.jsx)("span",{className:aG.buttonLabel,children:"EXTEND SERVICE"}),(0,Sv.jsx)("span",{className:aG.buttonSubtext,children:"Extend Protection Time"})]}),(0,Sv.jsxs)("button",{className:"".concat(aG.actionButton," ").concat(aG.route),onClick:e=>{e.stopPropagation(),"vibrate"in navigator&&navigator.vibrate(10)},children:[(0,Sv.jsx)("span",{className:aG.buttonIcon,children:"\ud83d\udccd"}),(0,Sv.jsx)("span",{className:aG.buttonLabel,children:"CHANGE ROUTE"}),(0,Sv.jsx)("span",{className:aG.buttonSubtext,children:"Change Destination"})]}),(0,Sv.jsxs)("button",{className:"".concat(aG.actionButton," ").concat(aG.message),onClick:e=>{e.stopPropagation(),"vibrate"in navigator&&navigator.vibrate(10)},children:[(0,Sv.jsx)("span",{className:aG.buttonIcon,children:"\ud83d\udcac"}),(0,Sv.jsx)("span",{className:aG.buttonLabel,children:"MESSAGE OFFICER"}),(0,Sv.jsx)("span",{className:aG.buttonSubtext,children:"Secure Chat"})]}),(0,Sv.jsxs)("button",{className:"".concat(aG.actionButton," ").concat(aG.location," ").concat(v?aG.active:""),onClick:e=>{e.stopPropagation(),y(!v),r(),"vibrate"in navigator&&navigator.vibrate(10)},children:[(0,Sv.jsx)("span",{className:aG.buttonIcon,children:"\ud83d\udce1"}),(0,Sv.jsx)("span",{className:aG.buttonLabel,children:v?"LOCATION ON":"SHARE LOCATION"}),(0,Sv.jsx)("span",{className:aG.buttonSubtext,children:v?"Sharing Live GPS":"Enable GPS Sharing"})]})]})]})]}),(0,Sv.jsx)(FO,{isOpen:_,onClose:()=>g(!1),onConfirm:e=>{g(!1)},currentRate:l,officerName:n.name})]})}const cG="FinancialTracker_financialTracker__cCkqf",lG="FinancialTracker_trackerHeader__H-OXR",dG="FinancialTracker_trackerTitle__gBtOH",uG="FinancialTracker_detailsButton__uhLnk",hG="FinancialTracker_detailsIcon__cHBKv",pG="FinancialTracker_detailsText__1Qtuw",mG="FinancialTracker_budgetSection__nDbnB",fG="FinancialTracker_budgetHeader__ffHlv",_G="FinancialTracker_budgetInfo__pzB1X",gG="FinancialTracker_budgetTitle__WP1Sm",vG="FinancialTracker_budgetValues__7df2X",yG="FinancialTracker_spentAmount__ItyPl",xG="FinancialTracker_budgetSeparator__oFfLy",bG="FinancialTracker_totalBudget__+U52-",SG="FinancialTracker_budgetStatus__WgL8E",wG="FinancialTracker_budgetProgress__NpR19",NG="FinancialTracker_progressBar__n+WXU",jG="FinancialTracker_progressFill__EgGdT",CG="FinancialTracker_progressLabel__hSKCW",kG="FinancialTracker_remainingBudget__osIn-",PG="FinancialTracker_remainingLabel__t+MRd",TG="FinancialTracker_remainingAmount__Y5e2v",EG="FinancialTracker_savingsSection__7Wzeg",AG="FinancialTracker_savingsHeader__vNXpD",IG="FinancialTracker_savingsIcon__56j4g",LG="FinancialTracker_savingsInfo__wIkLE",RG="FinancialTracker_savingsTitle__YYEGF",MG="FinancialTracker_savingsAmount__ynFda",OG="FinancialTracker_savingsDescription__uG1Ib",DG="FinancialTracker_loyaltySection__rFcBS",FG="FinancialTracker_loyaltyHeader__6-gKL",BG="FinancialTracker_loyaltyInfo__Eo2SA",qG="FinancialTracker_loyaltyTitle__sc67B",zG="FinancialTracker_pointsDisplay__8WHW7",WG="FinancialTracker_pointsAmount__sLvZS",HG="FinancialTracker_pointsValue__-t++h",UG="FinancialTracker_claimButton__AO0CL",VG="FinancialTracker_claimIcon__B4o-O",GG="FinancialTracker_claimText__FWmUG",YG="FinancialTracker_tierProgress__Cggit",KG="FinancialTracker_tierHeader__70eQL",QG="FinancialTracker_currentTier__AOWml",ZG="FinancialTracker_nextTier__C8lBW",JG="FinancialTracker_tierProgressBar__pwC+h",XG="FinancialTracker_tierProgressFill__nW4BS",$G="FinancialTracker_tierLabel__A0LRD",eY="FinancialTracker_tierBenefits__++5GC",tY="FinancialTracker_benefitsTitle__Knnas",nY="FinancialTracker_benefitsList__4sh1v",iY="FinancialTracker_benefitItem__KpKa3",sY="FinancialTracker_benefitIcon__MQwpQ",rY="FinancialTracker_benefitText__gEYWc",aY="FinancialTracker_insightsSection__zJyW3",oY="FinancialTracker_insightsTitle__ca102",cY="FinancialTracker_insightsGrid__U3rGg",lY="FinancialTracker_insightItem__S6dfn",dY="FinancialTracker_insightIcon__-WOLn",uY="FinancialTracker_insightValue__D20LE",hY="FinancialTracker_insightLabel__377WN",pY="FinancialTracker_quickActions__FT4LO",mY="FinancialTracker_adjustBudgetButton__6cGE2",fY="FinancialTracker_actionIcon__bxaAo",_Y="FinancialTracker_actionText__FC9fH",gY=e=>{let{financialData:t,onViewDetails:n,onAdjustBudget:i,onClaimPoints:s}=e;const{monthlyBudget:r,monthlySpent:a,remainingBudget:o,savingsVsStandard:c,loyaltyPoints:l,pointsValue:d,nextTierProgress:u,currentMonth:h}=t,p=a/r*100,m=(u.pointsNeeded-l)/u.pointsNeeded*100,f=p>=90?{color:"#FF6B6B",status:"Over Budget"}:p>=75?{color:"#FFA500",status:"Near Limit"}:{color:"#00FF88",status:"On Track"};return(0,Sv.jsxs)("div",{className:cG,children:[(0,Sv.jsxs)("div",{className:lG,children:[(0,Sv.jsx)("h3",{className:dG,children:"Financial Overview"}),(0,Sv.jsxs)("button",{className:uG,onClick:n,"aria-label":"View detailed financial breakdown",children:[(0,Sv.jsx)("span",{className:hG,children:"\ud83d\udcca"}),(0,Sv.jsx)("span",{className:pG,children:"Details"})]})]}),(0,Sv.jsxs)("div",{className:mG,children:[(0,Sv.jsxs)("div",{className:fG,children:[(0,Sv.jsxs)("div",{className:_G,children:[(0,Sv.jsx)("h4",{className:gG,children:"Monthly Budget"}),(0,Sv.jsxs)("div",{className:vG,children:[(0,Sv.jsxs)("span",{className:yG,children:["\xa3",a.toLocaleString()]}),(0,Sv.jsx)("span",{className:xG,children:"/"}),(0,Sv.jsxs)("span",{className:bG,children:["\xa3",r.toLocaleString()]})]})]}),(0,Sv.jsx)("div",{className:SG,style:{color:f.color},children:f.status})]}),(0,Sv.jsxs)("div",{className:wG,children:[(0,Sv.jsx)("div",{className:NG,children:(0,Sv.jsx)("div",{className:jG,style:{width:"".concat(Math.min(p,100),"%"),backgroundColor:f.color}})}),(0,Sv.jsxs)("div",{className:CG,children:[p.toFixed(1),"% used"]})]}),(0,Sv.jsxs)("div",{className:kG,children:[(0,Sv.jsx)("span",{className:PG,children:"Remaining:"}),(0,Sv.jsxs)("span",{className:TG,children:["\xa3",o.toLocaleString()]})]})]}),(0,Sv.jsx)("div",{className:EG,children:(0,Sv.jsxs)("div",{className:AG,children:[(0,Sv.jsx)("div",{className:IG,children:"\ud83d\udcb0"}),(0,Sv.jsxs)("div",{className:LG,children:[(0,Sv.jsx)("h4",{className:RG,children:"Member Savings"}),(0,Sv.jsxs)("div",{className:MG,children:["\xa3",c.toLocaleString()]}),(0,Sv.jsx)("div",{className:OG,children:"vs. standard rates this month"})]})]})}),(0,Sv.jsxs)("div",{className:DG,children:[(0,Sv.jsxs)("div",{className:FG,children:[(0,Sv.jsxs)("div",{className:BG,children:[(0,Sv.jsx)("h4",{className:qG,children:"Loyalty Points"}),(0,Sv.jsxs)("div",{className:zG,children:[(0,Sv.jsx)("span",{className:WG,children:l.toLocaleString()}),(0,Sv.jsxs)("span",{className:HG,children:["(\xa3",d," value)"]})]})]}),l>=100&&(0,Sv.jsxs)("button",{className:UG,onClick:s,"aria-label":"Claim loyalty points",children:[(0,Sv.jsx)("span",{className:VG,children:"\ud83c\udf81"}),(0,Sv.jsx)("span",{className:GG,children:"Claim"})]})]}),(0,Sv.jsxs)("div",{className:YG,children:[(0,Sv.jsxs)("div",{className:KG,children:[(0,Sv.jsxs)("span",{className:QG,children:[u.current," Member"]}),(0,Sv.jsxs)("span",{className:ZG,children:["\u2192 ",u.next]})]}),(0,Sv.jsx)("div",{className:JG,children:(0,Sv.jsx)("div",{className:XG,style:{width:"".concat(100-m,"%")}})}),(0,Sv.jsxs)("div",{className:$G,children:[u.pointsNeeded-l," points to ",u.next]})]}),u.benefits.length>0&&(0,Sv.jsxs)("div",{className:eY,children:[(0,Sv.jsx)("div",{className:tY,children:"Next Tier Benefits:"}),(0,Sv.jsx)("div",{className:nY,children:u.benefits.slice(0,2).map((e,t)=>(0,Sv.jsxs)("div",{className:iY,children:[(0,Sv.jsx)("span",{className:sY,children:"\u2728"}),(0,Sv.jsx)("span",{className:rY,children:e})]},t))})]})]}),(0,Sv.jsxs)("div",{className:aY,children:[(0,Sv.jsx)("h4",{className:oY,children:"This Month's Activity"}),(0,Sv.jsxs)("div",{className:cY,children:[(0,Sv.jsxs)("div",{className:lY,children:[(0,Sv.jsx)("div",{className:dY,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("div",{className:uY,children:h.assignmentCount}),(0,Sv.jsx)("div",{className:hY,children:"Assignments"})]}),(0,Sv.jsxs)("div",{className:lY,children:[(0,Sv.jsx)("div",{className:dY,children:"\ud83d\udcb7"}),(0,Sv.jsxs)("div",{className:uY,children:["\xa3",h.averageValue]}),(0,Sv.jsx)("div",{className:hY,children:"Avg. Value"})]}),(0,Sv.jsxs)("div",{className:lY,children:[(0,Sv.jsx)("div",{className:dY,children:"\ud83d\udccd"}),(0,Sv.jsx)("div",{className:uY,children:h.topRoute}),(0,Sv.jsx)("div",{className:hY,children:"Top Route"})]}),(0,Sv.jsxs)("div",{className:lY,children:[(0,Sv.jsx)("div",{className:dY,children:"\u23f0"}),(0,Sv.jsx)("div",{className:uY,children:h.peakHours}),(0,Sv.jsx)("div",{className:hY,children:"Peak Hours"})]})]})]}),(0,Sv.jsx)("div",{className:pY,children:(0,Sv.jsxs)("button",{className:mY,onClick:i,"aria-label":"Adjust monthly budget",children:[(0,Sv.jsx)("span",{className:fY,children:"\u2699\ufe0f"}),(0,Sv.jsx)("span",{className:_Y,children:"Adjust Budget"})]})})]})},vY="NextAssignmentCard_card__pZB+Q",yY="NextAssignmentCard_urgent__N7oDy",xY="NextAssignmentCard_empty__zYFaD",bY="NextAssignmentCard_header__+1zwV",SY="NextAssignmentCard_content__6DFcx",wY="NextAssignmentCard_dateTime__b5X+f",NY="NextAssignmentCard_cpoInfo__bdVo2",jY="NextAssignmentCard_cpoNameRow__7y95D",CY="NextAssignmentCard_cpoName__oCI3x",kY="NextAssignmentCard_cpoDesignation__lR8Yr",PY="NextAssignmentCard_tierBadge__B9Xep",TY="NextAssignmentCard_siaLicense__2w01q",EY="NextAssignmentCard_statusRow__uHWdS",AY="NextAssignmentCard_statusItem__GKYpB",IY="NextAssignmentCard_action__KjH+O",LY="NextAssignmentCard_emptyContent__rcf8s",RY="NextAssignmentCard_emptyMessage__cKr2M";function MY(t){let{assignment:n,onClick:i}=t;const s=(0,e.useMemo)(()=>{if(!n)return null;const e="string"===typeof n.scheduledDateTime?new Date(n.scheduledDateTime):n.scheduledDateTime,t=new Date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=new Date(i);s.setDate(s.getDate()+1);const r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=Math.floor((r.getTime()-i.getTime())/864e5),o=e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1});if(0===a)return"Today ".concat(o);if(1===a)return"Tomorrow ".concat(o);if(a>=2&&a<=6){const t=e.toLocaleDateString("en-GB",{weekday:"long"});return"".concat(t," ").concat(o)}{const t=e.toLocaleDateString("en-GB",{day:"numeric",month:"short"});return"".concat(t," ").concat(o)}},[n]),r=(0,e.useMemo)(()=>{if(!n)return!1;const e="string"===typeof n.scheduledDateTime?new Date(n.scheduledDateTime):n.scheduledDateTime,t=new Date,i=(e.getTime()-t.getTime())/36e5;return i>0&&i<=2},[n]),a=n?(e=>{switch(e){case"Essential":return{color:"#3B82F6",label:"Essential Protection"};case"Executive":return{color:"#D4AF37",label:"Executive Protection"};case"Shadow":return{color:"#A855F7",label:"Shadow Protocol"};case"Client Vehicle":return{color:"#10B981",label:"Client Vehicle Protection"};default:return{color:"#6B7280",label:e}}})(n.protectionLevel):null;return(0,Sv.jsxs)("div",{className:"".concat(vY," ").concat(r?yY:""," ").concat(n?"":xY),onClick:i,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())},"aria-label":n?"View next protection assignment details":"Request protection service",children:[(0,Sv.jsx)("div",{className:bY,children:"NEXT ASSIGNMENT"}),n?(0,Sv.jsxs)("div",{className:SY,children:[(0,Sv.jsx)("div",{className:wY,children:s}),(0,Sv.jsxs)("div",{className:NY,children:[(0,Sv.jsxs)("div",{className:jY,children:[(0,Sv.jsx)("span",{className:CY,children:n.cpoName}),n.cpoDesignation&&(0,Sv.jsx)("span",{className:kY,children:n.cpoDesignation})]}),(0,Sv.jsx)("span",{className:PY,style:{backgroundColor:"".concat(null===a||void 0===a?void 0:a.color,"15"),color:null===a||void 0===a?void 0:a.color},children:null===a||void 0===a?void 0:a.label})]}),(0,Sv.jsxs)("div",{className:TY,children:["SIA License: ",n.cpoSiaLicense]}),(0,Sv.jsxs)("div",{className:EY,children:[(0,Sv.jsx)("span",{className:AY,children:"\u2713 CPO confirmed"}),(0,Sv.jsx)("span",{className:AY,children:"\u2713 Route optimized"}),(0,Sv.jsx)("span",{className:AY,children:"\u2605 Favorite slot"})]}),(0,Sv.jsx)("div",{className:IY,children:"View Full Details \u2192"})]}):(0,Sv.jsxs)("div",{className:LY,children:[(0,Sv.jsx)("div",{className:RY,children:"No upcoming protection scheduled"}),(0,Sv.jsx)("div",{className:IY,children:"Request Protection \u2192"})]})]})}const OY={hubContainer:"Hub_hubContainer__LLsTq",securityIcon:"Hub_securityIcon__O0Wts",pulseIndicator:"Hub_pulseIndicator__xTr0-",amberIndicator:"Hub_amberIndicator__+0hGv",activeIndicator:"Hub_activeIndicator__3eSOr",statusPill:"Hub_statusPill__9mU-s",emptyIcon:"Hub_emptyIcon__BHWTo",actionIcon:"Hub_actionIcon__Ma93Y",refreshIcon:"Hub_refreshIcon__fLj3N",emojiIcon:"Hub_emojiIcon__LIV3+",headerSection:"Hub_headerSection__exqKp",greetingRow:"Hub_greetingRow__HGzo4",greetingSection:"Hub_greetingSection__nbFTG",greetingText:"Hub_greetingText__Gx03j",dateTimeInfo:"Hub_dateTimeInfo__dEpQw",currentDate:"Hub_currentDate__oH2OV",currentTime:"Hub_currentTime__zueQF",statusSection:"Hub_statusSection__gs-3C",titleSection:"Hub_titleSection__Gfghq",contextualStatus:"Hub_contextualStatus__7TzV9",activeStatusDetails:"Hub_activeStatusDetails__AXYtE",upcomingStatusDetails:"Hub_upcomingStatusDetails__2pNJB",readyStatusDetails:"Hub_readyStatusDetails__bqZfo",statusMessage:"Hub_statusMessage__1olv1",activeMetrics:"Hub_activeMetrics__T3sUt",upcomingMetrics:"Hub_upcomingMetrics__OTGFk",readyMetrics:"Hub_readyMetrics__h3r7d",metric:"Hub_metric__xHkTp",securityBanner:"Hub_securityBanner__zJqf8",securityAlert:"Hub_securityAlert__hEnhE",securityText:"Hub_securityText__G4qf7",securityLevel:"Hub_securityLevel__jR7Qc",pageTitle:"Hub_pageTitle__AIVQf",subtitle:"Hub_subtitle__ZxeUi",quickStatus:"Hub_quickStatus__gIujz",active:"Hub_active__ByanJ",scheduled:"Hub_scheduled__rtu-0",inactive:"Hub_inactive__vWpGe",navigationCards:"Hub_navigationCards__JlSdg",navCard:"Hub_navCard__fpCTe",navCardHeader:"Hub_navCardHeader__tAJzS",navCardLeft:"Hub_navCardLeft__63Psj",navCardIcon:"Hub_navCardIcon__8Ycm9",navCardTitle:"Hub_navCardTitle__DR0C0",navCardCount:"Hub_navCardCount__ilioB",navCardBadge:"Hub_navCardBadge__XA8kU",navCardInfo:"Hub_navCardInfo__l9soa",navCardPrimary:"Hub_navCardPrimary__JDIzB",navCardSecondary:"Hub_navCardSecondary__ygvaE",statsSection:"Hub_statsSection__kGLw3",statsGrid:"Hub_statsGrid__0s7g9",stickyNav:"Hub_stickyNav__NV8Ag",filtersSection:"Hub_filtersSection__qB5ZK",filtersHeader:"Hub_filtersHeader__qayLy",filtersContent:"Hub_filtersContent__pYap-",filtersTopRow:"Hub_filtersTopRow__MtqgW",filtersSearchSection:"Hub_filtersSearchSection__aHUFh",searchLabel:"Hub_searchLabel__nxBln",filtersDateSection:"Hub_filtersDateSection__xK-60",filterChips:"Hub_filterChips__rm7m9",chip:"Hub_chip__5moEB",chipActive:"Hub_chipActive__itRVX",sortSelectLabel:"Hub_sortSelectLabel__q3RC1",sortSelect:"Hub_sortSelect__YX6T2",controlsRow:"Hub_controlsRow__P27Uh",searchRow:"Hub_searchRow__+CEYA",dateRow:"Hub_dateRow__hVcKB",searchInput:"Hub_searchInput__Niqea",dateRangeControls:"Hub_dateRangeControls__QhiJl",dateRangeLabel:"Hub_dateRangeLabel__sugQv",dateInputsWrapper:"Hub_dateInputsWrapper__rae0u",dateInput:"Hub_dateInput__kR5zb",dateDivider:"Hub_dateDivider__EZr1k",clearFiltersBtn:"Hub_clearFiltersBtn__Tco7G",sectionHeader:"Hub_sectionHeader__+CVb1",skeletonCard:"Hub_skeletonCard__N2CMj",shimmer:"Hub_shimmer__ZAYJf",inlineRateBtn:"Hub_inlineRateBtn__qybA9",statCard:"Hub_statCard__uxg7J",statIcon:"Hub_statIcon__MR5YY",statContent:"Hub_statContent__EzaHb",statValue:"Hub_statValue__5R+VK",statLabel:"Hub_statLabel__Ku01A",assignmentsSection:"Hub_assignmentsSection__fI4xv",assignmentsList:"Hub_assignmentsList__bTIKj",assignmentCard:"Hub_assignmentCard__AwKXO",assignmentHeader:"Hub_assignmentHeader__8c-Sf",assignmentDate:"Hub_assignmentDate__ex8Y8",assignmentStatus:"Hub_assignmentStatus__G5vHZ",assignmentDetails:"Hub_assignmentDetails__9UNWO",detailItem:"Hub_detailItem__i826R",detailLabel:"Hub_detailLabel__bkGA+",detailValue:"Hub_detailValue__A03-s",statusDot:"Hub_statusDot__8KN6T",progressSection:"Hub_progressSection__9r6s9",progressBar:"Hub_progressBar__A-Mzz",progressFill:"Hub_progressFill__KAd-T",onTime:"Hub_onTime__lg-JQ",delayed:"Hub_delayed__ra7mT",issue:"Hub_issue__BGkM6",progressText:"Hub_progressText__bT2dw",assignmentFooter:"Hub_assignmentFooter__GMdCt",totalCost:"Hub_totalCost__V4VkG",rating:"Hub_rating__-Usc7",assignmentActions:"Hub_assignmentActions__9j+im",actionButton:"Hub_actionButton__a+X75",actionText:"Hub_actionText__UBvfF",quickActions:"Hub_quickActions__TfiWi",badge:"Hub_badge__Rf9Ry",analyticsContent:"Hub_analyticsContent__zxjfQ",analyticsCard:"Hub_analyticsCard__OBxbO",analyticsTitle:"Hub_analyticsTitle__xhuvX",analyticsDescription:"Hub_analyticsDescription__5aGSx",emptyState:"Hub_emptyState__VCQ0t",emptyTitle:"Hub_emptyTitle__pE2SV",emptyDescription:"Hub_emptyDescription__cn82P",emptyAction:"Hub_emptyAction__HCtQv",tapTarget:"Hub_tapTarget__KP-i-",touchFeedback:"Hub_touchFeedback__fZ5H1",refreshIndicator:"Hub_refreshIndicator__uxm4+",spin:"Hub_spin__nlsKH",refreshText:"Hub_refreshText__dEnsJ",tabNavigation:"Hub_tabNavigation__ntMuO",tab:"Hub_tab__ucWzi",tabLabel:"Hub_tabLabel__UzD7B",dateRange:"Hub_dateRange__oeXcL",tabIcon:"Hub_tabIcon__EaZ8-",navigationHeader:"Hub_navigationHeader__AF0GN",navTitle:"Hub_navTitle__fedCa",navSubtitle:"Hub_navSubtitle__8ZpCb",contextualInfo:"Hub_contextualInfo__joDoD",contextualStat:"Hub_contextualStat__1WHb-",contextIcon:"Hub_contextIcon__DmZaq",trendIndicator:"Hub_trendIndicator__B+2Hz",positive:"Hub_positive__aSjPd",negative:"Hub_negative__+yRqV",neutral:"Hub_neutral__Mv9g3",trendArrow:"Hub_trendArrow__q6T-B",up:"Hub_up__DzH-q",down:"Hub_down__g4zNE",percentageChange:"Hub_percentageChange__5-IHP",monthlyMetric:"Hub_monthlyMetric__1XbYA",statusBadge:"Hub_statusBadge__rFo4L",pulseBadge:"Hub_pulseBadge__qlFV9",bottomStatusBar:"Hub_bottomStatusBar__G3AnZ",enhancedEmptyState:"Hub_enhancedEmptyState__XzZVN",emptyStateHeader:"Hub_emptyStateHeader__ivEzE",emptyHelpText:"Hub_emptyHelpText__O-+f9",emptySuggestions:"Hub_emptySuggestions__OdRun",suggestionItem:"Hub_suggestionItem__QnN6n",suggestionText:"Hub_suggestionText__49TQv",emptyStateActions:"Hub_emptyStateActions__t6wxf",primaryEmptyAction:"Hub_primaryEmptyAction__EGzT6",secondaryEmptyAction:"Hub_secondaryEmptyAction__LSakt",emptySecondaryText:"Hub_emptySecondaryText__+sU77",fadeIn:"Hub_fadeIn__8VPsO",slideInFromLeft:"Hub_slideInFromLeft__9Q2dj",slideInFromRight:"Hub_slideInFromRight__uTWbH",scaleIn:"Hub_scaleIn__Um1Wo"},DY={monthlyBudget:3e3,monthlySpent:2450,remainingBudget:550,savingsVsStandard:890,loyaltyPoints:850,pointsValue:85,nextTierProgress:{current:"Gold",next:"Platinum",pointsNeeded:150,benefits:["20% discount on all services","Priority officer assignment","Free flight protection","Dedicated account manager"]},currentMonth:{assignmentCount:23,averageValue:106,topRoute:"Home \u2194 Office",peakHours:"9-11 AM"}},FY=[{id:"ASG-001",date:"2024-03-15",time:"14:30",duration:"4 hours",officerName:"John Davis",officerSIA:"SIA-1234-5678",serviceTier:"Executive",totalCost:380,status:"current",location:{start:"Kensington, London",end:"Canary Wharf, London"},rating:5,vehicleType:"BMW 5 Series"},{id:"ASG-002",date:"2024-03-16",time:"09:00",duration:"6 hours",officerName:"Sarah Mitchell",officerSIA:"SIA-2345-6789",serviceTier:"Shadow",totalCost:750,status:"upcoming",location:{start:"Mayfair, London",end:"Heathrow Airport"},vehicleType:"Range Rover Sport"},{id:"ASG-003",date:"2024-03-14",time:"16:00",duration:"3 hours",officerName:"Michael Thompson",officerSIA:"SIA-3456-7890",serviceTier:"Essential",totalCost:195,status:"completed",location:{start:"Westminster, London",end:"City of London"},rating:4,vehicleType:"Mercedes E-Class"}];function BY(){var t,n,i,s,r,a,o,c,l,d;const{navigateToView:u}=kv(),[h,p]=(0,e.useState)("current"),[m,f]=(0,e.useState)(!1),[_,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!1),[x]=(0,e.useState)(!1),[b]=(0,e.useState)("time"),[S,w]=(0,e.useState)({ratedOnly:!1,execOnly:!1}),[N,j]=(0,e.useState)(""),[C,k]=(0,e.useState)(""),[P,T]=(0,e.useState)(""),E=FY,A=(0,e.useCallback)((e,t)=>"cost"===b?t.totalCost-e.totalCost:"tier"===b?e.serviceTier.localeCompare(t.serviceTier):(e.date+e.time).localeCompare(t.date+t.time),[b]),I=(0,e.useCallback)(e=>{if(!N.trim())return!0;const t=N.toLowerCase();return e.officerName.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.location.start.toLowerCase().includes(t)||e.location.end.toLowerCase().includes(t)||e.serviceTier.toLowerCase().includes(t)},[N]),L=(0,e.useCallback)(e=>{const t=e.date;return!(C&&t<C)&&!(P&&t>P)},[C,P]),R=(0,e.useMemo)(()=>E.filter(e=>"current"===e.status&&I(e)&&L(e)).sort(A),[E,A,I,L]),M=(0,e.useMemo)(()=>E.filter(e=>"upcoming"===e.status&&I(e)&&L(e)).sort(A),[E,A,I,L]),D=(0,e.useMemo)(()=>{let e=E.filter(e=>"completed"===e.status&&I(e)&&L(e));return S.ratedOnly&&(e=e.filter(e=>!!e.rating)),S.execOnly&&(e=e.filter(e=>"Executive"===e.serviceTier)),e.sort(A)},[E,S,A,I,L]),F=(0,e.useCallback)(e=>{switch(e){case"Essential":return{color:"#00D4FF",bg:"rgba(0, 212, 255, 0.1)"};case"Executive":return{color:"#FFD700",bg:"rgba(255, 215, 0, 0.1)"};case"Shadow":return{color:"#FF6B6B",bg:"rgba(255, 107, 107, 0.1)"};default:return{color:"#A0A0A0",bg:"rgba(160, 160, 160, 0.1)"}}},[]),B=(0,e.useCallback)(()=>{},[]),q=(0,e.useCallback)(()=>{y(!v)},[v]),z=(0,e.useCallback)(()=>{g(!_)},[_]),W=(0,e.useCallback)(()=>{},[]),H=(0,e.useCallback)(()=>{},[]),U=(0,e.useCallback)(()=>{if(M.length>0){const e=document.getElementById("next-protection-section");e?e.scrollIntoView({behavior:"smooth",block:"start"}):p("upcoming")}else u("protection-request")},[M,u]),V=(0,e.useCallback)(async()=>{await new Promise(e=>setTimeout(e,1e3)),console.log("Refreshing assignments data...")},[]),{containerRef:G,isPulling:Y,isRefreshing:K,pullDistance:Q,refreshIndicatorStyle:Z,shouldShowIndicator:J}=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{threshold:i=80,resistance:s=2.5,enabled:r=!0}=n,[a,o]=(0,e.useState)(!1),[c,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)(0),h=(0,e.useRef)(0),p=(0,e.useRef)(0),m=(0,e.useRef)(null),f=(0,e.useCallback)(e=>{if(!r||c)return;const t=m.current;!t||t.scrollTop>0||(h.current=e.touches[0].clientY,o(!0))},[r,c]),_=(0,e.useCallback)(e=>{if(!a||!r||c)return;const t=m.current;if(!t||t.scrollTop>0)return o(!1),void u(0);p.current=e.touches[0].clientY;const n=p.current-h.current;if(n>0){e.preventDefault();const t=Math.min(n/s,1.5*i);u(t)}else o(!1),u(0)},[a,r,c,s,i]),g=(0,e.useCallback)(async()=>{if(a&&r&&!c)if(o(!1),d>=i){l(!0);try{await t()}catch(O){console.error("Pull to refresh failed:",O)}finally{setTimeout(()=>{l(!1),u(0)},500)}}else u(0)},[a,r,c,d,i,t]);(0,e.useEffect)(()=>{const e=m.current;if(e&&r)return e.addEventListener("touchstart",f,{passive:!1}),e.addEventListener("touchmove",_,{passive:!1}),e.addEventListener("touchend",g,{passive:!1}),()=>{e.removeEventListener("touchstart",f),e.removeEventListener("touchmove",_),e.removeEventListener("touchend",g)}},[f,_,g,r]);const v={transform:"translateY(".concat(d,"px)"),opacity:d/i};return{containerRef:m,isPulling:a,isRefreshing:c,pullDistance:d,refreshIndicatorStyle:v,shouldShowIndicator:d>10}}(V,{threshold:80,enabled:!0}),X=(0,e.useCallback)(e=>{const t=F(e.serviceTier),n="current"===e.status?"#10B981":"upcoming"===e.status?"#FFD700":"#6B7280";return(0,Sv.jsxs)("div",{className:OY.assignmentCard,children:[(0,Sv.jsx)("div",{className:OY.assignmentStatus,style:{backgroundColor:t.bg,color:t.color},children:e.serviceTier}),(0,Sv.jsx)("div",{className:OY.assignmentHeader,children:(0,Sv.jsxs)("div",{className:OY.detailItem,children:[(0,Sv.jsx)("div",{className:OY.statusDot,style:{backgroundColor:n}}),(0,Sv.jsxs)("span",{className:OY.detailValue,style:{fontWeight:600,fontSize:"14px"},children:[e.officerName," \u2022 ",e.serviceTier]})]})}),(0,Sv.jsxs)("div",{className:OY.assignmentDetails,children:[(0,Sv.jsxs)("div",{className:OY.detailItem,children:[(0,Sv.jsx)("span",{className:OY.detailLabel,children:"Route"}),(0,Sv.jsxs)("span",{className:OY.detailValue,children:[e.location.start.split(",")[0]," \u2192 ",e.location.end.split(",")[0]]})]}),(0,Sv.jsxs)("div",{className:OY.detailItem,children:[(0,Sv.jsx)("span",{className:OY.detailLabel,children:"Time"}),(0,Sv.jsxs)("span",{className:OY.detailValue,children:[e.time," (",e.duration,") \u2022 \xa3",e.totalCost]})]})]}),(0,Sv.jsxs)("div",{className:OY.assignmentFooter,children:[(0,Sv.jsxs)("div",{className:OY.progressSection,children:[(0,Sv.jsx)("div",{className:OY.progressBar,children:(0,Sv.jsx)("div",{className:OY.progressFill,style:{width:"current"===e.status?"75%":"0%"}})}),(0,Sv.jsx)("span",{className:OY.progressText,children:"current"===e.status?"75%":"upcoming"===e.status?"Scheduled":"Complete"})]}),e.rating&&"completed"===e.status&&(0,Sv.jsx)("div",{className:OY.rating,children:"\u2605".repeat(e.rating)}),!e.rating&&"completed"===e.status&&(0,Sv.jsx)("button",{className:OY.rateButton,children:"Rate Now"})]})]},e.id)},[F]),$=(0,e.useMemo)(()=>({current:{icon:"\ud83d\udee1\ufe0f",title:"No Active Protection",description:"You don't have any active protection details right now.",helpText:"Our SIA-licensed CPOs are available 24/7 for immediate deployment.",buttonText:"Request Protection",secondaryText:"Response time: ~12 minutes",suggestions:["\ud83d\ude80 Emergency protection available","\ud83d\udcf1 One-tap booking process","\u2b50 98% customer satisfaction"]},upcoming:{icon:"\ud83d\udcc5",title:"No Scheduled Protection",description:"You don't have any upcoming protection assignments.",helpText:"Book in advance for better availability and preferred officers.",buttonText:"Schedule Protection",secondaryText:"Plan ahead for peace of mind",suggestions:["\ud83d\uddd3\ufe0f Schedule recurring protection","\ud83d\udc64 Request preferred CPO","\ud83d\udcbc Business trip protection"]},completed:{icon:"\u2705",title:"No Protection History",description:"Your completed protection assignments will appear here.",helpText:"Start your protection journey and build a secure history.",buttonText:"Start Your First Assignment",secondaryText:"Join thousands of protected principals",suggestions:["\ud83d\udcca Track your protection patterns","\u2b50 Rate and review your CPOs","\ud83c\udfc6 Earn loyalty rewards"]},analytics:{icon:"\ud83d\udcca",title:"No Analytics Data",description:"Analytics will be available after your first protection assignment.",helpText:"Get insights into your protection patterns, spending, and safety metrics.",buttonText:"Request Protection to Start",secondaryText:"Data-driven security insights",suggestions:["\ud83d\udcc8 Spending and budget tracking","\ud83d\udee1\ufe0f Safety pattern analysis","\ud83d\udccb Monthly protection reports"]}}),[]),ee=(0,e.useCallback)(()=>{w({ratedOnly:!1,execOnly:!1}),j(""),k(""),T("")},[]),te=(0,e.useCallback)(e=>{"analytics"===e||u("protection-request")},[u]),ne=(0,e.useCallback)(e=>{const t=$[e],n=S.ratedOnly||S.execOnly||N||C||P;return(0,Sv.jsxs)("div",{className:OY.enhancedEmptyState,children:[(0,Sv.jsxs)("div",{className:OY.emptyStateHeader,children:[(0,Sv.jsx)("div",{className:OY.emptyIcon,children:t.icon}),(0,Sv.jsx)("h3",{className:OY.emptyTitle,children:t.title}),(0,Sv.jsx)("p",{className:OY.emptyDescription,children:n?"No results match your current filters.":t.description}),!n&&(0,Sv.jsx)("p",{className:OY.emptyHelpText,children:t.helpText})]}),!n&&(0,Sv.jsx)("div",{className:OY.emptySuggestions,children:t.suggestions.map((e,t)=>(0,Sv.jsx)("div",{className:OY.suggestionItem,children:(0,Sv.jsx)("span",{className:OY.suggestionText,children:e})},t))}),(0,Sv.jsxs)("div",{className:OY.emptyStateActions,children:[n&&(0,Sv.jsx)("button",{className:OY.secondaryEmptyAction,onClick:ee,children:"\ud83d\udd0d Clear filters"}),(0,Sv.jsxs)("button",{className:OY.primaryEmptyAction,onClick:()=>te(e),children:["analytics"===e?"\ud83d\udcca":"\ud83d\udee1\ufe0f"," ",t.buttonText]}),!n&&(0,Sv.jsx)("p",{className:OY.emptySecondaryText,children:t.secondaryText})]})]})},[$,S,N,C,P,ee,te]),ie=(0,e.useCallback)(()=>(0,Sv.jsx)("div",{className:OY.assignmentsSection,children:(0,Sv.jsx)("div",{className:OY.analyticsContent,role:"tabpanel",id:"panel-analytics","aria-labelledby":"tab-analytics",children:(0,Sv.jsxs)("div",{className:OY.analyticsCard,children:[(0,Sv.jsx)("h3",{className:OY.analyticsTitle,children:"Protection Analytics"}),(0,Sv.jsx)("p",{className:OY.analyticsDescription,children:"Detailed analytics and insights coming soon. View your protection usage patterns, officer ratings, and spending analytics."})]})})}),[]);return(0,Sv.jsxs)("div",{className:OY.hubContainer,ref:G,children:[J&&(0,Sv.jsxs)("div",{className:OY.refreshIndicator,style:Z,children:[(0,Sv.jsx)("div",{className:OY.refreshIcon,children:K?"\ud83d\udd04":"\u2b07\ufe0f"}),(0,Sv.jsx)("span",{className:OY.refreshText,children:K?"Refreshing...":Y?"Release to refresh":"Pull to refresh"})]}),(0,Sv.jsxs)("div",{className:OY.headerSection,children:[(0,Sv.jsxs)("div",{className:OY.greetingRow,children:[(0,Sv.jsxs)("div",{className:OY.greetingSection,children:[(0,Sv.jsx)("h1",{className:OY.greetingText,children:(()=>{const e=(new Date).getHours(),t="Principal";return e<12?"Good morning, ".concat(t):e<17?"Good afternoon, ".concat(t):"Good evening, ".concat(t)})()}),(0,Sv.jsxs)("div",{className:OY.dateTimeInfo,children:[(0,Sv.jsx)("span",{className:OY.currentDate,children:(new Date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,Sv.jsx)("span",{className:OY.currentTime,children:(new Date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})})]})]}),(0,Sv.jsx)(MY,{assignment:M.length>0?{id:M[0].id,scheduledDateTime:new Date("".concat(M[0].date,"T").concat(M[0].time)),cpoName:M[0].officerName,cpoDesignation:"Shadow"===M[0].serviceTier?"Special Forces Protection Specialist":"Executive"===M[0].serviceTier?"Executive Protection Specialist":"Close Protection Officer",protectionLevel:M[0].serviceTier,cpoSiaLicense:M[0].officerSIA}:null,onClick:U})]}),(0,Sv.jsxs)("div",{className:OY.titleSection,children:[(0,Sv.jsx)("h2",{className:OY.pageTitle,children:"PROTECTION HUB"}),(0,Sv.jsx)("p",{className:OY.subtitle,children:"Your Secure Transport Command Center"})]}),(0,Sv.jsxs)("div",{className:OY.quickStatus,children:[R.length>0&&(0,Sv.jsxs)("span",{className:"".concat(OY.statusPill," ").concat(OY.active),children:[(0,Sv.jsx)("span",{className:OY.pulseIndicator,children:"\u25cf"}),R.length," Active Protection Detail",R.length>1?"s":""]}),M.length>0&&(0,Sv.jsxs)("span",{className:"".concat(OY.statusPill," ").concat(OY.scheduled),children:[(0,Sv.jsx)("span",{className:OY.amberIndicator,children:"\u25cf"}),M.length," Scheduled Assignment",M.length>1?"s":""]}),0===R.length&&0===M.length&&(0,Sv.jsxs)("span",{className:"".concat(OY.statusPill," ").concat(OY.inactive),children:[(0,Sv.jsx)("span",{className:OY.inactiveIndicator,children:"\u25cf"}),"No Active Protection"]})]}),(0,Sv.jsx)("div",{className:OY.contextualStatus,children:R.length>0?(0,Sv.jsxs)("div",{className:OY.activeStatusDetails,children:[(0,Sv.jsx)("span",{className:OY.statusMessage,children:"Protection Detail Active - Monitor real-time progress below"}),(0,Sv.jsxs)("div",{className:OY.activeMetrics,children:[(0,Sv.jsxs)("span",{className:OY.metric,children:["ETA: ",null===(t=R[0])||void 0===t?void 0:t.time]}),(0,Sv.jsxs)("span",{className:OY.metric,children:["Running cost: \xa3",null===(n=R[0])||void 0===n?void 0:n.totalCost]}),(0,Sv.jsxs)("span",{className:OY.metric,children:["CPO: ",null===(i=R[0])||void 0===i?void 0:i.officerName]})]})]}):M.length>0?(0,Sv.jsxs)("div",{className:OY.upcomingStatusDetails,children:[(0,Sv.jsxs)("span",{className:OY.statusMessage,children:["Next protection detail: ",null===(s=M[0])||void 0===s?void 0:s.date," at ",null===(r=M[0])||void 0===r?void 0:r.time]}),(0,Sv.jsxs)("div",{className:OY.upcomingMetrics,children:[(0,Sv.jsxs)("span",{className:OY.metric,children:["Service: ",null===(a=M[0])||void 0===a?void 0:a.serviceTier]}),(0,Sv.jsxs)("span",{className:OY.metric,children:["CPO: ",null===(o=M[0])||void 0===o?void 0:o.officerName]}),(0,Sv.jsxs)("span",{className:OY.metric,children:["Route: ",null===(c=M[0])||void 0===c?void 0:c.location.start.split(",")[0]," \u2192 ",null===(l=M[0])||void 0===l?void 0:l.location.end.split(",")[0]]})]})]}):(0,Sv.jsxs)("div",{className:OY.readyStatusDetails,children:[(0,Sv.jsx)("span",{className:OY.statusMessage,children:"Ready to request your next protection service"}),(0,Sv.jsxs)("div",{className:OY.readyMetrics,children:[(0,Sv.jsx)("span",{className:OY.metric,children:"Response time: ~12 minutes"}),(0,Sv.jsx)("span",{className:OY.metric,children:"24/7 availability"}),(0,Sv.jsx)("span",{className:OY.metric,children:"98% satisfaction rate"})]})]})}),(0,Sv.jsx)("div",{className:OY.securityBanner,children:(0,Sv.jsxs)("div",{className:OY.securityAlert,children:[(0,Sv.jsx)("span",{className:OY.securityIcon,children:"\ud83d\udd12"}),(0,Sv.jsx)("span",{className:OY.securityText,children:"Enhanced security protocols active"}),(0,Sv.jsx)("span",{className:OY.securityLevel,children:"Level 3 SIA Compliance"})]})})]}),_&&(0,Sv.jsx)(gY,{financialData:DY,onViewDetails:z,onAdjustBudget:W,onClaimPoints:H}),(0,Sv.jsxs)("div",{className:OY.stickyNav,children:[(0,Sv.jsxs)("div",{className:OY.navigationHeader,children:[(0,Sv.jsx)("span",{className:OY.navTitle,children:"Protection Overview"}),(0,Sv.jsx)("span",{className:OY.navSubtitle,children:"Tap to view details"})]}),(0,Sv.jsx)(XM,{activeSection:h,setActiveSection:p,assignmentCounts:{current:R.length,upcoming:M.length,completed:D.length},currentAssignments:R,upcomingAssignments:M,completedAssignments:D})]}),(()=>{var e,t;if("analytics"===h)return ie();let n=[];switch(h){case"current":n=R;break;case"upcoming":n=M;break;case"completed":n=D}return 0===n.length?ne(h):(0,Sv.jsxs)("div",{className:OY.assignmentsSection,"data-section":h,children:[(0,Sv.jsx)("div",{className:OY.sectionHeader,children:h.toUpperCase()}),"current"===h&&R.length>0&&(0,Sv.jsxs)("div",{className:OY.contextualInfo,children:[(0,Sv.jsxs)("div",{className:OY.contextualStat,children:[(0,Sv.jsx)("span",{className:OY.contextIcon,children:"\u23f1\ufe0f"}),(0,Sv.jsxs)("span",{children:["Total Active Time: ",R.reduce((e,t)=>e+parseFloat(t.duration.split(" ")[0])||0,0),"h"]})]}),(0,Sv.jsxs)("div",{className:OY.contextualStat,children:[(0,Sv.jsx)("span",{className:OY.contextIcon,children:"\ud83d\udcb7"}),(0,Sv.jsxs)("span",{children:["Active Investment: \xa3",R.reduce((e,t)=>e+t.totalCost,0)]})]})]}),"upcoming"===h&&M.length>0&&(0,Sv.jsxs)("div",{className:OY.contextualInfo,children:[(0,Sv.jsxs)("div",{className:OY.contextualStat,children:[(0,Sv.jsx)("span",{className:OY.contextIcon,children:"\ud83d\udcc5"}),(0,Sv.jsxs)("span",{children:["Next: ",null===(e=M[0])||void 0===e?void 0:e.date," at ",null===(t=M[0])||void 0===t?void 0:t.time]})]}),(0,Sv.jsxs)("div",{className:OY.contextualStat,children:[(0,Sv.jsx)("span",{className:OY.contextIcon,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsxs)("span",{children:["Scheduled: ",M.length," protection",1!==M.length?"s":""]})]})]}),"completed"===h&&D.length>0&&(0,Sv.jsxs)("div",{className:OY.contextualInfo,children:[(0,Sv.jsxs)("div",{className:OY.contextualStat,children:[(0,Sv.jsx)("span",{className:OY.contextIcon,children:"\u2b50"}),(0,Sv.jsxs)("span",{children:["Avg Rating: ",(D.reduce((e,t)=>e+(t.rating||0),0)/D.filter(e=>e.rating).length||0).toFixed(1)]})]}),(0,Sv.jsxs)("div",{className:OY.contextualStat,children:[(0,Sv.jsx)("span",{className:OY.contextIcon,children:"\ud83d\udcca"}),(0,Sv.jsxs)("span",{children:["Total Completed: ",D.length]})]})]}),x?(0,Sv.jsxs)("div",{className:OY.assignmentsList,role:"tabpanel","aria-busy":!0,children:[(0,Sv.jsx)("div",{className:OY.skeletonCard}),(0,Sv.jsx)("div",{className:OY.skeletonCard})]}):(0,Sv.jsx)("div",{className:OY.assignmentsList,role:"tabpanel",id:"panel-".concat(h),"aria-labelledby":"tab-".concat(h),children:n.map(e=>X(e))})]})})(),R.length>0&&(0,Sv.jsx)(oG,{officer:{name:"John Davis",designation:"Executive Protection Specialist",initials:"JD"},assignment:R[0]||{id:"ASG-001",status:"current",progress:75,timeRemaining:"1h 23m",eta:"16:45",cost:"\xa3245.50",serviceLevel:"Executive Shield",currentLocation:"Near Mayfair"},isLocationSharing:v,onLocationToggle:q,onOfficerCall:B,assignmentId:(null===(d=R[0])||void 0===d?void 0:d.id)||"ASG-001",currentRate:95})]})}const qY={backdrop:"OptionsMenu_backdrop__En1Co",fadeIn:"OptionsMenu_fadeIn__aj04M",dropdownMenu:"OptionsMenu_dropdownMenu__fYBlo",slideIn:"OptionsMenu_slideIn__37hVC",dropdownOption:"OptionsMenu_dropdownOption__JzC42",bottomSheet:"OptionsMenu_bottomSheet__jMor1",slideUp:"OptionsMenu_slideUp__SA9EJ",bottomSheetHeader:"OptionsMenu_bottomSheetHeader__g16Ah",bottomSheetHandle:"OptionsMenu_bottomSheetHandle__MgGc6",bottomSheetContent:"OptionsMenu_bottomSheetContent__KkpnK",bottomSheetOption:"OptionsMenu_bottomSheetOption__PbP-7",optionIcon:"OptionsMenu_optionIcon__wu5d9",optionLabel:"OptionsMenu_optionLabel__7kRBA",approvalBadge:"OptionsMenu_approvalBadge__9vCMK"};function zY(t){let{isOpen:n,onClose:i,options:s,position:r,buttonRef:a}=t;const o=(0,e.useRef)(null),[c,l]=(0,e.useState)(!1),[d,u]=(0,e.useState)({top:0,left:0}),[h,p]=(0,e.useState)(0),[m,f]=(0,e.useState)(0);(0,e.useEffect)(()=>{const e=()=>{l(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,e.useEffect)(()=>{if(!a.current||c)return;const e=()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.getBoundingClientRect();t&&u({top:"bottom"===r?t.bottom+4:t.top-4,left:t.right-180})};return e(),window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[a,r,c,n]),(0,e.useEffect)(()=>{if(!n)return;const e=e=>{o.current&&!o.current.contains(e.target)&&i()},t=e=>{"Escape"===e.key&&i()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[n,i]);const _=e=>{e.action(),i()},g=()=>{c&&i()},v=e=>{c&&p(e.touches[0].clientY)},y=e=>{c&&f(e.touches[0].clientY)},x=()=>{if(!c)return;m-h>100&&i(),p(0),f(0)};return n?c?(0,WS.createPortal)((0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:qY.backdrop,onClick:i}),(0,Sv.jsxs)("div",{className:qY.bottomSheet,ref:o,onTouchStart:v,onTouchMove:y,onTouchEnd:x,children:[(0,Sv.jsx)("div",{className:qY.bottomSheetHeader,onClick:g,children:(0,Sv.jsx)("div",{className:qY.bottomSheetHandle})}),(0,Sv.jsx)("div",{className:qY.bottomSheetContent,children:s.map((e,t)=>(0,Sv.jsxs)("button",{className:qY.bottomSheetOption,onClick:()=>_(e),children:[e.icon&&(0,Sv.jsx)("span",{className:qY.optionIcon,children:e.icon}),(0,Sv.jsx)("span",{className:qY.optionLabel,children:e.label}),e.requiresApproval&&(0,Sv.jsx)("span",{className:qY.approvalBadge,children:"Requires approval"})]},t))})]})]}),document.body):(0,WS.createPortal)((0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:qY.backdrop,onClick:i}),(0,Sv.jsx)("div",{className:"".concat(qY.dropdownMenu," ").concat(qY[r]),ref:o,style:{position:"fixed",top:"".concat(d.top,"px"),left:"".concat(d.left,"px")},children:s.map((e,t)=>(0,Sv.jsxs)("button",{className:qY.dropdownOption,onClick:()=>_(e),children:[e.icon&&(0,Sv.jsx)("span",{className:qY.optionIcon,children:e.icon}),(0,Sv.jsx)("span",{className:qY.optionLabel,children:e.label}),e.requiresApproval&&(0,Sv.jsx)("span",{className:qY.approvalBadge,children:"\u2713"})]},t))})]}),document.body):null}const WY={ctaButtonContainer:"CTAButton_ctaButtonContainer__ci4l7",ctaButton:"CTAButton_ctaButton__hAEmT",emergency:"CTAButton_emergency__E5KeJ",buttonTitle:"CTAButton_buttonTitle__v9Dfc",buttonSubtitle:"CTAButton_buttonSubtitle__7ohUn",primary:"CTAButton_primary__vTk+Z",warning:"CTAButton_warning__cspKA",info:"CTAButton_info__FRs7L",secondary:"CTAButton_secondary__z2lYp",neutral:"CTAButton_neutral__Q8uFc",buttonIcon:"CTAButton_buttonIcon__qPmty",fullWidth:"CTAButton_fullWidth__EKbJA",pending:"CTAButton_pending__hgfqO",pendingOverlay:"CTAButton_pendingOverlay__61b7t",pendingText:"CTAButton_pendingText__RsMtu",pendingSpinner:"CTAButton_pendingSpinner__JQ0-f",spin:"CTAButton_spin__fltE6",buttonText:"CTAButton_buttonText__DAiTk",optionsButton:"CTAButton_optionsButton__GHAZf"};function HY(t){let{title:n,subtitle:i,icon:s,color:r,onMainAction:a,menuOptions:o,className:c="",pendingApproval:l=!1,isFullWidth:d=!1}=t;const[u,h]=(0,e.useState)(!1),p=(0,e.useRef)(null),[m,f]=(0,e.useState)("bottom"),_=(0,e.useCallback)(()=>{l||a()},[a,l]),g=(0,e.useCallback)(e=>{if(e.stopPropagation(),p.current){const e=p.current.getBoundingClientRect(),t=window.innerHeight-e.bottom;f(t<200?"top":"bottom")}h(!u)},[u]),v=(0,e.useCallback)(()=>{h(!1)},[]),y=[WY.ctaButton,WY[r],d?WY.fullWidth:"",l?WY.pending:"",c].filter(Boolean).join(" ");return(0,Sv.jsx)("div",{className:WY.ctaButtonContainer,children:(0,Sv.jsxs)("button",{ref:p,className:y,onClick:_,disabled:l,"aria-label":i?"".concat(n," - ").concat(i):n,children:[(0,Sv.jsxs)("span",{className:WY.buttonTitle,children:[(0,Sv.jsx)("span",{className:WY.buttonIcon,children:s}),n]}),i&&(0,Sv.jsx)("span",{className:WY.buttonSubtitle,children:i}),l&&(0,Sv.jsxs)("div",{className:WY.pendingOverlay,children:[(0,Sv.jsx)("span",{className:WY.pendingText,children:"Pending approval"}),(0,Sv.jsx)("div",{className:WY.pendingSpinner})]}),o.length>0&&(0,Sv.jsx)("button",{className:WY.optionsButton,onClick:g,"aria-label":"More options for ".concat(n),"aria-expanded":u,"aria-haspopup":"menu",children:(0,Sv.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[(0,Sv.jsx)("circle",{cx:"8",cy:"2",r:"1.5"}),(0,Sv.jsx)("circle",{cx:"8",cy:"8",r:"1.5"}),(0,Sv.jsx)("circle",{cx:"8",cy:"14",r:"1.5"})]})}),u&&(0,Sv.jsx)(zY,{isOpen:u,onClose:v,options:o,position:m,buttonRef:p})]})})}const UY={activeProtectionPanel:"ActiveProtectionPanel_activeProtectionPanel__frSvB",open:"ActiveProtectionPanel_open__I3z5l",panelHeader:"ActiveProtectionPanel_panelHeader__awrwJ",headerRow1:"ActiveProtectionPanel_headerRow1__KdVoj",panelTitle:"ActiveProtectionPanel_panelTitle__TcVv2",timer:"ActiveProtectionPanel_timer__WtXgK",headerRow2:"ActiveProtectionPanel_headerRow2__UgTVR",fieldLabel:"ActiveProtectionPanel_fieldLabel__yg9jb",fieldValue:"ActiveProtectionPanel_fieldValue__rDbmK",headerRow3:"ActiveProtectionPanel_headerRow3__FYDux",serviceTierValue:"ActiveProtectionPanel_serviceTierValue__2idy4",headerRow4:"ActiveProtectionPanel_headerRow4__XlZJb",progressBarContainer:"ActiveProtectionPanel_progressBarContainer__0YuBt",progressBar:"ActiveProtectionPanel_progressBar__tGw-T",progressText:"ActiveProtectionPanel_progressText__55eGn",headerRow5:"ActiveProtectionPanel_headerRow5__Jn5yp",statusValue:"ActiveProtectionPanel_statusValue__nhCyv",scrollContainer:"ActiveProtectionPanel_scrollContainer__BLQsb",scrollSection:"ActiveProtectionPanel_scrollSection__-Cfkc",mapSection:"ActiveProtectionPanel_mapSection__trVmI",mapPlaceholder:"ActiveProtectionPanel_mapPlaceholder__4tWn0",mapIcon:"ActiveProtectionPanel_mapIcon__31+7a",mapNote:"ActiveProtectionPanel_mapNote__fqgfi",detailsSection:"ActiveProtectionPanel_detailsSection__A4G6A",securitySection:"ActiveProtectionPanel_securitySection__HujWm",actionsSection:"ActiveProtectionPanel_actionsSection__gGuCu",sectionHeader:"ActiveProtectionPanel_sectionHeader__0OTBr",statusBadge:"ActiveProtectionPanel_statusBadge__n6Gf5",protectionactive:"ActiveProtectionPanel_protectionactive__z6JX7",enroute:"ActiveProtectionPanel_enroute__Hkoml",onlocation:"ActiveProtectionPanel_onlocation__N3FHq",primaryInfo:"ActiveProtectionPanel_primaryInfo__-mdW3",cpoAvatar:"ActiveProtectionPanel_cpoAvatar__L1SF+",cpoDetails:"ActiveProtectionPanel_cpoDetails__DhbFL",cpoName:"ActiveProtectionPanel_cpoName__8wLmB",cpoRole:"ActiveProtectionPanel_cpoRole__pbTtK",cpoLicense:"ActiveProtectionPanel_cpoLicense__JJtXi",detailsGrid:"ActiveProtectionPanel_detailsGrid__E8uKj",detailItem:"ActiveProtectionPanel_detailItem__n5K8L",detailLabel:"ActiveProtectionPanel_detailLabel__E3W3K",detailValue:"ActiveProtectionPanel_detailValue__eETJ9",securityCode:"ActiveProtectionPanel_securityCode__jZNwA",securityLabel:"ActiveProtectionPanel_securityLabel__91JQ0",securityValue:"ActiveProtectionPanel_securityValue__FYdxe",securityNote:"ActiveProtectionPanel_securityNote__-H7B0",actionsGrid:"ActiveProtectionPanel_actionsGrid__FIfAm",extensionStatus:"ActiveProtectionPanel_extensionStatus__qwMbO",extensionRequest:"ActiveProtectionPanel_extensionRequest__jDifq",requestText:"ActiveProtectionPanel_requestText__mPo9Y",pendingBadge:"ActiveProtectionPanel_pendingBadge__5hOF6",actionButton:"ActiveProtectionPanel_actionButton__jkKxX",emergencyButton:"ActiveProtectionPanel_emergencyButton__a9FdL",actionIcon:"ActiveProtectionPanel_actionIcon__jsiq-",billingTracker:"ActiveProtectionPanel_billingTracker__zqina",billingDetails:"ActiveProtectionPanel_billingDetails__v1rlK",billingRow:"ActiveProtectionPanel_billingRow__kxNDM",total:"ActiveProtectionPanel_total__0sNQR",bottomActions:"ActiveProtectionPanel_bottomActions__bopNf",reportButton:"ActiveProtectionPanel_reportButton__W+QdU",endButton:"ActiveProtectionPanel_endButton__xOm+I",closeButton:"ActiveProtectionPanel_closeButton__87ahe",officerName:"ActiveProtectionPanel_officerName__nN5k9",protectionType:"ActiveProtectionPanel_protectionType__GhLqC",headerTop:"ActiveProtectionPanel_headerTop__UlUqW",fixedHeader:"ActiveProtectionPanel_fixedHeader__3G+SQ",protectionPulse:"ActiveProtectionPanel_protectionPulse__C1TVj"};function VY(t){let{isOpen:n,onClose:i,isActive:s}=t;const[r,a]=(0,e.useState)("0:00:00"),[o,c]=(0,e.useState)("0m"),[l,d]=(0,e.useState)(new Set),[u,h]=(0,e.useState)([]),p={officerName:"James Mitchell",officerTitle:"Executive Protection Specialist",siaLicense:"SIA-1234567",vehicleModel:"BMW X5 Executive",vehicleRegistration:"AR23 ORA",securityCode:"SEC-789",status:"en_route_to_destination",startTime:new Date(Date.now()-72e5),expectedEndTime:new Date(Date.now()+54e5),serviceName:"Executive",currentRate:95,mileageRate:2.5,currentCharges:195.5};(0,e.useEffect)(()=>{if(!s)return;const e=()=>{const e=new Date,t=e.getTime()-p.startTime.getTime(),n=Math.floor(t/36e5),i=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);a("".concat(n,":").concat(i.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")));const r=Math.max(0,p.expectedEndTime.getTime()-e.getTime()),o=Math.floor(r/36e5),l=Math.floor(r%36e5/6e4);c(o>0?"".concat(o,"h ").concat(l,"m"):"".concat(l,"m"))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[s,p.startTime,p.expectedEndTime]);const m=e=>{console.log("Emergency action:",e)},f=(0,e.useCallback)(e=>{const t="ext_".concat(Date.now());d(e=>new Set(e).add(t)),h(t=>[...t,"".concat(e," extension requested")]),setTimeout(()=>{d(e=>{const n=new Set(e);return n.delete(t),n}),h(t=>t.filter(t=>!t.includes(e)))},3e3)},[]),_=[{label:"Emergency call (999)",icon:"\ud83d\udea8",action:()=>m("emergency_call")},{label:"Silent alarm",icon:"\ud83d\udd15",action:()=>m("silent_alarm")},{label:"Send SOS to contacts",icon:"\ud83d\udcf1",action:()=>m("sos_contacts")},{label:"Emergency protocols",icon:"\ud83d\udccb",action:()=>m("protocols")}],g=[{label:"Voice call",icon:"\ud83d\udcde",action:()=>m("voice_call")},{label:"Video call",icon:"\ud83d\udcf9",action:()=>m("video_call")},{label:"Request callback",icon:"\ud83d\udcf2",action:()=>m("callback")},{label:"View officer profile",icon:"\ud83d\udc64",action:()=>m("officer_profile")}],v=[{label:"Request 30 min extension",icon:"\u23f0",action:()=>f("30 minutes"),requiresApproval:!0},{label:"Request 1 hour extension",icon:"\u23f1\ufe0f",action:()=>f("1 hour"),requiresApproval:!0},{label:"Request 2 hours extension",icon:"\u23f2\ufe0f",action:()=>f("2 hours"),requiresApproval:!0},{label:"Custom duration",icon:"\u231a",action:()=>f("custom"),requiresApproval:!0}],y=[{label:"Add waypoint",icon:"\ud83d\udccd",action:()=>m("add_waypoint")},{label:"Change destination",icon:"\ud83c\udfaf",action:()=>m("change_destination")},{label:"Optimize route",icon:"\ud83d\uddfa\ufe0f",action:()=>m("optimize_route")},{label:"Report road issue",icon:"\u26a0\ufe0f",action:()=>m("road_issue")}],x=[{label:"Text message",icon:"\ud83d\udcac",action:()=>m("text_message")},{label:"Voice note",icon:"\ud83c\udfa4",action:()=>m("voice_note")},{label:"Share photo",icon:"\ud83d\udcf7",action:()=>m("share_photo")},{label:"Request status update",icon:"\ud83d\udcca",action:()=>m("status_update")}],b=[{label:"Share for 30 minutes",icon:"\u23f0",action:()=>m("share_30min")},{label:"Share for 1 hour",icon:"\u23f1\ufe0f",action:()=>m("share_1hour")},{label:"Share until arrival",icon:"\ud83c\udfaf",action:()=>m("share_arrival")},{label:"Stop sharing",icon:"\ud83d\uded1",action:()=>m("stop_sharing")}];return n?(0,Sv.jsx)("div",{className:"".concat(UY.activeProtectionPanel," ").concat(n?UY.open:""),children:(0,Sv.jsxs)("div",{className:UY.scrollContainer,children:[(0,Sv.jsx)("div",{className:"".concat(UY.scrollSection," ").concat(UY.mapSection),children:(0,Sv.jsxs)("div",{className:UY.mapPlaceholder,children:[(0,Sv.jsx)("div",{className:UY.mapIcon,children:"\ud83d\uddfa\ufe0f"}),(0,Sv.jsx)("p",{children:"Live tracking map would appear here"}),(0,Sv.jsx)("p",{className:UY.mapNote,children:"Officer location updating every 30 seconds"})]})}),(0,Sv.jsxs)("div",{className:"".concat(UY.scrollSection," ").concat(UY.detailsSection),children:[(0,Sv.jsxs)("div",{className:UY.sectionHeader,children:[(0,Sv.jsx)("h3",{children:"Protection Details"}),(0,Sv.jsx)("div",{className:"".concat(UY.statusBadge," ").concat(UY[p.status.toLowerCase().replace(/[_\s]/g,"")]),children:(e=>{switch(e){case"assigned":return"Protection officer assigned";case"officer_en_route":return"Protection officer en route";case"officer_arrived":return"Protection officer has arrived";case"protection_active":return"Protection detail active";case"en_route_to_destination":return"En route to secure destination";case"arriving_at_destination":return"Approaching secure destination";case"completed":return"Protection service completed";case"cancelled":return"Assignment cancelled";default:return"Protection detail in progress"}})(p.status)})]}),(0,Sv.jsxs)("div",{className:UY.primaryInfo,children:[(0,Sv.jsx)("div",{className:UY.cpoAvatar,children:p.officerName.split(" ").map(e=>e[0]).join("")}),(0,Sv.jsxs)("div",{className:UY.cpoDetails,children:[(0,Sv.jsx)("span",{className:UY.cpoName,children:p.officerName}),(0,Sv.jsx)("span",{className:UY.cpoRole,children:"Close Protection Officer"}),(0,Sv.jsxs)("span",{className:UY.cpoLicense,children:["SIA: ",p.siaLicense]})]})]}),(0,Sv.jsxs)("div",{className:UY.detailsGrid,children:[(0,Sv.jsxs)("div",{className:UY.detailItem,children:[(0,Sv.jsx)("span",{className:UY.detailLabel,children:"\ud83d\ude97 Vehicle"}),(0,Sv.jsx)("span",{className:UY.detailValue,children:p.vehicleModel})]}),(0,Sv.jsxs)("div",{className:UY.detailItem,children:[(0,Sv.jsx)("span",{className:UY.detailLabel,children:"\ud83d\udd22 Registration"}),(0,Sv.jsx)("span",{className:UY.detailValue,children:p.vehicleRegistration})]})]})]}),(0,Sv.jsxs)("div",{className:"".concat(UY.scrollSection," ").concat(UY.securitySection),children:[(0,Sv.jsx)("div",{className:UY.sectionHeader,children:(0,Sv.jsx)("h3",{children:"Security Verification"})}),(0,Sv.jsxs)("div",{className:UY.securityCode,children:[(0,Sv.jsx)("span",{className:UY.securityLabel,children:"SECURITY CODE"}),(0,Sv.jsx)("span",{className:UY.securityValue,children:p.securityCode}),(0,Sv.jsx)("p",{className:UY.securityNote,children:"Present this code to your CPO for verification"})]})]}),(0,Sv.jsxs)("div",{className:"".concat(UY.scrollSection," ").concat(UY.actionsSection),children:[(0,Sv.jsx)("div",{className:UY.sectionHeader,children:(0,Sv.jsx)("h3",{children:"Security Commands"})}),(0,Sv.jsxs)("div",{className:UY.actionsGrid,children:[(0,Sv.jsx)(HY,{title:"URGENT HELP",subtitle:"Activate emergency protocols including silent alarm, emergency services dispatch, and immediate notification to your emergency contacts. For life-threatening situations only.",icon:"\ud83d\udea8",color:"emergency",onMainAction:()=>m("sos"),menuOptions:_,isFullWidth:!0}),(0,Sv.jsx)(HY,{title:"CALL OFFICER",subtitle:"Connect directly with your assigned Close Protection Officer via secure voice or video call. Available 24/7 for immediate communication during your protection detail.",icon:"\ud83d\udcde",color:"primary",onMainAction:()=>m("call"),menuOptions:g}),(0,Sv.jsx)(HY,{title:"EXTEND SERVICE",subtitle:"Request additional protection time beyond your scheduled service window. Extensions require officer availability and approval. Billing adjustments apply automatically.",icon:"\u23f0",color:"warning",onMainAction:()=>{},menuOptions:v,pendingApproval:l.size>0}),(0,Sv.jsx)(HY,{title:"CHANGE ROUTE",subtitle:"Modify your destination, add intermediate waypoints, or request route optimization. Your CPO will review and implement changes for maximum security.",icon:"\ud83d\udcdd",color:"info",onMainAction:()=>m("destination"),menuOptions:y}),(0,Sv.jsx)(HY,{title:"MESSAGE OFFICER",subtitle:"Send secure messages to your CPO including text, voice recordings, or photos. All communications are encrypted and logged for your security records.",icon:"\ud83d\udcac",color:"secondary",onMainAction:()=>m("message"),menuOptions:x}),(0,Sv.jsx)(HY,{title:"SHARE LOCATION",subtitle:"Share your real-time GPS location with designated emergency contacts or trusted parties. Control sharing duration and recipients with full privacy control.",icon:"\ud83d\udccd",color:"neutral",onMainAction:()=>m("location"),menuOptions:b})]}),u.length>0&&(0,Sv.jsxs)("div",{className:UY.extensionStatus,children:[(0,Sv.jsx)("h4",{children:"Pending Requests"}),u.map((e,t)=>(0,Sv.jsxs)("div",{className:UY.extensionRequest,children:[(0,Sv.jsx)("span",{className:UY.requestText,children:e}),(0,Sv.jsx)("span",{className:UY.pendingBadge,children:"Pending officer approval"})]},t))]}),(0,Sv.jsxs)("div",{className:UY.billingTracker,children:[(0,Sv.jsx)("h4",{children:"Current Billing"}),(0,Sv.jsxs)("div",{className:UY.billingDetails,children:[(0,Sv.jsxs)("div",{className:UY.billingRow,children:[(0,Sv.jsx)("span",{children:"Protection Rate:"}),(0,Sv.jsxs)("span",{children:["\xa3",p.currentRate,"/hour"]})]}),(0,Sv.jsxs)("div",{className:UY.billingRow,children:[(0,Sv.jsx)("span",{children:"Transport Rate:"}),(0,Sv.jsxs)("span",{children:["\xa3",p.mileageRate,"/mile"]})]}),(0,Sv.jsxs)("div",{className:UY.billingRow,children:[(0,Sv.jsx)("span",{children:"Time Elapsed:"}),(0,Sv.jsx)("span",{children:r})]}),(0,Sv.jsxs)("div",{className:"".concat(UY.billingRow," ").concat(UY.total),children:[(0,Sv.jsx)("span",{children:"Current Total:"}),(0,Sv.jsxs)("span",{children:["\xa3",p.currentCharges.toFixed(2)]})]})]})]}),(0,Sv.jsxs)("div",{className:UY.bottomActions,children:[(0,Sv.jsx)("button",{className:UY.reportButton,children:"Report Issue"}),(0,Sv.jsx)("button",{className:UY.endButton,children:"End Protection"})]})]})]})}):null}const GY={container:"ServiceSelection_container__j8arS",fadeIn:"ServiceSelection_fadeIn__qg7-i",loading:"ServiceSelection_loading__blLBp",loadingSpinner:"ServiceSelection_loadingSpinner__jTTqF",spin:"ServiceSelection_spin__g2Nsw",mapSection:"ServiceSelection_mapSection__2A61A",slideInFromTop:"ServiceSelection_slideInFromTop__dil8T",serviceOptions:"ServiceSelection_serviceOptions__jzqkl",slideInFromBottom:"ServiceSelection_slideInFromBottom__OYZ7Q",sectionTitle:"ServiceSelection_sectionTitle__WgYBw",fadeInUp:"ServiceSelection_fadeInUp__qCZO9",actionBar:"ServiceSelection_actionBar__dFvyM",paymentSection:"ServiceSelection_paymentSection__djuWa",paymentMethod:"ServiceSelection_paymentMethod__mTyZc",paymentIcon:"ServiceSelection_paymentIcon__J4hi2",paymentInfo:"ServiceSelection_paymentInfo__xxEap",paymentLabel:"ServiceSelection_paymentLabel__vVvl8",paymentType:"ServiceSelection_paymentType__wKf74",paymentArrow:"ServiceSelection_paymentArrow__kYXOU",confirmButton:"ServiceSelection_confirmButton__8ZAk0",disabled:"ServiceSelection_disabled__pbP5d",serviceCardsContainer:"ServiceSelection_serviceCardsContainer__ewXni",serviceCard:"ServiceSelection_serviceCard__aRExv",serviceCardEnter:"ServiceSelection_serviceCardEnter__gP12v",selected:"ServiceSelection_selected__AVxqW",serviceContent:"ServiceSelection_serviceContent__98l17",serviceName:"ServiceSelection_serviceName__V080w",serviceDescription:"ServiceSelection_serviceDescription__13Lrj",serviceFeatures:"ServiceSelection_serviceFeatures__KgmwS",feature:"ServiceSelection_feature__xtU3o",vehicleSection:"ServiceSelection_vehicleSection__aJRrt",vehicleIcon:"ServiceSelection_vehicleIcon__hObiE",vehicleType:"ServiceSelection_vehicleType__4PDvC",priceSection:"ServiceSelection_priceSection__6X8js",price:"ServiceSelection_price__EYyxr",eta:"ServiceSelection_eta__9Y3Qi",popularBadge:"ServiceSelection_popularBadge__5b849",badgeIcon:"ServiceSelection_badgeIcon__NcI39",badgeText:"ServiceSelection_badgeText__pGxkH",trustBadges:"ServiceSelection_trustBadges__ZQBkT",responseTime:"ServiceSelection_responseTime__Gfk2x",responseIcon:"ServiceSelection_responseIcon__82YvO",responseText:"ServiceSelection_responseText__-+3hO",priceUnit:"ServiceSelection_priceUnit__rcCcU"};function YY(){var t,n;const{navigateToView:i}=kv(),{protectionAssignmentData:s,setSelectedService:r}=function(){const t=(0,e.useContext)(Iv);if(!t)throw new Error("useProtectionAssignment must be used within a ProtectionAssignmentProvider");return t}(),[a,o]=(0,e.useState)(null),[c,l]=(0,e.useState)(!1),[d]=(0,e.useState)(!0);return s.commencementPoint&&s.secureDestination?(0,Sv.jsxs)("div",{className:GY.container,children:[(0,Sv.jsx)("div",{className:GY.mapSection,children:(0,Sv.jsxs)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #2d3748 0%, #1a202c 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px",fontWeight:"600"},children:["Route: ",null===(t=s.commencementPoint)||void 0===t?void 0:t.address," \u2192 ",null===(n=s.secureDestination)||void 0===n?void 0:n.address]})}),(0,Sv.jsxs)("div",{className:"".concat(GY.serviceOptions," ").concat(d?GY.expanded:GY.collapsed),children:[(0,Sv.jsx)("h2",{className:GY.sectionTitle,children:"Choose Your Service"}),(0,Sv.jsx)("div",{className:GY.serviceCardsContainer,children:FA().sort((e,t)=>e.popularityRank-t.popularityRank).map((e,t)=>(0,Sv.jsxs)("div",{onClick:()=>(e=>{o(e);const t=DA[e];if(t){const e={id:t.id,name:t.name,description:t.description,price:t.price,eta:"3-5 min",features:t.features.map(e=>e.text),vehicleType:"client"===t.vehicleType?"Client Vehicle":"BMW X5",securityLevel:t.riskLevel,badge:t.badge,isRecommended:t.popularityRank<=2};r(e)}})(e.id),className:"".concat(GY.serviceCard," ").concat(a===e.id?GY.selected:""),style:{animationDelay:"".concat(.5+.1*t,"s")},children:[e.badge&&(0,Sv.jsxs)("div",{className:GY.popularBadge,children:[(0,Sv.jsx)("span",{className:GY.badgeIcon,children:"\ud83c\udfc6"}),(0,Sv.jsx)("span",{className:GY.badgeText,children:e.badge})]}),(0,Sv.jsxs)("div",{className:GY.serviceContent,children:[(0,Sv.jsx)("h3",{className:GY.serviceName,children:e.name}),(0,Sv.jsx)("p",{className:GY.serviceDescription,children:e.tagline}),(0,Sv.jsxs)("div",{className:GY.responseTime,children:[(0,Sv.jsx)("span",{className:GY.responseIcon,children:"\u26a1"}),(0,Sv.jsx)("span",{className:GY.responseText,children:"15-20 min response"})]}),(0,Sv.jsxs)("div",{className:GY.trustBadges,children:[(0,Sv.jsx)("span",{children:"\u2713 SIA Licensed"}),(0,Sv.jsx)("span",{children:"\u2713 \xa310M Insurance"}),(0,Sv.jsx)("span",{children:"\u2713 4.9\u2605 Rating"})]}),(0,Sv.jsx)("div",{className:GY.serviceFeatures,children:e.features.slice(0,2).map((e,t)=>(0,Sv.jsxs)("div",{className:GY.feature,children:[e.icon," ",e.text]},t))})]}),(0,Sv.jsxs)("div",{className:GY.vehicleSection,children:[(0,Sv.jsx)("div",{className:GY.vehicleIcon,children:"client"===e.vehicleType?"\ud83d\udd11":"high"===e.riskLevel?"\ud83e\udd77":"medium"===e.riskLevel?"\ud83d\udc54":"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("div",{className:GY.vehicleType,children:"client"===e.vehicleType?"Your Vehicle":"Company Vehicle"})]}),(0,Sv.jsxs)("div",{className:GY.priceSection,children:[(0,Sv.jsxs)("div",{className:GY.price,children:["\xa3",e.hourlyRate]}),(0,Sv.jsx)("div",{className:GY.priceUnit,children:"/hour"}),(0,Sv.jsxs)("div",{className:GY.eta,children:[(0,Sv.jsx)("span",{children:"\ud83d\udd52"}),"3-5 min"]})]})]},e.id))}),a&&(0,Sv.jsx)("div",{className:GY.actionBar,children:(0,Sv.jsx)("button",{className:"".concat(GY.confirmButton," ").concat(c?GY.loading:""),onClick:async()=>{a&&s.selectedService&&(l(!0),await new Promise(e=>setTimeout(e,800)),i("protection-request"))},disabled:c,children:c?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:GY.loadingSpinner}),"Processing..."]}):"Confirm Assignment"})})]})]}):(0,Sv.jsx)("div",{className:GY.container,children:(0,Sv.jsxs)("div",{className:GY.loading,children:[(0,Sv.jsx)("div",{className:GY.loadingSpinner}),(0,Sv.jsx)("p",{children:"Setting up your journey..."})]})})}const KY="AssignmentHistory_container__Ed4oj",QY="AssignmentHistory_filters__AblBg",ZY="AssignmentHistory_filterButton__6ACil",JY="AssignmentHistory_filterActive__kRAgS",XY="AssignmentHistory_assignmentList__D+Lrn",$Y="AssignmentHistory_assignmentCard__IgEWM",eK="AssignmentHistory_cardHeader__xZ3hl",tK="AssignmentHistory_serviceInfo__s4jGG",nK="AssignmentHistory_serviceIcon__APvVx",iK="AssignmentHistory_serviceType__1tqDd",sK="AssignmentHistory_statusBadge__J0dUr",rK="AssignmentHistory_statusScheduled__zqV+f",aK="AssignmentHistory_statusConfirmed__k48GT",oK="AssignmentHistory_statusEnRoute__Y8JpK",cK="AssignmentHistory_statusInProgress__V3pYD",lK="AssignmentHistory_statusCompleted__eYy-1",dK="AssignmentHistory_statusCancelled__i62I6",uK="AssignmentHistory_statusDefault__p7ZUW",hK="AssignmentHistory_dateTime__J8qNr",pK="AssignmentHistory_date__WlH46",mK="AssignmentHistory_time__5E-aN",fK="AssignmentHistory_locations__yKSG0",_K="AssignmentHistory_location__ienw-",gK="AssignmentHistory_locationIcon__Ol5NH",vK="AssignmentHistory_locationText__REUkj",yK="AssignmentHistory_locationDivider__u++Yf",xK="AssignmentHistory_cardFooter__GpU3+",bK="AssignmentHistory_cost__m+1Bu",SK="AssignmentHistory_officer__oiZfq",wK="AssignmentHistory_rating__0sRk-",NK="AssignmentHistory_loadingContainer__QkGVc",jK="AssignmentHistory_errorContainer__NEyv6",CK="AssignmentHistory_emptyState__rMyK2",kK="AssignmentHistory_emptyIcon__+lq+T",PK="AssignmentHistory_errorMessage__k2w1e",TK="AssignmentHistory_modal__Gqdno",EK="AssignmentHistory_modalContent__cG9IN",AK="AssignmentHistory_closeButton__4eS0x",IK="AssignmentHistory_modalTitle__pExth",LK="AssignmentHistory_detailSection__o3WEw",RK="AssignmentHistory_modalActions__3DwQd";function MK(t){let{limit:n,showFilters:i=!0}=t;const{user:s}=(0,e.useContext)(Pv)||(console.warn("useAuth: AuthContext not found, returning mock implementation"),{user:null,session:null,profile:null,loading:!1,error:null,signUp:async()=>{},signIn:async()=>{},signInWithGoogle:async()=>{},signOut:async()=>{},updateProfile:async()=>{},refreshProfile:async()=>{},saveQuestionnaire:async()=>{},acknowledgeMartynsLaw:async()=>{}}),[r,a]=(0,e.useState)([]),[o,c]=(0,e.useState)([]),[l,d]=(0,e.useState)(!0),[u,h]=(0,e.useState)(null),[p,m]=(0,e.useState)("all"),[f,_]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(!s)return;(async()=>{d(!0),h(null);try{let e=bv.from("protection_assignments").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});n&&(e=e.limit(n));const{data:t,error:i}=await e;if(i)throw i;a(t||[]),c(t||[])}catch(Dte){console.error("Error fetching assignments:",Dte),h(Dte.message||"Failed to load assignment history")}finally{d(!1)}})()},[s,n]),(0,e.useEffect)(()=>{c("all"===p?r:r.filter(e=>"completed"===p?"completed"===e.status:"scheduled"===p?"scheduled"===e.status||"confirmed"===e.status:"cancelled"!==p||"cancelled"===e.status))},[p,r]);const g=e=>({scheduled:{label:"Scheduled",class:rK},confirmed:{label:"Confirmed",class:aK},en_route:{label:"En Route",class:oK},in_progress:{label:"In Progress",class:cK},completed:{label:"Completed",class:lK},cancelled:{label:"Cancelled",class:dK}}[e]||{label:e,class:uK}),v=e=>new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),y=e=>new Date(e).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});return l?(0,Sv.jsx)("div",{className:NK,children:(0,Sv.jsx)(yR,{size:"large",message:"Loading assignment history..."})}):u?(0,Sv.jsxs)("div",{className:jK,children:[(0,Sv.jsx)("p",{className:PK,children:u}),(0,Sv.jsx)(Xy,{onClick:()=>window.location.reload(),children:"Retry"})]}):0===r.length?(0,Sv.jsxs)("div",{className:CK,children:[(0,Sv.jsx)("div",{className:kK,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("h3",{children:"No Protection Assignments Yet"}),(0,Sv.jsx)("p",{children:"Your protection assignment history will appear here"})]}):(0,Sv.jsxs)("div",{className:KY,children:[i&&(0,Sv.jsxs)("div",{className:QY,children:[(0,Sv.jsxs)("button",{className:"".concat(ZY," ").concat("all"===p?JY:""),onClick:()=>m("all"),children:["All (",r.length,")"]}),(0,Sv.jsxs)("button",{className:"".concat(ZY," ").concat("completed"===p?JY:""),onClick:()=>m("completed"),children:["Completed (",r.filter(e=>"completed"===e.status).length,")"]}),(0,Sv.jsxs)("button",{className:"".concat(ZY," ").concat("scheduled"===p?JY:""),onClick:()=>m("scheduled"),children:["Upcoming (",r.filter(e=>"scheduled"===e.status||"confirmed"===e.status).length,")"]}),(0,Sv.jsxs)("button",{className:"".concat(ZY," ").concat("cancelled"===p?JY:""),onClick:()=>m("cancelled"),children:["Cancelled (",r.filter(e=>"cancelled"===e.status).length,")"]})]}),(0,Sv.jsx)("div",{className:XY,children:o.map(e=>{return(0,Sv.jsxs)("div",{className:$Y,onClick:()=>_(e),children:[(0,Sv.jsxs)("div",{className:eK,children:[(0,Sv.jsxs)("div",{className:tK,children:[(0,Sv.jsx)("span",{className:nK,children:(t=e.service_type,{essential:"\ud83d\udee1\ufe0f",executive:"\ud83d\udcbc",shadow:"\ud83c\udfaf",client_vehicle:"\ud83d\ude97"}[t.toLowerCase()]||"\ud83d\udee1\ufe0f")}),(0,Sv.jsx)("span",{className:iK,children:e.service_level||e.service_type})]}),(0,Sv.jsx)("span",{className:"".concat(sK," ").concat(g(e.status).class),children:g(e.status).label})]}),(0,Sv.jsxs)("div",{className:hK,children:[(0,Sv.jsx)("span",{className:pK,children:v(e.scheduled_time)}),(0,Sv.jsx)("span",{className:mK,children:y(e.scheduled_time)})]}),(0,Sv.jsxs)("div",{className:fK,children:[(0,Sv.jsxs)("div",{className:_K,children:[(0,Sv.jsx)("span",{className:gK,children:"\ud83d\udccd"}),(0,Sv.jsx)("span",{className:vK,children:e.pickup_location})]}),(0,Sv.jsx)("div",{className:yK,children:"\u2192"}),(0,Sv.jsxs)("div",{className:_K,children:[(0,Sv.jsx)("span",{className:gK,children:"\ud83c\udfaf"}),(0,Sv.jsx)("span",{className:vK,children:e.dropoff_location})]})]}),(0,Sv.jsxs)("div",{className:xK,children:[(0,Sv.jsxs)("div",{className:bK,children:["\xa3",(e.final_cost||e.estimated_cost).toFixed(2)]}),e.officer&&(0,Sv.jsxs)("div",{className:SK,children:["CPO: ",e.officer.name]}),e.rating&&(0,Sv.jsx)("div",{className:wK,children:"\u2b50".repeat(e.rating)})]})]},e.id);var t})}),f&&(0,Sv.jsx)("div",{className:TK,onClick:()=>_(null),children:(0,Sv.jsxs)("div",{className:EK,onClick:e=>e.stopPropagation(),children:[(0,Sv.jsx)("button",{className:AK,onClick:()=>_(null),children:"\u2715"}),(0,Sv.jsx)("h2",{className:IK,children:"Assignment Details"}),(0,Sv.jsxs)("div",{className:LK,children:[(0,Sv.jsx)("h3",{children:"Service Information"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Type:"})," ",f.service_level||f.service_type]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Status:"})," ",g(f.status).label]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Scheduled:"})," ",v(f.scheduled_time)," at"," ",y(f.scheduled_time)]}),f.completed_at&&(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Completed:"})," ",v(f.completed_at)," at"," ",y(f.completed_at)]})]}),(0,Sv.jsxs)("div",{className:LK,children:[(0,Sv.jsx)("h3",{children:"Route"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Commencement:"})," ",f.pickup_location]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Destination:"})," ",f.dropoff_location]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Duration:"})," ",Math.round((f.actual_duration||f.estimated_duration)/60)," ","minutes"]})]}),f.officer&&(0,Sv.jsxs)("div",{className:LK,children:[(0,Sv.jsx)("h3",{children:"Protection Officer"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Name:"})," ",f.officer.name]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Designation:"})," ",f.officer.designation]})]}),(0,Sv.jsxs)("div",{className:LK,children:[(0,Sv.jsx)("h3",{children:"Payment"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Amount:"})," \xa3",(f.final_cost||f.estimated_cost).toFixed(2)]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Status:"})," ",f.payment_status]})]}),f.feedback&&(0,Sv.jsxs)("div",{className:LK,children:[(0,Sv.jsx)("h3",{children:"Your Feedback"}),(0,Sv.jsx)("p",{children:f.feedback}),f.rating&&(0,Sv.jsx)("div",{className:wK,children:"\u2b50".repeat(f.rating)})]}),(0,Sv.jsxs)("div",{className:RK,children:["completed"===f.status&&!f.rating&&(0,Sv.jsx)(Xy,{variant:"primary",children:"Rate Assignment"}),(0,Sv.jsx)(Xy,{variant:"secondary",onClick:()=>_(null),children:"Close"})]})]})})]})}const OK={accountContainer:"AccountView_accountContainer__n+LZO",backgroundPattern:"AccountView_backgroundPattern__aXw89",backgroundShift:"AccountView_backgroundShift__wmKSt",loadingContainer:"AccountView_loadingContainer__USeSH",loadingSpinner:"AccountView_loadingSpinner__XT+xb",spin:"AccountView_spin__Ydhpi",loadingText:"AccountView_loadingText__km4un",contentArea:"AccountView_contentArea__nCR+L",fadeInUp:"AccountView_fadeInUp__4wlQD",mainContent:"AccountView_mainContent__8djiB",profileSection:"AccountView_profileSection__HcpwM",profileHeader:"AccountView_profileHeader__FoKR3",avatarContainer:"AccountView_avatarContainer__WsJOj",avatar:"AccountView_avatar__Q14T1",memberBadge:"AccountView_memberBadge__kJKJ4",profileInfo:"AccountView_profileInfo__soTfQ",userName:"AccountView_userName__CzTTd",editButton:"AccountView_editButton__zulMx",membershipInfo:"AccountView_membershipInfo__dUfie",contactInfo:"AccountView_contactInfo__c4EOS",contactItem:"AccountView_contactItem__tuu0-",editProfileButton:"AccountView_editProfileButton__ztDQN",protectionSection:"AccountView_protectionSection__nF+Ga",statsSection:"AccountView_statsSection__w+Iig",settingsSection:"AccountView_settingsSection__c71l7",achievementsSection:"AccountView_achievementsSection__FXVPr",supportSection:"AccountView_supportSection__6wV8m",sectionTitle:"AccountView_sectionTitle__4Q2pd",sectionLine:"AccountView_sectionLine__Z-0oR",securityScoreContainer:"AccountView_securityScoreContainer__Rz+vE",scoreDisplay:"AccountView_scoreDisplay__3bbpm",scoreRing:"AccountView_scoreRing__AG2r4",scoreInner:"AccountView_scoreInner__znbFT",scoreNumber:"AccountView_scoreNumber__lzk+5",scoreMax:"AccountView_scoreMax__8B1w+",infoButton:"AccountView_infoButton__R+oSl",scoreStatus:"AccountView_scoreStatus__nnyeu",scoreFactors:"AccountView_scoreFactors__o1elQ",factorsTitle:"AccountView_factorsTitle__CZeG8",factorsList:"AccountView_factorsList__OWitg",factorItem:"AccountView_factorItem__9UGVK",factorIncomplete:"AccountView_factorIncomplete__cHtiY",factorIcon:"AccountView_factorIcon__z7K1G",statsGrid:"AccountView_statsGrid__mhSoQ",statCard:"AccountView_statCard__GaUhN",statValue:"AccountView_statValue__onYdG",statLabel:"AccountView_statLabel__ESXTP",detailsButton:"AccountView_detailsButton__jKJkX",settingsList:"AccountView_settingsList__TiJPr",settingItem:"AccountView_settingItem__VfbE2",installAppItem:"AccountView_installAppItem__oRBNl",installButtonContainer:"AccountView_installButtonContainer__ofLN0",settingIcon:"AccountView_settingIcon__RSoul",settingContent:"AccountView_settingContent__aCVOA",settingTitle:"AccountView_settingTitle__AZl5I",settingDesc:"AccountView_settingDesc__xGJVp",actionNeeded:"AccountView_actionNeeded__7UPjY",balanceInfo:"AccountView_balanceInfo__VZ4b0",referralCode:"AccountView_referralCode__GypBb",sessionInfo:"AccountView_sessionInfo__7gq-P",settingArrow:"AccountView_settingArrow__jX43X",badgesList:"AccountView_badgesList__Ub6RD",badge:"AccountView_badge__pEqXg",badgeEarned:"AccountView_badgeEarned__VzO3D",badgeIcon:"AccountView_badgeIcon__AoyG7",badgeName:"AccountView_badgeName__n0H7i",viewAllButton:"AccountView_viewAllButton__xg2ew",supportOptions:"AccountView_supportOptions__gce3H",supportOption:"AccountView_supportOption__d6tAh",supportIcon:"AccountView_supportIcon__kk8kT",supportText:"AccountView_supportText__cxJLP",reportButton:"AccountView_reportButton__0p2mE",bottomActions:"AccountView_bottomActions__nPMOS",signOutButton:"AccountView_signOutButton__S4IEX",deleteAccountButton:"AccountView_deleteAccountButton__RouTg",appInfo:"AccountView_appInfo__KE9VV",linkButton:"AccountView_linkButton__lXs05",subPage:"AccountView_subPage__uyvG+",subPageHeader:"AccountView_subPageHeader__3QX6k",backButton:"AccountView_backButton__6cLBR",subPageTitle:"AccountView_subPageTitle__RI4kQ",scoreBreakdown:"AccountView_scoreBreakdown__X3kVN",scoreItem:"AccountView_scoreItem__oBACi",scoreLabel:"AccountView_scoreLabel__W4trT",scoreValue:"AccountView_scoreValue__YDC8u",financialGrid:"AccountView_financialGrid__U+7AG",financialCard:"AccountView_financialCard__MhAU9",financialLabel:"AccountView_financialLabel__bWILC",financialValue:"AccountView_financialValue__sNglz",monthlyComparison:"AccountView_monthlyComparison__CYc28",monthlyGrid:"AccountView_monthlyGrid__UNLQf",monthlyCard:"AccountView_monthlyCard__Gq9DD",monthlyLabel:"AccountView_monthlyLabel__hoSLt",monthlyValue:"AccountView_monthlyValue__GUS-c",actionButtons:"AccountView_actionButtons__3CkrM",primaryButton:"AccountView_primaryButton__2OsFp",secondaryButton:"AccountView_secondaryButton__57yzQ",referralCard:"AccountView_referralCard__0+DiE",referralTitle:"AccountView_referralTitle__2O2Do",shareOptions:"AccountView_shareOptions__8vIlK",shareLabel:"AccountView_shareLabel__XIf5I",shareButtons:"AccountView_shareButtons__8Ws8n",shareButton:"AccountView_shareButton__3+V9B",referralEarnings:"AccountView_referralEarnings__KPokQ",earningsTitle:"AccountView_earningsTitle__qT5-q",earningsText:"AccountView_earningsText__Iuxlv",howItWorks:"AccountView_howItWorks__J1DTh",howItWorksTitle:"AccountView_howItWorksTitle__-MO8m",stepsList:"AccountView_stepsList__-hgb9"};function DK(){const{state:t,navigateToView:n}=kv(),{user:i}=t,[s,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(!0),[c,l]=(0,e.useState)("main");if((0,e.useEffect)(()=>{const e=(e=>{const t=new Date("2022-03-15"),n=new Date,i=Math.floor((n.getTime()-t.getTime())/315576e5);return{profile:{id:(null===e||void 0===e?void 0:e.id)||"user-123",name:(null===e||void 0===e?void 0:e.name)||"Test User",email:(null===e||void 0===e?void 0:e.email)||"test@armora.dev",phone:"+44 7700 900123",avatar:"/api/placeholder/150/150",memberSince:t,membershipYears:Math.max(i,1),tier:"registered"===(null===e||void 0===e?void 0:e.userType)?"executive":"standard",verificationStatus:{email:!0,phone:!0,identity:"guest"!==(null===e||void 0===e?void 0:e.userType),background:"registered"===(null===e||void 0===e?void 0:e.userType)}},security:{twoFactorEnabled:!1,securityScore:94,trustedContacts:[],panicButtonEnabled:!0,loginSessions:[{device:"iPhone 14 Pro",location:"London, UK",lastActive:"Active now",id:"1"},{device:"MacBook Pro",location:"London, UK",lastActive:"2 hours ago",id:"2"}],privacySettings:{}},stats:{totalRides:47,totalHours:156,totalSpent:2847.5,userRating:4.9,averagePerRide:60.58,thisMonth:{amount:487,Assignments:8},lastMonth:{amount:623.5,Assignments:11}},financial:{credits:125,paymentMethods:[{id:"1",type:"card",last4:"4242",brand:"visa",isDefault:!0},{id:"2",type:"card",last4:"8888",brand:"mastercard",isDefault:!1}],subscription:{plan:"Executive Monthly",status:"active",nextBilling:new Date("2024-02-15"),amount:75}},referral:{code:"ARMORA2847",earned:150,friendsJoined:3,pending:100},achievements:{badges:[{id:"1",name:"Protection Elite",icon:"\ud83d\udee1\ufe0f",earned:!0},{id:"2",name:"Verified",icon:"\u2713",earned:!0},{id:"3",name:"Trusted Principal",icon:"\ud83c\udf96\ufe0f",earned:!0},{id:"4",name:"Elite",icon:"\u2b50",earned:!0}]}}})(i||{name:"Guest User",email:"guest@armora.security",userType:"guest"});r(e),o(!1)},[i]),a||!s)return(0,Sv.jsxs)("div",{className:OK.loadingContainer,children:[(0,Sv.jsx)("div",{className:OK.loadingSpinner}),(0,Sv.jsx)("p",{className:OK.loadingText,children:"Loading your account..."})]});const d=()=>{n("welcome")},u=()=>{},h=e=>e>=90?"Excellent Protection Status":e>=70?"Good Protection Status":"Needs Improvement";return(0,Sv.jsxs)("div",{className:OK.accountContainer,children:[(0,Sv.jsx)("div",{className:OK.backgroundPattern}),(0,Sv.jsx)("div",{className:OK.contentArea,children:(()=>{switch(c){case"security-score":return(0,Sv.jsxs)("div",{className:OK.subPage,children:[(0,Sv.jsxs)("div",{className:OK.subPageHeader,children:[(0,Sv.jsx)("button",{className:OK.backButton,onClick:()=>l("main"),children:"\u2190 Back"}),(0,Sv.jsxs)("h2",{className:OK.subPageTitle,children:["YOUR SECURITY SCORE: ",s.security.securityScore,"/100"]})]}),(0,Sv.jsxs)("div",{className:OK.scoreBreakdown,children:[(0,Sv.jsxs)("div",{className:OK.scoreItem,children:[(0,Sv.jsx)("span",{className:OK.scoreLabel,children:"Profile Completion"}),(0,Sv.jsx)("span",{className:OK.scoreValue,children:"20/20 \u2713"})]}),(0,Sv.jsxs)("div",{className:OK.scoreItem,children:[(0,Sv.jsx)("span",{className:OK.scoreLabel,children:"ID Verification"}),(0,Sv.jsx)("span",{className:OK.scoreValue,children:"20/20 \u2713"})]}),(0,Sv.jsxs)("div",{className:OK.scoreItem,children:[(0,Sv.jsx)("span",{className:OK.scoreLabel,children:"Background Check"}),(0,Sv.jsx)("span",{className:OK.scoreValue,children:"20/20 \u2713"})]}),(0,Sv.jsxs)("div",{className:OK.scoreItem,children:[(0,Sv.jsx)("span",{className:OK.scoreLabel,children:"2FA Enabled"}),(0,Sv.jsx)("span",{className:OK.scoreValue,children:"0/20 \u2717"})]}),(0,Sv.jsxs)("div",{className:OK.scoreItem,children:[(0,Sv.jsx)("span",{className:OK.scoreLabel,children:"Service History"}),(0,Sv.jsx)("span",{className:OK.scoreValue,children:"19/20 \u2713"})]}),(0,Sv.jsxs)("div",{className:OK.scoreItem,children:[(0,Sv.jsx)("span",{className:OK.scoreLabel,children:"Payment Verified"}),(0,Sv.jsx)("span",{className:OK.scoreValue,children:"15/20 \u2713"})]})]}),(0,Sv.jsx)("button",{className:OK.primaryButton,onClick:()=>l("settings"),children:"IMPROVE SCORE"})]});case"financial":return(0,Sv.jsxs)("div",{className:OK.subPage,children:[(0,Sv.jsxs)("div",{className:OK.subPageHeader,children:[(0,Sv.jsx)("button",{className:OK.backButton,onClick:()=>l("main"),children:"\u2190 Back"}),(0,Sv.jsx)("h2",{className:OK.subPageTitle,children:"FINANCIAL OVERVIEW"})]}),(0,Sv.jsxs)("div",{className:OK.financialGrid,children:[(0,Sv.jsxs)("div",{className:OK.financialCard,children:[(0,Sv.jsx)("span",{className:OK.financialLabel,children:"Current Balance:"}),(0,Sv.jsxs)("span",{className:OK.financialValue,children:["\xa3",s.financial.credits.toFixed(2)]})]}),(0,Sv.jsxs)("div",{className:OK.financialCard,children:[(0,Sv.jsx)("span",{className:OK.financialLabel,children:"Total Spent:"}),(0,Sv.jsxs)("span",{className:OK.financialValue,children:["\xa3",s.stats.totalSpent.toFixed(2)]})]}),(0,Sv.jsxs)("div",{className:OK.financialCard,children:[(0,Sv.jsx)("span",{className:OK.financialLabel,children:"Average per service:"}),(0,Sv.jsxs)("span",{className:OK.financialValue,children:["\xa3",s.stats.averagePerRide.toFixed(2)]})]})]}),(0,Sv.jsxs)("div",{className:OK.monthlyComparison,children:[(0,Sv.jsx)("h3",{className:OK.sectionTitle,children:"MONTHLY COMPARISON"}),(0,Sv.jsxs)("div",{className:OK.monthlyGrid,children:[(0,Sv.jsxs)("div",{className:OK.monthlyCard,children:[(0,Sv.jsx)("span",{className:OK.monthlyLabel,children:"This Month:"}),(0,Sv.jsxs)("span",{className:OK.monthlyValue,children:["\xa3",s.stats.thisMonth.amount.toFixed(2)," (",s.stats.thisMonth.Assignments," services)"]})]}),(0,Sv.jsxs)("div",{className:OK.monthlyCard,children:[(0,Sv.jsx)("span",{className:OK.monthlyLabel,children:"Last Month:"}),(0,Sv.jsxs)("span",{className:OK.monthlyValue,children:["\xa3",s.stats.lastMonth.amount.toFixed(2)," (",s.stats.lastMonth.Assignments," services)"]})]})]})]}),(0,Sv.jsxs)("div",{className:OK.actionButtons,children:[(0,Sv.jsx)("button",{className:OK.primaryButton,children:"ADD CREDITS"}),(0,Sv.jsx)("button",{className:OK.secondaryButton,children:"DOWNLOAD STATEMENT"})]})]});case"referral":return(0,Sv.jsxs)("div",{className:OK.subPage,children:[(0,Sv.jsxs)("div",{className:OK.subPageHeader,children:[(0,Sv.jsx)("button",{className:OK.backButton,onClick:()=>l("main"),children:"\u2190 Back"}),(0,Sv.jsx)("h2",{className:OK.subPageTitle,children:"REFER & EARN"})]}),(0,Sv.jsxs)("div",{className:OK.referralCard,children:[(0,Sv.jsxs)("h3",{className:OK.referralTitle,children:["Your Code: ",s.referral.code]}),(0,Sv.jsxs)("div",{className:OK.shareOptions,children:[(0,Sv.jsx)("span",{className:OK.shareLabel,children:"Share via:"}),(0,Sv.jsxs)("div",{className:OK.shareButtons,children:[(0,Sv.jsx)("button",{className:OK.shareButton,children:"WhatsApp"}),(0,Sv.jsx)("button",{className:OK.shareButton,children:"Email"}),(0,Sv.jsx)("button",{className:OK.shareButton,children:"Copy Link"})]})]}),(0,Sv.jsxs)("div",{className:OK.referralEarnings,children:[(0,Sv.jsx)("h4",{className:OK.earningsTitle,children:"Earnings:"}),(0,Sv.jsxs)("p",{className:OK.earningsText,children:[s.referral.friendsJoined," friends joined = \xa3",s.referral.earned," earned"]}),(0,Sv.jsxs)("p",{className:OK.earningsText,children:["2 pending = \xa3",s.referral.pending," potential"]})]}),(0,Sv.jsxs)("div",{className:OK.howItWorks,children:[(0,Sv.jsx)("h4",{className:OK.howItWorksTitle,children:"How it works:"}),(0,Sv.jsxs)("ol",{className:OK.stepsList,children:[(0,Sv.jsx)("li",{children:"Friend signs up with your code"}),(0,Sv.jsx)("li",{children:"They complete first service"}),(0,Sv.jsx)("li",{children:"You both get \xa350 credits"})]})]})]})]});case"history":return(0,Sv.jsxs)("div",{className:OK.subPage,children:[(0,Sv.jsxs)("div",{className:OK.subPageHeader,children:[(0,Sv.jsx)("button",{className:OK.backButton,onClick:()=>l("main"),children:"\u2190 Back"}),(0,Sv.jsx)("h2",{className:OK.subPageTitle,children:"ASSIGNMENT HISTORY"})]}),(0,Sv.jsx)(MK,{})]});default:return(()=>{return(0,Sv.jsxs)("div",{className:OK.mainContent,children:[(0,Sv.jsxs)("div",{className:"".concat(OK.profileSection," ").concat(OK.card),children:[(0,Sv.jsxs)("div",{className:OK.profileHeader,children:[(0,Sv.jsxs)("div",{className:OK.avatarContainer,children:[(0,Sv.jsx)("img",{src:s.profile.avatar,alt:"Profile",className:OK.avatar}),(0,Sv.jsxs)("div",{className:OK.memberBadge,children:[s.profile.tier.toUpperCase()," MEMBER"]})]}),(0,Sv.jsxs)("div",{className:OK.profileInfo,children:[(0,Sv.jsxs)("h1",{className:OK.userName,children:[s.profile.name,(0,Sv.jsx)("button",{className:OK.editButton,children:"\u270f\ufe0f"})]}),(0,Sv.jsxs)("p",{className:OK.membershipInfo,children:["EXECUTIVE MEMBER \u2022 Member for ",s.profile.membershipYears," years"]}),(0,Sv.jsxs)("div",{className:OK.contactInfo,children:[(0,Sv.jsx)("p",{className:OK.contactItem,children:s.profile.email}),(0,Sv.jsx)("p",{className:OK.contactItem,children:s.profile.phone})]})]})]}),(0,Sv.jsx)("button",{className:OK.editProfileButton,children:"EDIT PROFILE"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.protectionSection," ").concat(OK.card),children:[(0,Sv.jsx)("h2",{className:OK.sectionTitle,children:"YOUR PROTECTION LEVEL"}),(0,Sv.jsx)("div",{className:OK.sectionLine}),(0,Sv.jsxs)("div",{className:OK.securityScoreContainer,children:[(0,Sv.jsxs)("div",{className:OK.scoreDisplay,children:[(0,Sv.jsx)("div",{className:OK.scoreRing,style:{background:"conic-gradient(".concat((e=s.security.securityScore,e>=90?"var(--success-color)":e>=70?"var(--warning-color)":"var(--error-color)")," ").concat(3.6*s.security.securityScore,"deg, var(--bg-tertiary) 0deg)")},children:(0,Sv.jsxs)("div",{className:OK.scoreInner,children:[(0,Sv.jsx)("span",{className:OK.scoreNumber,children:s.security.securityScore}),(0,Sv.jsx)("span",{className:OK.scoreMax,children:"/100"})]})}),(0,Sv.jsx)("button",{className:OK.infoButton,onClick:()=>l("security-score"),children:"\u2139\ufe0f"})]}),(0,Sv.jsxs)("p",{className:OK.scoreStatus,children:['"',h(s.security.securityScore),'"']})]}),(0,Sv.jsxs)("div",{className:OK.scoreFactors,children:[(0,Sv.jsx)("h4",{className:OK.factorsTitle,children:"What affects your score:"}),(0,Sv.jsxs)("div",{className:OK.factorsList,children:[(0,Sv.jsxs)("div",{className:OK.factorItem,children:[(0,Sv.jsx)("span",{className:OK.factorIcon,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Profile completed"})]}),(0,Sv.jsxs)("div",{className:OK.factorItem,children:[(0,Sv.jsx)("span",{className:OK.factorIcon,children:"\u2713"}),(0,Sv.jsx)("span",{children:"ID verified"})]}),(0,Sv.jsxs)("div",{className:OK.factorItem,children:[(0,Sv.jsx)("span",{className:OK.factorIcon,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Background check passed"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.factorItem," ").concat(OK.factorIncomplete),children:[(0,Sv.jsx)("span",{className:OK.factorIcon,children:"\u2717"}),(0,Sv.jsx)("span",{children:"2FA enabled"})]})]})]})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statsSection," ").concat(OK.card),children:[(0,Sv.jsx)("h2",{className:OK.sectionTitle,children:"YOUR STATISTICS"}),(0,Sv.jsx)("div",{className:OK.sectionLine}),(0,Sv.jsxs)("div",{className:OK.statsGrid,children:[(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsx)("span",{className:OK.statValue,children:s.stats.totalRides}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Protection Assignments"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsxs)("span",{className:OK.statValue,children:[s.stats.totalHours," hrs"]}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Hours Protected"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsxs)("span",{className:OK.statValue,children:["\xa3",s.stats.totalSpent.toFixed(0)]}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Investment in Security"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsxs)("span",{className:OK.statValue,children:["\u2b50 ",s.stats.userRating]}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Client Satisfaction"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsx)("span",{className:OK.statValue,children:"100%"}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Threat-Free Journeys"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsx)("span",{className:OK.statValue,children:"5"}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Preferred Officers"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.statCard," ").concat(OK.miniCard),children:[(0,Sv.jsx)("span",{className:OK.statValue,children:"Executive"}),(0,Sv.jsx)("span",{className:OK.statLabel,children:"Security Level"})]})]}),(0,Sv.jsx)("button",{className:OK.detailsButton,onClick:()=>l("financial"),children:"VIEW SECURITY REPORT"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.settingsSection," ").concat(OK.card),children:[(0,Sv.jsx)("h2",{className:OK.sectionTitle,children:"MANAGE YOUR ACCOUNT"}),(0,Sv.jsx)("div",{className:OK.sectionLine}),(0,Sv.jsxs)("div",{className:OK.settingsList,children:[(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("settings"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udc64"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Personal Information"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Update name, email, phone"})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("settings"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udd12"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Security & Privacy"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"2FA, password, ID verification"}),!s.security.twoFactorEnabled&&(0,Sv.jsx)("span",{className:OK.actionNeeded,children:"\u26a0\ufe0f 2FA not enabled - Set up now"})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("financial"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udcb3"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Payment & Billing"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Cards, invoices, credits"}),(0,Sv.jsxs)("span",{className:OK.balanceInfo,children:["Balance: \xa3",s.financial.credits.toFixed(2)," credits"]})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("settings"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udd14"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Notifications"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Security alerts, protection updates"})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("history"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udccb"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Assignment History"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"View past protection assignments"}),(0,Sv.jsxs)("span",{className:OK.balanceInfo,children:[s.stats.totalRides," assignments completed"]})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("referral"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83c\udf81"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Referral Program"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Earn \xa350 per friend"}),(0,Sv.jsxs)("span",{className:OK.referralCode,children:["Your code: ",s.referral.code]})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("settings"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\u2699\ufe0f"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Preferences"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Default service, accessibility"})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("button",{className:"".concat(OK.settingItem," ").concat(OK.settingCard),onClick:()=>l("settings"),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udcf1"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Active Sessions"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Manage logged-in devices"}),(0,Sv.jsxs)("span",{className:OK.sessionInfo,children:["\u2713 Currently ",s.security.loginSessions.length," active"]})]}),(0,Sv.jsx)("span",{className:OK.settingArrow,children:"\u2192"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.settingItem," ").concat(OK.installAppItem),children:[(0,Sv.jsx)("span",{className:OK.settingIcon,children:"\ud83d\udcf2"}),(0,Sv.jsxs)("div",{className:OK.settingContent,children:[(0,Sv.jsx)("span",{className:OK.settingTitle,children:"Install App"}),(0,Sv.jsx)("span",{className:OK.settingDesc,children:"Get faster access to protection services"})]}),(0,Sv.jsx)("div",{className:OK.installButtonContainer,children:(0,Sv.jsx)(nb,{variant:"compact"})})]})]})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.achievementsSection," ").concat(OK.card),children:[(0,Sv.jsx)("h2",{className:OK.sectionTitle,children:"YOUR ACHIEVEMENTS"}),(0,Sv.jsx)("div",{className:OK.sectionLine}),(0,Sv.jsx)("div",{className:OK.badgesList,children:s.achievements.badges.map(e=>(0,Sv.jsxs)("div",{className:"".concat(OK.badge," ").concat(e.earned?OK.badgeEarned:""),children:[(0,Sv.jsx)("span",{className:OK.badgeIcon,children:e.icon}),(0,Sv.jsx)("span",{className:OK.badgeName,children:e.name})]},e.id))}),(0,Sv.jsx)("button",{className:OK.viewAllButton,children:"VIEW ALL ACHIEVEMENTS \u2192"})]}),(0,Sv.jsxs)("div",{className:"".concat(OK.supportSection," ").concat(OK.card),children:[(0,Sv.jsx)("h2",{className:OK.sectionTitle,children:"NEED HELP?"}),(0,Sv.jsx)("div",{className:OK.sectionLine}),(0,Sv.jsxs)("div",{className:OK.supportOptions,children:[(0,Sv.jsxs)("a",{href:"tel:0800-ARMORA",className:OK.supportOption,children:[(0,Sv.jsx)("span",{className:OK.supportIcon,children:"\ud83d\udcde"}),(0,Sv.jsx)("span",{className:OK.supportText,children:"24/7 Support: 0800 ARMORA"})]}),(0,Sv.jsxs)("button",{className:OK.supportOption,onClick:()=>l("support"),children:[(0,Sv.jsx)("span",{className:OK.supportIcon,children:"\ud83d\udcac"}),(0,Sv.jsx)("span",{className:OK.supportText,children:"Live Chat"})]}),(0,Sv.jsxs)("a",{href:"mailto:support@armora.dev",className:OK.supportOption,children:[(0,Sv.jsx)("span",{className:OK.supportIcon,children:"\ud83d\udce7"}),(0,Sv.jsx)("span",{className:OK.supportText,children:"Email Support"})]}),(0,Sv.jsxs)("button",{className:OK.supportOption,onClick:()=>l("support"),children:[(0,Sv.jsx)("span",{className:OK.supportIcon,children:"\u2753"}),(0,Sv.jsx)("span",{className:OK.supportText,children:"FAQs"})]})]}),(0,Sv.jsx)("button",{className:OK.reportButton,children:"REPORT AN ISSUE"})]}),(0,Sv.jsxs)("div",{className:OK.bottomActions,children:[(0,Sv.jsx)("button",{className:OK.signOutButton,onClick:d,children:"SIGN OUT"}),(0,Sv.jsx)("button",{className:OK.deleteAccountButton,onClick:u,children:"DELETE ACCOUNT"}),(0,Sv.jsxs)("div",{className:OK.appInfo,children:[(0,Sv.jsx)("span",{children:"Version 2.4.1 \u2022 "}),(0,Sv.jsx)("button",{className:OK.linkButton,onClick:()=>n("terms"),children:"Terms"}),(0,Sv.jsx)("span",{children:" \u2022 "}),(0,Sv.jsx)("button",{className:OK.linkButton,onClick:()=>n("privacy"),children:"Privacy"})]})]})]});var e})()}})()})]})}const FK="RecruitmentWidget_widget__e-DGd",BK="RecruitmentWidget_header__PVMqQ",qK="RecruitmentWidget_title__sJdWj",zK="RecruitmentWidget_badge__l5Q0U",WK="RecruitmentWidget_closeBtn__3B1J6",HK="RecruitmentWidget_content__nT5db",UK="RecruitmentWidget_perk__nKe+r",VK="RecruitmentWidget_applyBtn__wqtRC";function GK(){const[t,n]=(0,e.useState)(!0);return t?(0,Sv.jsxs)("aside",{className:FK,"aria-label":"Recruitment widget",children:[(0,Sv.jsxs)("div",{className:BK,children:[(0,Sv.jsxs)("div",{className:qK,children:[(0,Sv.jsx)("span",{children:"Join Our Protection Team"}),(0,Sv.jsx)("span",{className:zK,children:"HIRING"})]}),(0,Sv.jsx)("button",{className:WK,"aria-label":"Dismiss",onClick:()=>n(!1),children:"\xd7"})]}),(0,Sv.jsxs)("div",{className:HK,children:[(0,Sv.jsx)("div",{className:UK,children:"\ud83d\udcb0 \xa328\u201345/hr + fuel"}),(0,Sv.jsx)("div",{className:UK,children:"\ud83d\udee1\ufe0f SIA license required"}),(0,Sv.jsx)("div",{className:UK,children:"\ud83d\udd52 Flexible hours, quick start"}),(0,Sv.jsx)("button",{className:VK,onClick:()=>window.open("https://armora.security/careers","_blank"),"aria-label":"Apply to join protection team",children:"Apply Now"})]})]}):null}const YK="VenueProtectionWelcome_container__TjZHI",KK="VenueProtectionWelcome_header__HJ-KK",QK="VenueProtectionWelcome_backButton__7mwOO",ZK="VenueProtectionWelcome_headerTitle__xZb6F",JK="VenueProtectionWelcome_heroSection__Lhnfu",XK="VenueProtectionWelcome_heroIcon__ddVz4",$K="VenueProtectionWelcome_heroTitle__stsOP",eQ="VenueProtectionWelcome_heroSubtitle__KsWh9",tQ="VenueProtectionWelcome_badgeSection__RS2ly",nQ="VenueProtectionWelcome_badge__OqiZ2",iQ="VenueProtectionWelcome_badgeIcon__4dCFh",sQ="VenueProtectionWelcome_badgeText__rGBXA",rQ="VenueProtectionWelcome_distinctionSection__UOMJ4",aQ="VenueProtectionWelcome_distinctionCard__Kf2fW",oQ="VenueProtectionWelcome_distinctionTitle__2-Fjy",cQ="VenueProtectionWelcome_distinctionText__Pu6PY",lQ="VenueProtectionWelcome_serviceOverview__gPMug",dQ="VenueProtectionWelcome_overviewTitle__mnlxm",uQ="VenueProtectionWelcome_serviceList__zxeoO",hQ="VenueProtectionWelcome_serviceItem__u7bfO",pQ="VenueProtectionWelcome_serviceIcon__aONZH",mQ="VenueProtectionWelcome_serviceContent__yTiSs",fQ="VenueProtectionWelcome_serviceItemTitle__L646o",_Q="VenueProtectionWelcome_serviceItemText__VgQIX",gQ="VenueProtectionWelcome_pricingPreview__weSaf",vQ="VenueProtectionWelcome_pricingTitle__pAVeh",yQ="VenueProtectionWelcome_pricingRange__9nWAH",xQ="VenueProtectionWelcome_priceFrom__s3k0E",bQ="VenueProtectionWelcome_priceUnit__q4puw",SQ="VenueProtectionWelcome_pricingNote__DDUQr",wQ="VenueProtectionWelcome_actionSection__Pf2sE",NQ="VenueProtectionWelcome_startButton__bK6YM",jQ="VenueProtectionWelcome_learnMoreButton__h+Gwk",CQ="VenueProtectionWelcome_contactInfo__ThzxQ",kQ="VenueProtectionWelcome_contactTitle__IQl4h",PQ="VenueProtectionWelcome_contactText__qvG2U",TQ="VenueProtectionWelcome_contactDetails__atL3y",EQ="VenueProtectionWelcome_contactLink__P5+cL";function AQ(){const{state:e,navigateToView:t}=kv(),{deviceCapabilities:n}=e;return(0,Sv.jsxs)("div",{className:YK,children:[(0,Sv.jsxs)("div",{className:KK,children:[(0,Sv.jsx)("button",{className:QK,onClick:()=>{t("home")},"aria-label":"Go back",children:(0,Sv.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Sv.jsx)("path",{d:"m15 18-6-6 6-6"})})}),(0,Sv.jsx)("h1",{className:ZK,children:"Professional Venue Protection Services"})]}),(0,Sv.jsxs)("div",{className:JK,children:[(0,Sv.jsx)("div",{className:XK,children:"\ud83c\udfdb\ufe0f"}),(0,Sv.jsx)("h2",{className:$K,children:"SIA Level 3 Close Protection Officers for Your Event"}),(0,Sv.jsx)("p",{className:eQ,children:"Complete this security assessment to receive a customized protection plan and quote"}),(0,Sv.jsxs)("div",{className:tQ,children:[(0,Sv.jsxs)("div",{className:nQ,children:[(0,Sv.jsx)("span",{className:iQ,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:sQ,children:"Licensed Officers"})]}),(0,Sv.jsxs)("div",{className:nQ,children:[(0,Sv.jsx)("span",{className:iQ,children:"\ud83d\udcb7"}),(0,Sv.jsx)("span",{className:sQ,children:"\xa32M+ Insurance"})]}),(0,Sv.jsxs)("div",{className:nQ,children:[(0,Sv.jsx)("span",{className:iQ,children:"\ud83c\udf96\ufe0f"}),(0,Sv.jsx)("span",{className:sQ,children:"Military Trained"})]})]})]}),(0,Sv.jsx)("div",{className:rQ,children:(0,Sv.jsxs)("div",{className:aQ,children:[(0,Sv.jsx)("h3",{className:oQ,children:"Close Protection Officers, Not Door Supervisors"}),(0,Sv.jsx)("p",{className:cQ,children:"Our officers are SIA Level 3 Close Protection specialists with advanced training in threat assessment, risk mitigation, and dignitary protection. They provide professional security that blends seamlessly into your event while maintaining the highest standards of safety and discretion."})]})}),(0,Sv.jsxs)("div",{className:lQ,children:[(0,Sv.jsx)("h3",{className:dQ,children:"What We Provide"}),(0,Sv.jsxs)("div",{className:uQ,children:[(0,Sv.jsxs)("div",{className:hQ,children:[(0,Sv.jsx)("span",{className:pQ,children:"\ud83d\udc65"}),(0,Sv.jsxs)("div",{className:mQ,children:[(0,Sv.jsx)("h4",{className:fQ,children:"Event Security Management"}),(0,Sv.jsx)("p",{className:_Q,children:"Comprehensive security planning and crowd management for your venue"})]})]}),(0,Sv.jsxs)("div",{className:hQ,children:[(0,Sv.jsx)("span",{className:pQ,children:"\ud83c\udfad"}),(0,Sv.jsxs)("div",{className:mQ,children:[(0,Sv.jsx)("h4",{className:fQ,children:"VIP Protection"}),(0,Sv.jsx)("p",{className:_Q,children:"Discrete close protection for high-profile guests and speakers"})]})]}),(0,Sv.jsxs)("div",{className:hQ,children:[(0,Sv.jsx)("span",{className:pQ,children:"\ud83d\udccb"}),(0,Sv.jsxs)("div",{className:mQ,children:[(0,Sv.jsx)("h4",{className:fQ,children:"Threat Assessment"}),(0,Sv.jsx)("p",{className:_Q,children:"Professional venue reconnaissance and security risk evaluation"})]})]}),(0,Sv.jsxs)("div",{className:hQ,children:[(0,Sv.jsx)("span",{className:pQ,children:"\u26a1"}),(0,Sv.jsxs)("div",{className:mQ,children:[(0,Sv.jsx)("h4",{className:fQ,children:"Incident Response"}),(0,Sv.jsx)("p",{className:_Q,children:"Coordinated response protocols and venue evacuation planning"})]})]})]})]}),(0,Sv.jsxs)("div",{className:gQ,children:[(0,Sv.jsx)("h3",{className:vQ,children:"Professional Venue Protection"}),(0,Sv.jsxs)("div",{className:yQ,children:[(0,Sv.jsx)("span",{className:xQ,children:"From \xa3500-\xa31000"}),(0,Sv.jsx)("span",{className:bQ,children:"per day per officer"})]}),(0,Sv.jsx)("p",{className:SQ,children:"Final pricing depends on venue size, threat level, and specific requirements"})]}),(0,Sv.jsxs)("div",{className:wQ,children:[(0,Sv.jsx)(Xy,{variant:"primary",size:"lg",isFullWidth:n.isMobile,onClick:()=>{t("venue-security-questionnaire")},className:NQ,children:"Start Security Assessment"}),(0,Sv.jsx)("button",{className:jQ,onClick:()=>{},children:"Learn More About Our Services"})]}),(0,Sv.jsxs)("div",{className:CQ,children:[(0,Sv.jsx)("h4",{className:kQ,children:"Need Immediate Consultation?"}),(0,Sv.jsx)("p",{className:PQ,children:"Our venue security specialists are available 24/7 for urgent requests"}),(0,Sv.jsxs)("div",{className:TQ,children:[(0,Sv.jsx)("a",{href:"tel:+442071234567",className:EQ,children:"+44 20 7123 4567"}),(0,Sv.jsx)("a",{href:"mailto:venue.protection@armora.security",className:EQ,children:"venue.protection@armora.security"})]})]})]})}function IQ(t){var n;let{step:i,currentValue:s,onComplete:r,onPrevious:a,isFirstStep:o,isLastStep:c}=t;const[l,d]=(0,e.useState)(()=>{return void 0!==s?s:"checkbox"===i.type?[]:"slider"===i.type?(null===(e=i.sliderProps)||void 0===e?void 0:e.defaultValue)||50:"";var e}),[u,h]=(0,e.useState)(!1);return(0,Sv.jsxs)("div",{className:TP.stepContainer,children:[(0,Sv.jsxs)("div",{className:TP.stepHeader,children:[(0,Sv.jsxs)("div",{className:TP.stepMeta,children:[(0,Sv.jsxs)("span",{className:TP.stepNumber,children:["Step ",i.id]}),(0,Sv.jsx)("span",{className:TP.stepCategory,children:i.title})]}),(0,Sv.jsx)("h2",{className:TP.stepTitle,children:i.question}),i.subtitle&&(0,Sv.jsx)("p",{className:TP.stepSubtitle,children:i.subtitle})]}),(0,Sv.jsxs)("div",{className:TP.stepContent,children:[(()=>{if(!i.options)return null;if("radio"===i.type)return(0,Sv.jsx)("div",{className:TP.radioGroup,children:i.options.map(e=>(0,Sv.jsx)("div",{className:TP.radioOption,children:(0,Sv.jsxs)("label",{className:TP.radioLabel,children:[(0,Sv.jsx)("input",{type:"radio",name:"step-".concat(i.id),value:e.value,checked:l===e.value,onChange:()=>{return t=e.value,d(t),void h(!1);var t},className:TP.radioInput}),(0,Sv.jsxs)("div",{className:TP.radioCustom,children:[(0,Sv.jsx)("div",{className:TP.radioIndicator}),(0,Sv.jsxs)("div",{className:TP.radioContent,children:[(0,Sv.jsx)("div",{className:TP.radioTitle,children:e.label}),e.description&&(0,Sv.jsx)("div",{className:TP.radioDescription,children:e.description})]})]})]})},e.id))});if("checkbox"===i.type){const e=Array.isArray(l)?l:[];return(0,Sv.jsx)("div",{className:TP.checkboxGroup,children:i.options.map(t=>(0,Sv.jsx)("div",{className:TP.checkboxOption,children:(0,Sv.jsxs)("label",{className:TP.checkboxLabel,children:[(0,Sv.jsx)("input",{type:"checkbox",value:t.value,checked:e.includes(t.value),onChange:e=>((e,t)=>{const n=Array.isArray(l)?l:[];let i;i=t?[...n,e]:n.filter(t=>t!==e),d(i),h(!1)})(t.value,e.target.checked),className:TP.checkboxInput}),(0,Sv.jsxs)("div",{className:TP.checkboxCustom,children:[(0,Sv.jsx)("div",{className:TP.checkboxIndicator}),(0,Sv.jsxs)("div",{className:TP.checkboxContent,children:[(0,Sv.jsx)("div",{className:TP.checkboxTitle,children:t.label}),t.description&&(0,Sv.jsx)("div",{className:TP.checkboxDescription,children:t.description})]})]})]})},t.id))})}return null})(),(()=>{if("slider"!==i.type||!i.sliderProps)return null;const{min:e,max:t,step:n,unit:s}=i.sliderProps,r="number"===typeof l?l:i.sliderProps.defaultValue||50;return(0,Sv.jsxs)("div",{className:TP.sliderContainer,children:[(0,Sv.jsxs)("div",{className:TP.sliderValue,children:[r,s&&" ".concat(s)]}),(0,Sv.jsx)("input",{type:"range",min:e,max:t,step:n||1,value:r,onChange:e=>{return t=parseInt(e.target.value),d(t),void h(!1);var t},className:TP.slider}),(0,Sv.jsxs)("div",{className:TP.sliderLabels,children:[(0,Sv.jsxs)("span",{children:[e,s&&" ".concat(s)]}),(0,Sv.jsxs)("span",{children:[t,s&&"+ ".concat(s)]})]})]})})(),"text"!==i.type?null:(0,Sv.jsx)("div",{className:TP.textInputContainer,children:(0,Sv.jsx)("textarea",{value:"string"===typeof l?l:"",onChange:e=>{return t=e.target.value,d(t),void h(!1);var t},className:TP.textInput,placeholder:i.placeholder||"Enter your requirements...",rows:4})}),i.helpText&&(0,Sv.jsx)("div",{className:TP.helpText,children:(0,Sv.jsx)("p",{children:i.helpText})}),u&&(null===(n=i.validation)||void 0===n?void 0:n.errorMessage)&&(0,Sv.jsx)("div",{className:TP.errorMessage,children:i.validation.errorMessage})]}),(0,Sv.jsxs)("div",{className:TP.stepActions,children:[a&&(0,Sv.jsx)(Xy,{variant:"secondary",onClick:a,className:TP.backButton,children:"Previous"}),(0,Sv.jsx)(Xy,{variant:"primary",onClick:()=>{var e;if(null!==(e=i.validation)&&void 0!==e&&e.required){if(("radio"===i.type||"text"===i.type)&&(!l||"string"===typeof l&&""===l.trim()))return void h(!0);if("checkbox"===i.type){const e=Array.isArray(l)?l:[],t=i.validation.minSelections||1;if(e.length<t)return void h(!0)}}r(i.id,l)},className:TP.nextButton,children:c?"Request Quote":"Continue"})]})]})}const LQ=[{id:1,title:"Event Basics",subtitle:"Tell us about your event",question:"What type of event are you planning?",type:"radio",options:[{id:"wedding",label:"Wedding",value:"wedding",description:"Private wedding ceremony and/or reception requiring discrete security presence"},{id:"corporate",label:"Corporate Event",value:"corporate",description:"Business conference, product launch, or company gathering with professional security needs"},{id:"private-party",label:"Private Party",value:"private-party",description:"Personal celebration, birthday, or social gathering requiring security oversight"},{id:"conference",label:"Conference/Summit",value:"conference",description:"Large-scale business or academic conference with multiple speakers and attendees"},{id:"gala",label:"Gala/Charity Event",value:"gala",description:"Formal fundraising event or charity gala with high-profile guests"},{id:"political",label:"Political Event",value:"political",description:"Political rally, campaign event, or government function requiring enhanced security"},{id:"entertainment",label:"Entertainment Event",value:"entertainment",description:"Concert, show, or entertainment venue requiring crowd management and VIP protection"},{id:"other",label:"Other",value:"other",description:"Different type of event - please specify in additional requirements section"}],validation:{required:!0,errorMessage:"Please select your event type"},helpText:"Choose the option that best describes your event type. This helps us understand the appropriate security protocols."},{id:2,title:"Event Details",subtitle:"Event scheduling and duration",question:"When is your event and how long will it last?",type:"radio",options:[{id:"single-day",label:"Single Day Event",value:"single-day",description:"One day event (up to 12 hours of security coverage)"},{id:"2-days",label:"2-Day Event",value:"2-days",description:"Two consecutive days of security coverage"},{id:"weekend",label:"Weekend Event",value:"weekend",description:"Friday-Sunday or Saturday-Sunday event coverage"},{id:"week",label:"Week-Long Event",value:"week",description:"Extended event requiring security for 5-7 days"},{id:"month",label:"Monthly Coverage",value:"month",description:"Ongoing security requirements for extended period"},{id:"custom",label:"Custom Duration",value:"custom",description:"Specific timing requirements - please specify in additional notes"}],validation:{required:!0,errorMessage:"Please select your event duration"},helpText:"Select the duration that matches your security needs. Pricing is calculated per day per officer."},{id:3,title:"Venue Information",subtitle:"About your venue",question:"Tell us about your venue and expected attendance",type:"slider",sliderProps:{min:25,max:5e3,step:25,defaultValue:150,unit:"guests"},validation:{required:!0,errorMessage:"Please set expected attendance"},helpText:"Move the slider to indicate how many people you expect at your event. This helps us calculate the appropriate number of security officers."},{id:4,title:"Venue Type & Layout",subtitle:"Venue characteristics",question:"What type of venue are you using?",type:"checkbox",options:[{id:"hotel-conference-center",label:"Hotel/Conference Center",value:"hotel-conference-center",description:"Established venue with existing security infrastructure"},{id:"private-estate",label:"Private Estate/Manor",value:"private-estate",description:"Private property requiring comprehensive security planning"},{id:"restaurant-venue",label:"Restaurant/Event Venue",value:"restaurant-venue",description:"Commercial event space with kitchen and service areas"},{id:"outdoor-marquee",label:"Outdoor/Marquee",value:"outdoor-marquee",description:"Outdoor event requiring perimeter security and weather considerations"},{id:"multiple-locations",label:"Multiple Locations",value:"multiple-locations",description:"Event spanning multiple venues requiring coordinated security"},{id:"public-venue",label:"Public Venue",value:"public-venue",description:"Museum, gallery, or public space with access control requirements"},{id:"alcohol-service",label:"Alcohol Will Be Served",value:"alcohol-service",description:"Event includes licensed bar requiring crowd management awareness"},{id:"vip-areas",label:"VIP/Restricted Areas",value:"vip-areas",description:"Event includes exclusive areas requiring access control"}],validation:{required:!0,minSelections:1,maxSelections:8,errorMessage:"Please select 1-8 venue characteristics"},helpText:"Select all characteristics that apply to your venue. This helps our security team prepare appropriately."},{id:5,title:"Security Requirements",subtitle:"Your protection needs",question:"What is your primary security concern?",type:"checkbox",options:[{id:"guest-safety",label:"General Guest Safety Management",value:"guest-safety",description:"Ensuring all attendees feel safe and secure throughout the event"},{id:"vip-protection",label:"VIP/Executive Close Protection",value:"vip-protection",description:"Personal protection for high-profile attendees or speakers"},{id:"asset-protection",label:"Asset/Gift Protection",value:"asset-protection",description:"Securing valuable items, artwork, or wedding gifts"},{id:"crowd-control",label:"Crowd Control & Access Management",value:"crowd-control",description:"Managing large groups and controlling venue access points"},{id:"threat-mitigation",label:"Known Threat Mitigation",value:"threat-mitigation",description:"Addressing specific security concerns or previous incidents"},{id:"media-management",label:"Media/Paparazzi Management",value:"media-management",description:"Controlling media access and protecting privacy"},{id:"emergency-response",label:"Emergency Response Preparedness",value:"emergency-response",description:"Medical emergencies and evacuation planning"}],validation:{required:!0,minSelections:1,maxSelections:5,errorMessage:"Please select 1-5 primary concerns"},helpText:"Select your main security concerns. Our officers are trained to handle all scenarios professionally."},{id:6,title:"Attendee Profile",subtitle:"About your guests",question:"What type of attendees are you expecting?",type:"checkbox",options:[{id:"high-profile-guests",label:"High-Profile Guests",value:"high-profile-guests",description:"Celebrity, business leaders, or well-known public figures"},{id:"government-officials",label:"Government Officials",value:"government-officials",description:"Local MPs, council members, or civil servants requiring protocol awareness"},{id:"international-guests",label:"International Guests",value:"international-guests",description:"Overseas visitors who may need cultural sensitivity and language support"},{id:"media-presence",label:"Media Presence Expected",value:"media-presence",description:"Press, photographers, or media coverage planned for the event"},{id:"business-networking",label:"Business Networking Event",value:"business-networking",description:"Professional networking requiring discrete security presence"},{id:"family-children",label:"Families with Children",value:"family-children",description:"Family-friendly event requiring child safety awareness"},{id:"controversial-aspects",label:"Potentially Controversial Content",value:"controversial-aspects",description:"Event topics or speakers that might attract unwanted attention"},{id:"general-public",label:"General Public Attendees",value:"general-public",description:"Standard event guests without specific security considerations"}],validation:{required:!0,minSelections:1,maxSelections:6,errorMessage:"Please select 1-6 attendee characteristics"},helpText:"Understanding your guest profile helps us assign officers with appropriate experience and training."},{id:7,title:"Service Level Selection",subtitle:"Choose your protection level",question:"Which level of venue protection do you need?",type:"radio",options:[{id:"essential",label:"Essential Protection (\xa3500-600/day per officer)",value:"essential",description:"SIA Level 3 Licensed \u2022 Venue perimeter security \u2022 Guest list management \u2022 Emergency response protocols \u2022 Ideal for: Corporate events, essential weddings"},{id:"executive",label:"Executive Protection (\xa3700-800/day per officer)",value:"executive",description:"Military/Police background \u2022 VIP close protection \u2022 Advance venue reconnaissance \u2022 Threat assessment included \u2022 Ideal for: High-profile events, celebrity weddings"},{id:"elite",label:"Elite Protection (\xa3900-1000/day per officer)",value:"elite",description:"Special forces trained \u2022 Counter-surveillance \u2022 International protection experience \u2022 Full security team coordination \u2022 Ideal for: Government events, ultra-high-net-worth"}],validation:{required:!0,errorMessage:"Please select a service level"},helpText:"Choose the protection level that matches your event's profile and security requirements."},{id:8,title:"Officer Requirements",subtitle:"Security team composition",question:"How many officers do you need?",type:"slider",sliderProps:{min:2,max:20,step:1,defaultValue:4,unit:"officers"},validation:{required:!0,errorMessage:"Please select number of officers"},helpText:"We recommend 1 officer per 50-75 guests. Minimum 2 officers for any venue event. Our team will provide final recommendations based on your venue assessment."},{id:9,title:"Final Details",subtitle:"Complete your request",question:"Any additional requirements or information?",type:"text",placeholder:"Please provide any specific requirements, venue address, special circumstances, or questions you have...",validation:{required:!1,errorMessage:"Please provide additional details if needed"},helpText:"Include venue address, specific timing, special requirements, or any other details that would help us prepare the perfect security plan for your event."}];function RQ(t){let{onComplete:n}=t;const{navigateToView:i}=kv(),[s,r]=(0,e.useState)(1),[a,c]=(0,e.useState)({}),[l,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(!1),p=LQ.length,m=LQ.find(e=>e.id===s),f=()=>{s>1&&r(s-1)},_=async e=>{h(!0);try{const t=function(e){const t="number"===typeof e.step3?e.step3:100,n="string"===typeof e.step7?e.step7:"standard",i="number"===typeof e.step8?e.step8:Math.max(Math.ceil(t/75),2),s="string"===typeof e.step2?e.step2:"single-day",r={standard:550,executive:750,elite:950},a="single-day"===s?1:"2-days"===s||"weekend"===s?2:"week"===s?7:1,o=i*a*(r[n]||r.standard);return{officers:i,days:a,serviceLevel:n,dailyRate:r[n]||r.standard,basePrice:o,totalEstimate:o,breakdown:{officers:i,dailyRate:r[n]||r.standard,duration:a,subtotal:o}}}(e),s=o(o({},e),{},{completedAt:new Date,quote:t,referenceNumber:MQ()});localStorage.setItem("armora_venue_assessment",JSON.stringify(s)),d(!0),i("venue-protection-success"),n&&n()}catch(O){console.error("Error completing venue security questionnaire:",O)}finally{h(!1)}};return(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_venue_questionnaire_progress");if(e)try{const{step:t,responses:n}=JSON.parse(e);t&&n&&(r(t),c(n))}catch(O){console.error("Failed to restore venue questionnaire progress:",O)}},[]),(0,e.useEffect)(()=>{!l&&s>1&&localStorage.setItem("armora_venue_questionnaire_progress",JSON.stringify({step:s,responses:a}))},[s,a,l]),(0,e.useEffect)(()=>{l&&localStorage.removeItem("armora_venue_questionnaire_progress")},[l]),u?(0,Sv.jsx)("div",{className:lE,children:(0,Sv.jsxs)("div",{className:dE,children:[(0,Sv.jsx)("div",{className:uE}),(0,Sv.jsx)("h2",{children:"Analyzing Your Venue Security Requirements..."}),(0,Sv.jsx)("p",{children:"Creating customized protection plan and quote"})]})}):(0,Sv.jsxs)("div",{className:lE,children:[(0,Sv.jsx)(XP,{currentStep:s,totalSteps:p,onPrevious:s>1?f:void 0}),m&&(0,Sv.jsx)(IQ,{step:m,currentValue:function(){const e="step".concat(s),t=a[e];if("string"===typeof t||"number"===typeof t||Array.isArray(t))return t;return}(),onComplete:(e,t)=>{const n="step".concat(e),i=o(o({},a),{},{[n]:t});c(i),s<p?r(s+1):_(i)},onPrevious:s>1?f:void 0,isFirstStep:1===s,isLastStep:s===p})]})}function MQ(){const e=Date.now().toString().slice(-6),t=Math.random().toString(36).substring(2,6).toUpperCase();return"VP-".concat(e,"-").concat(t)}var OQ={};!function e(t,n,i,s){var r=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a="function"===typeof Path2D&&"function"===typeof DOMMatrix;function o(){}function c(e){var i=n.exports.Promise,s=void 0!==i?i:t.Promise;return"function"===typeof s?new s(e):(e(o,o),null)}var l,d=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),t.set(n,i),i},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var i=e.transferToImageBitmap();try{n.createPattern(i,"no-repeat")}catch(s){return!1}return!0}(),new Map),u=function(){var e,t,n=Math.floor(1e3/60),i={},s=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(e=function(e){var t=Math.random();return i[t]=requestAnimationFrame(function r(a){s===a||s+n-1<a?(s=a,delete i[t],e()):i[t]=requestAnimationFrame(r)}),t},t=function(e){i[e]&&cancelAnimationFrame(i[e])}):(e=function(e){return setTimeout(e,n)},t=function(e){return clearTimeout(e)}),{frame:e,cancel:t}}(),h=function(){var t,n,s={};return function(){if(t)return t;if(!i&&r){var a=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([a])))}catch(o){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",o),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(i,r,a){if(n)return t(i,null),n;var o=Math.random().toString(36).slice(2);return n=c(function(r){function c(t){t.data.callback===o&&(delete s[o],e.removeEventListener("message",c),n=null,d.clear(),a(),r())}e.addEventListener("message",c),t(i,o),s[o]=c.bind(null,{data:{callback:o}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),s)s[t](),delete s[t]}}(t)}return t}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(e,t,n){return function(e,t){return t?t(e):e}(e&&function(e){return!(null===e||void 0===e)}(e[t])?e[t]:p[t],n)}function f(e){return e<0?0:Math.floor(e)}function _(e,t){return Math.floor(Math.random()*(t-e))+e}function g(e){return parseInt(e,16)}function v(e){return e.map(y)}function y(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:g(t.substring(0,2)),g:g(t.substring(2,4)),b:g(t.substring(4,6))}}function x(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function b(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function S(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function w(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,i=t.x+t.random*t.tiltCos,s=t.y+t.random*t.tiltSin,r=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),a&&"path"===t.shape.type&&"string"===typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,i,s,r,a){var o=new Path2D(e),c=new Path2D;c.addPath(o,new DOMMatrix(t));var l=new Path2D;return l.addPath(c,new DOMMatrix([Math.cos(a)*s,Math.sin(a)*s,-Math.sin(a)*r,Math.cos(a)*r,n,i])),l}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(r-i),.1*Math.abs(o-s),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var c=Math.PI/10*t.wobble,l=.1*Math.abs(r-i),u=.1*Math.abs(o-s),h=t.shape.bitmap.width*t.scalar,p=t.shape.bitmap.height*t.scalar,m=new DOMMatrix([Math.cos(c)*l,Math.sin(c)*l,-Math.sin(c)*u,Math.cos(c)*u,t.x,t.y]);m.multiplySelf(new DOMMatrix(t.shape.matrix));var f=e.createPattern(d.transform(t.shape.bitmap),"no-repeat");f.setTransform(m),e.globalAlpha=1-n,e.fillStyle=f,e.fillRect(t.x-h/2,t.y-p/2,h,p),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(r-i)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,i,s,r,a,o,c){e.save(),e.translate(t,n),e.rotate(r),e.scale(i,s),e.arc(0,0,1,a,o,c),e.restore()}(e,t.x,t.y,Math.abs(r-i)*t.ovalScalar,Math.abs(o-s)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var _=Math.PI/2*3,g=4*t.scalar,v=8*t.scalar,y=t.x,x=t.y,b=5,S=Math.PI/b;b--;)y=t.x+Math.cos(_)*v,x=t.y+Math.sin(_)*v,e.lineTo(y,x),_+=S,y=t.x+Math.cos(_)*g,x=t.y+Math.sin(_)*g,e.lineTo(y,x),_+=S;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(s)),e.lineTo(Math.floor(r),Math.floor(o)),e.lineTo(Math.floor(i),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function N(e,n){var a,o=!e,l=!!m(n||{},"resize"),p=!1,g=m(n,"disableForReducedMotion",Boolean),y=r&&!!m(n||{},"useWorker")?h():null,N=o?x:b,j=!(!e||!y)&&!!e.__confetti_initialized,C="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function k(t,n,r){for(var o=m(t,"particleCount",f),l=m(t,"angle",Number),h=m(t,"spread",Number),p=m(t,"startVelocity",Number),g=m(t,"decay",Number),y=m(t,"gravity",Number),x=m(t,"drift",Number),b=m(t,"colors",v),j=m(t,"ticks",Number),C=m(t,"shapes"),k=m(t,"scalar"),P=!!m(t,"flat"),T=function(e){var t=m(e,"origin",Object);return t.x=m(t,"x",Number),t.y=m(t,"y",Number),t}(t),E=o,A=[],I=e.width*T.x,L=e.height*T.y;E--;)A.push(S({x:I,y:L,angle:l,spread:h,startVelocity:p,color:b[E%b.length],shape:C[_(0,C.length)],ticks:j,decay:g,gravity:y,drift:x,scalar:k,flat:P}));return a?a.addFettis(A):(a=function(e,t,n,r,a){var o,l,h=t.slice(),p=e.getContext("2d"),m=c(function(t){function c(){o=l=null,p.clearRect(0,0,r.width,r.height),d.clear(),a(),t()}o=u.frame(function t(){!i||r.width===s.width&&r.height===s.height||(r.width=e.width=s.width,r.height=e.height=s.height),r.width||r.height||(n(e),r.width=e.width,r.height=e.height),p.clearRect(0,0,r.width,r.height),(h=h.filter(function(e){return w(p,e)})).length?o=u.frame(t):c()}),l=c});return{addFettis:function(e){return h=h.concat(e),m},canvas:e,promise:m,reset:function(){o&&u.cancel(o),l&&l()}}}(e,A,N,n,r),a.promise)}function P(n){var i=g||m(n,"disableForReducedMotion",Boolean),s=m(n,"zIndex",Number);if(i&&C)return c(function(e){e()});o&&a?e=a.canvas:o&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(s),document.body.appendChild(e)),l&&!j&&N(e);var r={width:e.width,height:e.height};function d(){if(y){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};return N(t),void y.postMessage({resize:{width:t.width,height:t.height}})}r.width=r.height=null}function u(){a=null,l&&(p=!1,t.removeEventListener("resize",d)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,j=!1)}return y&&!j&&y.init(e),j=!0,y&&(e.__confetti_initialized=!0),l&&!p&&(p=!0,t.addEventListener("resize",d,!1)),y?y.fire(n,r,u):k(n,r,u)}return P.reset=function(){y&&y.reset(),a&&a.reset()},P}function j(){return l||(l=N(null,{useWorker:!0,resize:!0})),l}n.exports=function(){return j().apply(this,arguments)},n.exports.reset=function(){j().reset()},n.exports.create=N,n.exports.shapeFromPath=function(e){if(!a)throw new Error("path confetti are not supported in this browser");var t,n;"string"===typeof e?t=e:(t=e.path,n=e.matrix);var i=new Path2D(t),s=document.createElement("canvas").getContext("2d");if(!n){for(var r,o,c=1e3,l=c,d=c,u=0,h=0,p=0;p<c;p+=2)for(var m=0;m<c;m+=2)s.isPointInPath(i,p,m,"nonzero")&&(l=Math.min(l,p),d=Math.min(d,m),u=Math.max(u,p),h=Math.max(h,m));r=u-l,o=h-d;var f=Math.min(10/r,10/o);n=[f,0,0,f,-Math.round(r/2+l)*f,-Math.round(o/2+d)*f]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,i="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"===typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,s="fontFamily"in e?e.fontFamily:s,i="color"in e?e.color:i);var r=10*n,a=r+"px "+s,o=new OffscreenCanvas(r,r),c=o.getContext("2d");c.font=a;var l=c.measureText(t),d=Math.ceil(l.actualBoundingBoxRight+l.actualBoundingBoxLeft),u=Math.ceil(l.actualBoundingBoxAscent+l.actualBoundingBoxDescent),h=l.actualBoundingBoxLeft+2,p=l.actualBoundingBoxAscent+2;d+=4,u+=4,(c=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=a,c.fillStyle=i,c.fillText(t,h,p);var m=1/n;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[m,0,0,m,-d*m/2,-u*m/2]}}}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),OQ,!1);const DQ=OQ.exports;OQ.exports.create;const FQ="VenueProtectionSuccess_container__NioLZ",BQ="VenueProtectionSuccess_header__Uztdj",qQ="VenueProtectionSuccess_successIcon__4C6LT",zQ="VenueProtectionSuccess_checkmark__9D6jL",WQ="VenueProtectionSuccess_animate__R5Fc+",HQ="VenueProtectionSuccess_title__12+6H",UQ="VenueProtectionSuccess_subtitle__xR5JH",VQ="VenueProtectionSuccess_referenceSection__V+FUR",GQ="VenueProtectionSuccess_referenceCard__KnUrj",YQ="VenueProtectionSuccess_referenceTitle__1w3o0",KQ="VenueProtectionSuccess_referenceNumber__FqiEt",QQ="VenueProtectionSuccess_referenceText__+YyND",ZQ="VenueProtectionSuccess_summarySection__EQ+x6",JQ="VenueProtectionSuccess_summaryTitle__UT8zF",XQ="VenueProtectionSuccess_summaryCard__u-Dm6",$Q="VenueProtectionSuccess_summaryRow__RxSHH",eZ="VenueProtectionSuccess_summaryLabel__vzeLw",tZ="VenueProtectionSuccess_summaryValue__Ngp37",nZ="VenueProtectionSuccess_summaryTotal__6CUdO",iZ="VenueProtectionSuccess_totalLabel__+sbL6",sZ="VenueProtectionSuccess_totalValue__KSW2h",rZ="VenueProtectionSuccess_nextStepsSection__CZ3xq",aZ="VenueProtectionSuccess_nextStepsTitle__VvEls",oZ="VenueProtectionSuccess_stepsList__rVnwa",cZ="VenueProtectionSuccess_step__29aOs",lZ="VenueProtectionSuccess_stepNumber__E4ksS",dZ="VenueProtectionSuccess_stepContent__lHuh0",uZ="VenueProtectionSuccess_stepTitle__ONu6E",hZ="VenueProtectionSuccess_stepDescription__2D2oE",pZ="VenueProtectionSuccess_actionSection__4mmxw",mZ="VenueProtectionSuccess_primaryAction__XEpW5",fZ="VenueProtectionSuccess_secondaryActions__aTcuz",_Z="VenueProtectionSuccess_secondaryButton__FbUB-",gZ="VenueProtectionSuccess_contactSection__KOUBT",vZ="VenueProtectionSuccess_contactTitle__U04L9",yZ="VenueProtectionSuccess_contactText__GrC94",xZ="VenueProtectionSuccess_contactDetails__5w+iv",bZ="VenueProtectionSuccess_contactLink__yPnlR";function SZ(){const{navigateToView:t}=kv(),[n,i]=(0,e.useState)(null),[s,r]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_venue_assessment");if(e)try{const t=JSON.parse(e);i(t)}catch(O){console.error("Failed to load venue assessment:",O)}const t=setTimeout(()=>{r(!0),a()},500);return()=>clearTimeout(t)},[]);const a=()=>{const e=Date.now()+3e3,t=()=>{DQ({particleCount:7,angle:60,spread:55,origin:{x:0,y:.8},colors:["#FFD700","#FFA500","#1a1a2e"]}),DQ({particleCount:7,angle:120,spread:55,origin:{x:1,y:.8},colors:["#FFD700","#FFA500","#1a1a2e"]}),Date.now()<e&&requestAnimationFrame(t)};t()};return(0,Sv.jsxs)("div",{className:FQ,children:[(0,Sv.jsxs)("div",{className:BQ,children:[(0,Sv.jsx)("div",{className:qQ,children:(0,Sv.jsx)("div",{className:"".concat(zQ," ").concat(s?WQ:""),children:"\u2713"})}),(0,Sv.jsx)("h1",{className:HQ,children:"Assessment Complete!"}),(0,Sv.jsx)("p",{className:UQ,children:"Your venue security plan is being prepared"})]}),n&&(0,Sv.jsx)("div",{className:VQ,children:(0,Sv.jsxs)("div",{className:GQ,children:[(0,Sv.jsx)("h2",{className:YQ,children:"Your Reference Number"}),(0,Sv.jsx)("div",{className:KQ,children:n.referenceNumber}),(0,Sv.jsxs)("p",{className:QQ,children:["You'll receive a detailed quote within ",(0,Sv.jsx)("strong",{children:"2 hours"})]})]})}),n&&n.quote&&(0,Sv.jsxs)("div",{className:ZQ,children:[(0,Sv.jsx)("h3",{className:JQ,children:"Quote Summary"}),(0,Sv.jsxs)("div",{className:XQ,children:[(0,Sv.jsxs)("div",{className:$Q,children:[(0,Sv.jsx)("span",{className:eZ,children:"Event Type:"}),(0,Sv.jsx)("span",{className:tZ,children:wZ(n.step1)})]}),(0,Sv.jsxs)("div",{className:$Q,children:[(0,Sv.jsx)("span",{className:eZ,children:"Duration:"}),(0,Sv.jsx)("span",{className:tZ,children:NZ(n.step2)})]}),(0,Sv.jsxs)("div",{className:$Q,children:[(0,Sv.jsx)("span",{className:eZ,children:"Expected Attendance:"}),(0,Sv.jsxs)("span",{className:tZ,children:[n.step3," guests"]})]}),(0,Sv.jsxs)("div",{className:$Q,children:[(0,Sv.jsx)("span",{className:eZ,children:"Service Level:"}),(0,Sv.jsx)("span",{className:tZ,children:jZ(n.step7)})]}),(0,Sv.jsxs)("div",{className:$Q,children:[(0,Sv.jsx)("span",{className:eZ,children:"Recommended Officers:"}),(0,Sv.jsxs)("span",{className:tZ,children:[n.quote.officers," officers"]})]}),(0,Sv.jsxs)("div",{className:nZ,children:[(0,Sv.jsx)("span",{className:iZ,children:"Estimated Total:"}),(0,Sv.jsxs)("span",{className:sZ,children:["\xa3",n.quote.totalEstimate.toLocaleString()]})]})]})]}),(0,Sv.jsxs)("div",{className:rZ,children:[(0,Sv.jsx)("h3",{className:aZ,children:"What Happens Next?"}),(0,Sv.jsxs)("div",{className:oZ,children:[(0,Sv.jsxs)("div",{className:cZ,children:[(0,Sv.jsx)("div",{className:lZ,children:"1"}),(0,Sv.jsxs)("div",{className:dZ,children:[(0,Sv.jsx)("h4",{className:uZ,children:"Venue Assessment"}),(0,Sv.jsx)("p",{className:hZ,children:"Our security specialist will contact you within 2 hours to discuss your requirements"})]})]}),(0,Sv.jsxs)("div",{className:cZ,children:[(0,Sv.jsx)("div",{className:lZ,children:"2"}),(0,Sv.jsxs)("div",{className:dZ,children:[(0,Sv.jsx)("h4",{className:uZ,children:"Detailed Quote"}),(0,Sv.jsx)("p",{className:hZ,children:"Receive a comprehensive quote with officer assignments and security plan"})]})]}),(0,Sv.jsxs)("div",{className:cZ,children:[(0,Sv.jsx)("div",{className:lZ,children:"3"}),(0,Sv.jsxs)("div",{className:dZ,children:[(0,Sv.jsx)("h4",{className:uZ,children:"Event Security"}),(0,Sv.jsx)("p",{className:hZ,children:"Our professional officers arrive prepared to provide seamless venue protection"})]})]})]})]}),(0,Sv.jsxs)("div",{className:pZ,children:[(0,Sv.jsx)(Xy,{variant:"primary",size:"lg",onClick:()=>{localStorage.removeItem("armora_venue_assessment"),localStorage.removeItem("armora_venue_questionnaire_progress"),t("venue-protection-welcome")},className:mZ,children:"Request Another Event"}),(0,Sv.jsxs)("div",{className:fZ,children:[(0,Sv.jsx)("button",{className:_Z,onClick:()=>{t("protection-request")},children:"Also need secure transport? \u2192"}),(0,Sv.jsx)("button",{className:_Z,onClick:()=>{t("home")},children:"Return to Dashboard"})]})]}),(0,Sv.jsxs)("div",{className:gZ,children:[(0,Sv.jsx)("h4",{className:vZ,children:"Need Immediate Assistance?"}),(0,Sv.jsx)("p",{className:yZ,children:"Our venue protection specialists are available 24/7"}),(0,Sv.jsxs)("div",{className:xZ,children:[(0,Sv.jsx)("a",{href:"tel:+442071234567",className:bZ,children:"\ud83d\udcde +44 20 7123 4567"}),(0,Sv.jsx)("a",{href:"mailto:venue.protection@armora.security",className:bZ,children:"\u2709\ufe0f venue.protection@armora.security"})]})]})]})}function wZ(e){return{wedding:"Wedding",corporate:"Corporate Event","private-party":"Private Party",conference:"Conference/Summit",gala:"Gala/Charity Event",political:"Political Event",entertainment:"Entertainment Event",other:"Other"}[e]||e}function NZ(e){return{"single-day":"Single Day","2-days":"2 Days",weekend:"Weekend",week:"One Week",month:"Monthly Coverage",custom:"Custom Duration"}[e]||e}function jZ(e){return{standard:"Standard Protection",executive:"Executive Protection",elite:"Elite Protection"}[e]||e}const CZ="SecurityProtocols_protocolsSection__yvc6I",kZ="SecurityProtocols_sectionContent__BbAkK",PZ="SecurityProtocols_sectionTitle__oIkEM",TZ="SecurityProtocols_sectionDescription__zelly",EZ="SecurityProtocols_protocolsGrid__Vb-U8",AZ="SecurityProtocols_protocolCard__llaW4",IZ="SecurityProtocols_expanded__6NaQc",LZ="SecurityProtocols_protocolHeader__vDVlP",RZ="SecurityProtocols_protocolIcon__i9JHl",MZ="SecurityProtocols_protocolInfo__k6frs",OZ="SecurityProtocols_protocolTitle__CEC0K",DZ="SecurityProtocols_protocolDescription__FdLrB",FZ="SecurityProtocols_expandIcon__PukbR",BZ="SecurityProtocols_rotated__cCAQ8",qZ="SecurityProtocols_protocolDetails__C5vEp",zZ="SecurityProtocols_detailsList__xRzMV",WZ="SecurityProtocols_detailItem__Vr9vA",HZ="SecurityProtocols_detailBullet__yRaXd",UZ="SecurityProtocols_detailText__olKNs",VZ="SecurityProtocols_protocolsFooter__g0mfj",GZ="SecurityProtocols_footerContent__XkLll",YZ="SecurityProtocols_footerTitle__admKt",KZ="SecurityProtocols_footerText__iAre-",QZ=[{id:"route-planning",title:"Advance Route Planning",description:"Multiple route options prepared for every journey",icon:"\ud83d\uddfa\ufe0f",details:["Primary and alternative routes mapped in advance","Real-time traffic and road condition monitoring","Security checkpoint locations identified","Local service proximity assessments","Venue-specific approach strategies"]},{id:"threat-assessment",title:"Threat Assessment",description:"Real-time evaluation of potential risks",icon:"\ud83c\udfaf",details:["Pre-journey intelligence gathering","Area-specific risk analysis","Weather and environmental factors","Event-related security considerations","Ongoing threat level monitoring"]},{id:"counter-surveillance",title:"Counter-Surveillance",description:"Techniques to identify and avoid unwanted attention",icon:"\ud83d\udc41\ufe0f",details:["Surveillance detection procedures","Anti-surveillance driving techniques","Variable timing and routing","Communication security protocols","Digital footprint minimization"]},{id:"secure-communications",title:"Secure Communications",description:"Encrypted channels for client privacy",icon:"\ud83d\udce1",details:["End-to-end encrypted messaging","Secure voice communication systems","Security alert protocols","Client privacy protection","Operation coordination channels"]},{id:"incident-response",title:"Incident Response",description:"Medical training and crisis management protocols",icon:"\ud83d\udea8",details:["First aid and medical incident response","Evacuation procedures and safe havens","Security services coordination","Crisis communication protocols","Incident documentation and reporting"]},{id:"defensive-driving",title:"Defensive Driving",description:"Evasive maneuvers and protective positioning",icon:"\ud83d\ude97",details:["Advanced defensive driving techniques","Evasive maneuver training","Protective convoy positioning","High-speed security driving","Vehicle inspection and security checks"]},{id:"venue-liaison",title:"Venue Security Liaison",description:"Coordination with secureDestination security teams",icon:"\ud83c\udfe2",details:["Pre-arrival security coordination","Venue security team communication","Access control procedures","Departure coordination protocols","Security handover procedures"]},{id:"confidentiality",title:"Confidentiality Protocols",description:"Strict NDAs and privacy measures",icon:"\ud83e\udd2b",details:["Comprehensive non-disclosure agreements","Client information protection","Conversation confidentiality","Digital data security","Staff vetting and security clearance"]}];function ZZ(e){let{expandedProtocol:t,onProtocolToggle:n}=e;return(0,Sv.jsx)("section",{className:CZ,children:(0,Sv.jsxs)("div",{className:kZ,children:[(0,Sv.jsx)("h2",{className:PZ,children:"Security Protocols We Implement"}),(0,Sv.jsx)("p",{className:TZ,children:"Every journey is protected by comprehensive security measures developed through three decades of close protection experience."}),(0,Sv.jsx)("div",{className:EZ,children:QZ.map(e=>(0,Sv.jsxs)("div",{className:"".concat(AZ," ").concat(t===e.id?IZ:""),children:[(0,Sv.jsxs)("div",{className:LZ,onClick:()=>{return i=e.id,void n(t===i?null:i);var i},children:[(0,Sv.jsx)("div",{className:RZ,children:e.icon}),(0,Sv.jsxs)("div",{className:MZ,children:[(0,Sv.jsx)("h3",{className:OZ,children:e.title}),(0,Sv.jsx)("p",{className:DZ,children:e.description})]}),(0,Sv.jsx)("div",{className:FZ,children:(0,Sv.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:t===e.id?BZ:"",children:(0,Sv.jsx)("polyline",{points:"6,9 12,15 18,9"})})})]}),t===e.id&&(0,Sv.jsx)("div",{className:qZ,children:(0,Sv.jsx)("ul",{className:zZ,children:e.details.map((e,t)=>(0,Sv.jsxs)("li",{className:WZ,children:[(0,Sv.jsx)("span",{className:HZ,children:"\u2022"}),(0,Sv.jsx)("span",{className:UZ,children:e})]},t))})})]},e.id))}),(0,Sv.jsx)("div",{className:VZ,children:(0,Sv.jsxs)("div",{className:GZ,children:[(0,Sv.jsx)("h3",{className:YZ,children:"Comprehensive Protection"}),(0,Sv.jsx)("p",{className:KZ,children:"Our security protocols are continuously updated to address emerging threats and incorporate the latest close protection techniques. Every team member receives ongoing training to maintain the highest standards of professional security."})]})})]})})}const JZ="TeamExpertise_expertiseSection__smdVI",XZ="TeamExpertise_sectionContent__VTy-a",$Z="TeamExpertise_sectionTitle__MaW3x",eJ="TeamExpertise_sectionDescription__wkCna",tJ="TeamExpertise_expertiseGrid__+-Oxj",nJ="TeamExpertise_expertiseItem__PR3Ht",iJ="TeamExpertise_expertiseIcon__Kldxx",sJ="TeamExpertise_expertiseNumber__dJL16",rJ="TeamExpertise_expertiseLabel__xHtbB",aJ="TeamExpertise_expertiseDescription__ujR5s",oJ="TeamExpertise_certificationsSection__Uo5kW",cJ="TeamExpertise_certificationsTitle__lQYrK",lJ="TeamExpertise_certificationsList__EU5MD",dJ="TeamExpertise_certificationItem__RwiNY",uJ="TeamExpertise_certificationHeader__XOgFm",hJ="TeamExpertise_certificationName__5hvlk",pJ="TeamExpertise_certificationBadge__VpejE",mJ="TeamExpertise_certificationDescription__1fv74",fJ="TeamExpertise_philosophySection__DPViq",_J="TeamExpertise_philosophyContent__qfT-P",gJ="TeamExpertise_philosophyTitle__pgaax",vJ="TeamExpertise_philosophyGrid__HsDav",yJ="TeamExpertise_philosophyItem__6r5Zg",xJ="TeamExpertise_philosophyIcon__AgCte",bJ="TeamExpertise_philosophyItemTitle__Ggqpr",SJ="TeamExpertise_philosophyText__A0LDX",wJ=[{number:"30+",label:"Years Experience",description:"Deep roots in private security sector",icon:"\ud83c\udf96\ufe0f"},{number:"24/7",label:"Availability",description:"Round-the-clock protection services",icon:"\u23f0"},{number:"100%",label:"Discretion",description:"Absolute confidentiality guaranteed",icon:"\ud83e\udd10"},{number:"SIA",label:"Licensed",description:"All officers fully certified",icon:"\ud83d\udee1\ufe0f"},{number:"Level 3",label:"CP Officers",description:"Close Protection specialists on staff",icon:"\ud83d\udc68\u200d\ud83d\udcbc"},{number:"Special Forces",label:"Training",description:"Military-grade expertise available",icon:"\ud83c\udfaf"}],NJ=[{title:"SIA Level 2 Security",description:"Door Supervision & Security Guarding",all:!0},{title:"SIA Level 3 Close Protection",description:"VIP & Executive Protection",selective:!0},{title:"Advanced Driving",description:"Defensive & Evasive Techniques",all:!0},{title:"First Aid Certified",description:"Medical Response Training",all:!0},{title:"Security Cleared",description:"Enhanced background checks",selective:!0}];function jJ(){return(0,Sv.jsx)("section",{className:JZ,children:(0,Sv.jsxs)("div",{className:XZ,children:[(0,Sv.jsx)("h2",{className:$Z,children:"Our Team Expertise"}),(0,Sv.jsx)("p",{className:eJ,children:"Every Close Protection Officer on our team brings professional security experience, continuous training, and unwavering commitment to client safety."}),(0,Sv.jsx)("div",{className:tJ,children:wJ.map((e,t)=>(0,Sv.jsxs)("div",{className:nJ,children:[(0,Sv.jsx)("div",{className:iJ,children:e.icon}),(0,Sv.jsx)("div",{className:sJ,children:e.number}),(0,Sv.jsx)("div",{className:rJ,children:e.label}),(0,Sv.jsx)("div",{className:aJ,children:e.description})]},t))}),(0,Sv.jsxs)("div",{className:oJ,children:[(0,Sv.jsx)("h3",{className:cJ,children:"Professional Certifications"}),(0,Sv.jsx)("div",{className:lJ,children:NJ.map((e,t)=>(0,Sv.jsxs)("div",{className:dJ,children:[(0,Sv.jsxs)("div",{className:uJ,children:[(0,Sv.jsx)("h4",{className:hJ,children:e.title}),(0,Sv.jsx)("span",{className:pJ,children:e.all?"\u2713 All Officers":"\u2713 Selected Officers"})]}),(0,Sv.jsx)("p",{className:mJ,children:e.description})]},t))})]}),(0,Sv.jsx)("div",{className:fJ,children:(0,Sv.jsxs)("div",{className:_J,children:[(0,Sv.jsx)("h3",{className:gJ,children:"Our Training Philosophy"}),(0,Sv.jsxs)("div",{className:vJ,children:[(0,Sv.jsxs)("div",{className:yJ,children:[(0,Sv.jsx)("span",{className:xJ,children:"\ud83c\udfaf"}),(0,Sv.jsx)("h4",{className:bJ,children:"Continuous Development"}),(0,Sv.jsx)("p",{className:SJ,children:"Regular training updates ensure our team stays current with evolving security threats and protection techniques."})]}),(0,Sv.jsxs)("div",{className:yJ,children:[(0,Sv.jsx)("span",{className:xJ,children:"\ud83e\udd1d"}),(0,Sv.jsx)("h4",{className:bJ,children:"Client-Focused Approach"}),(0,Sv.jsx)("p",{className:SJ,children:"Every interaction is designed to provide seamless, professional service while maintaining the highest security standards."})]}),(0,Sv.jsxs)("div",{className:yJ,children:[(0,Sv.jsx)("span",{className:xJ,children:"\ud83d\udd12"}),(0,Sv.jsx)("h4",{className:bJ,children:"Discretion & Professionalism"}),(0,Sv.jsx)("p",{className:SJ,children:"Our officers are trained to blend security expertise with impeccable professional conduct and absolute discretion."})]})]})]})})]})})}const CJ="MediaCredibility_credibilitySection__3Wuw7",kJ="MediaCredibility_sectionContent__CJLvy",PJ="MediaCredibility_sectionTitle__HCXbZ",TJ="MediaCredibility_sectionDescription__8eD45",EJ="MediaCredibility_mediaSection__BM4BE",AJ="MediaCredibility_mediaGrid__SwNMT",IJ="MediaCredibility_mediaItem__5Qa6G",LJ="MediaCredibility_mediaHeader__+qXmD",RJ="MediaCredibility_outletInfo__T2uoE",MJ="MediaCredibility_outletName__v2LuA",OJ="MediaCredibility_mediaDate__uZv-+",DJ="MediaCredibility_mediaTitle__74TPK",FJ="MediaCredibility_mediaDescription__Zk+Pa",BJ="MediaCredibility_mediaLink__65y+o",qJ="MediaCredibility_mediaNote__vOC77",zJ="MediaCredibility_noteIcon__k+1Xs",WJ="MediaCredibility_noteText__B8pCV",HJ="MediaCredibility_testimonialsSection__zN3M7",UJ="MediaCredibility_testimonialsGrid__NPuc3",VJ="MediaCredibility_testimonialCard__3Di8n",GJ="MediaCredibility_testimonialContent__zsPd3",YJ="MediaCredibility_quoteIcon__qFQHq",KJ="MediaCredibility_testimonialText__HvzIi",QJ="MediaCredibility_testimonialFooter__idvtW",ZJ="MediaCredibility_clientInfo__4gicq",JJ="MediaCredibility_clientName__6cu4F",XJ="MediaCredibility_clientLocation__3twy5",$J="MediaCredibility_trustSection__Iue5E",eX="MediaCredibility_trustTitle__0OB2X",tX="MediaCredibility_trustGrid__bptJ8",nX="MediaCredibility_trustItem__DhcLt",iX="MediaCredibility_trustIcon__hQD0O",sX="MediaCredibility_trustItemTitle__4fv9X",rX="MediaCredibility_trustItemText__eNQEm",aX=[{outlet:"The Mirror",title:"Professional Security Services at Premier Venues",description:"Featuring our discrete close protection officers providing security at exclusive locations",url:"https://www.mirror.co.uk/3am/celebrity-news/louise-redknapp-spotted-mystery-man-14309794",date:"March 2019"},{outlet:"Evening Standard",title:"VIP Protection Services in London",description:"Coverage of professional security operations in the capital",url:"#",date:"2019"}],oX=[{text:"The level of professionalism and discretion shown by Armora's close protection officers is exceptional. They seamlessly blend security expertise with premium service.",client:"Private Members' Club Executive",location:"Mayfair, London"},{text:"Having worked with various security providers, Armora stands out for their genuine close protection background. You can tell the difference immediately.",client:"Corporate Executive",location:"Canary Wharf"},{text:"The peace of mind knowing your Protection Officer is a trained CP officer, not just a Protection Officer, is invaluable. Professional, discrete, and highly skilled.",client:"VIP Client",location:"Confidential"}];function cX(){return(0,Sv.jsx)("section",{className:CJ,children:(0,Sv.jsxs)("div",{className:kJ,children:[(0,Sv.jsxs)("div",{className:EJ,children:[(0,Sv.jsx)("h2",{className:PJ,children:"As Featured In"}),(0,Sv.jsx)("p",{className:TJ,children:"Our professional security services have been recognized by leading publications"}),(0,Sv.jsx)("div",{className:AJ,children:aX.map((e,t)=>(0,Sv.jsxs)("div",{className:IJ,children:[(0,Sv.jsx)("div",{className:LJ,children:(0,Sv.jsxs)("div",{className:RJ,children:[(0,Sv.jsx)("h3",{className:MJ,children:e.outlet}),(0,Sv.jsx)("span",{className:OJ,children:e.date})]})}),(0,Sv.jsx)("h4",{className:DJ,children:e.title}),(0,Sv.jsx)("p",{className:FJ,children:e.description}),(0,Sv.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:BJ,children:"View Coverage \u2192"})]},t))}),(0,Sv.jsxs)("div",{className:qJ,children:[(0,Sv.jsx)("span",{className:zJ,children:"\ud83d\udcf0"}),(0,Sv.jsx)("p",{className:WJ,children:"See our team providing discrete security at exclusive venues and events across London"})]})]}),(0,Sv.jsxs)("div",{className:HJ,children:[(0,Sv.jsx)("h2",{className:PJ,children:"Client Testimonials"}),(0,Sv.jsx)("p",{className:TJ,children:"What our clients say about working with genuine Close Protection professionals"}),(0,Sv.jsx)("div",{className:UJ,children:oX.map((e,t)=>(0,Sv.jsxs)("div",{className:VJ,children:[(0,Sv.jsxs)("div",{className:GJ,children:[(0,Sv.jsx)("div",{className:YJ,children:'"'}),(0,Sv.jsx)("p",{className:KJ,children:e.text})]}),(0,Sv.jsx)("div",{className:QJ,children:(0,Sv.jsxs)("div",{className:ZJ,children:[(0,Sv.jsx)("span",{className:JJ,children:e.client}),(0,Sv.jsx)("span",{className:XJ,children:e.location})]})})]},t))})]}),(0,Sv.jsxs)("div",{className:$J,children:[(0,Sv.jsx)("h3",{className:eX,children:"Trust & Credibility Indicators"}),(0,Sv.jsxs)("div",{className:tX,children:[(0,Sv.jsxs)("div",{className:nX,children:[(0,Sv.jsx)("span",{className:iX,children:"\ud83c\udfdb\ufe0f"}),(0,Sv.jsx)("h4",{className:sX,children:"Soho House Trusted"}),(0,Sv.jsx)("p",{className:rX,children:"Providing security services to members of London's most exclusive private club"})]}),(0,Sv.jsxs)("div",{className:nX,children:[(0,Sv.jsx)("span",{className:iX,children:"\ud83d\udcf0"}),(0,Sv.jsx)("h4",{className:sX,children:"Media Recognition"}),(0,Sv.jsx)("p",{className:rX,children:"Featured in national publications for professional security operations"})]}),(0,Sv.jsxs)("div",{className:nX,children:[(0,Sv.jsx)("span",{className:iX,children:"\ud83d\udd12"}),(0,Sv.jsx)("h4",{className:sX,children:"30+ Years Experience"}),(0,Sv.jsx)("p",{className:rX,children:"Founded by close protection specialist with three decades in private security"})]}),(0,Sv.jsxs)("div",{className:nX,children:[(0,Sv.jsx)("span",{className:iX,children:"\u2705"}),(0,Sv.jsx)("h4",{className:sX,children:"3,741+ Safe Journeys"}),(0,Sv.jsx)("p",{className:rX,children:"Proven track record of protection assignments completed successfully"})]})]})]})]})})}const lX={aboutContainer:"About_aboutContainer__AiE9L",sectionContent:"About_sectionContent__+Zblh",sectionTitle:"About_sectionTitle__za3SD",storySection:"About_storySection__fkB80",storyContent:"About_storyContent__y1Rkx",storyText:"About_storyText__5Ixti",differenceSection:"About_differenceSection__udWbe",differenceGrid:"About_differenceGrid__dkdQb",differenceCard:"About_differenceCard__P3+-p",differenceIcon:"About_differenceIcon__G5dzz",differenceTitle:"About_differenceTitle__4fMGy",differenceText:"About_differenceText__JQkf1",expertiseSection:"About_expertiseSection__DTWva",expertiseGrid:"About_expertiseGrid__kfx7s",expertiseItem:"About_expertiseItem__Afuq-",expertiseNumber:"About_expertiseNumber__MXSZ1",expertiseLabel:"About_expertiseLabel__v930U",expertiseDescription:"About_expertiseDescription__LcQzc",whySection:"About_whySection__oYBf0",whyContent:"About_whyContent__ZW7dA",whyQuote:"About_whyQuote__M3tWj",whyList:"About_whyList__cdrDy",whyItem:"About_whyItem__WrW2C",whyIcon:"About_whyIcon__d+4Vb",ctaSection:"About_ctaSection__9vYGp",ctaCard:"About_ctaCard__OWLTT",ctaTitle:"About_ctaTitle__6HfRL",ctaText:"About_ctaText__6fRbk",ctaButtons:"About_ctaButtons__EiP3C",ctaPrimary:"About_ctaPrimary__X8ms-",ctaSecondary:"About_ctaSecondary__GWcm5"};function dX(t){let{onBack:n}=t;const[i,s]=(0,e.useState)(null);return(0,Sv.jsxs)("div",{className:lX.container,children:[(0,Sv.jsxs)("header",{className:lX.header,children:[n&&(0,Sv.jsx)("button",{className:lX.backButton,onClick:n,children:"\u2190 Back"}),(0,Sv.jsx)("h1",{className:lX.title,children:"About Armora Security"})]}),(0,Sv.jsx)("section",{className:lX.hero,children:(0,Sv.jsxs)("div",{className:lX.heroContent,children:[(0,Sv.jsx)("h2",{className:lX.heroTitle,children:"ELITE SECURITY MEETS LUXURY TRANSPORT"}),(0,Sv.jsx)("p",{className:lX.heroSubtitle,children:"Over 30 Years of Private Security Excellence"}),(0,Sv.jsxs)("div",{className:lX.heroBadge,children:[(0,Sv.jsx)("span",{className:lX.badgeIcon,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:lX.badgeText,children:"Every Protection Officer is a SIA-Licensed Close Protection Officer"})]})]})}),(0,Sv.jsx)("section",{className:lX.storySection,children:(0,Sv.jsxs)("div",{className:lX.sectionContent,children:[(0,Sv.jsx)("h2",{className:lX.sectionTitle,children:"Our Story"}),(0,Sv.jsxs)("div",{className:lX.storyContent,children:[(0,Sv.jsx)("p",{className:lX.storyText,children:"Founded by a close protection specialist with over three decades in private security, Armora was born from recognizing a critical gap in the market - the need for genuine security expertise in premium transport."}),(0,Sv.jsxs)("p",{className:lX.storyText,children:["After years protecting high-net-worth individuals at exclusive venues like",(0,Sv.jsx)("span",{className:lX.highlight,children:" Soho House Private Members' Club"}),", and being featured in national media for professional security services, our founder understood that VIP protection requires more than premium vehicles - it demands the seamless fusion of close protection and comprehensive security services."]})]})]})}),(0,Sv.jsx)("section",{className:lX.differenceSection,children:(0,Sv.jsxs)("div",{className:lX.sectionContent,children:[(0,Sv.jsx)("h2",{className:lX.sectionTitle,children:"Why Armora Is Different"}),(0,Sv.jsxs)("div",{className:lX.differenceGrid,children:[(0,Sv.jsxs)("div",{className:lX.differenceItem,children:[(0,Sv.jsx)("span",{className:lX.differenceIcon,children:"\ud83d\udc64"}),(0,Sv.jsx)("h3",{className:lX.differenceTitle,children:"100% CP Officers"}),(0,Sv.jsx)("p",{className:lX.differenceText,children:"EVERY officer is SIA certified (Level 2-3)"})]}),(0,Sv.jsxs)("div",{className:lX.differenceItem,children:[(0,Sv.jsx)("span",{className:lX.differenceIcon,children:"\ud83c\udf96\ufe0f"}),(0,Sv.jsx)("h3",{className:lX.differenceTitle,children:'No "Basic" Protection Officers'}),(0,Sv.jsx)("p",{className:lX.differenceText,children:"All are Close Protection trained specialists"})]}),(0,Sv.jsxs)("div",{className:lX.differenceItem,children:[(0,Sv.jsx)("span",{className:lX.differenceIcon,children:"\ud83d\udcf0"}),(0,Sv.jsx)("h3",{className:lX.differenceTitle,children:"Media Featured"}),(0,Sv.jsx)("p",{className:lX.differenceText,children:"The Mirror and Evening Standard coverage"})]}),(0,Sv.jsxs)("div",{className:lX.differenceItem,children:[(0,Sv.jsx)("span",{className:lX.differenceIcon,children:"\ud83c\udfdb\ufe0f"}),(0,Sv.jsx)("h3",{className:lX.differenceTitle,children:"Elite Venues"}),(0,Sv.jsx)("p",{className:lX.differenceText,children:"Trusted by Soho House members"})]}),(0,Sv.jsxs)("div",{className:lX.differenceItem,children:[(0,Sv.jsx)("span",{className:lX.differenceIcon,children:"\u2705"}),(0,Sv.jsx)("h3",{className:lX.differenceTitle,children:"Proven Track Record"}),(0,Sv.jsx)("p",{className:lX.differenceText,children:"3,741+ secure journeys completed"})]}),(0,Sv.jsxs)("div",{className:lX.differenceItem,children:[(0,Sv.jsx)("span",{className:lX.differenceIcon,children:"\ud83d\udd12"}),(0,Sv.jsx)("h3",{className:lX.differenceTitle,children:"Total Discretion"}),(0,Sv.jsx)("p",{className:lX.differenceText,children:"Strict NDAs and privacy protocols"})]})]})]})}),(0,Sv.jsx)(ZZ,{expandedProtocol:i,onProtocolToggle:s}),(0,Sv.jsx)(jJ,{}),(0,Sv.jsx)(cX,{}),(0,Sv.jsx)("section",{className:lX.ctaSection,children:(0,Sv.jsxs)("div",{className:lX.ctaContent,children:[(0,Sv.jsx)("h2",{className:lX.ctaTitle,children:"Ready for Professional Protection?"}),(0,Sv.jsx)("p",{className:lX.ctaSubtitle,children:"Experience the difference of genuine Close Protection transport"}),(0,Sv.jsxs)("div",{className:lX.ctaButtons,children:[(0,Sv.jsx)("button",{className:lX.primaryButton,onClick:()=>window.location.href="/",children:"Request CPO Services"}),(0,Sv.jsx)("button",{className:lX.secondaryButton,onClick:()=>window.location.href="tel:+442071234567",children:"Call Operations Center"})]})]})})]})}const uX="AirportSpecialists_airportsSection__eVZzq",hX="AirportSpecialists_sectionContent__9qwlu",pX="AirportSpecialists_sectionTitle__r8EN-",mX="AirportSpecialists_sectionSubtitle__lZNcb",fX="AirportSpecialists_londonSection__WLOI3",_X="AirportSpecialists_regionalSection__dTNcF",gX="AirportSpecialists_servicesSection__BmyBn",vX="AirportSpecialists_subsectionTitle__CoMXw",yX="AirportSpecialists_subsectionIcon__Ex1rj",xX="AirportSpecialists_airportsGrid__kyRaf",bX="AirportSpecialists_airportCard__2TFct",SX="AirportSpecialists_airportHeader__pZ+nC",wX="AirportSpecialists_airportInfo__pSZJ1",NX="AirportSpecialists_airportCode__BmJxb",jX="AirportSpecialists_airportName__zg1mp",CX="AirportSpecialists_airportCoverage__ABMoO",kX="AirportSpecialists_expandButton__JKpyq",PX="AirportSpecialists_quickStats__xEDJE",TX="AirportSpecialists_statItem__n1YDv",EX="AirportSpecialists_statIcon__gNbiD",AX="AirportSpecialists_statValue__Mm6lX",IX="AirportSpecialists_expandedContent__sZmmK",LX="AirportSpecialists_specialtiesSection__3hY5-",RX="AirportSpecialists_featuresSection__SUfEg",MX="AirportSpecialists_expandedTitle__TAixW",OX="AirportSpecialists_specialtyList__zV1dn",DX="AirportSpecialists_specialtyTag__HVeJD",FX="AirportSpecialists_featuresList__46K7K",BX="AirportSpecialists_featureItem__Nfu-8",qX="AirportSpecialists_featureIcon__rUCye",zX="AirportSpecialists_bookAirportButton__j03rC",WX="AirportSpecialists_regionalGrid__pJ6jZ",HX="AirportSpecialists_regionalAirport__zynBL",UX="AirportSpecialists_regionalCode__Ec65q",VX="AirportSpecialists_regionalInfo__Rtk0o",GX="AirportSpecialists_regionalName__bHFDy",YX="AirportSpecialists_regionalRegion__2jR9q",KX="AirportSpecialists_regionalStatus__k7qyP",QX="AirportSpecialists_statusIcon__OWHY3",ZX="AirportSpecialists_statusText__y60I5",JX="AirportSpecialists_regionalNote__CY+KV",XX="AirportSpecialists_noteText__Mt602",$X="AirportSpecialists_servicesGrid__13JZ6",e$="AirportSpecialists_serviceItem__-H2uc",t$="AirportSpecialists_serviceIcon__MzlEP",n$="AirportSpecialists_serviceTitle__j-35z",i$="AirportSpecialists_serviceDescription__OWRJP";function s$(){const[t,n]=(0,e.useState)(null);return(0,Sv.jsx)("section",{className:uX,children:(0,Sv.jsxs)("div",{className:hX,children:[(0,Sv.jsx)("h2",{className:pX,children:"Airport Protection Services"}),(0,Sv.jsx)("p",{className:mX,children:"Specialized airport security and executive transport nationwide"}),(0,Sv.jsxs)("div",{className:fX,children:[(0,Sv.jsxs)("h3",{className:vX,children:[(0,Sv.jsx)("span",{className:yX,children:"\u2708\ufe0f"}),"London Airports - Premium Coverage"]}),(0,Sv.jsx)("div",{className:xX,children:[{id:"heathrow",code:"LHR",name:"Heathrow",coverage:"24/7 coverage",responseTime:"10-15 minutes",specialties:["Terminal specialists","VIP meet & greet","Diplomatic protection"],features:["All 5 terminals","Fast track security","Aircraft side Commencement Point","Private lounges"]},{id:"gatwick",code:"LGW",name:"Gatwick",coverage:"24/7 coverage",responseTime:"15-20 minutes",specialties:["North/South terminals","Executive protection","Celebrity transport"],features:["Both terminals","Premium lounges","Aircraft transfers","Arrival assistance"]},{id:"stansted",code:"STN",name:"Stansted",coverage:"On demand",responseTime:"20-30 minutes",specialties:["Business aviation","Private jet services","Corporate transport"],features:["Main terminal","Private aviation","Executive lounges","Fast clearance"]},{id:"luton",code:"LTN",name:"Luton",coverage:"On demand",responseTime:"25-35 minutes",specialties:["Charter flights","Business travel","Executive services"],features:["Terminal coverage","Private services","Business lounges","Rapid departure"]},{id:"london-city",code:"LCY",name:"London City",coverage:"On demand",responseTime:"15-25 minutes",specialties:["Business aviation","Executive protection","Financial district"],features:["Single terminal","Business focus","Canary Wharf link","Executive services"]}].map(e=>(0,Sv.jsxs)("div",{className:bX,children:[(0,Sv.jsxs)("div",{className:SX,children:[(0,Sv.jsxs)("div",{className:wX,children:[(0,Sv.jsx)("div",{className:NX,children:e.code}),(0,Sv.jsx)("h4",{className:jX,children:e.name}),(0,Sv.jsx)("p",{className:CX,children:e.coverage})]}),(0,Sv.jsx)("button",{className:kX,onClick:()=>{return t=e.id,void n(e=>e===t?null:t);var t},children:t===e.id?"\u2212":"+"})]}),(0,Sv.jsxs)("div",{className:PX,children:[(0,Sv.jsxs)("div",{className:TX,children:[(0,Sv.jsx)("span",{className:EX,children:"\u26a1"}),(0,Sv.jsx)("span",{className:AX,children:e.responseTime})]}),(0,Sv.jsxs)("div",{className:TX,children:[(0,Sv.jsx)("span",{className:EX,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:AX,children:"SIA Level 3"})]})]}),t===e.id&&(0,Sv.jsxs)("div",{className:IX,children:[(0,Sv.jsxs)("div",{className:LX,children:[(0,Sv.jsx)("h5",{className:MX,children:"Protection Specialties:"}),(0,Sv.jsx)("div",{className:OX,children:e.specialties.map((e,t)=>(0,Sv.jsx)("span",{className:DX,children:e},t))})]}),(0,Sv.jsxs)("div",{className:RX,children:[(0,Sv.jsx)("h5",{className:MX,children:"Terminal Services:"}),(0,Sv.jsx)("ul",{className:FX,children:e.features.map((e,t)=>(0,Sv.jsxs)("li",{className:BX,children:[(0,Sv.jsx)("span",{className:qX,children:"\u2713"}),e]},t))})]}),(0,Sv.jsxs)("button",{className:zX,children:["Request ",e.name," CPO"]})]})]},e.id))})]}),(0,Sv.jsxs)("div",{className:_X,children:[(0,Sv.jsxs)("h3",{className:vX,children:[(0,Sv.jsx)("span",{className:yX,children:"\ud83c\uddec\ud83c\udde7"}),"Regional Airports - Nationwide Coverage"]}),(0,Sv.jsx)("div",{className:WX,children:[{code:"MAN",name:"Manchester",region:"North West"},{code:"BHX",name:"Birmingham",region:"West Midlands"},{code:"BRS",name:"Bristol",region:"South West"},{code:"LBA",name:"Leeds Bradford",region:"Yorkshire"},{code:"NCL",name:"Newcastle",region:"North East"},{code:"EDI",name:"Edinburgh",region:"Scotland"},{code:"GLA",name:"Glasgow",region:"Scotland"},{code:"CWL",name:"Cardiff",region:"Wales"},{code:"BFS",name:"Belfast International",region:"Northern Ireland"},{code:"LPL",name:"Liverpool",region:"North West"},{code:"EXT",name:"Exeter",region:"South West"},{code:"NQY",name:"Newquay Cornwall",region:"South West"}].map((e,t)=>(0,Sv.jsxs)("div",{className:HX,children:[(0,Sv.jsx)("div",{className:UX,children:e.code}),(0,Sv.jsxs)("div",{className:VX,children:[(0,Sv.jsx)("div",{className:GX,children:e.name}),(0,Sv.jsx)("div",{className:YX,children:e.region})]}),(0,Sv.jsxs)("div",{className:KX,children:[(0,Sv.jsx)("span",{className:QX,children:"\u2713"}),(0,Sv.jsx)("span",{className:ZX,children:"Available"})]})]},t))}),(0,Sv.jsx)("div",{className:JX,children:(0,Sv.jsxs)("p",{className:XX,children:[(0,Sv.jsx)("strong",{children:"All UK airports covered"})," with advance protection assignment.",(0,Sv.jsx)("br",{}),"Specialized teams available for private jet and corporate aviation."]})})]}),(0,Sv.jsxs)("div",{className:gX,children:[(0,Sv.jsxs)("h3",{className:vX,children:[(0,Sv.jsx)("span",{className:yX,children:"\ud83c\udfaf"}),"Specialized Airport Services"]}),(0,Sv.jsxs)("div",{className:$X,children:[(0,Sv.jsxs)("div",{className:e$,children:[(0,Sv.jsx)("span",{className:t$,children:"\ud83c\udf96\ufe0f"}),(0,Sv.jsx)("h4",{className:n$,children:"VIP Meet & Greet"}),(0,Sv.jsx)("p",{className:i$,children:"Aircraft-side Commencement Point with fast-track clearance and lounge access"})]}),(0,Sv.jsxs)("div",{className:e$,children:[(0,Sv.jsx)("span",{className:t$,children:"\ud83d\udec2"}),(0,Sv.jsx)("h4",{className:n$,children:"Diplomatic Protection"}),(0,Sv.jsx)("p",{className:i$,children:"Government-cleared officers for diplomatic and official travel"})]}),(0,Sv.jsxs)("div",{className:e$,children:[(0,Sv.jsx)("span",{className:t$,children:"\u2708\ufe0f"}),(0,Sv.jsx)("h4",{className:n$,children:"Private Aviation"}),(0,Sv.jsx)("p",{className:i$,children:"Specialized services for private jets and charter flights"})]}),(0,Sv.jsxs)("div",{className:e$,children:[(0,Sv.jsx)("span",{className:t$,children:"\ud83c\udfe2"}),(0,Sv.jsx)("h4",{className:n$,children:"Corporate Groups"}),(0,Sv.jsx)("p",{className:i$,children:"Multi-Principal protection for executive teams and delegations"})]})]})]})]})})}const r$={routesSection:"PopularRoutes_routesSection__3mxqQ",sectionContent:"PopularRoutes_sectionContent__VXPT6",sectionTitle:"PopularRoutes_sectionTitle__E-8Vt",sectionSubtitle:"PopularRoutes_sectionSubtitle__XH4xB",categorySelector:"PopularRoutes_categorySelector__koxXc",categoryButton:"PopularRoutes_categoryButton__eW3ju",categoryActive:"PopularRoutes_categoryActive__4gXiw",categoryIcon:"PopularRoutes_categoryIcon__S76hE",categoryLabel:"PopularRoutes_categoryLabel__2uq03",routesGrid:"PopularRoutes_routesGrid__GlnWy",routeCard:"PopularRoutes_routeCard__xEiQW",routePopular:"PopularRoutes_routePopular__TJa-q",popularBadge:"PopularRoutes_popularBadge__P-Cqb",popularIcon:"PopularRoutes_popularIcon__7UeY0",popularText:"PopularRoutes_popularText__p+t3I",routeHeader:"PopularRoutes_routeHeader__ufBJs",routePath:"PopularRoutes_routePath__utYRl",fromLocation:"PopularRoutes_fromLocation__PRxz6",routeArrow:"PopularRoutes_routeArrow__Rxl5q",toLocation:"PopularRoutes_toLocation__ymTF5",routePrice:"PopularRoutes_routePrice__Ckica",routeDetails:"PopularRoutes_routeDetails__8CPOf",routeInfo:"PopularRoutes_routeInfo__EQoIi",infoItem:"PopularRoutes_infoItem__1+xu8",infoIcon:"PopularRoutes_infoIcon__rAQAe",infoText:"PopularRoutes_infoText__Gz+-n",routeDescription:"PopularRoutes_routeDescription__T-6oM",routeActions:"PopularRoutes_routeActions__6klRf",bookRouteButton:"PopularRoutes_bookRouteButton__0aqsG",quoteButton:"PopularRoutes_quoteButton__UKwN4",infoCard:"PopularRoutes_infoCard__8hexo",infoTitle:"PopularRoutes_infoTitle__i48kR",infoTitleIcon:"PopularRoutes_infoTitleIcon__UU0Yf",customRouteSection:"PopularRoutes_customRouteSection__akUwP",customRouteCard:"PopularRoutes_customRouteCard__81DzE",customRouteTitle:"PopularRoutes_customRouteTitle__hc2V0",customRouteText:"PopularRoutes_customRouteText__VtkUc",customRouteButtons:"PopularRoutes_customRouteButtons__CHEVV",customQuoteButton:"PopularRoutes_customQuoteButton__OiYAU",callButton:"PopularRoutes_callButton__KJjfH",whyChooseSection:"PopularRoutes_whyChooseSection__1VUw9",whyChooseTitle:"PopularRoutes_whyChooseTitle__0wsxH",whyChooseGrid:"PopularRoutes_whyChooseGrid__Ej8nE",whyChooseCard:"PopularRoutes_whyChooseCard__D3ahY",whyChooseIcon:"PopularRoutes_whyChooseIcon__30F5y",whyChooseCardTitle:"PopularRoutes_whyChooseCardTitle__JyJxh",whyChooseCardText:"PopularRoutes_whyChooseCardText__OyQGz"};function a$(){const{navigateToView:t}=kv(),[n,i]=(0,e.useState)("london"),s=[{from:"Mayfair",to:"Heathrow Airport",distance:16.8,price:152,time:"42 min",popular:!0},{from:"Canary Wharf",to:"Gatwick Airport",distance:42,price:198,time:"65 min",popular:!0},{from:"Westminster",to:"Stansted Airport",distance:38,price:176,time:"55 min"},{from:"The City",to:"London City Airport",distance:6,price:96,time:"15 min",popular:!0},{from:"Kensington",to:"Luton Airport",distance:32.5,price:162,time:"48 min"},{from:"Chelsea",to:"Oxford Street",distance:3.2,price:85,time:"12 min"},{from:"Shoreditch",to:"Waterloo Station",distance:4.5,price:88,time:"18 min"},{from:"Hampstead",to:"The Shard",distance:8.2,price:102,time:"25 min"}],r=[{from:"London",to:"Manchester",distance:201,price:802,time:"3.5 hours",popular:!0},{from:"London",to:"Birmingham",distance:113,price:425,time:"2 hours"},{from:"Manchester",to:"Liverpool",distance:35,price:186,time:"45 min"},{from:"Birmingham",to:"Bristol",distance:91,price:328,time:"1.5 hours"},{from:"Leeds",to:"Manchester",distance:44,price:210,time:"1 hour"},{from:"London",to:"Bristol",distance:118,price:445,time:"2 hours"},{from:"London",to:"Cardiff",distance:155,price:538,time:"3 hours",popular:!0},{from:"Birmingham",to:"London",distance:113,price:425,time:"2 hours"}],a=[{from:"Central Manchester",to:"Manchester Airport",distance:9.5,price:124,time:"20 min",popular:!0},{from:"Birmingham Centre",to:"Birmingham Airport",distance:11,price:128,time:"25 min"},{from:"Bristol Centre",to:"Bristol Airport",distance:8,price:120,time:"18 min"},{from:"Liverpool Centre",to:"Liverpool Airport",distance:7.5,price:119,time:"20 min"},{from:"Newcastle Centre",to:"Newcastle Airport",distance:7,price:118,time:"15 min"},{from:"Edinburgh Centre",to:"Edinburgh Airport",distance:9,price:145,time:"25 min"},{from:"Cardiff Centre",to:"Cardiff Airport",distance:12,price:130,time:"30 min"},{from:"Leeds Centre",to:"Leeds Bradford",distance:10,price:125,time:"25 min"}];return(0,Sv.jsx)("section",{className:r$.container,children:(0,Sv.jsxs)("div",{className:r$.content,children:[(0,Sv.jsx)("h2",{className:r$.title,children:"POPULAR PROTECTION ROUTES"}),(0,Sv.jsx)("p",{className:r$.subtitle,children:"Pre-calculated prices for frequently requested journeys"}),(0,Sv.jsxs)("div",{className:r$.tabs,children:[(0,Sv.jsxs)("button",{className:"".concat(r$.tab," ").concat("london"===n?r$.activeTab:""),onClick:()=>i("london"),children:[(0,Sv.jsx)("span",{className:r$.tabIcon,children:"\ud83c\udfd9\ufe0f"}),"London Routes"]}),(0,Sv.jsxs)("button",{className:"".concat(r$.tab," ").concat("intercity"===n?r$.activeTab:""),onClick:()=>i("intercity"),children:[(0,Sv.jsx)("span",{className:r$.tabIcon,children:"\ud83d\ude97"}),"Inter-City"]}),(0,Sv.jsxs)("button",{className:"".concat(r$.tab," ").concat("airports"===n?r$.activeTab:""),onClick:()=>i("airports"),children:[(0,Sv.jsx)("span",{className:r$.tabIcon,children:"\u2708\ufe0f"}),"Regional Airports"]})]}),(0,Sv.jsxs)("div",{className:r$.routesTable,children:[(0,Sv.jsxs)("div",{className:r$.tableHeader,children:[(0,Sv.jsx)("div",{className:r$.headerFrom,children:"From"}),(0,Sv.jsx)("div",{className:r$.headerTo,children:"To"}),(0,Sv.jsx)("div",{className:r$.headerDistance,children:"Distance"}),(0,Sv.jsx)("div",{className:r$.headerTime,children:"Time"}),(0,Sv.jsx)("div",{className:r$.headerPrice,children:"Price"}),(0,Sv.jsx)("div",{className:r$.headerAction})]}),(()=>{switch(n){case"london":default:return s;case"intercity":return r;case"airports":return a}})().map((e,n)=>{return(0,Sv.jsxs)("div",{className:"".concat(r$.routeRow," ").concat(e.popular?r$.popularRoute:""),children:[e.popular&&(0,Sv.jsx)("span",{className:r$.popularBadge,children:"Popular"}),(0,Sv.jsxs)("div",{className:r$.routeFrom,children:[(0,Sv.jsx)("span",{className:r$.locationIcon,children:"\ud83d\udccd"}),e.from]}),(0,Sv.jsxs)("div",{className:r$.routeTo,children:[(0,Sv.jsx)("span",{className:r$.locationIcon,children:"\ud83c\udfc1"}),e.to]}),(0,Sv.jsxs)("div",{className:r$.routeDistance,children:[e.distance," mi"]}),(0,Sv.jsx)("div",{className:r$.routeTime,children:e.time}),(0,Sv.jsxs)("div",{className:r$.routePrice,children:[(0,Sv.jsx)("span",{className:r$.priceAmount,children:(i=e.price,"\xa3".concat(i.toFixed(0)))}),(0,Sv.jsx)("span",{className:r$.priceLabel,children:"estimated"})]}),(0,Sv.jsx)("div",{className:r$.routeAction,children:(0,Sv.jsx)("button",{className:r$.bookButton,onClick:()=>(e=>{localStorage.setItem("armora_quick_route",JSON.stringify(e)),t("protection-request")})(e),children:"Quick Request"})})]},n);var i})]}),(0,Sv.jsxs)("div",{className:r$.pricingNotes,children:[(0,Sv.jsx)("h3",{className:r$.notesTitle,children:"Pricing Information"}),(0,Sv.jsxs)("div",{className:r$.notesGrid,children:[(0,Sv.jsxs)("div",{className:r$.noteItem,children:[(0,Sv.jsx)("span",{className:r$.noteIcon,children:"\ud83d\udcb7"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("strong",{children:"Standard Protection:"})," \xa350/hour (2h minimum)"]})]}),(0,Sv.jsxs)("div",{className:r$.noteItem,children:[(0,Sv.jsx)("span",{className:r$.noteIcon,children:"\ud83d\ude97"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("strong",{children:"Vehicle Operation:"})," \xa32.50 per mile"]})]}),(0,Sv.jsxs)("div",{className:r$.noteItem,children:[(0,Sv.jsx)("span",{className:r$.noteIcon,children:"\u2b50"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("strong",{children:"Members:"})," 20% discount on all routes"]})]}),(0,Sv.jsxs)("div",{className:r$.noteItem,children:[(0,Sv.jsx)("span",{className:r$.noteIcon,children:"\ud83d\udccd"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("strong",{children:"Regional:"})," Additional fees may apply outside London"]})]})]})]}),"intercity"===n&&(0,Sv.jsxs)("div",{className:r$.longDistanceNotice,children:[(0,Sv.jsx)("div",{className:r$.noticeIcon,children:"\u2139\ufe0f"}),(0,Sv.jsxs)("div",{className:r$.noticeContent,children:[(0,Sv.jsx)("strong",{children:"Long Distance Protection Services"}),(0,Sv.jsx)("p",{children:"For journeys over 100 miles, we recommend our overnight protection packages. Officer deployment from regional hubs may be required for optimal service."}),(0,Sv.jsx)("button",{className:r$.noticeButton,children:"Learn About Overnight Protection"})]})]}),(0,Sv.jsxs)("div",{className:r$.customRouteCTA,children:[(0,Sv.jsx)("h3",{children:"Need a custom route quote?"}),(0,Sv.jsx)("p",{children:"Get instant pricing for any journey in England & Wales"}),(0,Sv.jsx)("button",{className:r$.customRouteButton,onClick:()=>t("protection-request"),children:"Calculate Custom Route"})]})]})})}const o$="RegionalMessaging_messagingContainer__3Mnxb",c$="RegionalMessaging_priorityHigh__OQ3Gv",l$="RegionalMessaging_priorityMedium__V4TZd",d$="RegionalMessaging_priorityLow__RTGFa",u$="RegionalMessaging_priorityStandard__mfu5x",h$="RegionalMessaging_messagingContent__ieRtP",p$="RegionalMessaging_messageHeader__jiMJj",m$="RegionalMessaging_messageIcon__sDjrF",f$="RegionalMessaging_messageText__HSnSb",_$="RegionalMessaging_messageTitle__IfxhZ",g$="RegionalMessaging_messageDescription__LarcC",v$="RegionalMessaging_responseMetrics__C+4hY",y$="RegionalMessaging_metric__jSVMa",x$="RegionalMessaging_metricIcon__f3brR",b$="RegionalMessaging_metricContent__BARwN",S$="RegionalMessaging_metricValue__Ji6-q",w$="RegionalMessaging_metricLabel__b+NqJ",N$="RegionalMessaging_ctaButton__53zyQ",j$="RegionalMessaging_locationInfo__HPdOO",C$="RegionalMessaging_locationIcon__771bm",k$="RegionalMessaging_locationText__Cf3Z2",P$="RegionalMessaging_changeLocationButton__NbhKt";function T$(e){let{userLocation:t}=e;const n=(()=>{if(!t)return{icon:"\ud83c\uddec\ud83c\udde7",title:"Nationwide Protection Coverage",message:"Professional security services available across the UK",callToAction:"Check coverage in your area",priority:"standard"};switch(t.toLowerCase()){case"london":return{icon:"\u26a1",title:"Rapid Response in London",message:"Same-day protection available across all London boroughs within M25",callToAction:"Book immediate protection",priority:"high"};case"manchester":return{icon:"\ud83c\udfe2",title:"Local Officers Available in Manchester",message:"Dedicated Manchester team with city center specialists",callToAction:"Connect with local team",priority:"medium"};case"birmingham":return{icon:"\ud83c\udfed",title:"Birmingham Operations Center",message:"West Midlands coverage with industrial area expertise",callToAction:"Book Birmingham protection",priority:"medium"};case"liverpool":return{icon:"\u2693",title:"Merseyside Protection Services",message:"Port city specialists and cultural district teams available",callToAction:"Secure Liverpool transport",priority:"medium"};case"bristol":return{icon:"\ud83c\udf0a",title:"South West Operations",message:"Bristol hub covering tech corridor and coastal regions",callToAction:"Book South West protection",priority:"medium"};default:return["leeds","sheffield","newcastle","edinburgh","glasgow","cardiff","nottingham","leicester"].some(e=>t.toLowerCase().includes(e))?{icon:"\ud83c\udfd9\ufe0f",title:"Protection Available in ".concat(t),message:"Advanced protection assignment recommended for optimal service delivery",callToAction:"Schedule protection service",priority:"low"}:{icon:"\ud83c\udf31",title:"Rural Area Coverage",message:"Specialized rural and estate protection with advance protection assignment",callToAction:"Request coverage assessment",priority:"low"}}})(),i=(()=>{switch(n.priority){case"high":return{time:"10-15 minutes",availability:"24/7 Coverage",officers:"12+ Local Officers"};case"medium":return{time:"15-25 minutes",availability:"Same Day Service",officers:"6+ Local Officers"};case"low":return{time:"2-4 hours",availability:"Advance Assignment",officers:"Deployed Officers"};default:return{time:"Variable",availability:"UK Wide",officers:"Nationwide Network"}}})();return(0,Sv.jsxs)("div",{className:"".concat(o$," ").concat((()=>{switch(n.priority){case"high":return c$;case"medium":return l$;case"low":return d$;default:return u$}})()),children:[(0,Sv.jsxs)("div",{className:h$,children:[(0,Sv.jsxs)("div",{className:p$,children:[(0,Sv.jsx)("span",{className:m$,children:n.icon}),(0,Sv.jsxs)("div",{className:f$,children:[(0,Sv.jsx)("h3",{className:_$,children:n.title}),(0,Sv.jsx)("p",{className:g$,children:n.message})]})]}),(0,Sv.jsxs)("div",{className:v$,children:[(0,Sv.jsxs)("div",{className:y$,children:[(0,Sv.jsx)("span",{className:x$,children:"\u26a1"}),(0,Sv.jsxs)("div",{className:b$,children:[(0,Sv.jsx)("span",{className:S$,children:i.time}),(0,Sv.jsx)("span",{className:w$,children:"Response Time"})]})]}),(0,Sv.jsxs)("div",{className:y$,children:[(0,Sv.jsx)("span",{className:x$,children:"\ud83d\udd50"}),(0,Sv.jsxs)("div",{className:b$,children:[(0,Sv.jsx)("span",{className:S$,children:i.availability}),(0,Sv.jsx)("span",{className:w$,children:"Availability"})]})]}),(0,Sv.jsxs)("div",{className:y$,children:[(0,Sv.jsx)("span",{className:x$,children:"\ud83d\udc6e"}),(0,Sv.jsxs)("div",{className:b$,children:[(0,Sv.jsx)("span",{className:S$,children:i.officers}),(0,Sv.jsx)("span",{className:w$,children:"Officers"})]})]})]}),(0,Sv.jsx)("button",{className:N$,children:n.callToAction})]}),t&&(0,Sv.jsxs)("div",{className:j$,children:[(0,Sv.jsx)("span",{className:C$,children:"\ud83d\udccd"}),(0,Sv.jsxs)("span",{className:k$,children:["Detected location: ",t]}),(0,Sv.jsx)("button",{className:P$,children:"Change"})]})]})}const E$="CoverageAreas_container__EZTjF",A$="CoverageAreas_header__BJh-5",I$="CoverageAreas_backButton__-VHAv",L$="CoverageAreas_title__c9EG5",R$="CoverageAreas_sectionContent__Vmbqz",M$="CoverageAreas_sectionTitle__YMYF-",O$="CoverageAreas_sectionSubtitle__-tTaq",D$="CoverageAreas_hero__hucjo",F$="CoverageAreas_heroContent__QRRaF",B$="CoverageAreas_heroTitle__0zjyx",q$="CoverageAreas_heroSubtitle__sDbqb",z$="CoverageAreas_heroBadge__4PhiZ",W$="CoverageAreas_badgeIcon__KnIae",H$="CoverageAreas_badgeText__wEtIo",U$="CoverageAreas_primarySection__dblcq",V$="CoverageAreas_areasGrid__wIcYm",G$="CoverageAreas_areaCard__ZBfxw",Y$="CoverageAreas_areaHeader__9oXSa",K$="CoverageAreas_areaInfo__zdWvT",Q$="CoverageAreas_areaName__m8R80",Z$="CoverageAreas_areaSubtitle__OzwD4",J$="CoverageAreas_areaDescription__VpyAG",X$="CoverageAreas_expandButton__Nq-3P",$$="CoverageAreas_areaStats__QcuOt",e0="CoverageAreas_statItem__2ZRwl",t0="CoverageAreas_statIcon__OT9yb",n0="CoverageAreas_statLabel__KBWSD",i0="CoverageAreas_statValue__EzI6i",s0="CoverageAreas_expandedContent__L76rx",r0="CoverageAreas_featuresList__6QyGf",a0="CoverageAreas_featuresTitle__0ZjGr",o0="CoverageAreas_features__EWFBH",c0="CoverageAreas_feature__cb9oa",l0="CoverageAreas_featureIcon__mAhiU",d0="CoverageAreas_specialtiesList__LD-Ug",u0="CoverageAreas_specialtiesTitle__FR23I",h0="CoverageAreas_specialtyTags__qHdgn",p0="CoverageAreas_specialtyTag__gTcOp",m0="CoverageAreas_bookButton__Ywb+Q",f0="CoverageAreas_extendedSection__aclCU",_0="CoverageAreas_extendedGrid__i-vHF",g0="CoverageAreas_extendedItem__kKW7H",v0="CoverageAreas_extendedIcon__C+pmo",y0="CoverageAreas_extendedText__6aSTV",x0="CoverageAreas_extendedNote__qe0YJ",b0="CoverageAreas_noteText__Fxyqn",S0="CoverageAreas_noteButtons__p1EgB",w0="CoverageAreas_contactButton__jTgB6",N0="CoverageAreas_quoteButton__UAml2",j0="CoverageAreas_ctaSection__xDy9m",C0="CoverageAreas_ctaContent__JVwTq",k0="CoverageAreas_ctaTitle__OthmY",P0="CoverageAreas_ctaSubtitle__fiDUq",T0="CoverageAreas_ctaButtons__8mOy4",E0="CoverageAreas_primaryButton__IU1K4",A0="CoverageAreas_secondaryButton__-ZQNv";function I0(t){let{onBack:n}=t;const{navigateToView:i}=kv(),[s,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(null);(0,e.useEffect)(()=>{(()=>{const e=["London","Manchester","Birmingham","Liverpool","Bristol"],t=e[Math.floor(Math.random()*e.length)];o(t)})()},[]);const c=()=>{i("protection-request")};return(0,Sv.jsxs)("div",{className:E$,children:[(0,Sv.jsxs)("header",{className:A$,children:[n&&(0,Sv.jsx)("button",{className:I$,onClick:n,children:"\u2190 Back"}),(0,Sv.jsx)("h1",{className:L$,children:"Armora Nationwide Coverage"})]}),(0,Sv.jsx)(T$,{userLocation:a}),(0,Sv.jsx)("section",{className:D$,children:(0,Sv.jsxs)("div",{className:F$,children:[(0,Sv.jsx)("h2",{className:B$,children:"PROFESSIONAL PROTECTION ACROSS THE UK"}),(0,Sv.jsx)("p",{className:q$,children:"SIA-Licensed Close Protection Officers Available Nationwide"}),(0,Sv.jsxs)("div",{className:z$,children:[(0,Sv.jsx)("span",{className:W$,children:"\ud83c\uddec\ud83c\udde7"}),(0,Sv.jsx)("span",{className:H$,children:"Covering All Major UK Cities and Regions"})]})]})}),(0,Sv.jsx)("section",{className:U$,children:(0,Sv.jsxs)("div",{className:R$,children:[(0,Sv.jsx)("h2",{className:M$,children:"Primary Operations - Same Day Service"}),(0,Sv.jsx)("p",{className:O$,children:"Rapid response protection available in our core coverage areas"}),(0,Sv.jsx)("div",{className:V$,children:[{id:"greater-london",name:"Greater London",subtitle:"M25 Coverage Zone",description:"Same-day protection services available",features:["24/7 rapid response","All 32 London boroughs","Central London specialists","Airport transfer hub","Corporate protection teams"],responseTime:"10-15 minutes",coverage:"100% within M25",specialties:["Executive Protection","Diplomatic Security","Celebrity Transport"]},{id:"manchester",name:"Manchester & Greater Manchester",subtitle:"Northern England Hub",description:"Full protection services across Greater Manchester",features:["City centre specialists","Airport Manchester coverage","Corporate district teams","Event security available","Cheshire connections"],responseTime:"15-20 minutes",coverage:"10 Greater Manchester boroughs",specialties:["Business Protection","Event Security","Airport Transfers"]},{id:"birmingham",name:"Birmingham & West Midlands",subtitle:"Central England Operations",description:"Comprehensive security across West Midlands",features:["Second city specialists","Industrial area coverage","Birmingham Airport hub","Medical transport","Corporate headquarters"],responseTime:"15-25 minutes",coverage:"West Midlands metropolitan area",specialties:["Corporate Security","Medical Transport","Industrial Protection"]},{id:"liverpool",name:"Liverpool & Merseyside",subtitle:"North West Coverage",description:"Professional protection across Merseyside",features:["Port city specialists","Cultural district teams","John Lennon Airport","Maritime security","Entertainment venues"],responseTime:"15-25 minutes",coverage:"Merseyside metropolitan area",specialties:["Entertainment Security","Maritime Protection","Cultural Events"]},{id:"bristol",name:"Bristol & South West",subtitle:"South West Operations",description:"Premium protection for South West England",features:["Tech corridor coverage","Bristol Airport specialists","Rural estate protection","Coastal security","University area teams"],responseTime:"20-30 minutes",coverage:"Bristol and surrounding areas",specialties:["Tech Executive Protection","Estate Security","University Safety"]}].map(e=>(0,Sv.jsxs)("div",{className:G$,children:[(0,Sv.jsxs)("div",{className:Y$,children:[(0,Sv.jsxs)("div",{className:K$,children:[(0,Sv.jsx)("h3",{className:Q$,children:e.name}),(0,Sv.jsx)("p",{className:Z$,children:e.subtitle}),(0,Sv.jsx)("p",{className:J$,children:e.description})]}),(0,Sv.jsx)("button",{className:X$,onClick:()=>{return t=e.id,void r(e=>e===t?null:t);var t},children:s===e.id?"\u2212":"+"})]}),(0,Sv.jsxs)("div",{className:$$,children:[(0,Sv.jsxs)("div",{className:e0,children:[(0,Sv.jsx)("span",{className:t0,children:"\u26a1"}),(0,Sv.jsx)("span",{className:n0,children:"Response"}),(0,Sv.jsx)("span",{className:i0,children:e.responseTime})]}),(0,Sv.jsxs)("div",{className:e0,children:[(0,Sv.jsx)("span",{className:t0,children:"\ud83d\udccd"}),(0,Sv.jsx)("span",{className:n0,children:"Coverage"}),(0,Sv.jsx)("span",{className:i0,children:e.coverage})]})]}),s===e.id&&(0,Sv.jsxs)("div",{className:s0,children:[(0,Sv.jsxs)("div",{className:r0,children:[(0,Sv.jsx)("h4",{className:a0,children:"Service Features:"}),(0,Sv.jsx)("ul",{className:o0,children:e.features.map((e,t)=>(0,Sv.jsxs)("li",{className:c0,children:[(0,Sv.jsx)("span",{className:l0,children:"\u2713"}),e]},t))})]}),(0,Sv.jsxs)("div",{className:d0,children:[(0,Sv.jsx)("h4",{className:u0,children:"Protection Specialties:"}),(0,Sv.jsx)("div",{className:h0,children:e.specialties.map((e,t)=>(0,Sv.jsx)("span",{className:p0,children:e},t))})]}),(0,Sv.jsxs)("button",{className:m0,onClick:c,children:["Request CPO in ",e.name.split("&")[0].trim()]})]})]},e.id))})]})}),(0,Sv.jsx)("section",{className:f0,children:(0,Sv.jsxs)("div",{className:R$,children:[(0,Sv.jsx)("h2",{className:M$,children:"Extended Coverage - Advanced Assignment"}),(0,Sv.jsx)("p",{className:O$,children:"Professional protection services available with advance notice"}),(0,Sv.jsx)("div",{className:_0,children:["All England & Wales locations","Scotland (special arrangements)","Airport transfers nationwide","Event security anywhere in UK","Corporate protection tours","Holiday home security","Wedding protection services","Festival and concert security"].map((e,t)=>(0,Sv.jsxs)("div",{className:g0,children:[(0,Sv.jsx)("span",{className:v0,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:y0,children:e})]},t))}),(0,Sv.jsxs)("div",{className:x0,children:[(0,Sv.jsxs)("p",{className:b0,children:[(0,Sv.jsx)("strong",{children:"Not sure if we cover your area?"}),(0,Sv.jsx)("br",{}),"Contact our operations center for confirmation and special arrangements."]}),(0,Sv.jsxs)("div",{className:S0,children:[(0,Sv.jsx)("button",{className:w0,onClick:()=>window.location.href="tel:+442071234567",children:"Call Operations: 020 7123 4567"}),(0,Sv.jsx)("button",{className:N0,onClick:c,children:"Request Coverage Quote"})]})]})]})}),(0,Sv.jsx)(s$,{}),(0,Sv.jsx)(a$,{}),(0,Sv.jsx)("section",{className:j0,children:(0,Sv.jsxs)("div",{className:C0,children:[(0,Sv.jsx)("h2",{className:k0,children:"Ready for Professional Protection?"}),(0,Sv.jsx)("p",{className:P0,children:"Experience nationwide security coverage with SIA-licensed officers"}),(0,Sv.jsxs)("div",{className:T0,children:[(0,Sv.jsx)("button",{className:E0,onClick:c,children:"Request CPO Services"}),(0,Sv.jsx)("button",{className:A0,onClick:()=>window.location.href="tel:+442071234567",children:"Call Operations Center"})]})]})})]})}const L0="SituationSelector_container__zTX7O",R0="SituationSelector_carouselWrapper__4vPEt",M0="SituationSelector_navArrow__DcUvv",O0="SituationSelector_navArrowLeft__gzhz3",D0="SituationSelector_navArrowRight__+oZeF",F0="SituationSelector_carouselContainer__yEUNK",B0="SituationSelector_carouselTrack__coTRZ",q0="SituationSelector_carouselIndicators__k9Kek",z0="SituationSelector_indicator__ysv0H",W0="SituationSelector_indicatorActive__wgI3-",H0="SituationSelector_situationCard__47qMC",U0="SituationSelector_selected__Bke4d",V0="SituationSelector_cardHeader__sNR5h",G0="SituationSelector_titleSection__h0svq",Y0="SituationSelector_label__u3UMS",K0="SituationSelector_labelIcon__tGfF6",Q0="SituationSelector_checkmark__tnDWx",Z0="SituationSelector_forSection__JioFt",J0="SituationSelector_actionsSection__IffNH",X0="SituationSelector_actionsTitle__ICFNj",$0="SituationSelector_actionsList__e9Ign",e1="SituationSelector_actionItem__ak-xk",t1="SituationSelector_exampleSection__6eSe+",n1="SituationSelector_footer__L7C-l",i1="SituationSelector_idealFor__RUDlm",s1="SituationSelector_badges__pFpF9",r1="SituationSelector_siaLicensed__RtYfH",a1="SituationSelector_transportIncluded__Z-afd",o1="SituationSelector_selectButton__OauwQ",c1="SituationSelector_selectButtonSelected__U6cHU",l1="SituationSelector_cardActions__Xqx1Q",d1="SituationSelector_detailsButton__J8gn3",u1="SituationSelector_collapsed__u5vQz",h1="SituationSelector_expanded__6Gh+Q",p1="SituationSelector_useCasesList__E3F8j",m1="SituationSelector_trustIndicators__20e1s",f1="SituationSelector_bookingCount__9R41X",_1="SituationSelector_ratingDisplay__OhMfo",g1="SituationSelector_durationHint__OL2H1",v1="SituationSelector_expandedContent__sq9K1",y1=[{id:"medical",icon:"\ud83c\udfe5",label:"Medical",description:"Hospital visits, clinic appointments",useCases:["Harley Street visits","A&E trips","Elderly care","Specialist consultations"],typicalDuration:"2-3 hours",bookingCount:847,rating:4.9,scenarios:"Hospital appointments, clinics, procedures, specialist consultations",cpoActions:["Provides secure vehicle transport to appointment","Meets you at entrance and handles check-in","Remains in waiting areas for your security","Escorts between departments and consultations","Ensures safe journey home in secure vehicle"],realExample:"Client needed discrete protection AND secure transport from Chelsea to Harley Street consultation and return journey",idealFor:"Vulnerable patients, elderly, those attending sensitive appointments",recommended:"essential"},{id:"business",icon:"\ud83d\udcbc",label:"Business",description:"Meetings, negotiations, corporate events",useCases:["Board meetings","Investor pitches","Site visits","Corporate dinners"],typicalDuration:"2-6 hours",bookingCount:1243,rating:4.9,scenarios:"Corporate meetings, negotiations, conferences, business dinners",cpoActions:["Secure vehicle transport to business location","Advance venue security assessment","Discrete presence during meetings","Secure handling of documents/devices","Protected transit to next location in secure vehicle"],realExample:"CEO required protection and secure transport during hostile takeover negotiations from Mayfair to Canary Wharf",idealFor:"Executives, high-net-worth individuals, sensitive business dealings",recommended:"executive"},{id:"event",icon:"\ud83c\udfad",label:"Event",description:"Concerts, theaters, public gatherings",useCases:["Premieres","Galas","Sporting events","Award ceremonies"],typicalDuration:"3-5 hours",bookingCount:621,rating:5,scenarios:"Premieres, galas, sporting events, concerts, award ceremonies",cpoActions:["Secure vehicle transport to event venue","Crowd management and navigation","VIP entrance coordination","Continuous proximity protection throughout event","Protected departure and secure vehicle exit"],realExample:"TV personality required secure transport and protection for BAFTA awards at Royal Festival Hall",idealFor:"Celebrities, public figures, VIP event attendees",recommended:"shadow"},{id:"travel",icon:"\u2708\ufe0f",label:"Travel",description:"Airport transfers, station pickups",useCases:["Heathrow transfers","Station pickups","Hotel check-ins","Port arrivals"],typicalDuration:"2-3 hours",bookingCount:1876,rating:4.8,scenarios:"Airport transfers, train stations, hotel check-ins, port arrivals",cpoActions:["Secure vehicle collection from terminal/station","Luggage monitoring and security assistance","Fast-track assistance where possible","Route planning and threat assessment during transport","Door-to-door protection service in secure vehicle"],realExample:"International executive needed secure vehicle transport and protection from Heathrow to Mayfair hotel",idealFor:"Business travelers, families, international visitors",recommended:"client-vehicle"},{id:"general",icon:"\ud83d\udecd\ufe0f",label:"General",description:"Shopping, errands, daily activities",useCases:["Bond Street shopping","Restaurant visits","Personal errands","Daily activities"],typicalDuration:"2-4 hours",bookingCount:1052,rating:4.7,scenarios:"Shopping trips, restaurant visits, errands, daily activities",cpoActions:["Secure vehicle transport to destination","Personal escort throughout activities","Carries shopping/belongings if needed","Monitors surroundings continuously","Protected transport back to residence in secure vehicle"],realExample:"Client required secure transport and protection for Bond Street luxury shopping with return to Kensington",idealFor:"Daily activities, personal errands, anyone needing peace of mind",recommended:"essential"}];function x1(t){let{selectedSituation:n,onSituationSelect:i}=t;const[s,r]=(0,e.useState)(0),[a,o]=(0,e.useState)(null),c=y1.length,l=e=>{const t=window.innerWidth<768,n=window.innerWidth>=768&&window.innerWidth<1024;if(t){return e*(Math.min(.67*window.innerWidth,280)+16)}return n?336*e:316*e},d=(0,e.useCallback)(e=>{const t=document.getElementById("situationCarousel");t&&(t.scrollTo({left:l(e),behavior:"smooth"}),r(e))},[]),u=(0,e.useCallback)(e=>{const t="left"===e?Math.max(0,s-1):Math.min(c-1,s+1);d(t)},[s,c,d]);return(0,e.useEffect)(()=>{const e=e=>{if(e.target&&e.target.closest(".carouselWrapper"))switch(e.key){case"ArrowLeft":e.preventDefault(),u("left");break;case"ArrowRight":e.preventDefault(),u("right");break;case"Home":e.preventDefault(),d(0);break;case"End":e.preventDefault(),d(c-1)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[c,s,u,d]),(0,e.useEffect)(()=>{const e=document.getElementById("situationCarousel");if(!e)return;let t=!1;const n=()=>{t||(requestAnimationFrame(()=>{(()=>{const t=e.scrollLeft,n=window.innerWidth<768,i=window.innerWidth>=768&&window.innerWidth<1024;let a;a=n?Math.min(.67*window.innerWidth,280)+16:i?336:316;const o=Math.round(t/a);o!==s&&o>=0&&o<c&&r(o)})(),t=!1}),t=!0)};return e.addEventListener("scroll",n,{passive:!0}),()=>e.removeEventListener("scroll",n)},[c,s]),(0,Sv.jsx)("div",{className:L0,children:(0,Sv.jsxs)("div",{className:R0,children:[(0,Sv.jsx)("button",{className:"".concat(M0," ").concat(O0),onClick:()=>u("left"),disabled:0===s,"aria-label":"Previous situation",children:"\u2039"}),(0,Sv.jsx)("button",{className:"".concat(M0," ").concat(D0),onClick:()=>u("right"),disabled:s===c-1,"aria-label":"Next situation",children:"\u203a"}),(0,Sv.jsx)("div",{id:"situationCarousel",className:F0,role:"region","aria-label":"Situation protection options carousel",children:(0,Sv.jsx)("div",{className:B0,children:y1.map(e=>{const t=n===e.id,s=a===e.id;return(0,Sv.jsxs)("div",{className:"".concat(H0," ").concat(t?U0:""," ").concat(s?h1:u1),children:[(0,Sv.jsxs)("div",{className:V0,children:[(0,Sv.jsx)("div",{className:G0,children:(0,Sv.jsxs)("h3",{className:Y0,children:[(0,Sv.jsx)("span",{className:K0,children:e.icon}),e.label]})}),t&&(0,Sv.jsx)("span",{className:Q0,children:"\u2713"})]}),(0,Sv.jsx)("div",{className:p1,children:e.useCases.join(" \u2022 ")}),(0,Sv.jsxs)("div",{className:m1,children:[(0,Sv.jsxs)("span",{className:f1,children:[e.bookingCount.toLocaleString()," clients this month"]}),(0,Sv.jsxs)("span",{className:_1,children:["\u2605 ",e.rating," rating"]})]}),(0,Sv.jsxs)("div",{className:g1,children:["Typically ",e.typicalDuration]}),(0,Sv.jsxs)("div",{className:l1,children:[(0,Sv.jsx)("button",{className:"".concat(o1," ").concat(t?c1:""),onClick:()=>(e=>{n===e.id?i(null):i(e)})(e),"aria-label":t?"Deselect ".concat(e.label," protection service"):"Select ".concat(e.label," protection service"),children:t?"Selected \u2713":"Select This Protection"}),(0,Sv.jsx)("button",{className:d1,onClick:()=>{return t=e.id,void o(a===t?null:t);var t},"aria-label":"".concat(s?"Hide":"View"," details for ").concat(e.label),children:s?"Show Less \u2191":"View Details \u2193"})]}),s&&(0,Sv.jsxs)("div",{className:v1,children:[(0,Sv.jsxs)("div",{className:Z0,children:[(0,Sv.jsx)("strong",{children:"For:"})," ",e.scenarios]}),(0,Sv.jsxs)("div",{className:J0,children:[(0,Sv.jsx)("div",{className:X0,children:"What your CPO does:"}),(0,Sv.jsx)("ul",{className:$0,children:e.cpoActions.map((e,t)=>(0,Sv.jsxs)("li",{className:e1,children:["\u2022 ",e]},t))})]}),(0,Sv.jsxs)("div",{className:t1,children:[(0,Sv.jsx)("strong",{children:"Real example:"})," ",e.realExample]}),(0,Sv.jsxs)("div",{className:n1,children:[(0,Sv.jsxs)("div",{className:i1,children:[(0,Sv.jsx)("strong",{children:"Ideal for:"})," ",e.idealFor]}),(0,Sv.jsxs)("div",{className:s1,children:[(0,Sv.jsx)("div",{className:r1,children:"\u2713 SIA Licensed"}),(0,Sv.jsx)("div",{className:a1,children:"\ud83d\ude97 Secure Vehicle Included"})]})]})]})]},e.id)})})}),(0,Sv.jsx)("div",{className:q0,children:y1.map((e,t)=>(0,Sv.jsx)("button",{className:"".concat(z0," ").concat(s===t?W0:""),onClick:()=>d(t),"aria-label":"Go to situation ".concat(t+1)},t))})]})})}const b1="ServiceComparison_container__gco+K",S1="ServiceComparison_serviceName__22iBt",w1="ServiceComparison_customerQuote__HHNBg",N1="ServiceComparison_keyBenefits__bKTmn",j1="ServiceComparison_featureList__2uiZh",C1="ServiceComparison_featureItem__M6-PH",k1="ServiceComparison_selectButton__g-SWW",P1="ServiceComparison_serviceCards__O5J-s",T1="ServiceComparison_serviceCard__jhemk",E1="ServiceComparison_selectedCard__003hp",A1="ServiceComparison_collapsedCard__euLBN",I1="ServiceComparison_expandedCard__v2Oaz",L1="ServiceComparison_cardHeader__wS3xa",R1="ServiceComparison_serviceTitleSection__2fIaf",M1="ServiceComparison_serviceNamePrice__s+slK",O1="ServiceComparison_popularBadge__WeoUl",D1="ServiceComparison_preselectedBadge__2VTse",F1="ServiceComparison_servicePrice__Apv3A",B1="ServiceComparison_uniqueSellingPoint__1IJd3",q1="ServiceComparison_selectedCheckmark__Oz6tV",z1="ServiceComparison_quickStats__KUTju",W1="ServiceComparison_stat__l3wBZ",H1="ServiceComparison_statSeparator__84U+I",U1="ServiceComparison_cardActions__2JQxR",V1="ServiceComparison_selectedButton__gmdnx",G1="ServiceComparison_detailsButton__LmdH-",Y1="ServiceComparison_expandedContent__F6XeA",K1="ServiceComparison_securityScenario__C8que",Q1="ServiceComparison_scenarioClassification__hpDeb",Z1="ServiceComparison_scenarioTitle__wcSjZ",J1="ServiceComparison_scenarioText__Urx5A",X1="ServiceComparison_customerQuoteSection__vSm7b",$1="ServiceComparison_quoteLabel__aabzk",e2="ServiceComparison_featureGrid__zpA4S",t2="ServiceComparison_featureColumn__FAZZm",n2="ServiceComparison_featureTitle__krCtc",i2="ServiceComparison_benefitBadge__QCRkF",s2=[{id:"essential",name:"Essential Protection",shortName:"Essential",icon:"",rate:"\xa350/hr + \xa32.50/mile",hourlyRate:50,mileageRate:2.5,responseTime:"2-4 minutes",officerLevel:"1 Protection Officer",experience:"SIA-Licensed CPO",training:"Professional close protection",threatAssessment:!1,counterSurveillance:!1,bestFor:["Business meetings","Property viewings","Medical appointments"],features:["Real-time GPS tracking throughout journey","Secure communication with operations center","Officer flexibility - inside or vehicle standby"],badge:"MOST BOOKED"},{id:"executive",name:"Executive Protection",shortName:"Executive",icon:"",rate:"\xa375/hr + \xa33.50/mile",hourlyRate:75,mileageRate:3.5,responseTime:"3-5 minutes",officerLevel:"1-2 Protection Officers",experience:"SIA Level 3 CPO",training:"Enhanced executive security",threatAssessment:!0,counterSurveillance:!1,bestFor:["VIP events","High-value negotiations","Public appearances"],features:["Pre-event venue security assessment","Dual-officer coordination protocols","Premium secure vehicle fleet included"]},{id:"shadow",name:"Shadow Protection",shortName:"Shadow",icon:"",rate:"\xa365/hr + \xa33.00/mile",hourlyRate:65,mileageRate:3,responseTime:"5-8 minutes",officerLevel:"1-6 Officers (Scalable)",experience:"Special Forces Trained",training:"Covert layered security",threatAssessment:!0,counterSurveillance:!0,bestFor:["HNW individuals","Elevated threats","Complete anonymity"],features:["Counter-surveillance detection systems","Encrypted team communication network","Rotating officer positions for pattern avoidance"]},{id:"client-vehicle",name:"Client Vehicle Service",shortName:"Your Car",icon:"",rate:"\xa355/hr",hourlyRate:55,mileageRate:0,responseTime:"4-6 minutes",officerLevel:"Your Own Vehicle",experience:"SIA-Licensed Driver",training:"Your car, our expertise",threatAssessment:!1,counterSurveillance:!1,bestFor:["Own luxury vehicle","Familiar comfort","Cost savings"],features:["Comprehensive vehicle insurance coverage","Respect for personal vehicle settings","Zero mileage or fuel surcharges"]}],r2=e=>({essential:"I need professional protection for business meetings and appointments. Single officer provides security without being over the top.",executive:"Multiple officers for coordinated security at high-profile events. Advance planning gives me complete confidence.",shadow:"Invisible protection that scales with threat level. Up to 6 officers in plain clothes - nobody knows they're there.","client-vehicle":"I prefer using my own vehicle. Having a security-trained officer drive means no mileage charges and complete privacy."}[e]||""),a2=e=>({essential:"**Real Example: Business Meeting in Central London**\n\nHow it works:\n1. Single CPO arrives at your location at agreed time\n2. Security check and route briefing conducted\n3. Protected travel to your destination\n4. Officer accompanies you inside OR waits with vehicle (your choice)\n5. Secure return journey completed\n\nWhy clients choose this:\n\u2022 Affordable professional protection for daily activities\n\u2022 Discrete security presence without drawing attention\n\u2022 Flexibility - officer adapts to your preferences",executive:"**Real Example: High-Profile Restaurant Reservation**\n\nHow it works:\n1. Advance reconnaissance of venue 24 hours prior\n2. Team arrives 15 minutes early for security briefing\n3. Protected travel in premium secure vehicle\n4. One officer maintains vehicle security throughout\n5. Second officer provides close protection inside venue\n6. Coordinated secure departure with flexible routing\n\nWhy clients choose this:\n\u2022 Multiple officers provide layered security coverage\n\u2022 Advance planning eliminates surprises and risks\n\u2022 Professional coordination impresses clients and colleagues",shadow:"**Real Example: Private Shopping in Mayfair**\n\nHow it works:\n1. Lead CPO picks you up (can drive your personal vehicle)\n2. Additional officers positioned strategically around 20-30m perimeter\n3. Plain clothes team maintains covert monitoring via radio\n4. Officers rotate positions to avoid pattern recognition\n5. Zero visible security presence maintained\n6. Discreet departure with advance/follow vehicles if needed\n\nWhy clients choose this:\n\u2022 Completely invisible protection - nobody knows you're secured\n\u2022 Scales from 1 to 6 officers based on actual threat level\n\u2022 Military-grade covert operations for maximum discretion","client-vehicle":"**Real Example: Evening Gala in Your Personal Vehicle**\n\nHow it works:\n1. SIA-licensed officer arrives at your location\n2. Officer professionally operates YOUR vehicle\n3. Expert protective driving while you relax\n4. No mileage charges (you provide the vehicle)\n5. Secure return to your location after event\n\nWhy clients choose this:\n\u2022 Use your own luxury car with professional security driving\n\u2022 Most economical option - no vehicle rental or mileage fees\n\u2022 Complete privacy and familiar comfort throughout"}[e]||""),o2=e=>({essential:["1 Protection Officer","SIA-Licensed","2-4 min response","2-hour minimum","Door-to-door security","\xa350/hr + \xa32.50/mile"],executive:["1-2 Officers (scalable)","Advance reconnaissance","3-5 min response","Coordinated security","Premium vehicles","\xa375/hr + \xa33.50/mile"],shadow:["1-6 Officers (scalable)","Plain clothes","5-8 min response","Layered perimeter","Covert operations","\xa365/hr + \xa33.00/mile"],"client-vehicle":["SIA-licensed officer","Your vehicle","4-6 min response","No mileage fees","Your comfort","\xa355/hr only"]}[e]||[]);function c2(t){let{selectedServiceId:n,onServiceSelect:i,recommendedService:s,preselectedServiceId:r,source:a}=t;const[o,c]=(0,e.useState)(null),l=e=>({essential:"Single officer for professional protection \u2022 Perfect for meetings, appointments & daily security",executive:"1-2 officers with advance planning \u2022 Coordinated security for high-profile occasions",shadow:"1-6 officers in plain clothes \u2022 Scalable covert protection for elevated threat levels","client-vehicle":"Security officer operates your vehicle \u2022 No mileage fees, complete privacy"}[e.id]||"");return(0,Sv.jsx)("div",{className:b1,children:(0,Sv.jsx)("div",{className:P1,children:s2.map(e=>{const t=n===e.id,s=o===e.id,d=r===e.id;return(0,Sv.jsxs)("div",{className:"".concat(T1," ").concat(t?E1:""," ").concat(s?I1:A1),children:[(0,Sv.jsxs)("div",{className:L1,children:[(0,Sv.jsxs)("div",{className:R1,children:[(0,Sv.jsxs)("div",{className:M1,children:[(0,Sv.jsxs)("h3",{className:S1,children:[e.shortName,e.badge&&(0,Sv.jsx)("span",{className:O1,children:e.badge}),d&&(0,Sv.jsxs)("span",{className:D1,children:["Selected from ","home"===a?"Home":"Services"]})]}),(0,Sv.jsx)("span",{className:F1,children:e.rate})]}),(0,Sv.jsx)("div",{className:B1,children:l(e)})]}),t&&(0,Sv.jsx)("span",{className:q1,children:"\u2713"})]}),(0,Sv.jsxs)("div",{className:z1,children:[(0,Sv.jsxs)("span",{className:W1,children:["\u26a1 ",e.responseTime]}),(0,Sv.jsx)("span",{className:H1,children:"\u2022"}),(0,Sv.jsxs)("span",{className:W1,children:["\ud83d\ude97 ",e.officerLevel]}),(0,Sv.jsx)("span",{className:H1,children:"\u2022"}),(0,Sv.jsx)("span",{className:W1,children:"\u23f1\ufe0f 2-hour minimum"})]}),(0,Sv.jsxs)("div",{className:U1,children:[(0,Sv.jsx)("button",{className:"".concat(k1," ").concat(t?V1:""),onClick:()=>(e=>{n===e.id?i(null):i(e)})(e),"aria-label":t?"Deselect ".concat(e.shortName," protection service"):"Select ".concat(e.shortName," protection service"),children:t?"Selected \u2713":"Select"}),(0,Sv.jsx)("button",{className:G1,onClick:()=>{return t=e.id,void c(o===t?null:t);var t},children:s?"Less \u2191":"Why? \u2193"})]}),s&&(0,Sv.jsxs)("div",{className:Y1,children:[(0,Sv.jsxs)("div",{className:K1,children:[(0,Sv.jsx)("div",{className:Q1,children:(u=e.id,{essential:"LEVEL 2 \u2022 EVERYDAY PROTECTION",executive:"LEVEL 3 \u2022 ENHANCED EXECUTIVE SECURITY",shadow:"TIER 1 \u2022 COVERT OPERATIONS","client-vehicle":"SIA-LICENSED \u2022 YOUR VEHICLE PROTOCOL"}[u]||"")}),(0,Sv.jsx)("div",{className:Z1,children:"\ud83c\udfac YOUR PERSONAL SECURITY DETAIL IN ACTION"}),(0,Sv.jsx)("div",{className:J1,children:a2(e.id)})]}),(0,Sv.jsxs)("div",{className:X1,children:[(0,Sv.jsx)("div",{className:$1,children:"Customer says:"}),(0,Sv.jsxs)("div",{className:w1,children:['"',r2(e.id),'"']})]}),(0,Sv.jsxs)("div",{className:e2,children:[(0,Sv.jsxs)("div",{className:t2,children:[(0,Sv.jsx)("h4",{className:n2,children:"What you get:"}),(0,Sv.jsx)("ul",{className:j1,children:e.features.slice(0,3).map((e,t)=>(0,Sv.jsxs)("li",{className:C1,children:["\u2713 ",e]},t))})]}),(0,Sv.jsxs)("div",{className:t2,children:[(0,Sv.jsx)("h4",{className:n2,children:"Best for:"}),(0,Sv.jsx)("ul",{className:j1,children:e.bestFor.slice(0,3).map((e,t)=>(0,Sv.jsxs)("li",{className:C1,children:["\u2022 ",e]},t))})]})]}),(0,Sv.jsx)("div",{className:N1,children:o2(e.id).map((e,t)=>(0,Sv.jsx)("span",{className:i2,children:e},t))})]})]},e.id);var u})})})}const l2="WhatYouGet_container__NZHhN",d2="WhatYouGet_header__BBS4Z",u2="WhatYouGet_title__5VfnH",h2="WhatYouGet_subtitle__yO8kh",p2="WhatYouGet_content__B3rTD",m2="WhatYouGet_section__4mFR4",f2="WhatYouGet_sectionTitle__-DasP",_2="WhatYouGet_timeline__bYRA0",g2="WhatYouGet_timelineItem__qkGz+",v2="WhatYouGet_timelineTime__zp7QL",y2="WhatYouGet_timelineDot__5D0Jz",x2="WhatYouGet_timelineAction__c8H70",b2="WhatYouGet_includedList__2q8VP",S2="WhatYouGet_includedItem__jjiUo",w2="WhatYouGet_includedCheck__EtrxS",N2="WhatYouGet_exampleSection__DZ7sY",j2="WhatYouGet_exampleTitle__2PnMr",C2="WhatYouGet_exampleText__1PTd-",k2={medical:{essential:{situation:"Medical Appointment",service:"Essential Protection",timeline:[{time:"2:00pm",action:"Book protection"},{time:"2:03pm",action:"CPO dispatched"},{time:"2:05pm",action:"CPO arrives, shows ID"},{time:"2:10pm",action:"Escort to appointment"},{time:"2:15pm",action:"CPO waits in lobby"},{time:"3:15pm",action:"Escort back to vehicle"},{time:"4:00pm",action:"Service complete"}],included:["Personal escort service","Waiting during appointment","Safe return to vehicle","Emergency contact available","Basic security awareness"],example:{title:"Real Example",description:"Principal attended Harley Street consultation. CPO provided discrete lobby presence, maintained visual contact with exits, escorted to parking after 90-minute appointment."}}},business:{executive:{situation:"Business Meeting",service:"Executive Shield",timeline:[{time:"2:00pm",action:"Book protection"},{time:"2:03pm",action:"CPO dispatched"},{time:"2:05pm",action:"CPO arrives, shows ID"},{time:"2:10pm",action:"Venue security assessment"},{time:"2:15pm",action:"Meeting begins (CPO positioned)"},{time:"4:15pm",action:"Escort to next location"},{time:"4:15pm",action:"Service complete"}],included:["Pre-arrival venue check","Discrete positioning during meeting","Threat monitoring","Emergency evacuation planning","Secure escort to/from venue","Direct officer contact number"],example:{title:"Real Example",description:"Executive visited client office in Canary Wharf. CPO conducted lobby assessment, maintained visual contact during 2-hour meeting, coordinated with building security, escorted to parking."}}},event:{shadow:{situation:"Public Event",service:"Shadow Protocol",timeline:[{time:"6:00pm",action:"Book protection"},{time:"6:05pm",action:"Elite CPO dispatched"},{time:"6:10pm",action:"CPO arrives, security brief"},{time:"6:15pm",action:"Venue reconnaissance"},{time:"6:30pm",action:"Secure entry to venue"},{time:"7:00pm",action:"Continuous proximity protection"},{time:"10:00pm",action:"Secure exit and departure"}],included:["Advanced threat assessment","Counter-surveillance measures","Crowd navigation expertise","VIP access coordination","Continuous close protection","Emergency extraction capability"],example:{title:"Real Example",description:"VIP attended West End premiere. Shadow Protocol officer provided covert protection, managed crowd interactions, coordinated with venue security, ensured safe transit through 500+ attendees."}}},travel:{"client-vehicle":{situation:"Airport Transfer",service:"Client Vehicle Service",timeline:[{time:"4:00am",action:"Book protection"},{time:"4:04am",action:"Security driver dispatched"},{time:"4:08am",action:"Driver arrives at residence"},{time:"4:10am",action:"Vehicle security check"},{time:"4:15am",action:"Secure transit begins"},{time:"5:30am",action:"Airport terminal arrival"},{time:"5:35am",action:"Luggage assistance & escort"}],included:["Your vehicle used","Security driving techniques","Route planning & monitoring","Luggage handling","Terminal escort service","No mileage charges"],example:{title:"Real Example",description:"Early morning Heathrow transfer in client's Range Rover. Security driver conducted vehicle check, selected secure route, assisted with check-in, ensured safe terminal entry."}}},general:{essential:{situation:"Shopping & Errands",service:"Essential Protection",timeline:[{time:"10:00am",action:"Book protection"},{time:"10:03am",action:"CPO dispatched"},{time:"10:05am",action:"CPO arrives, shows ID"},{time:"10:10am",action:"Begin accompanied shopping"},{time:"11:30am",action:"Multiple location escorts"},{time:"12:00pm",action:"Return to residence"},{time:"12:05pm",action:"Service complete"}],included:["Personal accompaniment","Package carrying assistance","Area security monitoring","Discrete protection presence","Multiple stop capability"],example:{title:"Real Example",description:"Bond Street shopping with stops at Selfridges, Harrods, and private galleries. CPO managed packages, monitored surroundings, provided discrete but visible security presence."}}}};function P2(e){var t;let{situation:n,service:i}=e;const s=k2.general.essential,r=n&&i&&(null===(t=k2[n])||void 0===t?void 0:t[i])||s;return(0,Sv.jsxs)("div",{className:l2,children:[(0,Sv.jsxs)("div",{className:d2,children:[(0,Sv.jsx)("h2",{className:u2,children:"Your Protection Plan"}),(0,Sv.jsxs)("div",{className:h2,children:[r.situation," with ",r.service]})]}),(0,Sv.jsxs)("div",{className:p2,children:[(0,Sv.jsxs)("div",{className:m2,children:[(0,Sv.jsx)("h3",{className:f2,children:"Timeline"}),(0,Sv.jsx)("div",{className:_2,children:r.timeline.map((e,t)=>(0,Sv.jsxs)("div",{className:g2,children:[(0,Sv.jsx)("div",{className:v2,children:e.time}),(0,Sv.jsx)("div",{className:y2}),(0,Sv.jsx)("div",{className:x2,children:e.action})]},t))})]}),(0,Sv.jsxs)("div",{className:m2,children:[(0,Sv.jsx)("h3",{className:f2,children:"What's Included"}),(0,Sv.jsx)("ul",{className:b2,children:r.included.map((e,t)=>(0,Sv.jsxs)("li",{className:S2,children:[(0,Sv.jsx)("span",{className:w2,children:"\u2713"}),e]},t))})]}),(0,Sv.jsxs)("div",{className:N2,children:[(0,Sv.jsx)("h3",{className:j2,children:r.example.title}),(0,Sv.jsx)("p",{className:C2,children:r.example.description})]})]})]})}const T2="OfficerProfile_container__15gHJ",E2="OfficerProfile_header__lA4zm",A2="OfficerProfile_title__QLu5w",I2="OfficerProfile_subtitle__BSWHT",L2="OfficerProfile_content__KZ-Hh",R2="OfficerProfile_sectionRow__hkTgn",M2="OfficerProfile_section__aprP+",O2="OfficerProfile_arrivalSection__9b+M-",D2="OfficerProfile_sectionTitle__thrPR",F2="OfficerProfile_equipmentList__n4gbp",B2="OfficerProfile_equipmentItem__SZ9Hx",q2="OfficerProfile_equipmentIcon__Ko5PP",z2="OfficerProfile_qualificationGrid__mVJUf",W2="OfficerProfile_qualificationItem__4Jq+m",H2="OfficerProfile_checkIcon__MKj5b",U2="OfficerProfile_qualificationText__ajGkr",V2="OfficerProfile_processSteps__NTK1T",G2="OfficerProfile_processStep__Ed-UJ",Y2="OfficerProfile_stepNumber__186sQ",K2="OfficerProfile_stepDescription__I7eCl",Q2="OfficerProfile_verificationNotice__hZH4b",Z2="OfficerProfile_noticeIcon__W5tiu",J2="OfficerProfile_noticeContent__MkIRB",X2="OfficerProfile_noticeTitle__2pyZz",$2="OfficerProfile_noticeText__SPptd",e3={essential:{serviceLevel:"Essential Protection Officer",equipment:["Photo ID badge & reference number","Professional black attire","Radio communication","First aid kit","Emergency contact device"],qualifications:["SIA Level 2 Licensed","2+ years experience","Background verified","First aid certified"],arrivalProcess:[{step:"1",description:"Officer presents ID"},{step:"2",description:"You verify reference number"},{step:"3",description:"Confirm protection duration"},{step:"4",description:"Exchange contact numbers"},{step:"5",description:"Begin protection service"}]},executive:{serviceLevel:"Executive Protection Officer",equipment:["Photo ID badge & reference number","Professional suit attire","Encrypted radio system","Advanced first aid kit","Threat detection equipment","Secure communication device"],qualifications:["SIA Level 3 Licensed","5+ years experience","Ex-police/military background","Advanced first aid certified","Corporate protection trained"],arrivalProcess:[{step:"1",description:"Officer presents credentials"},{step:"2",description:"Security briefing provided"},{step:"3",description:"Venue assessment conducted"},{step:"4",description:"Secure communications established"},{step:"5",description:"Protection detail commences"}]},shadow:{serviceLevel:"Shadow Protocol Specialist",equipment:["Covert ID & authentication","Tactical civilian attire","Military-grade comms","Combat medical kit","Counter-surveillance tools","Emergency extraction gear"],qualifications:["Military/Special Forces background","10+ years experience","Top secret clearance","Combat medical trained","Counter-terrorism certified"],arrivalProcess:[{step:"1",description:"Covert authentication"},{step:"2",description:"Threat assessment briefing"},{step:"3",description:"Perimeter security check"},{step:"4",description:"Establish extraction routes"},{step:"5",description:"Begin shadow protection"}]},"client-vehicle":{serviceLevel:"Security Driver",equipment:["Photo ID & driving credentials","Professional driver attire","Vehicle communication system","Emergency roadside kit","Navigation & traffic monitoring"],qualifications:["Security driving certified","3+ years experience","Advanced driving qualified","Vehicle security trained","Route planning expertise"],arrivalProcess:[{step:"1",description:"Driver presents credentials"},{step:"2",description:"Vehicle security check"},{step:"3",description:"Route planning discussion"},{step:"4",description:"Safety features review"},{step:"5",description:"Secure transit begins"}]}};function t3(e){let{selectedService:t}=e;const n=e3[t||"essential"]||e3.essential,i=e=>{const t=e.toLowerCase();return t.includes("id")||t.includes("badge")||t.includes("reference")?"\ud83e\udeaa":t.includes("suit")||t.includes("attire")||t.includes("professional")?"\ud83d\udd74\ufe0f":t.includes("radio")||t.includes("comms")||t.includes("communication")?"\ud83d\udcfb":t.includes("first aid")?"\u26d1\ufe0f":t.includes("threat")||t.includes("detection")||t.includes("counter")?"\ud83d\udef0\ufe0f":t.includes("secure")||t.includes("encrypted")?"\ud83d\udd12":t.includes("emergency")?"\ud83d\udea8":t.includes("navigation")?"\ud83e\udded":t.includes("driver")||t.includes("vehicle")?"\ud83d\ude97":"\ud83d\udee1\ufe0f"};return(0,Sv.jsxs)("div",{className:T2,children:[(0,Sv.jsxs)("div",{className:E2,children:[(0,Sv.jsx)("h2",{className:A2,children:"Your Protection Officer"}),(0,Sv.jsx)("p",{className:I2,children:n.serviceLevel})]}),(0,Sv.jsxs)("div",{className:L2,children:[(0,Sv.jsxs)("div",{className:R2,children:[(0,Sv.jsxs)("div",{className:M2,children:[(0,Sv.jsx)("h3",{className:D2,children:"Will Arrive With:"}),(0,Sv.jsx)("ul",{className:F2,children:n.equipment.map((e,t)=>(0,Sv.jsxs)("li",{className:B2,children:[(0,Sv.jsx)("span",{className:q2,children:i(e)}),e]},t))})]}),(0,Sv.jsxs)("div",{className:M2,children:[(0,Sv.jsx)("h3",{className:D2,children:"Qualifications:"}),(0,Sv.jsx)("div",{className:z2,children:n.qualifications.map((e,t)=>(0,Sv.jsxs)("div",{className:W2,children:[(0,Sv.jsx)("span",{className:H2,children:"\u2713"}),(0,Sv.jsx)("span",{className:U2,children:e})]},t))})]})]}),(0,Sv.jsxs)("div",{className:"".concat(M2," ").concat(O2),children:[(0,Sv.jsx)("h3",{className:D2,children:"What Happens on Arrival:"}),(0,Sv.jsx)("div",{className:V2,children:n.arrivalProcess.map((e,t)=>(0,Sv.jsxs)("div",{className:G2,children:[(0,Sv.jsx)("div",{className:Y2,children:e.step}),(0,Sv.jsx)("div",{className:K2,children:e.description})]},t))})]}),(0,Sv.jsxs)("div",{className:Q2,children:[(0,Sv.jsx)("div",{className:Z2,children:"\ud83d\udd12"}),(0,Sv.jsxs)("div",{className:J2,children:[(0,Sv.jsx)("div",{className:X2,children:"ID Verification Required"}),(0,Sv.jsx)("div",{className:$2,children:"All officers carry photo ID and a unique reference number. Always verify these before beginning service."})]})]})]})]})}const n3="SavedAddressList_container__8wnwI",i3="SavedAddressList_header__jUZbN",s3="SavedAddressList_title__1KB2Q",r3="SavedAddressList_closeButton__2A3cU",a3="SavedAddressList_content__DY0as",o3="SavedAddressList_section__0MnzB",c3="SavedAddressList_sectionTitle__clOGf",l3="SavedAddressList_addressCard__oKZCO",d3="SavedAddressList_addressIcon__DXX+j",u3="SavedAddressList_addressInfo__r75xI",h3="SavedAddressList_addressLabel__AXM6X",p3="SavedAddressList_addressText__k1Zv+",m3="SavedAddressList_selectIcon__KwlVq",f3="SavedAddressList_emptyState__DeTlM",_3="SavedAddressList_emptyIcon__mlTWy",g3="SavedAddressList_emptyTitle__K8QmT",v3="SavedAddressList_emptyText__kzbPd",y3=e=>{let{savedAddresses:t,recentAddresses:n,onSelectAddress:i,onClose:s}=e;const r=t.find(e=>"home"===e.label),a=t.find(e=>"work"===e.label),o=t.filter(e=>"custom"===e.label),c=e=>{i(e),s()};return(0,Sv.jsxs)("div",{className:n3,children:[(0,Sv.jsxs)("div",{className:i3,children:[(0,Sv.jsx)("h3",{className:s3,children:"Saved Addresses"}),(0,Sv.jsx)("button",{className:r3,onClick:s,"aria-label":"Close saved addresses",children:"\xd7"})]}),(0,Sv.jsxs)("div",{className:a3,children:[(r||a)&&(0,Sv.jsxs)("div",{className:o3,children:[(0,Sv.jsx)("h4",{className:c3,children:"Quick Access"}),r&&(0,Sv.jsxs)("button",{className:l3,onClick:()=>c(r.address),children:[(0,Sv.jsx)("div",{className:d3,children:"\ud83c\udfe0"}),(0,Sv.jsxs)("div",{className:u3,children:[(0,Sv.jsx)("div",{className:h3,children:"Home"}),(0,Sv.jsx)("div",{className:p3,children:r.address})]}),(0,Sv.jsx)("div",{className:m3,children:"\u2192"})]}),a&&(0,Sv.jsxs)("button",{className:l3,onClick:()=>c(a.address),children:[(0,Sv.jsx)("div",{className:d3,children:"\ud83d\udcbc"}),(0,Sv.jsxs)("div",{className:u3,children:[(0,Sv.jsx)("div",{className:h3,children:"Work"}),(0,Sv.jsx)("div",{className:p3,children:a.address})]}),(0,Sv.jsx)("div",{className:m3,children:"\u2192"})]})]}),o.length>0&&(0,Sv.jsxs)("div",{className:o3,children:[(0,Sv.jsx)("h4",{className:c3,children:"Saved Places"}),o.map(e=>(0,Sv.jsxs)("button",{className:l3,onClick:()=>c(e.address),children:[(0,Sv.jsx)("div",{className:d3,children:"\ud83d\udccd"}),(0,Sv.jsxs)("div",{className:u3,children:[(0,Sv.jsx)("div",{className:h3,children:e.customLabel||"Custom"}),(0,Sv.jsx)("div",{className:p3,children:e.address})]}),(0,Sv.jsx)("div",{className:m3,children:"\u2192"})]},e.id))]}),n.length>0&&(0,Sv.jsxs)("div",{className:o3,children:[(0,Sv.jsx)("h4",{className:c3,children:"Recent"}),n.slice(0,5).map((e,t)=>(0,Sv.jsxs)("button",{className:l3,onClick:()=>c(e),children:[(0,Sv.jsx)("div",{className:d3,children:"\ud83d\udd50"}),(0,Sv.jsx)("div",{className:u3,children:(0,Sv.jsx)("div",{className:p3,children:e})}),(0,Sv.jsx)("div",{className:m3,children:"\u2192"})]},"recent-".concat(t)))]}),0===t.length&&0===n.length&&(0,Sv.jsxs)("div",{className:f3,children:[(0,Sv.jsx)("div",{className:_3,children:"\ud83d\udccd"}),(0,Sv.jsx)("h4",{className:g3,children:"No saved addresses yet"}),(0,Sv.jsx)("p",{className:v3,children:"Addresses you use will appear here for quick access next time."})]})]})]})},x3="LocationInput_locationInput__qCtSj",b3="LocationInput_inputWrapper__x1mxa",S3="LocationInput_savedAddressButton__0xqHZ",w3="LocationInput_input__LkcNs",N3="LocationInput_inputIcon__YFnPb",j3="LocationInput_spinner__fJ2IB",C3="LocationInput_spinnerSvg__WODzc",k3="LocationInput_dropdown__nKpqb",P3="LocationInput_dropdownSection__ruJuq",T3="LocationInput_dropdownHeader__HNPVg",E3="LocationInput_dropdownItem__z3DH2",A3="LocationInput_locationIcon__frPcV",I3="LocationInput_locationInfo__4AKUz",L3="LocationInput_locationName__6Vys1",R3="LocationInput_locationInputContainer__l1WM5",M3="LocationInput_addressDisplay__VyZJ-",O3="LocationInput_addressDisplayBox__ovfyS",D3="LocationInput_addressMeta__JJc2-",F3="LocationInput_addressContent__dwtfh",B3="LocationInput_addressPrimary__l5Dxx",q3="LocationInput_addressSecondary__3M86N",z3="LocationInput_autoDetectBadgeInline__p9RUp",W3="LocationInput_checkIcon__qmBjj",H3="LocationInput_editButtonInline__F+9E1",U3="LocationInput_editIcon__iPQUJ",V3="LocationInput_fullAddressPopover__e6U06",G3="LocationInput_fullAddressHeader__8wTLw",Y3="LocationInput_closePopover__xHOiO",K3="LocationInput_fullAddressBody__ZZDzy",Q3="LocationInput_fullAddressActions__APUMK",Z3="LocationInput_copyButton__ztUUU",J3="LocationInput_locationInputWrapper__hQ3gw",X3="LocationInput_inputGroup__9HDZj",$3="LocationInput_inputGroupFirst__KlmQ6",e5="LocationInput_inputGroupLast__8lwKh",t5="LocationInput_inputLabel__rc6Py",n5="LocationInput_routeConnector__yImZ-",i5="LocationInput_routeLine__wSSKu",s5="LocationInput_routeIcon__AXn6I",r5=t=>{let{value:n,onChange:i,pickupLocation:s="",onPickupChange:r,recentLocations:a=[],savedAddresses:o=[],onLocationSelect:c,className:l=""}=t;const[d,u]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(""),[_,g]=(0,e.useState)(""),[v,y]=(0,e.useState)("pickup"),[x,b]=(0,e.useState)(!1),[S,w]=(0,e.useState)(!1),[N,j]=(0,e.useState)(!1),[C,k]=(0,e.useState)(!1),[P,T]=(0,e.useState)(!1),E=(0,e.useRef)(null),A=(0,e.useRef)(null),I=(0,e.useRef)(null),L=(0,e.useRef)(null),[R,M]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=e=>{var t,n;!I.current||I.current.contains(e.target)||null!==(t=E.current)&&void 0!==t&&t.contains(e.target)||null!==(n=A.current)&&void 0!==n&&n.contains(e.target)||L.current&&L.current.contains(e.target)||(u(!1),p(!1),M(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const O=(0,e.useCallback)(()=>{p(!0),u(!1),y("pickup"),g(s)},[s]),D=(0,e.useCallback)(()=>{u(!0),p(!1),y("destination"),f(n)},[n]),F=(0,e.useCallback)(e=>{const t=e.target.value;g(t),r&&r(t)},[r]),B=(0,e.useCallback)(e=>{const t=e.target.value;f(t),i(t)},[i]),q=(0,e.useCallback)(e=>{"pickup"===v?(g(e),p(!1),r&&r(e)):(f(e),u(!1),i(e)),c&&c(e)},[v,i,r,c]);(0,e.useEffect)(()=>{let e=!1;const t=!s||0===s.trim().length;return async function(){if(t&&r&&"geolocation"in navigator)try{b(!0),await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(()=>e(),e=>{t(e)},{enableHighAccuracy:!0,timeout:8e3,maximumAge:6e4})}),navigator.geolocation.getCurrentPosition(async t=>{if(e)return;const{latitude:n,longitude:i}=t.coords,s=await async function(e,t){try{const n=new URLSearchParams({format:"jsonv2",lat:String(e),lon:String(t)}),i=await fetch("https://nominatim.openstreetmap.org/reverse?".concat(n.toString()),{headers:{Accept:"application/json","User-Agent":"armora-security-app/0.1 (contact: support@armora.local)"}});if(!i.ok)return null;const s=await i.json();return(null===s||void 0===s?void 0:s.display_name)||null}catch(n){return null}}(n,i),a="".concat(n.toFixed(5),", ").concat(i.toFixed(5)),o=s||a;w(!0),j(!1),g(o),r(o),b(!1)},()=>{e||b(!1)},{enableHighAccuracy:!0,timeout:8e3,maximumAge:6e4})}catch(n){b(!1)}}(),()=>{e=!0}},[s,r]);const z=(0,e.useCallback)(()=>{setTimeout(()=>{u(!1),p(!1)},200)},[]),W=a;return(0,Sv.jsxs)("div",{className:"".concat(x3," ").concat(l),children:[(0,Sv.jsxs)("div",{className:J3,children:[(0,Sv.jsxs)("div",{className:"".concat(X3," ").concat($3),children:[(0,Sv.jsx)("h3",{className:t5,children:"\ud83d\udccd Protection Commencement Point"}),(0,Sv.jsxs)("div",{className:R3,children:[S&&!N?(0,Sv.jsx)("div",{className:M3,children:(()=>{const{primary:e,secondary:t}=(e=>{if(!e)return{primary:"",secondary:""};const t=e.split(",").map(e=>e.trim());return t.length<=2?{primary:t[0]||"",secondary:t[1]||""}:{primary:t[0],secondary:t.slice(1,3).join(", ")}})(_||s);return(0,Sv.jsx)(Sv.Fragment,{children:(0,Sv.jsxs)("div",{className:O3,children:[(0,Sv.jsxs)("div",{className:F3,children:[(0,Sv.jsx)("div",{className:B3,children:e}),t&&(0,Sv.jsx)("div",{className:q3,children:t})]}),(0,Sv.jsxs)("div",{className:D3,children:[(0,Sv.jsxs)("div",{className:z3,children:[(0,Sv.jsx)("span",{className:W3,children:"\u2713"}),(0,Sv.jsx)("span",{children:"Auto-detected"})]}),(0,Sv.jsxs)("button",{className:H3,type:"button",onClick:()=>{j(!0),setTimeout(()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},0)},"aria-label":"Edit commencement address",children:[(0,Sv.jsx)("span",{className:U3,children:"\u270f\ufe0f"}),"Edit"]})]})]})})})()}):(0,Sv.jsxs)("div",{className:b3,children:[(0,Sv.jsx)("input",{ref:A,type:"text",value:_||s,onChange:F,onFocus:O,onBlur:z,placeholder:x?"Detecting your current location\u2026":"Protection commencement point",className:w3}),x&&(0,Sv.jsx)("div",{className:N3,"aria-label":"Detecting current location",children:(0,Sv.jsx)("div",{className:j3,children:(0,Sv.jsx)("svg",{className:C3,viewBox:"0 0 24 24",children:(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"32",strokeDashoffset:"32"})})})})]}),R&&(0,Sv.jsxs)("div",{ref:L,className:V3,role:"dialog","aria-modal":"false","aria-label":"Full commencement address",children:[(0,Sv.jsxs)("div",{className:G3,children:[(0,Sv.jsx)("span",{children:"Complete Address"}),(0,Sv.jsx)("button",{type:"button",className:Y3,"aria-label":"Close",onClick:()=>M(!1),children:"\xd7"})]}),(0,Sv.jsx)("div",{className:K3,children:_||s}),(0,Sv.jsx)("div",{className:Q3,children:(0,Sv.jsx)("button",{type:"button",className:Z3,onClick:async()=>{try{await navigator.clipboard.writeText(_||s)}catch(e){}},children:"Copy Address"})})]}),!C&&(o.length>0||a.length>0)&&(0,Sv.jsx)("button",{className:S3,onClick:()=>k(!0),type:"button",children:"\ud83d\udccd Use saved address"}),C&&(0,Sv.jsx)(y3,{savedAddresses:o,recentAddresses:a,onSelectAddress:e=>{r&&r(e),g(e),w(!1),j(!1)},onClose:()=>k(!1)})]})]}),(0,Sv.jsxs)("div",{className:n5,children:[(0,Sv.jsx)("div",{className:i5}),(0,Sv.jsx)("div",{className:s5,children:"\u2193"}),(0,Sv.jsx)("div",{className:i5})]}),(0,Sv.jsxs)("div",{className:"".concat(X3," ").concat(e5),children:[(0,Sv.jsx)("h3",{className:t5,children:"\ud83d\udccd Secure Destination"}),(0,Sv.jsxs)("div",{className:R3,children:[(0,Sv.jsx)("div",{className:b3,children:(0,Sv.jsx)("input",{ref:E,type:"text",value:m||n,onChange:B,onFocus:D,onBlur:z,placeholder:"Secure destination",className:w3})}),!P&&(o.length>0||a.length>0)&&(0,Sv.jsx)("button",{className:S3,onClick:()=>T(!0),type:"button",children:"\ud83d\udccd Use saved address"}),P&&(0,Sv.jsx)(y3,{savedAddresses:o,recentAddresses:a,onSelectAddress:e=>{i(e),f(e)},onClose:()=>T(!1)})]})]})]})," ",(d||h)&&W.length>0&&(0,Sv.jsx)("div",{ref:I,className:k3,children:(0,Sv.jsxs)("div",{className:P3,children:[(0,Sv.jsx)("h3",{className:T3,children:"Recent Locations"}),W.map((e,t)=>(0,Sv.jsxs)("button",{className:E3,onClick:()=>q(e),children:[(0,Sv.jsx)("span",{className:A3,children:"\ud83d\udccd"}),(0,Sv.jsx)("div",{className:I3,children:(0,Sv.jsx)("span",{className:L3,children:e})})]},"".concat(e,"-").concat(t)))]})})]})},a5="TimeSelection_timeSelection__XuX5t",o5="TimeSelection_sectionHeader__mZCzA",c5="TimeSelection_sectionTitle__bptjj",l5="TimeSelection_timeButtonStrip__JzbmB",d5="TimeSelection_timeButton__scVVO",u5="TimeSelection_selected__QO5nS",h5="TimeSelection_buttonContent__4vI-j",p5="TimeSelection_buttonHeader__ChTgk",m5="TimeSelection_buttonIcon__R+mcJ",f5="TimeSelection_buttonLabel__-ON8G",_5="TimeSelection_timeDisplay__EJe0I",g5="TimeSelection_fastestIndicator__Cr4OY",v5="TimeSelection_confirmationMessage__c38yc",y5="TimeSelection_checkIcon__oZftq",x5="TimeSelection_confirmationText__N2qAD",b5="TimeSelection_schedulePicker__bYn0I",S5="TimeSelection_scheduleHeader__yY8Np",w5="TimeSelection_scheduleTitle__OfdJy",N5="TimeSelection_scheduleSubtitle__3fWtK",j5="TimeSelection_dateTimeWrapper__YMqrh",C5="TimeSelection_dateTimeLabel__zb6GM",k5="TimeSelection_dateTimeInput__h7taz",P5="TimeSelection_scheduleHelp__coTVn",T5="TimeSelection_helpItem__9kL+L",E5="TimeSelection_helpIcon__IJKZc",A5="TimeSelection_helpText__7lvRX",I5=e=>{let{option:t,isSelected:n,onSelect:i}=e;const s=((e,t)=>{if("schedule"===e)return"Choose time";const n=t.match(/(\d{2}:\d{2})/);return n?n[1]:""})(t.value,t.description),r=s&&"schedule"!==t.value;return(0,Sv.jsx)("button",{className:"".concat(d5," ").concat(n?u5:""),onClick:()=>i(t.value),"aria-pressed":n,children:(0,Sv.jsxs)("div",{className:h5,children:[(0,Sv.jsxs)("div",{className:p5,children:[t.icon&&(0,Sv.jsx)("span",{className:m5,role:"img","aria-hidden":"true",children:t.icon}),(0,Sv.jsx)("span",{className:f5,children:t.label}),t.badge&&"now"===t.value&&(0,Sv.jsx)("span",{className:g5})]}),r&&(0,Sv.jsx)("div",{className:_5,children:s}),"schedule"===t.value&&(0,Sv.jsx)("div",{className:_5,children:s})]})})},L5=t=>{var n,i,s,r;let{timeOptions:a,selectedTime:o,onTimeChange:c,scheduledDateTime:l,onScheduledDateTimeChange:d,minDateTime:u,className:h=""}=t;const[p,m]=(0,e.useState)("schedule"===o),f=e=>{c(e),m("schedule"===e)},_=u||(new Date).toISOString().slice(0,16);return(0,Sv.jsxs)("div",{className:"".concat(a5," ").concat(h),children:[(0,Sv.jsx)("div",{className:o5,children:(0,Sv.jsx)("h3",{className:c5,children:"When should protection commence?"})}),(0,Sv.jsx)("div",{className:l5,children:a.map(e=>(0,Sv.jsx)(I5,{option:e,isSelected:o===e.value,onSelect:f},e.value))}),p&&(0,Sv.jsxs)("div",{className:b5,children:[(0,Sv.jsxs)("div",{className:S5,children:[(0,Sv.jsx)("h3",{className:w5,children:"Select Date & Time"}),(0,Sv.jsx)("p",{className:N5,children:"Choose when your protection should begin"})]}),(0,Sv.jsxs)("div",{className:j5,children:[(0,Sv.jsx)("label",{htmlFor:"scheduled-datetime",className:C5,children:"Protection Start Time"}),(0,Sv.jsx)("input",{id:"scheduled-datetime",type:"datetime-local",value:l||"",onChange:e=>{const t=e.target.value;d&&d(t)},min:_,className:k5,required:!0})]}),(0,Sv.jsxs)("div",{className:P5,children:[(0,Sv.jsxs)("div",{className:T5,children:[(0,Sv.jsx)("span",{className:E5,children:"\u2139\ufe0f"}),(0,Sv.jsx)("span",{className:A5,children:"CPO will be deployed 15 minutes before your scheduled time"})]}),(0,Sv.jsxs)("div",{className:T5,children:[(0,Sv.jsx)("span",{className:E5,children:"\u23f0"}),(0,Sv.jsx)("span",{className:A5,children:"Minimum 2 hours advance booking required"})]})]})]}),o&&"schedule"!==o&&(0,Sv.jsxs)("div",{className:v5,children:[(0,Sv.jsx)("span",{className:y5,children:"\u2713"}),(0,Sv.jsxs)("span",{className:x5,children:["now"===o&&"Your protection officer will arrive within 2-4 minutes","30min"===o&&"Your protection officer will arrive by "+(null===(n=a.find(e=>"30min"===e.value))||void 0===n||null===(i=n.description.match(/(\d{2}:\d{2})/))||void 0===i?void 0:i[1]),"1hour"===o&&"Your protection officer will arrive by "+(null===(s=a.find(e=>"1hour"===e.value))||void 0===s||null===(r=s.description.match(/(\d{2}:\d{2})/))||void 0===r?void 0:r[1])]})]}),"schedule"===o&&l&&(0,Sv.jsxs)("div",{className:v5,children:[(0,Sv.jsx)("span",{className:y5,children:"\u2713"}),(0,Sv.jsxs)("span",{className:x5,children:["Protection scheduled for ",new Date(l).toLocaleString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})]})]})]})},R5="BottomActionBar_bottomActionBar__3KK3V",M5="BottomActionBar_pricingSummary__F1q+2",O5="BottomActionBar_pricingCompact__0McHQ",D5="BottomActionBar_initialState__-g-Wy",F5="BottomActionBar_complianceLine__zUiiE",B5="BottomActionBar_initialHeader__bjo+Y",q5="BottomActionBar_initialTitle__2w+gk",z5="BottomActionBar_minimizedActionContainer__t5p57",W5="BottomActionBar_buttonContainer__QNBy8",H5="BottomActionBar_primaryButton__Iyc8p",U5="BottomActionBar_selectedActionContainer__hE86t",V5="BottomActionBar_journeyRoute__OOdEg",G5="BottomActionBar_errorMessage__Uw4w5",Y5="BottomActionBar_actionButtons__1F2ft",K5="BottomActionBar_fullWidth__v2vPt",Q5="BottomActionBar_disabled__NIngt",Z5="BottomActionBar_spinner__1RZCp",J5="BottomActionBar_spinnerSvg__OSSg5",X5="BottomActionBar_safeAreaPadding__bET8W",$5="BottomActionBar_minimizedHeader__vNFmI",e4="BottomActionBar_expandButton__8ddTk",t4="BottomActionBar_expandIcon__k4L7R",n4="BottomActionBar_expandText__9QhVY",i4="BottomActionBar_expandChevron__A-DUs",s4="BottomActionBar_ctaButton__A+hsa",r4="BottomActionBar_ctaButtonText__dXTif",a4="BottomActionBar_ctaButtonSubtext__DFNY+",o4="BottomActionBar_hideDetailsButton__x19Sc",c4="BottomActionBar_hidden__CU4Di",l4="BottomActionBar_minimized__7zqmP",d4="BottomActionBar_serviceSummarySection__K+kAt",u4="BottomActionBar_serviceSummaryHeader__rQICD",h4="BottomActionBar_serviceSummaryTitle__YDORn",p4="BottomActionBar_headerActions__oIpik",m4="BottomActionBar_changeLinkGold__EE7iO",f4="BottomActionBar_minimizeButton__FXEs-",_4="BottomActionBar_serviceFeatures__im9ci",g4="BottomActionBar_featureBadge__lD9vk",v4="BottomActionBar_journeySummarySection__YsItj",y4="BottomActionBar_journeySectionTitle__8O-kY",x4="BottomActionBar_journeyInfo__JDIcE",b4="BottomActionBar_journeyTiming__OX4ao",S4="BottomActionBar_pricingBreakdownSection__xMzeK",w4="BottomActionBar_pricingSectionTitle__7whYE",N4="BottomActionBar_pricingLine__n-UvA",j4="BottomActionBar_pricingLineLabel__QwBkZ",C4="BottomActionBar_pricingLineValue__CypOo",k4="BottomActionBar_discountLineValue__5GBa8",P4="BottomActionBar_pricingTotalLine__D3rTI",T4="BottomActionBar_pricingTotalLabel__B417P",E4="BottomActionBar_pricingTotalValue__Xj7uT",A4=t=>{let{isValid:n,pricing:i,serviceInfo:s,primaryButtonText:r,onPrimaryAction:a,secondaryButtonText:o,onSecondaryAction:c,onChangeSelection:l,onScrollToIncomplete:d,isLoading:u=!1,error:h,additionalInfo:p,contextualHint:m,panelTitle:f,panelSubtitle:_,currentStep:g=1,className:v=""}=t;const y=!(!s||!i),[x,b]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{y&&n&&b(!1)},[y,n]),(0,Sv.jsxs)("div",{className:"".concat(R5," ").concat(v," ").concat(x?l4:""),children:[x&&(0,Sv.jsx)("div",{className:$5,children:(0,Sv.jsxs)("button",{className:e4,onClick:()=>{!n&&d?d():b(!1)},type:"button","aria-label":"Show booking details",children:[(0,Sv.jsx)("span",{className:t4,children:"\ud83d\udee1\ufe0f"}),(0,Sv.jsx)("span",{className:n4,children:n?"View Summary & Proceed to Payment":1===g?"Step 1 of 5 \u2022 Enter Locations":2===g?"Step 2 of 5 \u2022 Choose Scenario":3===g?"Step 3 of 5 \u2022 Select Service":4===g?"Step 4 of 5 \u2022 Set Time":"Step 5 of 5 \u2022 Review & Accept"}),(0,Sv.jsx)("span",{className:i4,children:"\u2191"})]})}),(0,Sv.jsxs)("div",{className:"".concat(M5," ").concat(!y&&x?c4:""),children:[(0,Sv.jsx)("div",{className:O5,children:y?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{className:d4,children:[(0,Sv.jsxs)("div",{className:u4,children:[(0,Sv.jsx)("h4",{className:h4,children:s.name}),(0,Sv.jsxs)("div",{className:p4,children:[l&&(0,Sv.jsx)("button",{className:m4,onClick:l,type:"button",children:"Change"}),(0,Sv.jsx)("button",{className:f4,onClick:()=>b(!0),type:"button","aria-label":"Minimize panel",children:"\u2193"})]})]}),(0,Sv.jsxs)("div",{className:_4,children:[(0,Sv.jsx)("span",{className:g4,children:s.officerLevel||"1 Officer"}),s.situation&&(0,Sv.jsx)("span",{className:g4,children:s.situation})]})]}),s.journeyRoute&&(0,Sv.jsxs)("div",{className:v4,children:[(0,Sv.jsx)("h5",{className:y4,children:"Journey Details"}),(0,Sv.jsxs)("div",{className:x4,children:[(0,Sv.jsx)("span",{className:V5,children:s.journeyRoute}),p&&(0,Sv.jsx)("span",{className:b4,children:p})]})]})]}):(0,Sv.jsx)(Sv.Fragment,{children:(0,Sv.jsxs)("div",{className:D5,children:[(0,Sv.jsxs)("div",{className:B5,children:[(0,Sv.jsx)("h3",{className:q5,children:f||"Protection Services"}),(0,Sv.jsx)("button",{className:o4,onClick:()=>b(!x),type:"button","aria-label":"Hide Details",children:"\u2193"})]}),(0,Sv.jsx)("div",{className:F5,children:_||"\u2713 SIA-licensed \u2022 Nationwide coverage"})]})})}),h&&(0,Sv.jsxs)("div",{className:G5,children:[(0,Sv.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Sv.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,Sv.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),h]})]}),!x&&(0,Sv.jsxs)("div",{className:Y5,children:[!y&&(0,Sv.jsx)("div",{className:z5,children:(0,Sv.jsx)("div",{className:W5,children:(0,Sv.jsxs)("button",{className:"".concat(s4," ").concat(Q5),disabled:!0,type:"button","aria-label":"Select protection level above",children:[(0,Sv.jsx)("span",{className:r4,children:r}),m&&(0,Sv.jsx)("span",{className:a4,children:m})]})})}),y&&(0,Sv.jsxs)("div",{className:U5,children:[(0,Sv.jsxs)("div",{className:S4,children:[(0,Sv.jsx)("h5",{className:w4,children:"Pricing Summary"}),(0,Sv.jsxs)("div",{className:N4,children:[(0,Sv.jsx)("span",{className:j4,children:"Protection Detail (2h minimum)"}),(0,Sv.jsxs)("span",{className:C4,children:["\xa3",i.basePrice.toFixed(2)]})]}),(null===i||void 0===i?void 0:i.hasDiscount)&&i.discountAmount&&(0,Sv.jsxs)("div",{className:N4,children:[(0,Sv.jsx)("span",{className:j4,children:"50% Subscriber Discount"}),(0,Sv.jsxs)("span",{className:k4,children:["-\xa3",i.discountAmount.toFixed(2)]})]}),(0,Sv.jsxs)("div",{className:P4,children:[(0,Sv.jsx)("span",{className:T4,children:"Total Due:"}),(0,Sv.jsxs)("span",{className:E4,children:["\xa3",i.finalPrice.toFixed(2)]})]})]}),(0,Sv.jsx)("button",{className:"".concat(H5," ").concat(K5," ").concat(n?"":Q5),onClick:a,disabled:!y&&!a||!n&&y||u,type:"button","aria-label":r,children:u?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:Z5,role:"status","aria-label":"Processing",children:(0,Sv.jsx)("svg",{className:J5,viewBox:"0 0 24 24",children:(0,Sv.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeDasharray:"32",strokeDashoffset:"32"})})}),(0,Sv.jsx)("span",{children:"Processing..."})]}):(0,Sv.jsx)(Sv.Fragment,{children:r})})]})]}),(0,Sv.jsx)("div",{className:X5})]})};var I4,L4="basil",R4="https://js.stripe.com",M4="".concat(R4,"/").concat(L4,"/stripe.js"),O4=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,D4=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,F4="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",B4=function(e){return O4.test(e)||D4.test(e)},q4=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(M4).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},z4=null,W4=null,H4=null,U4=function(e){return null!==z4?z4:(z4=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(F4),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(R4,'"]')),t=0;t<e.length;t++){var n=e[t];if(B4(n.src))return n}return null}();if(i&&e)console.warn(F4);else if(i){if(i&&null!==H4&&null!==W4){var s;i.removeEventListener("load",H4),i.removeEventListener("error",W4),null===(s=i.parentNode)||void 0===s||s.removeChild(i),i=q4(e)}}else i=q4(e);H4=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),W4=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),i.addEventListener("load",H4),i.addEventListener("error",W4)}catch(O){return void n(O)}else t(null)}),z4.catch(function(e){return z4=null,Promise.reject(e)}))},V4=!1,G4=function(){return I4||(I4=U4(null).catch(function(e){return I4=null,Promise.reject(e)}),I4)};Promise.resolve().then(function(){return G4()}).catch(function(e){V4||console.warn(e)});var Y4=n(942);function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Q4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(t){J4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z4(e){return Z4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z4(e)}function J4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X4(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function $4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,s,r=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(Dte){o=!0,s=Dte}finally{try{a||null==n.return||n.return()}finally{if(o)throw s}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return e6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e6(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var t6=function(t,n,i){var s=!!i,r=e.useRef(i);e.useEffect(function(){r.current=i},[i]),e.useEffect(function(){if(!s||!t)return function(){};var e=function(){r.current&&r.current.apply(r,arguments)};return t.on(n,e),function(){t.off(n,e)}},[s,n,t,r])},n6=function(t){var n=e.useRef(t);return e.useEffect(function(){n.current=t},[t]),n.current},i6=function(e){return null!==e&&"object"===Z4(e)},s6="[object Object]",r6=function e(t,n){if(!i6(t)||!i6(n))return t===n;var i=Array.isArray(t);if(i!==Array.isArray(n))return!1;var s=Object.prototype.toString.call(t)===s6;if(s!==(Object.prototype.toString.call(n)===s6))return!1;if(!s&&!i)return t===n;var r=Object.keys(t),a=Object.keys(n);if(r.length!==a.length)return!1;for(var o={},c=0;c<r.length;c+=1)o[r[c]]=!0;for(var l=0;l<a.length;l+=1)o[a[l]]=!0;var d=Object.keys(o);if(d.length!==r.length)return!1;var u=t,h=n;return d.every(function(t){return e(u[t],h[t])})},a6=function(e,t,n){return i6(e)?Object.keys(e).reduce(function(i,s){var r=!i6(t)||!r6(e[s],t[s]);return n.includes(s)?(r&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):r?Q4(Q4({},i||{}),{},J4({},s,e[s])):i},null):null},o6="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",c6=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o6;if(null===e||i6(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},l6=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o6;if(function(e){return i6(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return c6(e,t)})};var n=c6(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},d6=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},u6=e.createContext(null);u6.displayName="ElementsContext";var h6=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},p6=function(t){var n=t.stripe,i=t.options,s=t.children,r=e.useMemo(function(){return l6(n)},[n]),a=$4(e.useState(function(){return{stripe:"sync"===r.tag?r.stripe:null,elements:"sync"===r.tag?r.stripe.elements(i):null}}),2),o=a[0],c=a[1];e.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(i)}})};return"async"!==r.tag||o.stripe?"sync"!==r.tag||o.stripe||t(r.stripe):r.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[r,o,i]);var l=n6(n);e.useEffect(function(){null!==l&&l!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[l,n]);var d=n6(i);return e.useEffect(function(){if(o.elements){var e=a6(i,d,["clientSecret","fonts"]);e&&o.elements.update(e)}},[i,d,o.elements]),e.useEffect(function(){d6(o.stripe)},[o.stripe]),e.createElement(u6.Provider,{value:o},s)};p6.propTypes={stripe:Y4.any,options:Y4.object};var m6=function(t){var n=e.useContext(u6);return h6(n,t)};Y4.func.isRequired;var f6=e.createContext(null);f6.displayName="CheckoutContext",Y4.any,Y4.shape({fetchClientSecret:Y4.func.isRequired,elementsOptions:Y4.object}).isRequired;var _6=function(t){var n=e.useContext(f6),i=e.useContext(u6);if(n){if(i)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}return h6(i,t)},g6=["mode"],v6=function(t,n){var i,s="".concat((i=t).charAt(0).toUpperCase()+i.slice(1),"Element"),r=n?function(t){_6("mounts <".concat(s,">"));var n=t.id,i=t.className;return e.createElement("div",{id:n,className:i})}:function(n){var i,r=n.id,a=n.className,o=n.options,c=void 0===o?{}:o,l=n.onBlur,d=n.onFocus,u=n.onReady,h=n.onChange,p=n.onEscape,m=n.onClick,f=n.onLoadError,_=n.onLoaderStart,g=n.onNetworksChange,v=n.onConfirm,y=n.onCancel,x=n.onShippingAddressChange,b=n.onShippingRateChange,S=n.onSavedPaymentMethodRemove,w=n.onSavedPaymentMethodUpdate,N=_6("mounts <".concat(s,">")),j="elements"in N?N.elements:null,C="checkoutState"in N?N.checkoutState:null,k="success"===(null===C||void 0===C?void 0:C.type)?C.checkout:null,P=$4(e.useState(null),2),T=P[0],E=P[1],A=e.useRef(null),I=e.useRef(null);t6(T,"blur",l),t6(T,"focus",d),t6(T,"escape",p),t6(T,"click",m),t6(T,"loaderror",f),t6(T,"loaderstart",_),t6(T,"networkschange",g),t6(T,"confirm",v),t6(T,"cancel",y),t6(T,"shippingaddresschange",x),t6(T,"shippingratechange",b),t6(T,"savedpaymentmethodremove",S),t6(T,"savedpaymentmethodupdate",w),t6(T,"change",h),u&&(i="expressCheckout"===t?u:function(){u(T)}),t6(T,"ready",i),e.useLayoutEffect(function(){if(null===A.current&&null!==I.current&&(j||k)){var e=null;if(k)switch(t){case"payment":e=k.createPaymentElement(c);break;case"address":if(!("mode"in c))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=c.mode,i=X4(c,g6);if("shipping"===n)e=k.createShippingAddressElement(i);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");e=k.createBillingAddressElement(i)}break;case"expressCheckout":e=k.createExpressCheckoutElement(c);break;case"currencySelector":e=k.createCurrencySelectorElement();break;case"taxId":e=k.createTaxIdElement(c);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else j&&(e=j.create(t,c));A.current=e,E(e),e&&e.mount(I.current)}},[j,k,c]);var L=n6(c);return e.useEffect(function(){if(A.current){var e=a6(c,L,["paymentRequest"]);e&&"update"in A.current&&A.current.update(e)}},[c,L]),e.useLayoutEffect(function(){return function(){if(A.current&&"function"===typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(O){}}},[]),e.createElement("div",{id:r,className:a,ref:I})};return r.propTypes={id:Y4.string,className:Y4.string,onChange:Y4.func,onBlur:Y4.func,onFocus:Y4.func,onReady:Y4.func,onEscape:Y4.func,onClick:Y4.func,onLoadError:Y4.func,onLoaderStart:Y4.func,onNetworksChange:Y4.func,onConfirm:Y4.func,onCancel:Y4.func,onShippingAddressChange:Y4.func,onShippingRateChange:Y4.func,onSavedPaymentMethodRemove:Y4.func,onSavedPaymentMethodUpdate:Y4.func,options:Y4.object},r.displayName=s,r.__elementType=t,r},y6="undefined"===typeof window,x6=e.createContext(null);x6.displayName="EmbeddedCheckoutProviderContext";v6("auBankAccount",y6);var b6=v6("card",y6);v6("cardNumber",y6),v6("cardExpiry",y6),v6("cardCvc",y6),v6("fpxBank",y6),v6("iban",y6),v6("idealBank",y6),v6("p24Bank",y6),v6("epsBank",y6),v6("payment",y6),v6("expressCheckout",y6),v6("paymentRequestButton",y6),v6("linkAuthentication",y6),v6("address",y6),v6("shippingAddress",y6),v6("paymentMethodMessaging",y6),v6("affirmMessage",y6),v6("afterpayClearpayMessage",y6),v6("taxId",y6);const S6="PaymentModal_backdrop__cR2-z",w6="PaymentModal_backdropVisible__KJ2Uj",N6="PaymentModal_modal__k6SV1",j6="PaymentModal_modalVisible__mnKE7",C6="PaymentModal_header__83nE6",k6="PaymentModal_title__57LyL",P6="PaymentModal_subtitle__PgiSc",T6="PaymentModal_summarySection__kMEOU",E6="PaymentModal_summaryTitle__OLveY",A6="PaymentModal_summaryRow__Pli0m",I6="PaymentModal_summaryLabel__+LzUC",L6="PaymentModal_summaryValue__Pjws8",R6="PaymentModal_summaryValueStrike__oc3ZA",M6="PaymentModal_discountLabel__OKES0",O6="PaymentModal_discountValue__q5rfn",D6="PaymentModal_summaryDivider__Mr47h",F6="PaymentModal_totalLabel__FEZ-E",B6="PaymentModal_totalValue__UKGFH",q6="PaymentModal_paymentSection__H31AT",z6="PaymentModal_paymentTitle__IPolk",W6="PaymentModal_cardElementWrapper__P8ru+",H6="PaymentModal_cardElement__xUYul",U6="PaymentModal_saveCardOption__c6iin",V6="PaymentModal_checkbox__lfMbY",G6="PaymentModal_saveCardText__fAnVs",Y6="PaymentModal_errorMessage__HcvTY",K6="PaymentModal_errorIcon__bgpIr",Q6="PaymentModal_actions__X9Oae",Z6="PaymentModal_primaryButton__tYJYz",J6="PaymentModal_secondaryButton__fE1Wd",X6="PaymentModal_spinner__z0++3",$6="PaymentModal_securityBadge__LluL3",e8="PaymentModal_lockIcon__fELQo",t8="PaymentModal_securityText__2s-O1",n8=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];V4=!0;var i=Date.now();return G4().then(function(e){return function(e,t,n){if(null===e)return null;var i=t[0].match(/^pk_test/),s=function(e){return 3===e?"v3":e}(e.version),r=L4;i&&s!==r&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(r,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(a,n),a}(e,t,i)})}("YOUR_STRIPE_PUBLISHABLE_KEY_HERE");function i8(t){const{isOpen:n}=t;return(0,e.useEffect)(()=>{const e=e=>{"Escape"===e.key&&n&&t.onClose()};return n&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[n,t]),n?(0,Sv.jsx)(p6,{stripe:n8,children:(0,Sv.jsx)(s8,o({},t))}):null}function s8(t){let{isOpen:n,onClose:i,bookingSummary:s,onPaymentSuccess:r,onPaymentError:a}=t;const o=_6("calls useStripe()").stripe,c=m6("calls useElements()").elements,[l,d]=(0,e.useState)(!1),[u,h]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1),[f,_]=(0,e.useState)(!1);return(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("div",{className:"".concat(S6," ").concat(n?w6:""),onClick:e=>{e.target!==e.currentTarget||l||i()},"aria-hidden":"true"}),(0,Sv.jsxs)("div",{className:"".concat(N6," ").concat(n?j6:""),role:"dialog","aria-modal":"true","aria-labelledby":"payment-modal-title",children:[(0,Sv.jsxs)("div",{className:C6,children:[(0,Sv.jsx)("h2",{id:"payment-modal-title",className:k6,children:"Complete Payment"}),(0,Sv.jsx)("p",{className:P6,children:"Secure payment powered by Stripe"})]}),(0,Sv.jsxs)("div",{className:T6,children:[(0,Sv.jsx)("h3",{className:E6,children:"Booking Summary"}),(0,Sv.jsxs)("div",{className:A6,children:[(0,Sv.jsx)("span",{className:I6,children:"Service:"}),(0,Sv.jsx)("span",{className:L6,children:s.serviceName})]}),(0,Sv.jsxs)("div",{className:A6,children:[(0,Sv.jsx)("span",{className:I6,children:"Journey:"}),(0,Sv.jsx)("span",{className:L6,children:s.journeyRoute})]}),(0,Sv.jsxs)("div",{className:A6,children:[(0,Sv.jsx)("span",{className:I6,children:"Commencement:"}),(0,Sv.jsx)("span",{className:L6,children:s.commencementTime})]}),s.hasDiscount&&s.originalPrice&&(0,Sv.jsxs)("div",{className:A6,children:[(0,Sv.jsx)("span",{className:I6,children:"Original Price:"}),(0,Sv.jsxs)("span",{className:R6,children:["\xa3",s.originalPrice.toFixed(2)]})]}),s.hasDiscount&&s.originalPrice&&(0,Sv.jsxs)("div",{className:A6,children:[(0,Sv.jsx)("span",{className:M6,children:"Discount Applied:"}),(0,Sv.jsxs)("span",{className:O6,children:["-\xa3",(s.originalPrice-s.totalPrice).toFixed(2)]})]}),(0,Sv.jsx)("div",{className:D6}),(0,Sv.jsxs)("div",{className:A6,children:[(0,Sv.jsx)("span",{className:F6,children:"Total Amount:"}),(0,Sv.jsxs)("span",{className:B6,children:["\xa3",s.totalPrice.toFixed(2)]})]})]}),(0,Sv.jsxs)("div",{className:q6,children:[(0,Sv.jsx)("h3",{className:z6,children:"Payment Details"}),(0,Sv.jsx)("div",{className:W6,children:(0,Sv.jsx)(b6,{className:H6,options:{style:{base:{fontSize:"16px",color:"#1a2332",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',"::placeholder":{color:"#94a3b8"}},invalid:{color:"#ef4444",iconColor:"#ef4444"}},hidePostalCode:!1},onChange:e=>_(e.complete)})}),(0,Sv.jsxs)("label",{className:U6,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:p,onChange:e=>m(e.target.checked),className:V6}),(0,Sv.jsx)("span",{className:G6,children:"Save card for future bookings"})]}),u&&(0,Sv.jsxs)("div",{className:Y6,children:[(0,Sv.jsx)("span",{className:K6,children:"\u26a0\ufe0f"}),(0,Sv.jsx)("span",{children:u})]})]}),(0,Sv.jsxs)("div",{className:Q6,children:[(0,Sv.jsx)("button",{type:"button",onClick:i,disabled:l,className:J6,children:"Go Back"}),(0,Sv.jsx)("button",{type:"button",onClick:async()=>{if(o&&c&&f){d(!0),h(null);try{const e=c.getElement(b6);if(!e)throw new Error("Card element not found");const{clientSecret:t,paymentIntentId:n}=await(async e=>{try{const{data:{session:t},error:n}=await bv.auth.getSession();if(n||!t)throw new Error("Authentication required. Please sign in to continue.");const i="https://jmzvrqwjmlnvxojculee.supabase.co";if(!i)throw new Error("Supabase configuration missing");const r=Math.round(100*e),a=await fetch("".concat(i,"/functions/v1/create-payment-intent"),{method:"POST",headers:{Authorization:"Bearer ".concat(t.access_token),"Content-Type":"application/json"},body:JSON.stringify({amount:r,currency:"gbp",metadata:{serviceType:"protection_assignment",serviceName:s.serviceName,journeyRoute:s.journeyRoute,commencementTime:s.commencementTime,principalId:t.user.id}})});if(!a.ok){const e=await a.json();throw new Error(e.error||"Failed to create payment intent")}const o=await a.json();return{clientSecret:o.clientSecret,paymentIntentId:o.paymentIntentId}}catch(u){throw console.error("Error creating payment intent:",u),new Error(u.message||"Failed to initialize payment. Please try again.")}})(s.totalPrice),{error:i,paymentIntent:a}=await o.confirmCardPayment(t,{payment_method:{card:e,billing_details:{}},setup_future_usage:p?"off_session":void 0});if(i)throw new Error(i.message||"Payment failed");if(!a||"succeeded"!==a.status)throw new Error("Payment was not successful");r(n)}catch(u){const t=u.message||"Payment failed. Please try again.";h(t),a(t)}finally{d(!1)}}else h("Please complete your card details")},disabled:l||!o||!f,className:Z6,children:l?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:X6}),"Processing..."]}):"Confirm & Pay \xa3".concat(s.totalPrice.toFixed(2))})]}),(0,Sv.jsxs)("div",{className:$6,children:[(0,Sv.jsx)("span",{className:e8,children:"\ud83d\udd12"}),(0,Sv.jsx)("span",{className:t8,children:"Secured by Stripe \u2022 Your payment details are encrypted and secure"})]})]})]})}const r8="ProtectionRequest_protectionRequest__2HwA4",a8="ProtectionRequest_backButton__aOb1e",o8="ProtectionRequest_contentWrapper__XlDfl",c8="ProtectionRequest_pageHeader__DobqN",l8="ProtectionRequest_step1Section__ROWI9",d8="ProtectionRequest_title__qbNgX",u8="ProtectionRequest_subtitle__GxwPi",h8="ProtectionRequest_trustBadges__+KRrS",p8="ProtectionRequest_badge__01DbA",m8="ProtectionRequest_stepIndicator__jYbUi",f8="ProtectionRequest_stepDescription__xfpqL",_8="ProtectionRequest_stepDescriptionTitle__CPryP",g8="ProtectionRequest_stepDescriptionText__YMvWb",v8="ProtectionRequest_stepIndicatorInHeader__udVHt",y8="ProtectionRequest_stepHeaderRow__CALNP",x8="ProtectionRequest_stepProgress__4wRtd",b8="ProtectionRequest_stepDivider__Ev1NR",S8="ProtectionRequest_stepTime__Gj8PX",w8="ProtectionRequest_stepDescriptionInHeader__7xSrB",N8="ProtectionRequest_stepActionHint__C5rYn",j8="ProtectionRequest_stepNumber__B5S9N",C8="ProtectionRequest_journeySummary__3k2rR",k8="ProtectionRequest_journeyRoute__ktKr+",P8="ProtectionRequest_routeItem__vag80",T8="ProtectionRequest_routeIcon__mFgf9",E8="ProtectionRequest_routeText__YKlY3",A8="ProtectionRequest_routeArrow__c-2jl",I8="ProtectionRequest_journeyNote__p7evA",L8="ProtectionRequest_summaryRow__yc+-X",R8="ProtectionRequest_summaryLabel__EBQpj",M8="ProtectionRequest_summaryValue__mwLnr",O8="ProtectionRequest_situationSection__aU6r6",D8="ProtectionRequest_skipOption__rkTha",F8="ProtectionRequest_skipButton__VH3hd",B8="ProtectionRequest_confirmationSection__3thit",q8="ProtectionRequest_selectionSummary__c+6rt",z8="ProtectionRequest_termsSection__1-7ZH",W8="ProtectionRequest_termsTitle__8hLZ5",H8="ProtectionRequest_termItem__Tz5f+",U8="ProtectionRequest_checkbox__70dPO",V8="ProtectionRequest_termText__fYxoD",G8="ProtectionRequest_locationSection__6uvTy",Y8="ProtectionRequest_timeSelectionSection__okiPj";function K8(t){var n,i,s,r,a;let{onAssignmentRequested:c,className:l}=t;const{state:d,navigateToView:u}=kv(),[h,p]=(0,e.useState)(null),[m,f]=(0,e.useState)(null),_=null===(n=d.assignmentContext)||void 0===n?void 0:n.preselectedService,g=null===(i=d.assignmentContext)||void 0===i?void 0:i.source,[v,y]=(0,e.useState)(""),[x,b]=(0,e.useState)(""),[S,w]=(0,e.useState)("now"),[N,j]=(0,e.useState)(""),[C,k]=(0,e.useState)([]),P=(0,e.useMemo)(()=>(()=>{const e=new Date,t=new Date(e.getTime()+18e4),n=new Date(e.getTime()+18e5),i=new Date(e.getTime()+36e5),s=e=>e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1});return[{value:"now",label:"\u26a1 IMMEDIATE",description:"Protection commences: ".concat(s(t)),badge:"FASTEST"},{value:"30min",label:"\ud83d\udcc5 IN 30 MIN",description:"Protection commences: ".concat(s(n))},{value:"1hour",label:"\ud83d\udcc5 IN 1 HOUR",description:"Protection commences: ".concat(s(i))},{value:"schedule",label:"\ud83d\uddd3\ufe0f SCHEDULE",description:"Pick specific date/time"}]})(),[]);(0,e.useEffect)(()=>{if(_&&!m){const e=s2.find(e=>e.id===_);e&&f(e)}},[_,m]);const[T,E]=(0,e.useState)({understandService:!1,agreeVerification:!1,acceptTerms:!1}),[A,I]=(0,e.useState)(!1),L=(0,e.useCallback)(e=>{setTimeout(()=>{const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},300)},[]),R=(0,e.useCallback)(e=>{p(e),e&&L('[data-section="service-comparison"]')},[L]),M=(0,e.useCallback)(e=>{f(e),e&&x.trim()&&L(".timeSelectionSection")},[L,x]),D=(0,e.useCallback)(e=>{E(t=>o(o({},t),{},{[e]:!t[e]}))},[]);(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_recent_destinations");if(e)try{k(JSON.parse(e))}catch(O){console.warn("Failed to load recent destinations:",O)}},[]);const F=(0,e.useCallback)(e=>{if(!e.trim())return;const t=[e,...C.filter(t=>t!==e)].slice(0,5);k(t),localStorage.setItem("armora_recent_destinations",JSON.stringify(t))},[C]),B=(0,e.useCallback)(e=>{const t=e.replace(/\ud83d\udccd|\ud83c\udfe2|\ud83c\udfe0/,"").trim().replace(" (Saved)","");b(t)},[]);(0,e.useEffect)(()=>{x.trim()&&v.trim()&&L(".situationSection")},[x,v,L]);(0,e.useMemo)(()=>{if(_&&g){var e;const t=(null===(e=s2.find(e=>e.id===_))||void 0===e?void 0:e.shortName)||"Protection";return"Request ".concat(t," Protection")}return"Arrange Protection Services"},[_,g]),(0,e.useMemo)(()=>_&&"home"===g?"Selected from Home \u2022 SIA-licensed professionals across England & Wales":"Professional security officers across England & Wales",[_,g]);const q=(0,e.useMemo)(()=>{var e,t;if(!m)return{originalFee:0,finalFee:0,hasDiscount:!1,savings:0};const n=2*m.hourlyRate,i=(null===(e=d.user)||void 0===e?void 0:e.hasUnlockedReward)&&"guest"!==(null===(t=d.user)||void 0===t?void 0:t.userType),s=i?.5*n:n;return{originalFee:n,finalFee:s,hasDiscount:i,savings:i?n-s:0}},[m,null===(s=d.user)||void 0===s?void 0:s.hasUnlockedReward,null===(r=d.user)||void 0===r?void 0:r.userType]),{originalFee:z,finalFee:W,hasDiscount:H,savings:U}=q,V=(0,e.useMemo)(()=>{const e=Object.values(T).every(e=>!0===e);return m&&x.trim()&&("schedule"!==S||N)&&e},[m,x,S,N,T]),G=(0,e.useCallback)(()=>{u("home")},[u]),Y=(0,e.useCallback)(()=>{const e=document.querySelector('[data-section="service-comparison"]');e&&e.scrollIntoView({behavior:"smooth",block:"start"})},[]),K=(0,e.useCallback)(()=>{V&&m&&(F(x),I(!0))},[V,m,F,x]),Q=(0,e.useCallback)(e=>{const t={selectedSituation:(null===h||void 0===h?void 0:h.id)||"general",selectedService:null===m||void 0===m?void 0:m.id,serviceName:null===m||void 0===m?void 0:m.name,serviceRate:null===m||void 0===m?void 0:m.rate,pickupLocation:v.trim(),secureDestination:x.trim(),commencementTime:S,scheduledDateTime:"schedule"===S?N:null,isImmediate:"now"===S,estimatedServiceFee:W,originalServiceFee:z,discountApplied:H,discountAmount:U,paymentIntentId:e,paymentStatus:"completed",createdAt:(new Date).toISOString(),user:d.user};localStorage.setItem("armora_assignment_data",JSON.stringify(t)),localStorage.setItem("armora_payment_confirmed",e),I(!1),c()},[h,m,v,x,S,N,W,z,H,U,d.user,c]),Z=(0,e.useCallback)(e=>{console.error("Payment failed:",e)},[]),J=(0,e.useCallback)(()=>{const e=v.trim()&&x.trim(),t=!!h,n=!!m,i=S&&("schedule"!==S||N),s=Object.values(T).every(e=>!0===e);e?t?n?i?s||L(".termsSection"):L(".timeSelectionSection"):L('[data-section="service-comparison"]'):L(".situationSection"):L(".locationSection")},[v,x,h,m,S,N,T,L]),X=(0,e.useMemo)(()=>{if(m){if("now"===S)return"CPO deployment: ".concat(m.responseTime||"2-4 min");if("30min"===S)return"Protection commences in 30 minutes";if("1hour"===S)return"Protection commences in 1 hour";if("schedule"===S&&N){const e=new Date(N);return"Protection commences: ".concat(e.toLocaleString("en-GB"))}return"Select commencement time"}},[S,m,N]),$=(0,e.useMemo)(()=>{const e=v.trim()||x.trim(),t=v.trim()&&x.trim(),n=!!h,i=!!m,s=S&&("schedule"!==S||N),r=Object.values(T).every(e=>!0===e);let a=1,o="",c="",l="",d="",u="";return t?t&&!i?(a=2,d="Protection Detail Setup",u="\u2713 Enhanced-vetted CPOs \u2022 Professional security",n?(o="STEP 3 of 5 - Select Protection Level",c="Choose your service tier above",l="\u2713 Scenario selected \u2022 Next: Choose service level",a=3):(o="STEP 2 of 5 - Choose Protection Scenario",c="Select your situation type above",l="\u2713 Locations confirmed \u2022 Next: Select scenario"),{message:o,hint:c,progressText:l,panelTitle:d,panelSubtitle:u,showScrollHint:!0,currentStep:a}):t&&i&&!s?(a=4,o="STEP 4 of 5 - Choose Commencement Time",c="Select when you need protection to begin",l="\u2713 Service selected \u2022 Next: Choose time",d="Protection Detail Setup",u="\u2713 Enhanced-vetted CPOs \u2022 Professional security",{message:o,hint:c,progressText:l,panelTitle:d,panelSubtitle:u,showScrollHint:!0,currentStep:4}):t&&i&&s&&!r?(a=5,o="STEP 5 of 5 - Review & Accept Terms",c="Accept terms below to request protection",l="\u2713 Time selected \u2022 Final step!",d="Protection Detail Setup",u="\u2713 Enhanced-vetted CPOs \u2022 Professional security",{message:o,hint:c,progressText:l,panelTitle:d,panelSubtitle:u,showScrollHint:!0,currentStep:5}):t&&i&&s&&r?(o="READY TO REQUEST",c="All details confirmed",l="\u2713 CPO deployment confirmed \u2022 Request below",d="Security Detail Ready",u="\u2713 CPO deployment confirmed \u2022 Request below",{message:o,hint:c,progressText:l,panelTitle:d,panelSubtitle:u,showScrollHint:!1,currentStep:5}):{message:"STEP 1 of 5 INCOMPLETE",hint:"Complete your locations to continue",progressText:"Enter commencement point and destination",panelTitle:"Configure Protection Detail",panelSubtitle:"\u2713 SIA-licensed security \u2022 Nationwide coverage",showScrollHint:!0,currentStep:1}:(a=1,o="STEP 1 of 5 INCOMPLETE",d="Configure Protection Detail",u="\u2713 SIA-licensed security \u2022 Nationwide coverage",e?(c="STEP 1 of 5 - Almost Complete",l=e&&!v.trim()?"Enter commencement point":"Enter destination"):(c="Complete your locations to continue",l="Enter commencement point and destination"),{message:o,hint:c,progressText:l,panelTitle:d,panelSubtitle:u,showScrollHint:!0,currentStep:1})},[v,x,h,m,S,N,T]);return(0,Sv.jsxs)("div",{className:"".concat(r8," ").concat(l||""),children:[(0,Sv.jsx)("button",{className:a8,onClick:G,"aria-label":"Go back",type:"button",children:(0,Sv.jsx)("span",{children:"\u2190"})}),(0,Sv.jsxs)("div",{className:c8,children:[(0,Sv.jsx)("h1",{className:d8,children:"Request Your Protection Detail"}),(0,Sv.jsx)("p",{className:u8,children:"SIA-licensed Close Protection Officers across England & Wales"})]}),(0,Sv.jsxs)("div",{className:l8,children:[(0,Sv.jsxs)("div",{className:v8,children:[(0,Sv.jsxs)("div",{className:y8,children:[(0,Sv.jsx)("span",{className:j8,children:"STEP 1"}),(0,Sv.jsx)("span",{className:x8,children:"of 5"}),(0,Sv.jsx)("span",{className:b8,children:"|"}),(0,Sv.jsx)("span",{className:S8,children:"\u23f1\ufe0f 2 minutes"})]}),(0,Sv.jsxs)("div",{className:w8,children:[(0,Sv.jsx)("p",{className:g8,children:"Tell us where you need protection to begin and your destination. Your Close Protection Officer will arrive at your location to commence your security detail."}),(0,Sv.jsx)("p",{className:N8,children:"Enter your locations below"})]})]}),(0,Sv.jsxs)("div",{className:h8,children:[(0,Sv.jsx)("span",{className:p8,children:"\u25cf Enhanced-Vetted Officers"}),(0,Sv.jsx)("span",{className:p8,children:"\u25cf Professional Security Transport"}),(0,Sv.jsx)("span",{className:p8,children:"\u25cf 24/7 Rapid Response"})]})]}),(0,Sv.jsxs)("div",{className:o8,children:[(0,Sv.jsxs)("div",{className:G8,children:[(0,Sv.jsx)(r5,{value:x,onChange:b,pickupLocation:v,onPickupChange:y,recentLocations:C,savedAddresses:(null===(a=d.user)||void 0===a?void 0:a.savedAddresses)||[],onLocationSelect:B}),v.trim()&&x.trim()&&(0,Sv.jsxs)("div",{className:C8,children:[(0,Sv.jsxs)("div",{className:k8,children:[(0,Sv.jsxs)("div",{className:P8,children:[(0,Sv.jsx)("span",{className:T8,children:"\ud83d\udccd"}),(0,Sv.jsx)("span",{className:E8,children:v})]}),(0,Sv.jsx)("div",{className:A8,children:"\u2192"}),(0,Sv.jsxs)("div",{className:P8,children:[(0,Sv.jsx)("span",{className:T8,children:"\ud83c\udfaf"}),(0,Sv.jsx)("span",{className:E8,children:x})]})]}),(0,Sv.jsx)("p",{className:I8,children:"\u2713 Your protection officer will drive you safely between these locations"})]})]}),(0,Sv.jsxs)("div",{className:m8,children:[(0,Sv.jsxs)("div",{className:y8,children:[(0,Sv.jsx)("span",{className:j8,children:"STEP 2"}),(0,Sv.jsx)("span",{className:x8,children:"of 5"}),(0,Sv.jsx)("span",{className:b8,children:"|"}),(0,Sv.jsx)("span",{className:S8,children:"\u23f1\ufe0f 1 minute"})]}),(0,Sv.jsxs)("div",{className:f8,children:[(0,Sv.jsx)("p",{className:_8,children:"Choose Your Protection Scenario"}),(0,Sv.jsx)("p",{className:g8,children:"Select the situation that best matches your needs. Based on real client cases, we'll recommend the appropriate SIA-licensed CPO for your security requirements."})]})]}),(0,Sv.jsxs)("div",{className:O8,children:[(0,Sv.jsx)(x1,{selectedSituation:(null===h||void 0===h?void 0:h.id)||null,onSituationSelect:R}),!h&&(0,Sv.jsx)("div",{className:D8,children:(0,Sv.jsx)("button",{className:F8,onClick:()=>{var e;return null===(e=document.querySelector('[data-section="service-comparison"]'))||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},type:"button",children:"Skip to service selection \u2192"})})]}),(0,Sv.jsxs)("div",{className:m8,children:[(0,Sv.jsxs)("div",{className:y8,children:[(0,Sv.jsx)("span",{className:j8,children:"STEP 3"}),(0,Sv.jsx)("span",{className:x8,children:"of 5"}),(0,Sv.jsx)("span",{className:b8,children:"|"}),(0,Sv.jsx)("span",{className:S8,children:"\u23f1\ufe0f 1 minute"})]}),(0,Sv.jsxs)("div",{className:f8,children:[(0,Sv.jsx)("p",{className:_8,children:"Choose Your Protection Level"}),(0,Sv.jsx)("p",{className:g8,children:"Every CPO is SIA-licensed with enhanced background checks. Select the tier based on your security requirements and situation complexity."})]})]}),(0,Sv.jsx)("div",{"data-section":"service-comparison",children:(0,Sv.jsx)(c2,{selectedServiceId:(null===m||void 0===m?void 0:m.id)||null,onServiceSelect:M,recommendedService:null===h||void 0===h?void 0:h.recommended,preselectedServiceId:_,source:g})}),m&&(0,Sv.jsxs)("div",{className:Y8,children:[(0,Sv.jsxs)("div",{className:m8,children:[(0,Sv.jsxs)("div",{className:y8,children:[(0,Sv.jsx)("span",{className:j8,children:"STEP 4"}),(0,Sv.jsx)("span",{className:x8,children:"of 5"}),(0,Sv.jsx)("span",{className:b8,children:"|"}),(0,Sv.jsx)("span",{className:S8,children:"\u23f1\ufe0f 30 seconds"})]}),(0,Sv.jsxs)("div",{className:f8,children:[(0,Sv.jsx)("p",{className:_8,children:"When Should Protection Commence?"}),(0,Sv.jsx)("p",{className:g8,children:"Choose when you need your Close Protection Officer to arrive. Select immediate deployment (2-4 min response) or schedule for a specific date and time."})]})]}),(0,Sv.jsx)(L5,{timeOptions:P,selectedTime:S,onTimeChange:w,scheduledDateTime:N,onScheduledDateTimeChange:j})]}),h&&m&&(0,Sv.jsx)(P2,{situation:h.id,service:m.id}),m&&(0,Sv.jsx)(t3,{selectedService:m.id}),m&&x&&(0,Sv.jsxs)("div",{className:B8,children:[(0,Sv.jsxs)("div",{className:m8,children:[(0,Sv.jsxs)("div",{className:y8,children:[(0,Sv.jsx)("span",{className:j8,children:"STEP 5"}),(0,Sv.jsx)("span",{className:x8,children:"of 5"}),(0,Sv.jsx)("span",{className:b8,children:"|"}),(0,Sv.jsx)("span",{className:S8,children:"\u23f1\ufe0f 1 minute"})]}),(0,Sv.jsxs)("div",{className:f8,children:[(0,Sv.jsx)("p",{className:_8,children:"Review & Accept Terms"}),(0,Sv.jsx)("p",{className:g8,children:"Review your protection detail summary and accept our terms of service. Your booking will be confirmed after payment."})]})]}),(0,Sv.jsxs)("div",{className:q8,children:[h&&(0,Sv.jsxs)("div",{className:L8,children:[(0,Sv.jsx)("span",{className:R8,children:"Protection Type:"}),(0,Sv.jsx)("span",{className:M8,children:h.label})]}),(0,Sv.jsxs)("div",{className:L8,children:[(0,Sv.jsx)("span",{className:R8,children:"Service Tier:"}),(0,Sv.jsx)("span",{className:M8,children:m.name})]}),(0,Sv.jsxs)("div",{className:L8,children:[(0,Sv.jsx)("span",{className:R8,children:"Service Fee:"}),(0,Sv.jsxs)("span",{className:M8,children:["\xa3",W.toFixed(2)]})]}),v&&x&&(0,Sv.jsxs)("div",{className:L8,children:[(0,Sv.jsx)("span",{className:R8,children:"Journey:"}),(0,Sv.jsxs)("span",{className:M8,children:[v," \u2192 ",x]})]})]}),(0,Sv.jsxs)("div",{className:z8,children:[(0,Sv.jsx)("h3",{className:W8,children:"Terms & Conditions"}),(0,Sv.jsxs)("label",{className:H8,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:T.understandService,onChange:()=>D("understandService"),className:U8}),(0,Sv.jsx)("span",{className:V8,children:"I understand this is a 2-hour minimum security service"})]}),(0,Sv.jsxs)("label",{className:H8,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:T.agreeVerification,onChange:()=>D("agreeVerification"),className:U8}),(0,Sv.jsx)("span",{className:V8,children:"I agree to officer ID verification on arrival"})]}),(0,Sv.jsxs)("label",{className:H8,children:[(0,Sv.jsx)("input",{type:"checkbox",checked:T.acceptTerms,onChange:()=>D("acceptTerms"),className:U8}),(0,Sv.jsx)("span",{className:V8,children:"I accept the terms of service"})]})]})]})]}),(0,Sv.jsx)(A4,{isValid:V,pricing:m?{basePrice:z,discountAmount:H?U:void 0,finalPrice:W,hasDiscount:H,originalPrice:H?z:void 0}:{basePrice:0,finalPrice:0,hasDiscount:!1},serviceInfo:m?{name:m.name,rate:m.rate,hourlyRate:m.hourlyRate,situation:null===h||void 0===h?void 0:h.label,journeyRoute:v&&x?"".concat(v," \u2192 ").concat(x):void 0,officerLevel:m.officerLevel}:void 0,primaryButtonText:m?Object.values(T).every(e=>e)?"Proceed to Payment":"Accept Terms to Continue":"Complete Step ".concat($.currentStep),onPrimaryAction:K,onChangeSelection:m?Y:void 0,onScrollToIncomplete:J,additionalInfo:$.progressText,contextualHint:$.hint,panelTitle:$.panelTitle,panelSubtitle:$.panelSubtitle,currentStep:$.currentStep}),(0,Sv.jsx)(i8,{isOpen:A,onClose:()=>I(!1),bookingSummary:{serviceName:(null===m||void 0===m?void 0:m.name)||"",journeyRoute:v&&x?"".concat(v," \u2192 ").concat(x):"",commencementTime:X||"",totalPrice:W,hasDiscount:H,originalPrice:H?z:void 0},onPaymentSuccess:Q,onPaymentError:Z})]})}const Q8="AssignmentConfirmed_container__WNozV",Z8="AssignmentConfirmed_header__WuHT8",J8="AssignmentConfirmed_successIcon__oS3SG",X8="AssignmentConfirmed_title__tFFFG",$8="AssignmentConfirmed_subtitle__uFAE+",e7="AssignmentConfirmed_referenceCard__G6U-4",t7="AssignmentConfirmed_referenceHeader__bIlf6",n7="AssignmentConfirmed_referenceLabel__FlXPg",i7="AssignmentConfirmed_copyButton__iQp-C",s7="AssignmentConfirmed_referenceNumber__Ie00U",r7="AssignmentConfirmed_statusCard__mYF5a",a7="AssignmentConfirmed_statusHeader__kjvGs",o7="AssignmentConfirmed_statusTitle__ncePa",c7="AssignmentConfirmed_statusBadge__LkLLR",l7="AssignmentConfirmed_statusMessage__g0d7m",d7="AssignmentConfirmed_etaInfo__hAC9t",u7="AssignmentConfirmed_etaIcon__XiaPC",h7="AssignmentConfirmed_etaDetails__ghuNo",p7="AssignmentConfirmed_etaLabel__LYYRj",m7="AssignmentConfirmed_etaTime__V61q2",f7="AssignmentConfirmed_detailsCard__yyIA3",_7="AssignmentConfirmed_detailsTitle__A67Rl",g7="AssignmentConfirmed_detailRow__jpSIZ",v7="AssignmentConfirmed_detailLabel__3e01s",y7="AssignmentConfirmed_detailValue__OiTjh",x7="AssignmentConfirmed_serviceFeeSummary__LY2xk",b7="AssignmentConfirmed_feeRow__gYNZA",S7="AssignmentConfirmed_discountRow__hXfCx",w7="AssignmentConfirmed_feeLabel__1ZHJe",N7="AssignmentConfirmed_discountLabel__soxKi",j7="AssignmentConfirmed_feeValue__ZASy3",C7="AssignmentConfirmed_originalFee__KYg+M",k7="AssignmentConfirmed_discountValue__X+86G",P7="AssignmentConfirmed_actions__ANawS",T7="AssignmentConfirmed_trackButton__nW7QE",E7="AssignmentConfirmed_shareButton__OjKNf",A7="AssignmentConfirmed_newAssignmentButton__R-Lik",I7="AssignmentConfirmed_supportCard__9CAIv",L7="AssignmentConfirmed_supportTitle__Gft6B",R7="AssignmentConfirmed_supportOptions__RCRQO",M7="AssignmentConfirmed_supportOption__cqmnK",O7="AssignmentConfirmed_supportIcon__98q4O",D7="AssignmentConfirmed_supportDetails__pI9G5",F7="AssignmentConfirmed_supportLabel__h0N4+",B7="AssignmentConfirmed_supportValue__ymEgM",q7="AssignmentConfirmed_closeButton__fcxEu",z7="AssignmentConfirmed_error__cG1H9";function W7(t){let{assignmentId:n,onClose:i,onTrackAssignment:s,onNewAssignment:r}=t;const[a,o]=(0,e.useState)(null),[c,l]=(0,e.useState)(""),[d,u]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=localStorage.getItem("armora_assignment_data");if(e)try{const t=JSON.parse(e);o(t)}catch(O){console.warn("Failed to load assignment data:",O)}const t=n||"ARM-".concat(Date.now().toString().slice(-6));l(t),h(null===a||void 0===a?void 0:a.selectedService),p(t)},[n,null===a||void 0===a?void 0:a.selectedService]);const h=e=>{if(null===a||void 0===a||!a.isImmediate)return void u("As scheduled");u({essential:"2-4 minutes",executive:"3-5 minutes",shadow:"5-8 minutes","client-vehicle":"4-6 minutes"}[e||"essential"]||"2-4 minutes")},p=e=>{if(!a)return;const t=[{id:e,serviceName:a.serviceName,destination:a.secureDestination,serviceFee:a.estimatedServiceFee,createdAt:a.createdAt,status:"confirmed",isImmediate:a.isImmediate},...JSON.parse(localStorage.getItem("armora_assignment_history")||"[]")].slice(0,20);localStorage.setItem("armora_assignment_history",JSON.stringify(t))},m=()=>{if(null===a||void 0===a||!a.scheduledDateTime)return"";return new Date(a.scheduledDateTime).toLocaleString("en-GB",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})};return a?(0,Sv.jsxs)("div",{className:Q8,children:[(0,Sv.jsxs)("div",{className:Z8,children:[(0,Sv.jsx)("div",{className:J8,children:"\u2705"}),(0,Sv.jsx)("h1",{className:X8,children:"Protection Assignment Confirmed"}),(0,Sv.jsx)("p",{className:$8,children:"Your Close Protection Officer has been deployed"})]}),(0,Sv.jsxs)("div",{className:e7,children:[(0,Sv.jsxs)("div",{className:t7,children:[(0,Sv.jsx)("span",{className:n7,children:"Assignment Reference"}),(0,Sv.jsx)("button",{className:i7,onClick:async()=>{try{await navigator.clipboard.writeText(c),alert("Assignment reference copied to clipboard")}catch(O){console.warn("Failed to copy assignment reference:",O);const t=document.createElement("textarea");t.value=c,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Assignment reference copied to clipboard")}},title:"Copy assignment reference",children:"\ud83d\udccb Copy"})]}),(0,Sv.jsx)("div",{className:s7,children:c})]}),(0,Sv.jsxs)("div",{className:r7,children:[(0,Sv.jsxs)("div",{className:a7,children:[(0,Sv.jsx)("h3",{className:o7,children:"Assignment Status"}),(0,Sv.jsx)("div",{className:c7,children:"Confirmed"})]}),(0,Sv.jsx)("p",{className:l7,children:null!==a&&void 0!==a&&a.isImmediate?"Your Close Protection Officer is being deployed and will arrive within ".concat(d,"."):"Your protection assignment has been scheduled for ".concat(m(),".")}),a.isImmediate&&(0,Sv.jsxs)("div",{className:d7,children:[(0,Sv.jsx)("div",{className:u7,children:"\ud83d\ude97"}),(0,Sv.jsxs)("div",{className:h7,children:[(0,Sv.jsx)("span",{className:p7,children:"CPO Arrival"}),(0,Sv.jsx)("span",{className:m7,children:d})]})]})]}),(0,Sv.jsxs)("div",{className:f7,children:[(0,Sv.jsx)("h3",{className:_7,children:"Assignment Details"}),(0,Sv.jsxs)("div",{className:g7,children:[(0,Sv.jsx)("span",{className:v7,children:"Protection Level:"}),(0,Sv.jsx)("span",{className:y7,children:a.serviceName})]}),(0,Sv.jsxs)("div",{className:g7,children:[(0,Sv.jsx)("span",{className:v7,children:"Service Rate:"}),(0,Sv.jsx)("span",{className:y7,children:a.serviceRate})]}),(0,Sv.jsxs)("div",{className:g7,children:[(0,Sv.jsx)("span",{className:v7,children:"Secure Destination:"}),(0,Sv.jsx)("span",{className:y7,children:a.secureDestination})]}),a.scheduledDateTime&&(0,Sv.jsxs)("div",{className:g7,children:[(0,Sv.jsx)("span",{className:v7,children:"Scheduled Time:"}),(0,Sv.jsx)("span",{className:y7,children:m()})]}),(0,Sv.jsxs)("div",{className:x7,children:[(0,Sv.jsxs)("div",{className:b7,children:[(0,Sv.jsx)("span",{className:w7,children:"Service Fee (2hr minimum):"}),(0,Sv.jsxs)("span",{className:j7,children:[a.discountApplied&&(0,Sv.jsxs)("span",{className:C7,children:["\xa3",a.originalServiceFee]}),"\xa3",a.estimatedServiceFee]})]}),a.discountApplied&&(0,Sv.jsxs)("div",{className:S7,children:[(0,Sv.jsx)("span",{className:N7,children:"Member Discount (50%):"}),(0,Sv.jsxs)("span",{className:k7,children:["-\xa3",a.discountAmount]})]})]})]}),(0,Sv.jsxs)("div",{className:P7,children:[a.isImmediate&&(0,Sv.jsx)("button",{className:T7,onClick:s,children:"\ud83d\udccd Track CPO Live"}),(0,Sv.jsx)("button",{className:E7,onClick:async()=>{const e={title:"Armora Protection Assignment Confirmed",text:"My Close Protection Officer has been deployed. Assignment: ".concat(c),url:window.location.origin};try{if(navigator.share)await navigator.share(e);else{const t="".concat(e.title,"\n").concat(e.text,"\n").concat(e.url);await navigator.clipboard.writeText(t),alert("Assignment details copied to clipboard")}}catch(O){console.warn("Failed to share assignment:",O)}},children:"\ud83d\udce4 Share Assignment"}),(0,Sv.jsx)("button",{className:A7,onClick:r,children:"\ud83d\udee1\ufe0f Request New Protection"})]}),(0,Sv.jsxs)("div",{className:I7,children:[(0,Sv.jsx)("h4",{className:L7,children:"Need Assistance?"}),(0,Sv.jsxs)("div",{className:R7,children:[(0,Sv.jsxs)("div",{className:M7,children:[(0,Sv.jsx)("span",{className:O7,children:"\ud83d\udcde"}),(0,Sv.jsxs)("div",{className:D7,children:[(0,Sv.jsx)("span",{className:F7,children:"24/7 Support"}),(0,Sv.jsx)("span",{className:B7,children:"0800 ARMORA (276672)"})]})]}),(0,Sv.jsxs)("div",{className:M7,children:[(0,Sv.jsx)("span",{className:O7,children:"\ud83c\udd98"}),(0,Sv.jsxs)("div",{className:D7,children:[(0,Sv.jsx)("span",{className:F7,children:"Emergency"}),(0,Sv.jsx)("span",{className:B7,children:"Press & Hold Panic Button"})]})]})]})]}),(0,Sv.jsx)("button",{className:q7,onClick:i,children:"Return to Dashboard"})]}):(0,Sv.jsx)("div",{className:Q8,children:(0,Sv.jsxs)("div",{className:z7,children:[(0,Sv.jsx)("h2",{children:"Assignment data not found"}),(0,Sv.jsx)("button",{className:q7,onClick:i,children:"Return to Dashboard"})]})})}const H7="PrivacyPolicy_container__sDKL-",U7="PrivacyPolicy_backButton__ru7Xh",V7="PrivacyPolicy_content__mETYo",G7="PrivacyPolicy_header__729Cd",Y7="PrivacyPolicy_lastUpdated__MfHf2",K7="PrivacyPolicy_importantNotice__+k4OD",Q7="PrivacyPolicy_tableOfContents__L1zHz",Z7="PrivacyPolicy_section__mJm+m",J7="PrivacyPolicy_contactDetails__nSBpm",X7="PrivacyPolicy_subsection__GPnze",$7="PrivacyPolicy_purposeList__m4S8A",e9="PrivacyPolicy_purpose__BMm6E",t9="PrivacyPolicy_legalBasisList__9UnB8",n9="PrivacyPolicy_noSharing__2FGyl",i9="PrivacyPolicy_limitedSharing__ne4D2",s9="PrivacyPolicy_retentionTable__IddQN",r9="PrivacyPolicy_retentionItem__yHr1N",a9="PrivacyPolicy_rightsGrid__xlRn0",o9="PrivacyPolicy_right__tMGSe",c9="PrivacyPolicy_exerciseRights__nQiJ+",l9="PrivacyPolicy_contactGrid__qmoap",d9="PrivacyPolicy_contactItem__Dt7N6",u9="PrivacyPolicy_footer__Ay4KX",h9=()=>{const{navigateToView:e}=kv();return(0,Sv.jsxs)("div",{className:H7,children:[(0,Sv.jsx)("button",{className:U7,onClick:()=>e("home"),children:"\u2190 Back"}),(0,Sv.jsxs)("div",{className:V7,children:[(0,Sv.jsxs)("header",{className:G7,children:[(0,Sv.jsx)("h1",{children:"ARMORA PROTECTION SERVICES PRIVACY POLICY"}),(0,Sv.jsx)("p",{className:Y7,children:"Last updated: October 2025"})]}),(0,Sv.jsxs)("div",{className:K7,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udee1\ufe0f IMPORTANT: We Provide Professional Close Protection, NOT Taxi Services"}),(0,Sv.jsx)("p",{children:"Armora operates as a professional security company providing SIA-licensed Close Protection Officers (CPOs) for personal protection services. We are NOT a taxi company and do not provide transportation services."})]}),(0,Sv.jsxs)("nav",{className:Q7,children:[(0,Sv.jsx)("h3",{children:"Table of Contents"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-controller",children:"1. Data Controller"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-collection",children:"2. What Data We Collect"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-use",children:"3. How We Use Your Data"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#legal-basis",children:"4. Legal Basis for Processing"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-sharing",children:"5. Data Sharing & Third-Party Services"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-retention",children:"6. Data Retention"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#your-rights",children:"7. Your GDPR Rights"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#security",children:"8. Data Security"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#sia-data",children:"9. SIA License Verification"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#contact",children:"10. Contact Information"})})]})]}),(0,Sv.jsxs)("section",{id:"data-controller",className:Z7,children:[(0,Sv.jsx)("h2",{children:"1. Data Controller"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Giquina Management Holdings Ltd"})," (trading as Armora) is the data controller responsible for your personal data."]}),(0,Sv.jsxs)("div",{className:J7,children:[(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Company:"})," Giquina Management Holdings Ltd"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Trading As:"})," Armora Security Transport & Armora CPO Console"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Email:"})," privacy@armora.security"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Data Protection Officer:"})," dpo@armora.security"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"ICO Registration:"})," [Pending Registration]"]})]})]}),(0,Sv.jsxs)("section",{id:"data-collection",className:Z7,children:[(0,Sv.jsx)("h2",{children:"2. What Data We Collect"}),(0,Sv.jsxs)("div",{className:X7,children:[(0,Sv.jsx)("h3",{children:"Personal Information:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Full name and preferred name"}),(0,Sv.jsx)("li",{children:"Email address and phone number"}),(0,Sv.jsx)("li",{children:"Emergency contact details"}),(0,Sv.jsx)("li",{children:"Profile photograph (optional)"})]})]}),(0,Sv.jsxs)("div",{className:X7,children:[(0,Sv.jsx)("h3",{children:"Protection Service Data:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Location data:"})," Used exclusively for CPO assignment and protection coordination"]}),(0,Sv.jsx)("li",{children:"Protection requirements and risk assessment"}),(0,Sv.jsx)("li",{children:"Service history and protection assignments"}),(0,Sv.jsx)("li",{children:"Payment information (processed securely via Stripe)"}),(0,Sv.jsx)("li",{children:"SIA license information (for CPO Console users only)"}),(0,Sv.jsx)("li",{children:"Real-time GPS coordinates during active assignments"})]})]}),(0,Sv.jsxs)("div",{className:X7,children:[(0,Sv.jsx)("h3",{children:"Technical Data:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Device information and browser type"}),(0,Sv.jsx)("li",{children:"IP address and general location"}),(0,Sv.jsx)("li",{children:"App usage analytics (anonymized)"}),(0,Sv.jsx)("li",{children:"Security logs for fraud prevention"})]})]})]}),(0,Sv.jsxs)("section",{id:"data-use",className:Z7,children:[(0,Sv.jsx)("h2",{children:"3. How We Use Your Data"}),(0,Sv.jsxs)("div",{className:$7,children:[(0,Sv.jsxs)("div",{className:e9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udee1\ufe0f Protection Service Delivery"}),(0,Sv.jsx)("p",{children:"Assigning qualified CPOs, coordinating protection details, and ensuring your safety"})]}),(0,Sv.jsxs)("div",{className:e9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccd Officer Assignment"}),(0,Sv.jsx)("p",{children:"Location data is used ONLY to assign the nearest available SIA-licensed officer"})]}),(0,Sv.jsxs)("div",{className:e9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udd10 Security & Compliance"}),(0,Sv.jsx)("p",{children:"Fraud prevention, regulatory compliance, and maintaining service standards"})]}),(0,Sv.jsxs)("div",{className:e9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcde Emergency Response"}),(0,Sv.jsx)("p",{children:"Contacting emergency services or designated contacts during protection assignments"})]})]})]}),(0,Sv.jsxs)("section",{id:"legal-basis",className:Z7,children:[(0,Sv.jsx)("h2",{children:"4. Legal Basis for Processing"}),(0,Sv.jsxs)("ul",{className:t9,children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Contract Performance:"})," Processing necessary to provide protection services"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Legitimate Interests:"})," Fraud prevention and service improvement"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Legal Obligation:"})," Compliance with SIA regulations and security requirements"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Vital Interests:"})," Emergency response and safety coordination"]})]})]}),(0,Sv.jsxs)("section",{id:"data-sharing",className:Z7,children:[(0,Sv.jsx)("h2",{children:"5. Data Sharing & Third-Party Services"}),(0,Sv.jsxs)("div",{className:n9,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udeab We DO NOT Sell Your Data"}),(0,Sv.jsx)("p",{children:"Your personal data is never sold, rented, or shared with marketing companies."})]}),(0,Sv.jsxs)("div",{className:i9,children:[(0,Sv.jsx)("h4",{children:"Essential Third-Party Service Providers:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Supabase (Backend & Authentication):"})," Secure cloud database for user accounts, authentication, and protection assignment records. Data hosted in EU regions compliant with GDPR."]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Stripe (Payment Processing):"})," PCI-DSS compliant payment processor handling card transactions. Only necessary payment data is shared."]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Google Maps API (Location Services):"})," Geocoding and mapping services for address lookup and route display. Location data is anonymized where possible."]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Firebase Cloud Messaging:"})," Push notifications for protection assignment updates and emergency alerts. Device tokens only, no personal data."]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Assigned CPOs:"})," Receive only necessary information (name, phone, pickup location) for your protection."]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Emergency Services:"})," Only contacted in genuine emergency situations with your consent or vital interest."]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"SIA Authority:"})," CPO license verification and compliance checks when legally required."]})]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Data Processing Agreements:"})," All third-party processors have signed Data Processing Agreements (DPAs) and are GDPR-compliant."]})]})]}),(0,Sv.jsxs)("section",{id:"data-retention",className:Z7,children:[(0,Sv.jsx)("h2",{children:"6. Data Retention"}),(0,Sv.jsxs)("div",{className:s9,children:[(0,Sv.jsxs)("div",{className:r9,children:[(0,Sv.jsx)("h4",{children:"Active Account Data"}),(0,Sv.jsx)("p",{children:"Retained while your account is active"})]}),(0,Sv.jsxs)("div",{className:r9,children:[(0,Sv.jsx)("h4",{children:"Protection Assignment Records"}),(0,Sv.jsx)("p",{children:"7 years (regulatory requirement)"})]}),(0,Sv.jsxs)("div",{className:r9,children:[(0,Sv.jsx)("h4",{children:"Location Data"}),(0,Sv.jsx)("p",{children:"Automatically deleted 24 hours after service completion"})]}),(0,Sv.jsxs)("div",{className:r9,children:[(0,Sv.jsx)("h4",{children:"Payment Records"}),(0,Sv.jsx)("p",{children:"6 years (tax and accounting requirements)"})]})]})]}),(0,Sv.jsxs)("section",{id:"your-rights",className:Z7,children:[(0,Sv.jsx)("h2",{children:"7. Your GDPR Rights"}),(0,Sv.jsx)("p",{children:"Under GDPR, you have the following rights:"}),(0,Sv.jsxs)("div",{className:a9,children:[(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccb Right of Access"}),(0,Sv.jsx)("p",{children:"Request a copy of your personal data"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\u270f\ufe0f Right to Rectification"}),(0,Sv.jsx)("p",{children:"Correct inaccurate or incomplete data"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\uddd1\ufe0f Right to Erasure"}),(0,Sv.jsx)("p",{children:"Request deletion of your data"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udce4 Right to Data Portability"}),(0,Sv.jsx)("p",{children:"Receive your data in a portable format"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\u23f8\ufe0f Right to Restriction"}),(0,Sv.jsx)("p",{children:"Limit how we use your data"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udeab Right to Object"}),(0,Sv.jsx)("p",{children:"Object to certain types of processing"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\ud83e\udd16 Automated Decision Making"}),(0,Sv.jsx)("p",{children:"Right not to be subject to automated decisions"})]}),(0,Sv.jsxs)("div",{className:o9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udce2 Right to Complain"}),(0,Sv.jsx)("p",{children:"Lodge a complaint with the ICO"})]})]}),(0,Sv.jsxs)("div",{className:c9,children:[(0,Sv.jsx)("h4",{children:"How to Exercise Your Rights:"}),(0,Sv.jsxs)("p",{children:["Email: ",(0,Sv.jsx)("strong",{children:"privacy@armora.security"})]}),(0,Sv.jsx)("p",{children:"We will respond within 30 days of receiving your request."})]})]}),(0,Sv.jsxs)("section",{id:"security",className:Z7,children:[(0,Sv.jsx)("h2",{children:"8. Data Security"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"End-to-end encryption for sensitive communications"}),(0,Sv.jsx)("li",{children:"Secure data centers with ISO 27001 certification"}),(0,Sv.jsx)("li",{children:"Regular security audits and penetration testing"}),(0,Sv.jsx)("li",{children:"Multi-factor authentication for all staff access"}),(0,Sv.jsx)("li",{children:"Automatic data anonymization where possible"})]})]}),(0,Sv.jsxs)("section",{id:"sia-data",className:Z7,children:[(0,Sv.jsx)("h2",{children:"9. SIA License Verification Data (CPO Console)"}),(0,Sv.jsxs)("p",{children:["For Close Protection Officers using the ",(0,Sv.jsx)("strong",{children:"Armora CPO Console"})," app, we process additional professional information:"]}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"SIA license numbers and expiry dates:"})," Verified against SIA public register"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Verification status:"})," Confirmation of active license with Security Industry Authority"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Training certificates:"})," Close Protection qualifications and specialist training"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Background check confirmations:"})," DBS/Security clearance status"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Professional insurance:"})," Public liability and professional indemnity details"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Assignment history:"})," Performance ratings and service records"]})]}),(0,Sv.jsx)("p",{children:"This data is processed under our legal obligation to comply with SIA regulations (Private Security Industry Act 2001) and is retained for the duration of the officer's engagement plus 7 years as required by law."}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"CPO Rights:"})," Officers have the same GDPR rights as Principals and can request access to their professional records at any time."]})]}),(0,Sv.jsxs)("section",{id:"contact",className:Z7,children:[(0,Sv.jsx)("h2",{children:"10. Contact Information & Complaints"}),(0,Sv.jsxs)("div",{className:l9,children:[(0,Sv.jsxs)("div",{className:d9,children:[(0,Sv.jsx)("h4",{children:"Privacy Inquiries"}),(0,Sv.jsx)("p",{children:"privacy@armora.security"}),(0,Sv.jsx)("p",{children:"Response time: 30 days maximum"})]}),(0,Sv.jsxs)("div",{className:d9,children:[(0,Sv.jsx)("h4",{children:"Data Protection Officer"}),(0,Sv.jsx)("p",{children:"dpo@armora.security"}),(0,Sv.jsx)("p",{children:"For GDPR rights requests"})]}),(0,Sv.jsxs)("div",{className:d9,children:[(0,Sv.jsx)("h4",{children:"ICO Complaint"}),(0,Sv.jsx)("p",{children:"ico.org.uk"}),(0,Sv.jsx)("p",{children:"0303 123 1113"}),(0,Sv.jsx)("p",{children:"Right to lodge complaint with UK Information Commissioner's Office"})]}),(0,Sv.jsxs)("div",{className:d9,children:[(0,Sv.jsx)("h4",{children:"General Support"}),(0,Sv.jsx)("p",{children:"support@armora.security"}),(0,Sv.jsx)("p",{children:"24/7 emergency support"})]})]}),(0,Sv.jsxs)("div",{className:c9,children:[(0,Sv.jsx)("h4",{children:"\ud83c\uddec\ud83c\udde7 UK GDPR Compliance"}),(0,Sv.jsx)("p",{children:"This policy is compliant with the UK General Data Protection Regulation (UK GDPR) and the Data Protection Act 2018."}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Company Registration:"})," Giquina Management Holdings Ltd"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Apps Covered:"})," Armora Security Transport (Principal app) & Armora CPO Console (Officer app)"]})]})]}),(0,Sv.jsxs)("footer",{className:u9,children:[(0,Sv.jsxs)("p",{children:["This privacy policy applies to both ",(0,Sv.jsx)("strong",{children:"Armora Security Transport"})," (Principal app) and",(0,Sv.jsx)("strong",{children:" Armora CPO Console"})," (Close Protection Officer app), operated by Giquina Management Holdings Ltd."]}),(0,Sv.jsx)("p",{children:"We are committed to protecting your privacy, handling your data responsibly, and maintaining full compliance with UK GDPR."}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Important:"})," Armora provides professional close protection services via SIA-licensed officers. We are not a taxi or private hire vehicle service."]}),(0,Sv.jsxs)("p",{className:Y7,children:[(0,Sv.jsx)("strong",{children:"Policy Version:"})," 1.0.0 | ",(0,Sv.jsx)("strong",{children:"Last Updated:"})," October 2025"]})]})]})]})},p9="TermsOfService_container__iY5YP",m9="TermsOfService_content__aaS+o",f9="TermsOfService_header__3qk6o",_9="TermsOfService_lastUpdated__YBfwr",g9="TermsOfService_criticalNotice__TcKAP",v9="TermsOfService_noticeContent__orS3V",y9="TermsOfService_tableOfContents__XWNGX",x9="TermsOfService_section__ZV4Xu",b9="TermsOfService_agreement__GB6rL",S9="TermsOfService_serviceDetails__ea8KX",w9="TermsOfService_serviceTypes__AQvpr",N9="TermsOfService_tierList__ygxmB",j9="TermsOfService_tier__MBO1q",C9="TermsOfService_emphasisBox__e5ZZS",k9="TermsOfService_clarificationGrid__bPGYB",P9="TermsOfService_clarificationItem__1B09z",T9="TermsOfService_regulation__l0I+s",E9="TermsOfService_eligibilityRequirements__pbUOR",A9="TermsOfService_registrationTypes__o7MMw",I9="TermsOfService_accountTypes__lg96n",L9="TermsOfService_accountType__vHt2p",R9="TermsOfService_requirements__LQa5Z",M9="TermsOfService_requirement__HRP1W",O9="TermsOfService_pricingStructure__EdbRb",D9="TermsOfService_feeStructure__Ion1G",F9="TermsOfService_feeItem__vA6iV",B9="TermsOfService_paymentTerms__bB-mf",q9="TermsOfService_cancellationGrid__9+I5b",z9="TermsOfService_cancellationRule__0nAkL",W9="TermsOfService_emergencyCancellation__j5Woc",H9="TermsOfService_standards__dZ5Aa",U9="TermsOfService_responsibilities__AEeiI",V9="TermsOfService_liability__LnbCP",G9="TermsOfService_limitationBox__5SjtR",Y9="TermsOfService_disputeProcess__FG3lQ",K9="TermsOfService_processSteps__iFJTv",Q9="TermsOfService_step__twIeE",Z9="TermsOfService_termination__RJ6X7",J9="TermsOfService_governingLaw__CAOgq",X9="TermsOfService_footer__QjOu9",$9="TermsOfService_contactInfo__fQqee",eee="TermsOfService_contactDetails__C2QtX",tee="TermsOfService_finalNotice__0UBs7",nee=()=>(0,Sv.jsx)("div",{className:p9,children:(0,Sv.jsxs)("div",{className:m9,children:[(0,Sv.jsxs)("header",{className:f9,children:[(0,Sv.jsx)("h1",{children:"ARMORA PROTECTION SERVICES - TERMS OF SERVICE"}),(0,Sv.jsxs)("p",{className:_9,children:["Last updated: ",(new Date).toLocaleDateString("en-GB")]})]}),(0,Sv.jsxs)("div",{className:g9,children:[(0,Sv.jsx)("h2",{children:"\u26a0\ufe0f CRITICAL: WE ARE NOT A TAXI SERVICE"}),(0,Sv.jsxs)("div",{className:v9,children:[(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Armora Security Ltd provides professional close protection services via SIA-licensed officers."})}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"WE ARE NOT A TRANSPORTATION COMPANY. WE DO NOT PROVIDE TAXI OR RIDE-HAILING SERVICES."})}),(0,Sv.jsx)("p",{children:"Our Close Protection Officers (CPOs) provide personal security and protection services, not transportation."})]})]}),(0,Sv.jsxs)("nav",{className:y9,children:[(0,Sv.jsx)("h3",{children:"Table of Contents"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#acceptance",children:"1. Acceptance of Terms"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#service-description",children:"2. Service Description"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#not-taxi",children:"3. NOT A TAXI SERVICE"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#eligibility",children:"4. Eligibility & Registration"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#service-requirements",children:"5. Service Requirements"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#pricing",children:"6. Pricing & Payment"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#cancellation",children:"7. Cancellation Policy"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#officer-standards",children:"8. Officer Standards"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#user-responsibilities",children:"9. User Responsibilities"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#liability",children:"10. Liability & Insurance"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#disputes",children:"11. Dispute Resolution"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#termination",children:"12. Termination"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#governing-law",children:"13. Governing Law"})})]})]}),(0,Sv.jsxs)("section",{id:"acceptance",className:x9,children:[(0,Sv.jsx)("h2",{children:"1. Acceptance of Terms"}),(0,Sv.jsx)("p",{children:"By accessing or using Armora Security Ltd's services, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with these terms, you are prohibited from using our services."}),(0,Sv.jsxs)("div",{className:b9,children:[(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"By using our services, you acknowledge that:"})}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"You understand we provide professional security services, NOT transportation"}),(0,Sv.jsx)("li",{children:"You have read and agree to these Terms of Service"}),(0,Sv.jsx)("li",{children:"You have read and agree to our Privacy Policy"}),(0,Sv.jsx)("li",{children:"You are at least 18 years old and legally capable of entering contracts"})]})]})]}),(0,Sv.jsxs)("section",{id:"service-description",className:x9,children:[(0,Sv.jsx)("h2",{children:"2. Service Description"}),(0,Sv.jsxs)("div",{className:S9,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udee1\ufe0f Professional Close Protection Services"}),(0,Sv.jsx)("p",{children:"Armora provides:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Personal Protection:"})," SIA-licensed Close Protection Officers for individual security"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Risk Assessment:"})," Professional threat evaluation and mitigation"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Security Coordination:"})," Real-time protection management and emergency response"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Executive Protection:"})," Specialized security for high-profile individuals"]})]})]}),(0,Sv.jsxs)("div",{className:w9,children:[(0,Sv.jsx)("h3",{children:"Service Tiers:"}),(0,Sv.jsxs)("div",{className:N9,children:[(0,Sv.jsxs)("div",{className:j9,children:[(0,Sv.jsx)("h4",{children:"Essential Protection (\xa365/hour)"}),(0,Sv.jsx)("p",{children:"SIA Level 2 licensed officers for standard protection assignments"})]}),(0,Sv.jsxs)("div",{className:j9,children:[(0,Sv.jsx)("h4",{children:"Executive Shield (\xa395/hour)"}),(0,Sv.jsx)("p",{children:"SIA Level 3 licensed officers with corporate protection specialization"})]}),(0,Sv.jsxs)("div",{className:j9,children:[(0,Sv.jsx)("h4",{children:"Shadow Protocol (\xa3125/hour)"}),(0,Sv.jsx)("p",{children:"Special Forces trained protection specialists for high-risk situations"})]}),(0,Sv.jsxs)("div",{className:j9,children:[(0,Sv.jsx)("h4",{children:"Client Vehicle Service (\xa355/hour)"}),(0,Sv.jsx)("p",{children:"Security-trained CPO for protection using your vehicle"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"not-taxi",className:x9,children:[(0,Sv.jsx)("h2",{children:"3. NOT A TAXI SERVICE"}),(0,Sv.jsxs)("div",{className:C9,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udeab IMPORTANT CLARIFICATION"}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Armora Security Ltd is a SECURITY COMPANY, not a transport provider."})}),(0,Sv.jsxs)("div",{className:k9,children:[(0,Sv.jsxs)("div",{className:P9,children:[(0,Sv.jsx)("h4",{children:"\u274c We Do NOT Provide:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Taxi services"}),(0,Sv.jsx)("li",{children:"Ride-hailing services"}),(0,Sv.jsx)("li",{children:"Private hire transportation"}),(0,Sv.jsx)("li",{children:"Courier services"}),(0,Sv.jsx)("li",{children:"General transportation"})]})]}),(0,Sv.jsxs)("div",{className:P9,children:[(0,Sv.jsx)("h4",{children:"\u2705 We DO Provide:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Personal protection services"}),(0,Sv.jsx)("li",{children:"Close protection officers"}),(0,Sv.jsx)("li",{children:"Security assessments"}),(0,Sv.jsx)("li",{children:"Executive protection"}),(0,Sv.jsx)("li",{children:"Risk mitigation"})]})]})]}),(0,Sv.jsxs)("p",{className:T9,children:[(0,Sv.jsx)("strong",{children:"Regulatory Compliance:"})," Armora operates under SIA (Security Industry Authority) regulations, not TfL (Transport for London) or other transportation regulatory bodies."]})]})]}),(0,Sv.jsxs)("section",{id:"eligibility",className:x9,children:[(0,Sv.jsx)("h2",{children:"4. Eligibility & Registration"}),(0,Sv.jsxs)("div",{className:E9,children:[(0,Sv.jsx)("h3",{children:"Eligibility Requirements:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Must be 18 years or older"}),(0,Sv.jsx)("li",{children:"Provide valid identification"}),(0,Sv.jsx)("li",{children:"Complete security questionnaire"}),(0,Sv.jsx)("li",{children:"Provide emergency contact information"}),(0,Sv.jsx)("li",{children:"Agree to background verification if required"})]})]}),(0,Sv.jsxs)("div",{className:A9,children:[(0,Sv.jsx)("h4",{children:"Account Types:"}),(0,Sv.jsxs)("div",{className:I9,children:[(0,Sv.jsxs)("div",{className:L9,children:[(0,Sv.jsx)("h5",{children:"Principal Account"}),(0,Sv.jsx)("p",{children:"Individual requiring protection services"})]}),(0,Sv.jsxs)("div",{className:L9,children:[(0,Sv.jsx)("h5",{children:"Corporate Account"}),(0,Sv.jsx)("p",{children:"Business accounts for executive protection"})]}),(0,Sv.jsxs)("div",{className:L9,children:[(0,Sv.jsx)("h5",{children:"Guest Access"}),(0,Sv.jsx)("p",{children:"Limited access for quote requests only"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"service-requirements",className:x9,children:[(0,Sv.jsx)("h2",{children:"5. Service Requirements"}),(0,Sv.jsxs)("div",{className:R9,children:[(0,Sv.jsxs)("div",{className:M9,children:[(0,Sv.jsx)("h4",{children:"\u23f0 Minimum Service Duration"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"2-hour minimum"})," for all protection assignments"]}),(0,Sv.jsx)("p",{children:"This ensures adequate time for proper security assessment and implementation"})]}),(0,Sv.jsxs)("div",{className:M9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccd Service Areas"}),(0,Sv.jsx)("p",{children:"England & Wales with specialized coverage for:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"London and Greater London"}),(0,Sv.jsx)("li",{children:"Major airports (Heathrow, Gatwick, Stansted, Luton)"}),(0,Sv.jsx)("li",{children:"Financial districts and business centers"}),(0,Sv.jsx)("li",{children:"Event venues and private residences"})]})]}),(0,Sv.jsxs)("div",{className:M9,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udd50 Advance Booking"}),(0,Sv.jsx)("p",{children:"Standard bookings: 2-hour advance notice"}),(0,Sv.jsx)("p",{children:"Emergency protection: Subject to officer availability"}),(0,Sv.jsx)("p",{children:"Specialized assignments: 24-48 hours advance notice"})]})]})]}),(0,Sv.jsxs)("section",{id:"pricing",className:x9,children:[(0,Sv.jsx)("h2",{children:"6. Pricing & Payment"}),(0,Sv.jsxs)("div",{className:O9,children:[(0,Sv.jsx)("h3",{children:"Service Fees Structure:"}),(0,Sv.jsxs)("div",{className:D9,children:[(0,Sv.jsxs)("div",{className:F9,children:[(0,Sv.jsx)("h4",{children:"Hourly Rates"}),(0,Sv.jsx)("p",{children:"Based on service tier and officer qualifications"})]}),(0,Sv.jsxs)("div",{className:F9,children:[(0,Sv.jsx)("h4",{children:"2-Hour Minimum"}),(0,Sv.jsx)("p",{children:"All protection assignments have a 2-hour minimum charge"})]}),(0,Sv.jsxs)("div",{className:F9,children:[(0,Sv.jsx)("h4",{children:"Premium Rates"}),(0,Sv.jsx)("p",{children:"Bank holidays, overnight (11 PM - 6 AM): +50%"})]}),(0,Sv.jsxs)("div",{className:F9,children:[(0,Sv.jsx)("h4",{children:"Travel Costs"}),(0,Sv.jsx)("p",{children:"Included within service areas; additional charges may apply for remote locations"})]})]}),(0,Sv.jsxs)("div",{className:B9,children:[(0,Sv.jsx)("h4",{children:"Payment Terms:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Payment required at booking confirmation"}),(0,Sv.jsx)("li",{children:"Accepted methods: Credit/debit cards via Stripe"}),(0,Sv.jsx)("li",{children:"No cash payments accepted"}),(0,Sv.jsx)("li",{children:"VAT included in all quoted prices"}),(0,Sv.jsx)("li",{children:"Invoices provided for corporate accounts"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"cancellation",className:x9,children:[(0,Sv.jsx)("h2",{children:"7. Cancellation Policy"}),(0,Sv.jsxs)("div",{className:q9,children:[(0,Sv.jsxs)("div",{className:z9,children:[(0,Sv.jsx)("h4",{children:"24+ Hours Notice"}),(0,Sv.jsx)("p",{children:"Full refund less 5% processing fee"})]}),(0,Sv.jsxs)("div",{className:z9,children:[(0,Sv.jsx)("h4",{children:"2-24 Hours Notice"}),(0,Sv.jsx)("p",{children:"50% charge of total service fee"})]}),(0,Sv.jsxs)("div",{className:z9,children:[(0,Sv.jsx)("h4",{children:"Less than 2 Hours"}),(0,Sv.jsx)("p",{children:"100% charge of total service fee"})]}),(0,Sv.jsxs)("div",{className:z9,children:[(0,Sv.jsx)("h4",{children:"No Show"}),(0,Sv.jsx)("p",{children:"100% charge plus potential additional fees"})]})]}),(0,Sv.jsxs)("div",{className:W9,children:[(0,Sv.jsx)("h4",{children:"Emergency Cancellations:"}),(0,Sv.jsx)("p",{children:"Medical emergencies, police incidents, or force majeure events may qualify for exception consideration."})]})]}),(0,Sv.jsxs)("section",{id:"officer-standards",className:x9,children:[(0,Sv.jsx)("h2",{children:"8. Officer Standards & Qualifications"}),(0,Sv.jsxs)("div",{className:H9,children:[(0,Sv.jsx)("h3",{children:"\ud83c\udf93 Mandatory Qualifications:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"SIA License:"})," Valid Close Protection license from Security Industry Authority"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Background Checks:"})," Enhanced DBS (Disclosure and Barring Service) clearance"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Training:"})," Certified close protection training from approved providers"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"First Aid:"})," Current first aid and emergency response certification"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Professional Standards:"})," Ongoing training and assessment"]})]}),(0,Sv.jsx)("h3",{children:"\ud83d\udd0d Verification Process:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"SIA license verification with regulatory authority"}),(0,Sv.jsx)("li",{children:"Identity and eligibility confirmation"}),(0,Sv.jsx)("li",{children:"Reference checks from previous security roles"}),(0,Sv.jsx)("li",{children:"Regular performance assessments"}),(0,Sv.jsx)("li",{children:"Continued professional development requirements"})]})]})]}),(0,Sv.jsxs)("section",{id:"user-responsibilities",className:x9,children:[(0,Sv.jsx)("h2",{children:"9. User Responsibilities"}),(0,Sv.jsxs)("div",{className:U9,children:[(0,Sv.jsx)("h3",{children:"Principal Responsibilities:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Accurate Information:"})," Provide truthful and complete information"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Security Cooperation:"})," Follow officer instructions and security protocols"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Lawful Conduct:"})," Engage only in legal activities during protection assignments"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Threat Disclosure:"})," Inform us of any known threats or risks"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Payment:"})," Ensure prompt payment of service fees"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Professional Conduct:"})," Treat officers with respect and professionalism"]})]}),(0,Sv.jsx)("h3",{children:"Prohibited Activities:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Requesting officers to engage in illegal activities"}),(0,Sv.jsx)("li",{children:"Using services for non-security purposes"}),(0,Sv.jsx)("li",{children:"Harassment or inappropriate conduct toward officers"}),(0,Sv.jsx)("li",{children:"Providing false information about threats or requirements"}),(0,Sv.jsx)("li",{children:"Attempting to recruit officers for other purposes"})]})]})]}),(0,Sv.jsxs)("section",{id:"liability",className:x9,children:[(0,Sv.jsx)("h2",{children:"10. Liability & Insurance"}),(0,Sv.jsxs)("div",{className:V9,children:[(0,Sv.jsx)("h3",{children:"Insurance Coverage:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Professional Indemnity:"})," \xa32,000,000 coverage"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Public Liability:"})," \xa35,000,000 coverage"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Employer's Liability:"})," \xa310,000,000 coverage"]})]}),(0,Sv.jsx)("h3",{children:"Limitation of Liability:"}),(0,Sv.jsxs)("div",{className:G9,children:[(0,Sv.jsx)("p",{children:"Armora's liability is limited to the service fees paid for the specific assignment. We provide professional security services but cannot guarantee prevention of all incidents."}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"We are not liable for:"})}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Acts of third parties beyond our reasonable control"}),(0,Sv.jsx)("li",{children:"Principal's failure to follow security instructions"}),(0,Sv.jsx)("li",{children:"Incidents occurring outside the scope of assignment"}),(0,Sv.jsx)("li",{children:"Pre-existing or undisclosed threats"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"disputes",className:x9,children:[(0,Sv.jsx)("h2",{children:"11. Dispute Resolution"}),(0,Sv.jsxs)("div",{className:Y9,children:[(0,Sv.jsx)("h3",{children:"Resolution Process:"}),(0,Sv.jsxs)("div",{className:K9,children:[(0,Sv.jsxs)("div",{className:Q9,children:[(0,Sv.jsx)("h4",{children:"Step 1: Direct Communication"}),(0,Sv.jsx)("p",{children:"Contact our support team at support@armorasecurity.com"})]}),(0,Sv.jsxs)("div",{className:Q9,children:[(0,Sv.jsx)("h4",{children:"Step 2: Formal Complaint"}),(0,Sv.jsx)("p",{children:"Submit written complaint with details and evidence"})]}),(0,Sv.jsxs)("div",{className:Q9,children:[(0,Sv.jsx)("h4",{children:"Step 3: Management Review"}),(0,Sv.jsx)("p",{children:"Senior management assessment within 14 days"})]}),(0,Sv.jsxs)("div",{className:Q9,children:[(0,Sv.jsx)("h4",{children:"Step 4: Alternative Dispute Resolution"}),(0,Sv.jsx)("p",{children:"Mediation or arbitration if required"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"termination",className:x9,children:[(0,Sv.jsx)("h2",{children:"12. Termination"}),(0,Sv.jsxs)("div",{className:Z9,children:[(0,Sv.jsx)("h3",{children:"Account Termination:"}),(0,Sv.jsx)("p",{children:"Either party may terminate the service relationship with appropriate notice:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"User Termination:"})," Account closure available at any time"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Service Termination:"})," For breach of terms, illegal activities, or safety concerns"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Data Retention:"})," Personal data handled according to Privacy Policy"]})]})]})]}),(0,Sv.jsxs)("section",{id:"governing-law",className:x9,children:[(0,Sv.jsx)("h2",{children:"13. Governing Law"}),(0,Sv.jsxs)("div",{className:J9,children:[(0,Sv.jsx)("p",{children:"These Terms of Service are governed by English law and subject to the exclusive jurisdiction of the courts of England and Wales."}),(0,Sv.jsx)("h3",{children:"Regulatory Compliance:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"SIA:"})," Security Industry Authority regulations"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"GDPR:"})," General Data Protection Regulation"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Companies House:"})," UK company registration requirements"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"ICO:"})," Information Commissioner's Office guidelines"]})]})]})]}),(0,Sv.jsxs)("footer",{className:X9,children:[(0,Sv.jsxs)("div",{className:$9,children:[(0,Sv.jsx)("h3",{children:"Contact Information"}),(0,Sv.jsxs)("div",{className:eee,children:[(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("h4",{children:"General Inquiries"}),(0,Sv.jsx)("p",{children:"support@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"+44 (0) 20 XXXX XXXX"})]}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("h4",{children:"Legal Department"}),(0,Sv.jsx)("p",{children:"legal@armorasecurity.com"})]}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("h4",{children:"Complaints"}),(0,Sv.jsx)("p",{children:"complaints@armorasecurity.com"})]})]})]}),(0,Sv.jsxs)("div",{className:tee,children:[(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Armora Security Ltd - Professional Close Protection Services"})}),(0,Sv.jsx)("p",{children:"We are a security company regulated by the SIA, not a transportation provider. By using our services, you acknowledge this distinction."})]})]})]})}),iee="GDPRNotice_container__kL+ZN",see="GDPRNotice_content__HCM28",ree="GDPRNotice_header__3Bo0r",aee="GDPRNotice_subtitle__mR5IU",oee="GDPRNotice_lastUpdated__91fHY",cee="GDPRNotice_introSection__tcNmu",lee="GDPRNotice_tableOfContents__hAneC",dee="GDPRNotice_section__ceDCB",uee="GDPRNotice_controllerInfo__XYSQz",hee="GDPRNotice_infoCard__XxoZF",pee="GDPRNotice_details__gdwWY",mee="GDPRNotice_lawfulBasisGrid__vXhZC",fee="GDPRNotice_basisCard__1DCtJ",_ee="GDPRNotice_rightsContainer__0a2-6",gee="GDPRNotice_rightCard__8t0bH",vee="GDPRNotice_rightIcon__qWXdn",yee="GDPRNotice_rightDetails__jlSN1",xee="GDPRNotice_exerciseRights__DZ2hq",bee="GDPRNotice_contactOptions__-2XFT",See="GDPRNotice_contactOption__HI0Ub",wee="GDPRNotice_retentionTable__GZzLo",Nee="GDPRNotice_retentionHeader__mtDmn",jee="GDPRNotice_retentionRow__M0PQS",Cee="GDPRNotice_cookiePolicy__5TJu6",kee="GDPRNotice_cookieNotice__3BFkg",Pee="GDPRNotice_cookieTypes__SOQmg",Tee="GDPRNotice_cookieType__xzL1T",Eee="GDPRNotice_cookieControls__IJXS1",Aee="GDPRNotice_complaintProcess__qZWH6",Iee="GDPRNotice_processSteps__kV8ct",Lee="GDPRNotice_step__zIkfn",Ree="GDPRNotice_stepNumber__5Nu04",Mee="GDPRNotice_stepContent__09sdT",Oee="GDPRNotice_icoDetails__qwMgf",Dee="GDPRNotice_icoContact__JPu5U",Fee="GDPRNotice_contactGrid__CLDNT",Bee="GDPRNotice_contactCard__ow+ey",qee="GDPRNotice_footer__zQbQF",zee="GDPRNotice_footerContent__nnq76",Wee=()=>(0,Sv.jsx)("div",{className:iee,children:(0,Sv.jsxs)("div",{className:see,children:[(0,Sv.jsxs)("header",{className:ree,children:[(0,Sv.jsx)("h1",{children:"GDPR COMPLIANCE NOTICE"}),(0,Sv.jsx)("p",{className:aee,children:"Your Data Protection Rights Under UK GDPR"}),(0,Sv.jsxs)("p",{className:oee,children:["Last updated: ",(new Date).toLocaleDateString("en-GB")]})]}),(0,Sv.jsxs)("div",{className:cee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udee1\ufe0f Your Privacy Matters to Armora Security"}),(0,Sv.jsx)("p",{children:"As a professional close protection service, we take your privacy seriously. This notice explains your rights under the UK General Data Protection Regulation (GDPR) and how we protect your personal data."})]}),(0,Sv.jsxs)("nav",{className:lee,children:[(0,Sv.jsx)("h3",{children:"Quick Navigation"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-controller",children:"Data Controller Information"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#lawful-basis",children:"Lawful Basis for Processing"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#your-rights",children:"Your GDPR Rights"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#data-retention",children:"Data Retention Periods"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#cookies",children:"Cookie Policy"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#complaints",children:"How to Complain"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#contact",children:"Contact Our DPO"})})]})]}),(0,Sv.jsxs)("section",{id:"data-controller",className:dee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udccb Data Controller Information"}),(0,Sv.jsxs)("div",{className:uee,children:[(0,Sv.jsxs)("div",{className:hee,children:[(0,Sv.jsx)("h3",{children:"Armora Security Ltd"}),(0,Sv.jsxs)("div",{className:pee,children:[(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Company Registration:"})," [Company Number]"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Registered Address:"})," [Company Address]"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"ICO Registration:"})," [ICO Number]"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Business Type:"})," Professional Security Services (SIA Regulated)"]})]})]}),(0,Sv.jsxs)("div",{className:hee,children:[(0,Sv.jsx)("h3",{children:"Data Protection Officer"}),(0,Sv.jsxs)("div",{className:pee,children:[(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Email:"})," dpo@armorasecurity.com"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Post:"})," Data Protection Officer, Armora Security Ltd, [Address]"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Response Time:"})," Within 30 days"]})]})]})]})]}),(0,Sv.jsxs)("section",{id:"lawful-basis",className:dee,children:[(0,Sv.jsx)("h2",{children:"\u2696\ufe0f Lawful Basis for Processing Your Data"}),(0,Sv.jsxs)("div",{className:mee,children:[(0,Sv.jsxs)("div",{className:fee,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcc4 Contract Performance"}),(0,Sv.jsx)("p",{children:"Processing necessary to provide close protection services you've requested"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Service delivery and officer assignment"}),(0,Sv.jsx)("li",{children:"Payment processing"}),(0,Sv.jsx)("li",{children:"Communication about your protection assignments"})]})]}),(0,Sv.jsxs)("div",{className:fee,children:[(0,Sv.jsx)("h4",{children:"\ud83c\udfdb\ufe0f Legal Obligation"}),(0,Sv.jsx)("p",{children:"Required by law for security industry compliance"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"SIA regulatory requirements"}),(0,Sv.jsx)("li",{children:"Financial record keeping"}),(0,Sv.jsx)("li",{children:"Tax obligations"})]})]}),(0,Sv.jsxs)("div",{className:fee,children:[(0,Sv.jsx)("h4",{children:"\u2696\ufe0f Legitimate Interests"}),(0,Sv.jsx)("p",{children:"For fraud prevention and service improvement"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Security monitoring and fraud detection"}),(0,Sv.jsx)("li",{children:"Service quality improvement"}),(0,Sv.jsx)("li",{children:"Business analytics (anonymized)"})]})]}),(0,Sv.jsxs)("div",{className:fee,children:[(0,Sv.jsx)("h4",{children:"\ud83c\udd98 Vital Interests"}),(0,Sv.jsx)("p",{children:"To protect life and physical safety"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Emergency response coordination"}),(0,Sv.jsx)("li",{children:"Threat assessment and response"}),(0,Sv.jsx)("li",{children:"Critical safety communications"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"your-rights",className:dee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udd10 Your GDPR Rights"}),(0,Sv.jsx)("p",{children:"Under UK GDPR, you have eight fundamental rights regarding your personal data:"}),(0,Sv.jsxs)("div",{className:_ee,children:[(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\ud83d\udccb"}),(0,Sv.jsx)("h4",{children:"Right of Access"}),(0,Sv.jsx)("p",{children:"Request a copy of the personal data we hold about you"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"What you get:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Copy of your personal data"}),(0,Sv.jsx)("li",{children:"How we use it"}),(0,Sv.jsx)("li",{children:"Who we share it with"}),(0,Sv.jsx)("li",{children:"How long we keep it"})]}),(0,Sv.jsx)("strong",{children:"Response time:"})," 30 days (free of charge)"]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\u270f\ufe0f"}),(0,Sv.jsx)("h4",{children:"Right to Rectification"}),(0,Sv.jsx)("p",{children:"Correct inaccurate or incomplete personal data"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"Examples:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Update contact information"}),(0,Sv.jsx)("li",{children:"Correct spelling of your name"}),(0,Sv.jsx)("li",{children:"Update emergency contacts"})]}),(0,Sv.jsx)("strong",{children:"Response time:"})," 30 days"]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\ud83d\uddd1\ufe0f"}),(0,Sv.jsx)("h4",{children:"Right to Erasure"}),(0,Sv.jsx)("p",{children:"Request deletion of your personal data"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"When applicable:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Data no longer necessary"}),(0,Sv.jsx)("li",{children:"You withdraw consent"}),(0,Sv.jsx)("li",{children:"Data processed unlawfully"})]}),(0,Sv.jsx)("strong",{children:"Note:"})," May not apply if we have legal obligations to retain data"]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\ud83d\udce4"}),(0,Sv.jsx)("h4",{children:"Right to Data Portability"}),(0,Sv.jsx)("p",{children:"Receive your data in a structured, machine-readable format"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"Includes:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Account information"}),(0,Sv.jsx)("li",{children:"Service history"}),(0,Sv.jsx)("li",{children:"Preference settings"})]}),(0,Sv.jsx)("strong",{children:"Format:"})," JSON or CSV file"]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\u23f8\ufe0f"}),(0,Sv.jsx)("h4",{children:"Right to Restriction"}),(0,Sv.jsx)("p",{children:"Limit how we process your personal data"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"When you can restrict:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Accuracy is contested"}),(0,Sv.jsx)("li",{children:"Processing is unlawful"}),(0,Sv.jsx)("li",{children:"We no longer need the data"})]}),(0,Sv.jsx)("strong",{children:"Effect:"})," We can only store the data, not use it"]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\ud83d\udeab"}),(0,Sv.jsx)("h4",{children:"Right to Object"}),(0,Sv.jsx)("p",{children:"Object to processing based on legitimate interests"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"You can object to:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Marketing communications"}),(0,Sv.jsx)("li",{children:"Profiling activities"}),(0,Sv.jsx)("li",{children:"Some legitimate interest processing"})]}),(0,Sv.jsx)("strong",{children:"Note:"})," We may continue if we have compelling grounds"]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\ud83e\udd16"}),(0,Sv.jsx)("h4",{children:"Rights Related to Automated Decision Making"}),(0,Sv.jsx)("p",{children:"Protection from automated decisions that significantly affect you"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"Our commitment:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"No fully automated decisions"}),(0,Sv.jsx)("li",{children:"Human review of all decisions"}),(0,Sv.jsx)("li",{children:"Right to explanation"})]})]})]}),(0,Sv.jsxs)("div",{className:gee,children:[(0,Sv.jsx)("div",{className:vee,children:"\ud83d\udce2"}),(0,Sv.jsx)("h4",{children:"Right to Lodge a Complaint"}),(0,Sv.jsx)("p",{children:"Complain to the Information Commissioner's Office"}),(0,Sv.jsxs)("div",{className:yee,children:[(0,Sv.jsx)("strong",{children:"ICO Contact:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Website: ico.org.uk"}),(0,Sv.jsx)("li",{children:"Phone: 0303 123 1113"}),(0,Sv.jsx)("li",{children:"Post: Information Commissioner's Office, Wycliffe House, Water Lane, Wilmslow, Cheshire, SK9 5AF"})]})]})]})]}),(0,Sv.jsxs)("div",{className:xee,children:[(0,Sv.jsx)("h3",{children:"How to Exercise Your Rights"}),(0,Sv.jsxs)("div",{className:bee,children:[(0,Sv.jsxs)("div",{className:See,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udce7 Email"}),(0,Sv.jsx)("p",{children:"privacy@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"Include your full name and describe your request clearly"})]}),(0,Sv.jsxs)("div",{className:See,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcee Post"}),(0,Sv.jsxs)("p",{children:["Data Protection Officer",(0,Sv.jsx)("br",{}),"Armora Security Ltd",(0,Sv.jsx)("br",{}),"[Company Address]"]})]}),(0,Sv.jsxs)("div",{className:See,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcf1 Via App"}),(0,Sv.jsx)("p",{children:'Use the "Data Rights" option in your account settings'})]})]})]})]}),(0,Sv.jsxs)("section",{id:"data-retention",className:dee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udcc5 Data Retention Periods"}),(0,Sv.jsxs)("div",{className:wee,children:[(0,Sv.jsxs)("div",{className:Nee,children:[(0,Sv.jsx)("h4",{children:"Data Type"}),(0,Sv.jsx)("h4",{children:"Retention Period"}),(0,Sv.jsx)("h4",{children:"Reason"})]}),(0,Sv.jsxs)("div",{className:jee,children:[(0,Sv.jsx)("div",{children:"Account Information"}),(0,Sv.jsx)("div",{children:"While account is active + 12 months"}),(0,Sv.jsx)("div",{children:"Service provision and support"})]}),(0,Sv.jsxs)("div",{className:jee,children:[(0,Sv.jsx)("div",{children:"Protection Assignment Records"}),(0,Sv.jsx)("div",{children:"7 years"}),(0,Sv.jsx)("div",{children:"SIA regulatory requirements"})]}),(0,Sv.jsxs)("div",{className:jee,children:[(0,Sv.jsx)("div",{children:"Financial Records"}),(0,Sv.jsx)("div",{children:"6 years"}),(0,Sv.jsx)("div",{children:"Tax and accounting obligations"})]}),(0,Sv.jsxs)("div",{className:jee,children:[(0,Sv.jsx)("div",{children:"Location Data"}),(0,Sv.jsx)("div",{children:"24 hours after service"}),(0,Sv.jsx)("div",{children:"Automatic deletion for privacy"})]}),(0,Sv.jsxs)("div",{className:jee,children:[(0,Sv.jsx)("div",{children:"Communication Logs"}),(0,Sv.jsx)("div",{children:"2 years"}),(0,Sv.jsx)("div",{children:"Service quality and dispute resolution"})]}),(0,Sv.jsxs)("div",{className:jee,children:[(0,Sv.jsx)("div",{children:"Marketing Preferences"}),(0,Sv.jsx)("div",{children:"Until consent withdrawn"}),(0,Sv.jsx)("div",{children:"Marketing communications"})]})]})]}),(0,Sv.jsxs)("section",{id:"cookies",className:dee,children:[(0,Sv.jsx)("h2",{children:"\ud83c\udf6a Cookie Policy"}),(0,Sv.jsxs)("div",{className:Cee,children:[(0,Sv.jsxs)("div",{className:kee,children:[(0,Sv.jsx)("h3",{children:"We Use Essential Cookies Only"}),(0,Sv.jsx)("p",{children:"Armora uses only essential cookies required for the security and functionality of our service."})]}),(0,Sv.jsxs)("div",{className:Pee,children:[(0,Sv.jsxs)("div",{className:Tee,children:[(0,Sv.jsx)("h4",{children:"\u2705 Essential Cookies"}),(0,Sv.jsx)("p",{children:"Required for security and service functionality"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Authentication and session management"}),(0,Sv.jsx)("li",{children:"Security features and fraud prevention"}),(0,Sv.jsx)("li",{children:"Service preferences and settings"})]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Legal basis:"})," Necessary for service provision"]})]}),(0,Sv.jsxs)("div",{className:Tee,children:[(0,Sv.jsx)("h4",{children:"\u274c Marketing Cookies"}),(0,Sv.jsx)("p",{children:"We do NOT use marketing or tracking cookies"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"No third-party advertising cookies"}),(0,Sv.jsx)("li",{children:"No social media tracking"}),(0,Sv.jsx)("li",{children:"No behavioral profiling cookies"})]})]})]}),(0,Sv.jsxs)("div",{className:Eee,children:[(0,Sv.jsx)("h4",{children:"Cookie Controls"}),(0,Sv.jsx)("p",{children:"You can control cookies through your browser settings:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Block all cookies (may affect service functionality)"}),(0,Sv.jsx)("li",{children:"Delete existing cookies"}),(0,Sv.jsx)("li",{children:"Set cookie preferences for specific sites"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"complaints",className:dee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udce2 How to Make a Complaint"}),(0,Sv.jsxs)("div",{className:Aee,children:[(0,Sv.jsx)("h3",{children:"Step-by-Step Complaint Process"}),(0,Sv.jsxs)("div",{className:Iee,children:[(0,Sv.jsxs)("div",{className:Lee,children:[(0,Sv.jsx)("div",{className:Ree,children:"1"}),(0,Sv.jsxs)("div",{className:Mee,children:[(0,Sv.jsx)("h4",{children:"Contact Us First"}),(0,Sv.jsx)("p",{children:"Email: complaints@armorasecurity.com or privacy@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"We aim to resolve most issues within 7 days"})]})]}),(0,Sv.jsxs)("div",{className:Lee,children:[(0,Sv.jsx)("div",{className:Ree,children:"2"}),(0,Sv.jsxs)("div",{className:Mee,children:[(0,Sv.jsx)("h4",{children:"Escalate to Our DPO"}),(0,Sv.jsx)("p",{children:"If not satisfied, contact our Data Protection Officer"}),(0,Sv.jsx)("p",{children:"Email: dpo@armorasecurity.com"})]})]}),(0,Sv.jsxs)("div",{className:Lee,children:[(0,Sv.jsx)("div",{className:Ree,children:"3"}),(0,Sv.jsxs)("div",{className:Mee,children:[(0,Sv.jsx)("h4",{children:"Contact the ICO"}),(0,Sv.jsx)("p",{children:"If still not satisfied, complain to the Information Commissioner's Office"}),(0,Sv.jsx)("p",{children:"This is free and you can do this at any time"})]})]})]})]}),(0,Sv.jsxs)("div",{className:Oee,children:[(0,Sv.jsx)("h3",{children:"Information Commissioner's Office (ICO)"}),(0,Sv.jsxs)("div",{className:Dee,children:[(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("h4",{children:"\ud83c\udf10 Online"}),(0,Sv.jsx)("p",{children:"ico.org.uk/make-a-complaint"})]}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcde Phone"}),(0,Sv.jsx)("p",{children:"0303 123 1113"})]}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcee Post"}),(0,Sv.jsxs)("p",{children:["Information Commissioner's Office",(0,Sv.jsx)("br",{}),"Wycliffe House",(0,Sv.jsx)("br",{}),"Water Lane",(0,Sv.jsx)("br",{}),"Wilmslow",(0,Sv.jsx)("br",{}),"Cheshire SK9 5AF"]})]})]})]})]}),(0,Sv.jsxs)("section",{id:"contact",className:dee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udcde Contact Information"}),(0,Sv.jsxs)("div",{className:Fee,children:[(0,Sv.jsxs)("div",{className:Bee,children:[(0,Sv.jsx)("h4",{children:"Data Protection Officer"}),(0,Sv.jsx)("p",{children:"dpo@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"Responsible for GDPR compliance and data protection matters"})]}),(0,Sv.jsxs)("div",{className:Bee,children:[(0,Sv.jsx)("h4",{children:"Privacy Inquiries"}),(0,Sv.jsx)("p",{children:"privacy@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"General privacy questions and data rights requests"})]}),(0,Sv.jsxs)("div",{className:Bee,children:[(0,Sv.jsx)("h4",{children:"Customer Support"}),(0,Sv.jsx)("p",{children:"support@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"+44 (0) 20 XXXX XXXX"}),(0,Sv.jsx)("p",{children:"General service and account inquiries"})]}),(0,Sv.jsxs)("div",{className:Bee,children:[(0,Sv.jsx)("h4",{children:"Complaints"}),(0,Sv.jsx)("p",{children:"complaints@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"Formal complaints about data handling"})]})]})]}),(0,Sv.jsx)("footer",{className:qee,children:(0,Sv.jsxs)("div",{className:zee,children:[(0,Sv.jsx)("h3",{children:"Your Privacy is Protected"}),(0,Sv.jsx)("p",{children:"Armora Security Ltd is committed to protecting your privacy and ensuring transparent, lawful processing of your personal data. We regularly review our practices to ensure ongoing compliance with UK GDPR requirements."}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Remember:"})," You can exercise your data protection rights at any time. We're here to help and will respond to your requests promptly."]})]})})]})}),Hee="SIACompliance_container__XV2wI",Uee="SIACompliance_content__7f6y4",Vee="SIACompliance_header__7siYc",Gee="SIACompliance_subtitle__asuLA",Yee="SIACompliance_lastUpdated__hrGkN",Kee="SIACompliance_siaNotice__5QO0D",Qee="SIACompliance_tableOfContents__RMDRz",Zee="SIACompliance_section__k3Ge9",Jee="SIACompliance_authorityInfo__gXEcH",Xee="SIACompliance_infoCard__UAZLy",$ee="SIACompliance_complianceStatement__G2ykl",ete="SIACompliance_licensingGrid__YebKF",tte="SIACompliance_licenseType__VfC73",nte="SIACompliance_licenseDetails__wvkrE",ite="SIACompliance_verificationProcess__fl6tE",ste="SIACompliance_processSteps__nKLqM",rte="SIACompliance_step__vxpKj",ate="SIACompliance_stepNumber__Hn7BG",ote="SIACompliance_stepContent__m7cNa",cte="SIACompliance_trainingRequirements__BsQMr",lte="SIACompliance_trainingGrid__Lx-+v",dte="SIACompliance_trainingModule__MuDVB",ute="SIACompliance_specialistTraining__7GqtT",hte="SIACompliance_specialistAreas__TXfNV",pte="SIACompliance_specialistArea__7GlWr",mte="SIACompliance_vettingProcess__Hg6fV",fte="SIACompliance_vettingLevels__Rl+pV",_te="SIACompliance_vettingLevel__o0HFZ",gte="SIACompliance_ongoingVetting__7Ksxp",vte="SIACompliance_complianceFramework__3CaMx",yte="SIACompliance_complianceAreas__uLwVm",xte="SIACompliance_complianceArea__cUPYc",bte="SIACompliance_complaintProcess__sSNDv",Ste="SIACompliance_complaintSteps__qp2mb",wte="SIACompliance_complaintTypes__OB6tz",Nte="SIACompliance_complaintCategories__qtXxC",jte="SIACompliance_category__YxbyU",Cte="SIACompliance_contactGrid__2ZVIa",kte="SIACompliance_contactCard__7ZqeW",Pte="SIACompliance_contactDetails__EBx-B",Tte="SIACompliance_footer__NHvcp",Ete="SIACompliance_footerContent__XDGHr",Ate="SIACompliance_complianceLogos__KJ+6R",Ite=()=>(0,Sv.jsx)("div",{className:Hee,children:(0,Sv.jsxs)("div",{className:Uee,children:[(0,Sv.jsxs)("header",{className:Vee,children:[(0,Sv.jsx)("h1",{children:"SIA COMPLIANCE & REGULATORY STANDARDS"}),(0,Sv.jsx)("p",{className:Gee,children:"Security Industry Authority Regulated Close Protection Services"}),(0,Sv.jsxs)("p",{className:Yee,children:["Last updated: ",(new Date).toLocaleDateString("en-GB")]})]}),(0,Sv.jsxs)("div",{className:Kee,children:[(0,Sv.jsx)("h2",{children:"\ud83c\udfdb\ufe0f SIA Regulated Security Company"}),(0,Sv.jsxs)("p",{children:["Armora Security Ltd operates under the full authority and regulation of the",(0,Sv.jsx)("strong",{children:" Security Industry Authority (SIA)"}),", the UK's statutory regulator for the private security industry."]})]}),(0,Sv.jsxs)("nav",{className:Qee,children:[(0,Sv.jsx)("h3",{children:"Compliance Overview"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#sia-authority",children:"SIA Authority & Regulation"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#officer-licensing",children:"Officer Licensing Requirements"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#training-standards",children:"Training & Qualification Standards"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#background-checks",children:"Background Checks & Vetting"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#ongoing-compliance",children:"Ongoing Compliance Monitoring"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#complaint-procedure",children:"SIA Complaint Procedure"})}),(0,Sv.jsx)("li",{children:(0,Sv.jsx)("a",{href:"#regulatory-contact",children:"Regulatory Body Contact"})})]})]}),(0,Sv.jsxs)("section",{id:"sia-authority",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83c\udfdb\ufe0f Security Industry Authority (SIA)"}),(0,Sv.jsxs)("div",{className:Jee,children:[(0,Sv.jsxs)("div",{className:Xee,children:[(0,Sv.jsx)("h3",{children:"About the SIA"}),(0,Sv.jsx)("p",{children:"The Security Industry Authority is the organisation responsible for regulating the private security industry in the United Kingdom, reporting to the Home Secretary under the Private Security Industry Act 2001."}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Statutory regulatory body"}),(0,Sv.jsx)("li",{children:"Established under UK law"}),(0,Sv.jsx)("li",{children:"Reports to the Home Office"}),(0,Sv.jsx)("li",{children:"Covers England, Wales, Scotland, and Northern Ireland"})]})]}),(0,Sv.jsxs)("div",{className:Xee,children:[(0,Sv.jsx)("h3",{children:"SIA's Role"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Licensing:"})," Issue licenses to security operatives"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Standards:"})," Set and monitor industry standards"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Compliance:"})," Ensure regulatory compliance"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Enforcement:"})," Investigate breaches and take action"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Public Protection:"})," Protect the public from criminal activity"]})]})]})]}),(0,Sv.jsxs)("div",{className:$ee,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udee1\ufe0f Armora's SIA Compliance"}),(0,Sv.jsx)("p",{children:"Armora Security Ltd operates in full compliance with all SIA regulations and requirements. All our Close Protection Officers hold valid, current SIA licenses and undergo continuous professional development to maintain the highest standards of service."})]})]}),(0,Sv.jsxs)("section",{id:"officer-licensing",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udcdc Officer Licensing Requirements"}),(0,Sv.jsxs)("div",{className:ete,children:[(0,Sv.jsxs)("div",{className:tte,children:[(0,Sv.jsx)("h3",{children:"\ud83c\udf96\ufe0f Close Protection License"}),(0,Sv.jsxs)("div",{className:nte,children:[(0,Sv.jsx)("h4",{children:"Mandatory Requirements:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Valid SIA Close Protection license"}),(0,Sv.jsx)("li",{children:"License must be current and not suspended"}),(0,Sv.jsx)("li",{children:"Public display of license badge during duties"}),(0,Sv.jsx)("li",{children:"Regular license renewal (typically 3 years)"})]}),(0,Sv.jsx)("h4",{children:"License Verification:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Real-time verification with SIA database"}),(0,Sv.jsx)("li",{children:"Ongoing monitoring of license status"}),(0,Sv.jsx)("li",{children:"Immediate action if license issues arise"}),(0,Sv.jsx)("li",{children:"Public license register available online"})]})]})]}),(0,Sv.jsxs)("div",{className:tte,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udcca License Categories"}),(0,Sv.jsxs)("div",{className:nte,children:[(0,Sv.jsx)("h4",{children:"SIA License Levels:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Level 2:"})," Standard close protection operations"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Level 3:"})," Advanced close protection and risk assessment"]}),(0,Sv.jsxs)("li",{children:[(0,Sv.jsx)("strong",{children:"Specialist:"})," Additional qualifications for specific environments"]})]}),(0,Sv.jsx)("h4",{children:"Additional Endorsements:"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Armed protection (where legally applicable)"}),(0,Sv.jsx)("li",{children:"Surveillance operations"}),(0,Sv.jsx)("li",{children:"Technical security measures"}),(0,Sv.jsx)("li",{children:"Venue security integration"})]})]})]})]}),(0,Sv.jsxs)("div",{className:ite,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udd0d License Verification Process"}),(0,Sv.jsxs)("div",{className:ste,children:[(0,Sv.jsxs)("div",{className:rte,children:[(0,Sv.jsx)("div",{className:ate,children:"1"}),(0,Sv.jsxs)("div",{className:ote,children:[(0,Sv.jsx)("h4",{children:"Initial Verification"}),(0,Sv.jsx)("p",{children:"All officers undergo comprehensive license verification before joining Armora"})]})]}),(0,Sv.jsxs)("div",{className:rte,children:[(0,Sv.jsx)("div",{className:ate,children:"2"}),(0,Sv.jsxs)("div",{className:ote,children:[(0,Sv.jsx)("h4",{children:"Ongoing Monitoring"}),(0,Sv.jsx)("p",{children:"Regular checks against SIA database for license status and validity"})]})]}),(0,Sv.jsxs)("div",{className:rte,children:[(0,Sv.jsx)("div",{className:ate,children:"3"}),(0,Sv.jsxs)("div",{className:ote,children:[(0,Sv.jsx)("h4",{children:"Immediate Action"}),(0,Sv.jsx)("p",{children:"Any license issues result in immediate suspension from duties"})]})]})]})]})]}),(0,Sv.jsxs)("section",{id:"training-standards",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83c\udf93 Training & Qualification Standards"}),(0,Sv.jsxs)("div",{className:cte,children:[(0,Sv.jsx)("h3",{children:"Mandatory Training Requirements"}),(0,Sv.jsxs)("div",{className:lte,children:[(0,Sv.jsxs)("div",{className:dte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udee1\ufe0f Core Close Protection"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"140-hour minimum training course"}),(0,Sv.jsx)("li",{children:"SIA-approved training provider"}),(0,Sv.jsx)("li",{children:"Threat assessment and risk management"}),(0,Sv.jsx)("li",{children:"Personal protection techniques"}),(0,Sv.jsx)("li",{children:"Emergency response procedures"})]})]}),(0,Sv.jsxs)("div",{className:dte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\ude91 First Aid & Medical"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Emergency First Aid at Work certification"}),(0,Sv.jsx)("li",{children:"CPR and AED training"}),(0,Sv.jsx)("li",{children:"Trauma response procedures"}),(0,Sv.jsx)("li",{children:"Medical emergency coordination"}),(0,Sv.jsx)("li",{children:"Annual refresher training"})]})]}),(0,Sv.jsxs)("div",{className:dte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udce1 Communication & Technology"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Professional communication protocols"}),(0,Sv.jsx)("li",{children:"Emergency services coordination"}),(0,Sv.jsx)("li",{children:"Security technology operation"}),(0,Sv.jsx)("li",{children:"Surveillance and counter-surveillance"}),(0,Sv.jsx)("li",{children:"Digital security awareness"})]})]}),(0,Sv.jsxs)("div",{className:dte,children:[(0,Sv.jsx)("h4",{children:"\u2696\ufe0f Legal & Compliance"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"UK security law and regulations"}),(0,Sv.jsx)("li",{children:"Human rights and equality training"}),(0,Sv.jsx)("li",{children:"Data protection and privacy"}),(0,Sv.jsx)("li",{children:"Use of force legislation"}),(0,Sv.jsx)("li",{children:"Professional ethics and conduct"})]})]})]})]}),(0,Sv.jsxs)("div",{className:ute,children:[(0,Sv.jsx)("h3",{children:"Specialist Training Areas"}),(0,Sv.jsxs)("div",{className:hte,children:[(0,Sv.jsxs)("div",{className:pte,children:[(0,Sv.jsx)("h4",{children:"\ud83c\udfe2 Corporate Protection"}),(0,Sv.jsx)("p",{children:"Executive protection, boardroom security, corporate event protection"})]}),(0,Sv.jsxs)("div",{className:pte,children:[(0,Sv.jsx)("h4",{children:"\u2708\ufe0f Travel Security"}),(0,Sv.jsx)("p",{children:"Airport procedures, international protocols, travel risk assessment"})]}),(0,Sv.jsxs)("div",{className:pte,children:[(0,Sv.jsx)("h4",{children:"\ud83c\udfaf Threat Assessment"}),(0,Sv.jsx)("p",{children:"Advanced risk analysis, threat intelligence, security planning"})]}),(0,Sv.jsxs)("div",{className:pte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udd12 Technical Security"}),(0,Sv.jsx)("p",{children:"Security systems, surveillance technology, counter-surveillance"})]})]})]})]}),(0,Sv.jsxs)("section",{id:"background-checks",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udd0d Background Checks & Vetting"}),(0,Sv.jsxs)("div",{className:mte,children:[(0,Sv.jsx)("h3",{children:"Comprehensive Vetting Procedures"}),(0,Sv.jsxs)("div",{className:fte,children:[(0,Sv.jsxs)("div",{className:_te,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udd10 Enhanced DBS Check"}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Disclosure and Barring Service (Enhanced Level)"})}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Criminal record check"}),(0,Sv.jsx)("li",{children:"Cautions and warnings review"}),(0,Sv.jsx)("li",{children:"Police intelligence check"}),(0,Sv.jsx)("li",{children:"Barred lists verification"}),(0,Sv.jsx)("li",{children:"Regular re-screening (every 3 years)"})]})]}),(0,Sv.jsxs)("div",{className:_te,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccb Identity Verification"}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Comprehensive Identity Confirmation"})}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Multiple forms of identification"}),(0,Sv.jsx)("li",{children:"Address history verification"}),(0,Sv.jsx)("li",{children:"Employment history checks"}),(0,Sv.jsx)("li",{children:"Educational qualification verification"}),(0,Sv.jsx)("li",{children:"Professional references (minimum 3)"})]})]}),(0,Sv.jsxs)("div",{className:_te,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcbc Professional History"}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Security Industry Experience"})}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Previous security roles verification"}),(0,Sv.jsx)("li",{children:"Military/police service confirmation"}),(0,Sv.jsx)("li",{children:"Professional conduct history"}),(0,Sv.jsx)("li",{children:"Training record verification"}),(0,Sv.jsx)("li",{children:"Character references from industry professionals"})]})]}),(0,Sv.jsxs)("div",{className:_te,children:[(0,Sv.jsx)("h4",{children:"\ud83e\ude7a Medical & Fitness"}),(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Physical and Mental Suitability"})}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Medical fitness assessment"}),(0,Sv.jsx)("li",{children:"Physical capability evaluation"}),(0,Sv.jsx)("li",{children:"Mental health screening"}),(0,Sv.jsx)("li",{children:"Substance abuse testing"}),(0,Sv.jsx)("li",{children:"Ongoing health monitoring"})]})]})]})]}),(0,Sv.jsxs)("div",{className:gte,children:[(0,Sv.jsx)("h3",{children:"Ongoing Vetting & Monitoring"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Annual review of all personnel files"}),(0,Sv.jsx)("li",{children:"Continuous monitoring of professional conduct"}),(0,Sv.jsx)("li",{children:"Regular re-screening of background checks"}),(0,Sv.jsx)("li",{children:"Incident reporting and investigation procedures"}),(0,Sv.jsx)("li",{children:"Professional development tracking"})]})]})]}),(0,Sv.jsxs)("section",{id:"ongoing-compliance",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udcca Ongoing Compliance Monitoring"}),(0,Sv.jsxs)("div",{className:vte,children:[(0,Sv.jsx)("h3",{children:"Compliance Management System"}),(0,Sv.jsxs)("div",{className:yte,children:[(0,Sv.jsxs)("div",{className:xte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccb Regular Audits"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Monthly internal compliance reviews"}),(0,Sv.jsx)("li",{children:"Quarterly external audits"}),(0,Sv.jsx)("li",{children:"Annual SIA compliance assessment"}),(0,Sv.jsx)("li",{children:"Continuous improvement programs"})]})]}),(0,Sv.jsxs)("div",{className:xte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcdd Documentation"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Comprehensive record keeping"}),(0,Sv.jsx)("li",{children:"Incident reporting systems"}),(0,Sv.jsx)("li",{children:"Training record maintenance"}),(0,Sv.jsx)("li",{children:"License status tracking"})]})]}),(0,Sv.jsxs)("div",{className:xte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udc65 Staff Training"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Regular compliance training sessions"}),(0,Sv.jsx)("li",{children:"Updates on regulatory changes"}),(0,Sv.jsx)("li",{children:"Professional development programs"}),(0,Sv.jsx)("li",{children:"Best practice sharing"})]})]}),(0,Sv.jsxs)("div",{className:xte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udd0d Quality Assurance"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Service quality monitoring"}),(0,Sv.jsx)("li",{children:"Customer feedback integration"}),(0,Sv.jsx)("li",{children:"Performance improvement tracking"}),(0,Sv.jsx)("li",{children:"Industry benchmark comparison"})]})]})]})]})]}),(0,Sv.jsxs)("section",{id:"complaint-procedure",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udce2 SIA Complaint Procedure"}),(0,Sv.jsxs)("div",{className:bte,children:[(0,Sv.jsx)("h3",{children:"How to Make a Complaint About Our Officers"}),(0,Sv.jsxs)("div",{className:Ste,children:[(0,Sv.jsxs)("div",{className:rte,children:[(0,Sv.jsx)("div",{className:ate,children:"1"}),(0,Sv.jsxs)("div",{className:ote,children:[(0,Sv.jsx)("h4",{children:"Direct to Armora"}),(0,Sv.jsx)("p",{children:"Contact us first at complaints@armorasecurity.com"}),(0,Sv.jsx)("p",{children:"We aim to resolve complaints within 7 days"})]})]}),(0,Sv.jsxs)("div",{className:rte,children:[(0,Sv.jsx)("div",{className:ate,children:"2"}),(0,Sv.jsxs)("div",{className:ote,children:[(0,Sv.jsx)("h4",{children:"Escalate to SIA"}),(0,Sv.jsx)("p",{children:"If unsatisfied, complain directly to the SIA"}),(0,Sv.jsx)("p",{children:"They will investigate regulatory breaches"})]})]}),(0,Sv.jsxs)("div",{className:rte,children:[(0,Sv.jsx)("div",{className:ate,children:"3"}),(0,Sv.jsxs)("div",{className:ote,children:[(0,Sv.jsx)("h4",{children:"SIA Investigation"}),(0,Sv.jsx)("p",{children:"SIA will investigate and take appropriate action"}),(0,Sv.jsx)("p",{children:"This may include license suspension or revocation"})]})]})]})]}),(0,Sv.jsxs)("div",{className:wte,children:[(0,Sv.jsx)("h3",{children:"Types of Complaints the SIA Handles"}),(0,Sv.jsxs)("div",{className:Nte,children:[(0,Sv.jsxs)("div",{className:jte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udeab License Violations"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Working without a valid license"}),(0,Sv.jsx)("li",{children:"Not displaying license badge"}),(0,Sv.jsx)("li",{children:"License fraud or misrepresentation"})]})]}),(0,Sv.jsxs)("div",{className:jte,children:[(0,Sv.jsx)("h4",{children:"\u26a0\ufe0f Professional Misconduct"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Inappropriate behavior"}),(0,Sv.jsx)("li",{children:"Excessive use of force"}),(0,Sv.jsx)("li",{children:"Breach of professional standards"})]})]}),(0,Sv.jsxs)("div",{className:jte,children:[(0,Sv.jsx)("h4",{children:"\ud83c\udfe2 Company Issues"}),(0,Sv.jsxs)("ul",{children:[(0,Sv.jsx)("li",{children:"Unlicensed security provision"}),(0,Sv.jsx)("li",{children:"Poor training standards"}),(0,Sv.jsx)("li",{children:"Inadequate vetting procedures"})]})]})]})]})]}),(0,Sv.jsxs)("section",{id:"regulatory-contact",className:Zee,children:[(0,Sv.jsx)("h2",{children:"\ud83d\udcde Regulatory Body Contact Information"}),(0,Sv.jsxs)("div",{className:Cte,children:[(0,Sv.jsxs)("div",{className:kte,children:[(0,Sv.jsx)("h3",{children:"Security Industry Authority (SIA)"}),(0,Sv.jsxs)("div",{className:Pte,children:[(0,Sv.jsx)("h4",{children:"\ud83c\udf10 Website"}),(0,Sv.jsx)("p",{children:"www.sia.homeoffice.gov.uk"}),(0,Sv.jsx)("h4",{children:"\ud83d\udce7 Email"}),(0,Sv.jsx)("p",{children:"info@sia.homeoffice.gov.uk"}),(0,Sv.jsx)("h4",{children:"\ud83d\udcde Phone"}),(0,Sv.jsx)("p",{children:"0300 123 9998"}),(0,Sv.jsx)("h4",{children:"\ud83d\udcee Address"}),(0,Sv.jsxs)("p",{children:["Security Industry Authority",(0,Sv.jsx)("br",{}),"PO Box 1293",(0,Sv.jsx)("br",{}),"Liverpool",(0,Sv.jsx)("br",{}),"L69 1AX"]})]})]}),(0,Sv.jsxs)("div",{className:kte,children:[(0,Sv.jsx)("h3",{children:"Online Services"}),(0,Sv.jsxs)("div",{className:Pte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udccb License Verification"}),(0,Sv.jsx)("p",{children:"Check officer licenses online via SIA public register"}),(0,Sv.jsx)("h4",{children:"\ud83d\udcdd Make a Complaint"}),(0,Sv.jsx)("p",{children:"Online complaint form available on SIA website"}),(0,Sv.jsx)("h4",{children:"\ud83d\udcda Industry Information"}),(0,Sv.jsx)("p",{children:"Guidance, standards, and regulatory updates"}),(0,Sv.jsx)("h4",{children:"\ud83d\udcf0 News & Updates"}),(0,Sv.jsx)("p",{children:"Latest regulatory changes and industry news"})]})]}),(0,Sv.jsxs)("div",{className:kte,children:[(0,Sv.jsx)("h3",{children:"Emergency & Urgent Issues"}),(0,Sv.jsxs)("div",{className:Pte,children:[(0,Sv.jsx)("h4",{children:"\ud83d\udea8 Serious Misconduct"}),(0,Sv.jsx)("p",{children:"For urgent safety concerns, contact SIA immediately"}),(0,Sv.jsx)("h4",{children:"\ud83d\ude94 Criminal Activity"}),(0,Sv.jsx)("p",{children:"Report criminal behavior to police (999) first, then SIA"}),(0,Sv.jsx)("h4",{children:"\u26a0\ufe0f Public Safety Risk"}),(0,Sv.jsx)("p",{children:"Immediate reporting required for public safety issues"})]})]})]})]}),(0,Sv.jsx)("footer",{className:Tte,children:(0,Sv.jsxs)("div",{className:Ete,children:[(0,Sv.jsx)("h3",{children:"\ud83d\udee1\ufe0f Committed to Excellence"}),(0,Sv.jsx)("p",{children:"Armora Security Ltd is proud to operate under SIA regulation and maintains the highest standards of professionalism, training, and compliance in the UK security industry."}),(0,Sv.jsx)("p",{children:"Our commitment to regulatory compliance ensures that you receive professional, legal, and ethical close protection services from properly licensed and vetted security professionals."}),(0,Sv.jsxs)("div",{className:Ate,children:[(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Regulated by:"})," Security Industry Authority (SIA)"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Compliant with:"})," Private Security Industry Act 2001"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Member of:"})," British Security Industry Association (BSIA)"]})]})]})})]})});function Lte(){const{state:t,navigateToView:n}=kv(),{currentView:i,user:s,questionnaireData:r,assignmentState:a}=t,[o,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{null!==a&&void 0!==a&&a.hasActiveAssignment&&s&&"home"===i&&n("hub")},[null===a||void 0===a?void 0:a.hasActiveAssignment,s,i,n]),(0,e.useEffect)(()=>{const e=(()=>{if(["splash","welcome","login","signup","guest-disclaimer","questionnaire","achievement"].includes(i))return!1;if(null!==s&&void 0!==s&&s.hasCompletedQuestionnaire&&(null===s||void 0===s||!s.hasUnlockedReward)&&"guest"!==(null===s||void 0===s?void 0:s.userType)){const e=localStorage.getItem("armora_achievement_banner_dismissed");if(localStorage.getItem("armora_first_assignment_completed"))return!1;if(!e)return!0;const t=new Date(e).getTime();if((Date.now()-t)/864e5>3)return localStorage.removeItem("armora_achievement_banner_dismissed"),!0}return!1})();c(e),e&&localStorage.setItem("armora_achievement_banner_shown",(new Date).toISOString())},[i,null===s||void 0===s?void 0:s.hasCompletedQuestionnaire,null===s||void 0===s?void 0:s.hasUnlockedReward,null===s||void 0===s?void 0:s.userType]);const l=()=>{s&&localStorage.setItem("armora_user_reward_unlocked","true"),c(!1),localStorage.setItem("armora_achievement_banner_claimed",(new Date).toISOString()),localStorage.removeItem("armora_achievement_banner_dismissed")},d=()=>{c(!1),localStorage.setItem("armora_achievement_banner_dismissed",(new Date).toISOString())},u=()=>{switch(i){case"splash":default:return(0,Sv.jsx)(Qy,{});case"welcome":return(0,Sv.jsx)(Ub,{});case"login":return(0,Sv.jsx)(Gb,{});case"signup":return(0,Sv.jsx)(Kb,{});case"guest-disclaimer":return(0,Sv.jsx)(AS,{});case"questionnaire":return(0,Sv.jsx)(pE,{});case"achievement":return(0,Sv.jsx)(fE,{userType:(null===s||void 0===s?void 0:s.userType)||"guest",completedQuestionnaire:r||void 0,onContinueToDashboard:()=>n("home"),onCreateAccountUpgrade:()=>n("signup")});case"home":case"protection-assignment":case"legacy-assignment-view":return(0,Sv.jsx)(gR,{});case"services":return(0,Sv.jsx)(zM,{});case"service-selection":return(0,Sv.jsx)(YY,{});case"active":return(0,Sv.jsx)(VY,{isOpen:!0,onClose:()=>n("home"),isActive:!0});case"hub":case"Assignments":return(0,Sv.jsx)(BY,{});case"account":return(0,Sv.jsx)(DK,{});case"about":return(0,Sv.jsx)(dX,{onBack:()=>n("home")});case"coverage-areas":return(0,Sv.jsx)(I0,{onBack:()=>n("home")});case"venue-protection-welcome":return(0,Sv.jsx)(AQ,{});case"venue-security-questionnaire":return(0,Sv.jsx)(RQ,{});case"venue-protection-success":return(0,Sv.jsx)(SZ,{});case"protection-request":return(0,Sv.jsx)(K8,{onAssignmentRequested:()=>n("assignment-confirmed")});case"assignment-confirmed":return(0,Sv.jsx)(W7,{onClose:()=>n("home"),onTrackAssignment:()=>n("hub"),onNewAssignment:()=>n("protection-request")});case"privacy":return(0,Sv.jsx)(h9,{});case"terms":return(0,Sv.jsx)(nee,{});case"gdpr":return(0,Sv.jsx)(Wee,{});case"sia":return(0,Sv.jsx)(Ite,{})}};return t.isAssignmentActive&&"hub"!==i&&n("hub"),["splash","welcome","login","signup","guest-disclaimer","questionnaire","achievement","protection-request","assignment-confirmed"].includes(i)?(0,Sv.jsxs)("div",{children:[u(),o&&(0,Sv.jsx)(HE,{isVisible:o,onClaim:l,onDismiss:d,userName:(null===s||void 0===s?void 0:s.name)||"Member"})]}):(0,Sv.jsxs)("div",{children:[(0,Sv.jsxs)(Gy,{children:[u(),"account"===i&&(0,Sv.jsx)(GK,{})]}),o&&(0,Sv.jsx)(HE,{isVisible:o,onClaim:l,onDismiss:d,userName:(null===s||void 0===s?void 0:s.name)||"Member"})]})}const Rte=function(){return(0,Sv.jsx)(Tv,{children:(0,Sv.jsx)(Cv,{children:(0,Sv.jsx)(Lv,{children:(0,Sv.jsx)(Lte,{})})})})},Mte=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,206)).then(t=>{let{getCLS:n,getFID:i,getFCP:s,getLCP:r,getTTFB:a}=t;n(e),i(e),s(e),r(e),a(e)})};var Ote;!function(t){const n=o({},t);var i,s;(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const s=e._metadata||{};s.sdk||(s.sdk={name:"sentry.javascript.".concat(t),packages:n.map(e=>({name:"".concat(i,":@sentry/").concat(e),version:Ar})),version:Ar}),e._metadata=s})(n,"react"),i="react",s={version:e.version},Ne().setContext(i,s),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=!e.skipBrowserExtensionCheck&&Er(),n=o(o({},e),{},{enabled:!t&&e.enabled,stackParser:(i=e.stackParser||yr,Array.isArray(i)?Gt(...i):i),integrations:dn({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[_n(),bn(),Gs(),Us(),ir(),ur(),Sn(),ar(),Zs()]:e.defaultIntegrations}),transport:e.transport||Tr});var i;Cn(Ni,n)}(n)}({dsn:"https://2eccb0faaa6cc2708b1e767e51af88c1@o4510152121712640.ingest.de.sentry.io/4510153279864912",environment:"production",integrations:[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={name:void 0,source:void 0},n=yi.document,{enableInp:i,enableElementTiming:s,enableLongTask:r,enableLongAnimationFrame:a,_experiments:{enableInteractions:c,enableStandaloneClsSpans:d,enableStandaloneLcpSpans:u},beforeStartSpan:h,idleTimeout:m,finalTimeout:f,childSpanTimeout:_,markBackgroundSpan:g,traceFetch:v,traceXHR:y,trackFetchStreamPerformance:x,shouldCreateSpanForRequest:b,enableHTTPTimings:S,ignoreResourceSpans:w,ignorePerformanceApiSpans:N,instrumentPageLoad:j,instrumentNavigation:C,detectRedirects:k,linkPreviousTrace:P,consistentTraceSampling:T,enableReportPageLoaded:E,onRequestSpanStart:I}=o(o({},sl),e);let L,R,M;function O(e,i){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="pageload"===i.op,a=i.name,c=h?h(i):i,l=c.attributes||{};if(a!==c.name&&(l[Re]="custom",c.attributes=l),!s){const e=ie();return void Fr(o(o({},c),{},{startTime:e})).end(e)}t.name=c.name,t.source=l[Re];const p=Gr(c,{idleTimeout:m,finalTimeout:f,childSpanTimeout:_,disableAutoFinish:r,beforeSpanEnd:t=>{var n;null===(n=L)||void 0===n||n(),Oc(t,{recordClsOnPageloadSpan:!d,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:w,ignorePerformanceApiSpans:N}),cl(e,void 0);const i=we(),s=i.getPropagationContext();i.setPropagationContext(o(o({},s),{},{traceId:p.spanContext().traceId,sampled:St(p),dsc:Mt(t)})),r&&(M=void 0)},trimIdleSpanEndTimestamp:!E});function g(){n&&["interactive","complete"].includes(n.readyState)&&e.emit("idleSpanEnableAutoFinish",p)}r&&E&&(M=p),cl(e,p),r&&!E&&n&&(n.addEventListener("readystatechange",()=>{g()}),g())}return{name:"BrowserTracing",setup(e){if(function(){function e(){const e=Tt(),t=e&&Pt(e);if(t){const e="internal_error";p&&B.log("[Tracing] Root span: ".concat(e," -> Global error occurred")),t.setStatus({code:2,message:e})}}Yr||(e.tag="sentry_tracingErrorCallback",Yr=!0,Xs(e),tr(e))}(),L=Mc({recordClsStandaloneSpans:d||!1,recordLcpStandaloneSpans:u||!1,client:e}),i&&qc(),s&&Sc()&&ks()&&To("element",Hc),a&&l.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{const t=Ra();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=wc(ks()+n.startTime),{start_timestamp:i,op:s}=ka(t);if("navigation"===s&&i&&e<i)continue;const r=wc(n.duration),a={[_a]:"auto.ui.browser.metrics"},o=n.scripts[0],{invoker:c,invokerType:l,sourceURL:d,sourceFunctionName:u,sourceCharPosition:h}=o;a["browser.script.invoker"]=c,a["browser.script.invoker_type"]=l,d&&(a["code.filepath"]=d),u&&(a["code.function"]=u),-1!==h&&(a["browser.script.source_char_position"]=h),xc(t,e,e+r,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0}):r&&To("longtask",e=>{let{entries:t}=e;const n=Ra();if(!n)return;const{op:i,start_timestamp:s}=ka(n);for(const r of t){const e=wc(ks()+r.startTime),t=wc(r.duration);"navigation"===i&&s&&e<s||xc(n,e,e+t,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[_a]:"auto.ui.browser.metrics"}})}}),c&&To("event",e=>{let{entries:t}=e;const n=Ra();if(n)for(const i of t)if("click"===i.name){const e=wc(ks()+i.startTime),t=wc(i.duration),s={name:Oa(i.target),op:"ui.interaction.".concat(i.name),startTime:e,attributes:{[_a]:"auto.ui.browser.metrics"}},r=Fa(i.target);r&&(s.attributes["ui.component_name"]=r),xc(n,e,e+t,s)}}),k&&n){const e=()=>{R=ae()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function t(){const t=ol(e);t&&!bt(t).timestamp&&(Ws&&B.log("[Tracing] Finishing current active span with op: ".concat(bt(t).op)),t.setAttribute(Be,"cancelled"),t.end())}e.on("startNavigationSpan",(n,i)=>{if(Ce()!==e)return;if(null!==i&&void 0!==i&&i.isRedirect)return Ws&&B.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void O(e,o({op:"navigation.redirect"},n),!1);R=void 0,t(),Ne().setPropagationContext({traceId:ue(),sampleRand:Math.random(),propagationSpanId:tt()?void 0:he()});const s=we();s.setPropagationContext({traceId:ue(),sampleRand:Math.random(),propagationSpanId:tt()?void 0:he()}),s.setSDKProcessingMetadata({normalizedRequest:void 0}),O(e,o(o({op:"navigation"},n),{},{parentSpan:null,forceTransaction:!0}))}),e.on("startPageLoadSpan",function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ce()!==e)return;t();const s=ut(i.sentryTrace||rl("sentry-trace"),i.baggage||rl("baggage")),r=we();r.setPropagationContext(s),tt()||(r.getPropagationContext().propagationSpanId=he()),r.setSDKProcessingMetadata({normalizedRequest:wi()}),O(e,o({op:"pageload"},n))}),e.on("endPageloadSpan",()=>{E&&M&&(M.setAttribute(Be,"reportPageLoaded"),M.end())})},afterAllSetup(e){let n=A();if("off"!==P&&Gc(e,{linkPreviousTrace:P,consistentTraceSampling:T}),yi.location){if(j){const t=oe();!function(e,t,n){e.emit("startPageLoadSpan",t,n),we().setTransactionName(t.name);const i=ol(e);i&&e.emit("afterStartPageLoadSpan",i)}(e,{name:yi.location.pathname,startTime:t?t/1e3:void 0,attributes:{[Re]:"url",[Fe]:"auto.pageload.browser"}})}C&&qs(t=>{var i;let{to:s,from:r}=t;if(void 0===r&&-1!==(null===(i=n)||void 0===i?void 0:i.indexOf(s)))return void(n=void 0);n=void 0;const a=Vi(s),c=ol(e),l=c&&k&&function(e,t){const n=bt(e),i=ie(),s=n.start_timestamp;if(i-s>ll)return!1;if(t&&i-t<=ll)return!1;return!0}(c,R);!function(e,t,n){const{url:i,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const r=we();r.setTransactionName(t.name),i&&!s&&r.setSDKProcessingMetadata({normalizedRequest:o(o({},wi()),{},{url:i})});ol(e)}(e,{name:(null===a||void 0===a?void 0:a.pathname)||yi.location.pathname,attributes:{[Re]:"url",[Fe]:"auto.navigation.browser"}},{url:s,isRedirect:l})})}g&&(yi.document?yi.document.addEventListener("visibilitychange",()=>{const e=Tt();if(!e)return;const t=Pt(e);if(yi.document.hidden&&t){const e="cancelled",{op:n,status:i}=bt(t);Ws&&B.log("[Tracing] Transaction: ".concat(e," -> since tab moved to the background, op: ").concat(n)),i||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Ws&&B.warn("[Tracing] Could not set up background tab detection due to lack of global document")),c&&function(e,t,n,i,s){const r=yi.document;let a;const o=()=>{const r="ui.action.click",o=ol(e);if(o){const e=bt(o).op;if(["navigation","pageload"].includes(e))return void(Ws&&B.warn("[Tracing] Did not create ".concat(r," span because a pageload or navigation span is in progress.")))}a&&(a.setAttribute(Be,"interactionInterrupted"),a.end(),a=void 0),s.name?a=Gr({name:s.name,op:r,attributes:{[Re]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:i}):Ws&&B.warn("[Tracing] Did not create ".concat(r," transaction because _latestRouteName is missing."))};r&&addEventListener("click",o,{capture:!0})}(e,m,f,_,t),i&&function(){const e=e=>{let{entries:t}=e;const n=Ra(),i=n&&La(n);t.forEach(e=>{if(!function(e){return"duration"in e}(e)||!i)return;const t=e.interactionId;if(null!=t&&!Bc.has(t)){if(Fc.length>10){const e=Fc.shift();Bc.delete(e)}Fc.push(t),Bc.set(t,i)}})};To("event",e),To("first-input",e)}(),tl(e,{traceFetch:v,traceXHR:y,trackFetchStreamPerformance:x,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:S,onRequestSpanStart:I})}}}(),(Ote={maskAllText:!0,blockAllMedia:!0},new _f(Ote))],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,autoSessionTracking:!0,sendDefaultPii:!0,release:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:"localhost",WDS_SOCKET_PATH:"/ws",WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NODE_ENV:"development",REACT_APP_HOT_RELOAD:"true",REACT_APP_SUPABASE_URL:"https://jmzvrqwjmlnvxojculee.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImptenZycXdqbWxudnhvamN1bGVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg1ODE1NjksImV4cCI6MjA3NDE1NzU2OX0.s-fLHpJWc54j-NOVU7k1mIKOHFL1mzduO-VFCVhoizA",REACT_APP_FIREBASE_API_KEY:"AIzaSyCByrZaVECC1n3mebfrRqEHdLxjAO86TEU",REACT_APP_FIREBASE_AUTH_DOMAIN:"armora-protection.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"armora-protection",REACT_APP_FIREBASE_STORAGE_BUCKET:"armora-protection.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1010601153585",REACT_APP_FIREBASE_APP_ID:"1:1010601153585:android:9cb1f76fb75c9be748b110",REACT_APP_GOOGLE_MAPS_API_KEY:"YOUR_GOOGLE_MAPS_API_KEY_HERE",REACT_APP_STRIPE_PUBLISHABLE_KEY:"YOUR_STRIPE_PUBLISHABLE_KEY_HERE"}.REACT_APP_VERSION||"armora@1.0.0",beforeSend:(e,t)=>e});t.createRoot(document.getElementById("root")).render((0,Sv.jsx)(e.StrictMode,{children:(0,Sv.jsx)(Rte,{})})),"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&console.log("New content available; please refresh.")})})}).catch(e=>{console.log("SW registration failed: ",e)})}):navigator,Mte()})()})();