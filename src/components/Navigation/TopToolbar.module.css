/* Armora Top Toolbar (mobile-first, YouTube-style) */

.topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-toolbar);
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--toolbar-height);
  padding: env(safe-area-inset-top) max(12px, env(safe-area-inset-right)) 0 max(10px, env(safe-area-inset-left));
  background: #1a1a2e;
  border-bottom: 1px solid rgba(255, 215, 0, 0.15);
}

/* Clickable Logo Section */
.logoSection {
  display: flex;
  align-items: center;
  gap: 4px; /* brand closer to logo */
  min-width: 0;
  margin-right: auto; /* keep icons pushed to the right */
  background: none;
  border: none;
  cursor: pointer;
  border-radius: 8px;
  padding: 4px 8px;
  transition: all 0.2s ease;
}

.logoSection:hover {
  background: rgba(255, 215, 0, 0.08);
  transform: scale(1.02);
}

.logoSection:active {
  transform: scale(0.98);
}

/* Legacy brand class for backward compatibility */
.brand {
  display: flex;
  align-items: center;
  gap: 4px; /* brand closer to logo */
  min-width: 0;
  margin-right: auto; /* keep icons pushed to the right */
}

/* Downscale logo only within the toolbar context */
.brand :global(.armoraLogo4d.small),
.logoSection :global(.armoraLogo4d.small) {
  --logo-scale: 0.20;
  --orbit-scale: 0.30;
}

.brandName {
  color: #e0e0e0;
  font-weight: 800;
  letter-spacing: 1.5px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 40vw;
}

/* pageTitle removed intentionally */

.actions {
  display: flex;
  align-items: center;
  gap: 4px;
}

.iconBtn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border: none;
  background: transparent;
  color: #ffffff;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, transform 0.1s ease;
  padding: 0 !important;
}

/* Enhanced icon button interactions */
.iconBtn:hover {
  background: rgba(255, 215, 0, 0.08);
  color: #FFD700;
}

.iconBtn:active {
  transform: scale(0.96);
}

/* Tooltip functionality via browser default */
.iconBtn[title],
.logoSection[title] {
  position: relative;
}

/* Visual feedback for tooltips on hover */
.iconBtn:hover[title],
.logoSection:hover[title] {
  position: relative;
}

/* Enhanced visual feedback on mobile */
@media (hover: none) and (pointer: coarse) {
  .iconBtn:active {
    background: rgba(255, 215, 0, 0.15);
    transform: scale(0.94);
  }

  .logoSection:active {
    background: rgba(255, 215, 0, 0.15);
    transform: scale(0.96);
  }
}

.iconBtn svg { width: 20px; height: 20px; stroke: currentColor; }
.iconLabel { display: none; margin-left: 6px; font-weight: 700; letter-spacing: 0.02em; color: #e8e8f0; }

/* Unread badge on bell */
.iconBtn { position: relative; }
.badge {
  position: absolute;
  top: 0px;
  right: -2px;
  min-width: 16px;
  height: 16px;
  padding: 0 4px;
  border-radius: 999px;
  background: #ef4444;
  color: #fff;
  font-size: 10px;
  font-weight: 800;
  line-height: 16px;
  letter-spacing: 0.02em;
  border: 1px solid rgba(255,255,255,0.6);
}

/* Crisp rendering for SVG/CSS logo */
.brand :where(svg, canvas),
.logoSection :where(svg, canvas) {
  shape-rendering: geometricPrecision;
  text-rendering: optimizeLegibility;
  image-rendering: -webkit-optimize-contrast;
}

@media (min-width: 768px) {
  .topbar { 
    height: var(--toolbar-height); 
    display: grid; 
    grid-template-columns: 1fr auto 1fr; 
  }
  .brandName { max-width: 50vw; }
  .brand { margin-right: 0; justify-self: center; }
  .logoSection { margin-right: 0; justify-self: center; }
  .actions { justify-self: end; }
  .iconBtn { padding: 0 8px !important; width: auto; }
  .iconLabel { display: inline; }
  .iconBtn svg { width: 22px; height: 22px; }
}

@media (min-width: 1024px) {
  .iconBtn svg { width: 24px; height: 24px; }
  .badge { top: -2px; right: -4px; }
}

@media (max-width: 360px) {
  .pageTitle { display: none; }
}
